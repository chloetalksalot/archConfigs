{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/jquery/dist/jquery.js","webpack:///./lib/environment/index.js","webpack:///./node_modules/lodash/once.js","webpack:///./lib/utils/dom.js","webpack:///./lib/environment/utils/messaging.js","webpack:///./lib/environment/foreground/messaging.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./lib/utils/async.js","webpack:///./lib/utils/location.js","webpack:///./lib/utils/string.js","webpack:///./node_modules/lodash/debounce.js","webpack:///./lib/utils/flow.js","webpack:///./lib/utils/user.js","webpack:///./node_modules/lodash/fp/flow.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/pull.js","webpack:///./node_modules/lodash/identity.js","webpack:///./lib/utils/time.js","webpack:///./node_modules/lodash/sortBy.js","webpack:///./lib/constants/localStorage.js","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./node_modules/lodash/difference.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./lib/environment/foreground/id.js","webpack:///./lib/utils/generator.js","webpack:///./node_modules/lodash/last.js","webpack:///./node_modules/lodash/isEqual.js","webpack:///./node_modules/lodash/fp/map.js","webpack:///./node_modules/lodash/isEmpty.js","webpack:///./node_modules/lodash/fp/placeholder.js","webpack:///./lib/environment/foreground/xhrCache.js","webpack:///./lib/environment/foreground/permissions.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/lodash/fp/convert.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/flatten.js","webpack:///./node_modules/lodash/pickBy.js","webpack:///./lib/environment/utils/api.js","webpack:///./node_modules/dompurify/dist/purify.js","webpack:///./node_modules/lodash/_root.js","webpack:///./build/buildToken.js","webpack:///./lib/environment/foreground/i18n.js","webpack:///./lib/environment/foreground/context.js","webpack:///./lib/environment/foreground/privateBrowsing.js","webpack:///./node_modules/lodash/zipWith.js","webpack:///./node_modules/lodash/groupBy.js","webpack:///./node_modules/lodash/throttle.js","webpack:///./node_modules/lodash/fp/keyBy.js","webpack:///./node_modules/lodash/clamp.js","webpack:///./node_modules/lodash/transform.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./lib/environment/foreground/history.js","webpack:///./lib/environment/foreground/tabs.js","webpack:///./lib/utils/html.js","webpack:///./node_modules/lodash/_createWrap.js","webpack:///./node_modules/lodash/_createCtor.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/stubFalse.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/castArray.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./lib/environment/foreground/ajax.js","webpack:///./lib/environment/foreground/download.js","webpack:///./lib/environment/foreground/auth.js","webpack:///./lib/environment/foreground/multicast.js","webpack:///./lib/environment/foreground/pageAction.js","webpack:///./lib/environment/foreground/session.js","webpack:///./lib/environment/foreground/storage.js","webpack:///./lib/utils/object.js","webpack:///./node_modules/lodash/curryRight.js","webpack:///./node_modules/lodash/remove.js","webpack:///./node_modules/lodash/maxBy.js","webpack:///./node_modules/lodash/compact.js","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/lodash/fp/filter.js","webpack:///./node_modules/lodash/uniqBy.js","webpack:///./node_modules/lodash/_copyArray.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/_flatRest.js","webpack:///./node_modules/lodash/_createAggregator.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_baseSlice.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/keyBy.js","webpack:///./node_modules/lodash/head.js","webpack:///./node_modules/lodash/mapValues.js","webpack:///./node_modules/lodash/partition.js","webpack:///./node_modules/tinycolor2/tinycolor.js","webpack:///./node_modules/lodash/uniq.js","webpack:///./node_modules/lodash/escapeRegExp.js","webpack:///./node_modules/semver/semver.js","webpack:///./node_modules/lodash/_baseCreate.js","webpack:///./node_modules/lodash/_createHybrid.js","webpack:///./node_modules/lodash/_createRecurry.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/stubArray.js","webpack:///./node_modules/lodash/_copyObject.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/_nativeKeys.js","webpack:///./node_modules/lodash/_arrayEach.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_basePickBy.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/unzip.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/lodash/fp/once.js","webpack:///./node_modules/lodash/assignIn.js","webpack:///./node_modules/lodash/pick.js","webpack:///./node_modules/fast-levenshtein/levenshtein.js","webpack:///./node_modules/lodash/fromPairs.js","webpack:///./node_modules/lodash/random.js","webpack:///./node_modules/lodash/omitBy.js","webpack:///./lib/images/hosts/giphy-logo.png","webpack:///./node_modules/lodash/dropWhile.js","webpack:///./node_modules/lodash/fp/slice.js","webpack:///./node_modules/lodash/fp/mapValues.js","webpack:///./node_modules/lodash/zip.js","webpack:///./node_modules/lodash/cloneDeep.js","webpack:///./node_modules/lodash/union.js","webpack:///./node_modules/suncalc/suncalc.js","webpack:///./node_modules/favico.js/favico.js","webpack:///./lib/images/legacyFavicon.png","webpack:///./node_modules/lodash/first.js","webpack:///./LICENSE","webpack:///./node_modules/lodash/fp/_baseConvert.js","webpack:///./node_modules/lodash/fp/_mapping.js","webpack:///./node_modules/lodash/fp/_util.js","webpack:///./node_modules/lodash/ary.js","webpack:///./node_modules/lodash/_createBind.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_createCurry.js","webpack:///./node_modules/lodash/_composeArgs.js","webpack:///./node_modules/lodash/_composeArgsRight.js","webpack:///./node_modules/lodash/_countHolders.js","webpack:///./node_modules/lodash/_reorder.js","webpack:///./node_modules/lodash/_createPartial.js","webpack:///./node_modules/lodash/_baseAssign.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/clone.js","webpack:///./node_modules/lodash/curry.js","webpack:///./node_modules/lodash/isError.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isWeakMap.js","webpack:///./node_modules/lodash/iteratee.js","webpack:///./node_modules/lodash/rearg.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/toPath.js","webpack:///./node_modules/lodash/before.js","webpack:///./node_modules/lodash/fp/_falseOptions.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_arrayAggregator.js","webpack:///./node_modules/lodash/_createAssigner.js","webpack:///./node_modules/lodash/_nativeKeysIn.js","webpack:///./node_modules/lodash/_basePick.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/hasIn.js","webpack:///./node_modules/lodash/_baseHasIn.js","webpack:///./node_modules/lodash/_hasPath.js","webpack:///./node_modules/lodash/flow.js","webpack:///./node_modules/lodash/_createFlow.js","webpack:///./node_modules/lodash/stubString.js","webpack:///./node_modules/lodash/unzipWith.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_baseProperty.js","webpack:///./node_modules/lodash/_baseTimes.js","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/lodash/pullAll.js","webpack:///./node_modules/lodash/_basePullAll.js","webpack:///./node_modules/lodash/_baseIndexOfWith.js","webpack:///./node_modules/lodash/now.js","webpack:///./node_modules/lodash/_basePullAt.js","webpack:///./node_modules/lodash/_baseUnset.js","webpack:///./node_modules/lodash/_parent.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/dayjs/locale/de.js","webpack:///./node_modules/dayjs/locale/el.js","webpack:///./node_modules/dayjs/locale/es.js","webpack:///./node_modules/dayjs/locale/he.js","webpack:///./node_modules/dayjs/locale/it.js","webpack:///./node_modules/dayjs/locale/nl.js","webpack:///./node_modules/dayjs/locale/pl.js","webpack:///./node_modules/dayjs/locale/pt-br.js","webpack:///./node_modules/dayjs/locale/pt.js","webpack:///./node_modules/dayjs/plugin/relativeTime.js","webpack:///./node_modules/dayjs/plugin/localizedFormat.js","webpack:///./node_modules/lodash/_baseOrderBy.js","webpack:///./node_modules/lodash/_baseSortBy.js","webpack:///./node_modules/lodash/_compareMultiple.js","webpack:///./node_modules/lodash/_compareAscending.js","webpack:///./node_modules/lodash/_baseExtremum.js","webpack:///./node_modules/lodash/_baseGt.js","webpack:///./node_modules/lodash/_baseIsEqual.js","webpack:///./node_modules/lodash/_baseIsEqualDeep.js","webpack:///./node_modules/lodash/_equalArrays.js","webpack:///./node_modules/lodash/_arraySome.js","webpack:///./node_modules/lodash/_equalObjects.js","webpack:///./node_modules/lodash/_baseRandom.js","webpack:///./node_modules/lodash/_baseClamp.js","webpack:///./node_modules/lodash/negate.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_baseWhile.js","webpack:///./node_modules/lodash/slice.js","webpack:///./lib/environment/foreground/messaging.js?4de5","webpack:///./lib/constants/urlHashes.js","webpack:///./lib/utils/Cache.js","webpack:///./lib/utils/array.js","webpack:///./lib/utils/Thing.js","webpack:///./lib/utils/thingMetadata.js","webpack:///./lib/utils/color.js","webpack:///./lib/utils/pagePhases.js","webpack:///./lib/utils/floater.js","webpack:///./lib/utils/hash.js","webpack:///./lib/utils/thingHide.js","webpack:///./lib/utils/keycode.js","webpack:///./lib/utils/localization.js","webpack:///./lib/utils/math.js","webpack:///./lib/utils/options.js","webpack:///./lib/utils/profiling.js","webpack:///./lib/utils/storage.js","webpack:///./lib/utils/subreddits.js","webpack:///./lib/utils/value.js","webpack:///./lib/utils/watchers.js","webpack:///./lib/constants/jsapi.js","webpack:///./lib/utils/watchers_d2x.js","webpack:///./lib/utils/bodyClasses.js","webpack:///./lib/utils/browserDetect.js","webpack:///./lib/utils/createElement.js","webpack:///./lib/utils/alert.js","webpack:///./lib/constants/sessionStorage.js","webpack:///./lib/utils/selectedThing.js","webpack:///./node_modules/sortablejs/modular/sortable.core.esm.js","webpack:///./lib/vendor/index.js","webpack:///./lib/utils/caseBuilder.js","webpack:///./lib/utils/index.js","webpack:///./lib/core/module.js","webpack:///./lib/core/modules/storage.js","webpack:///./lib/vendor/guiders.js","webpack:///./lib/core/options/storage.js","webpack:///./lib/core/options/modified.js","webpack:///./lib/core/options/stage.js","webpack:///./lib/core/options/table.js","webpack:///./lib/core/options/index.js","webpack:///./lib/modules/hover.js","webpack:///./lib/modules/commandLine.js","webpack:///./lib/modules/menu.js","webpack:///./lib/modules/settingsNavigation.js","webpack:///./lib/modules/notifications.js","webpack:///./lib/modules/penaltyBox.js","webpack:///./lib/modules/filteReddit/Case.js","webpack:///./lib/modules/filteReddit/postCases/CommentCount.js","webpack:///./lib/modules/dashboard.js","webpack:///./lib/modules/newCommentCount.js","webpack:///./lib/modules/filteReddit/postCases/NewCommentCount.js","webpack:///./lib/modules/filteReddit/postCases/CommentsOpened.js","webpack:///./lib/modules/filteReddit/postCases/Domain.js","webpack:///./lib/core/host.js","webpack:///./lib/modules/showImages/templates.js","webpack:///./lib/modules/showImages/expando.js","webpack:///./lib/modules/hosts/aarli.js","webpack:///./lib/modules/hosts/adultswim.js","webpack:///./lib/modules/hosts/archilogic.js","webpack:///./lib/modules/hosts/archiveis.js","webpack:///./lib/modules/hosts/bime.js","webpack:///./lib/modules/hosts/clyp.js","webpack:///./lib/modules/hosts/codepen.js","webpack:///./lib/modules/hosts/coub.js","webpack:///./lib/modules/hosts/dailymotion.js","webpack:///./lib/modules/hosts/default.js","webpack:///./lib/modules/hosts/defaultAudio.js","webpack:///./lib/modules/hosts/defaultVideo.js","webpack:///./lib/modules/hosts/derpibooru.js","webpack:///./lib/modules/hosts/deviantart.js","webpack:///./lib/modules/hosts/dropbox.js","webpack:///./lib/modules/hosts/fiveHundredPx.js","webpack:///./lib/modules/hosts/flickr.js","webpack:///./lib/modules/hosts/getyarn.js","webpack:///./lib/modules/hosts/gfycat.js","webpack:///./lib/modules/hosts/gifyoutube.js","webpack:///./lib/modules/hosts/giphy.js","webpack:///./node_modules/snudown-js/dist/snudown_es.js","webpack:///./lib/modules/hosts/github.js","webpack:///./lib/modules/hosts/googlemaps.js","webpack:///./lib/modules/hosts/gyazo.js","webpack:///./lib/modules/hosts/hastebin.js","webpack:///./lib/modules/hosts/iloopit.js","webpack:///./lib/modules/hosts/imgflip.js","webpack:///./lib/modules/hosts/imgur.js","webpack:///./lib/modules/hosts/instagram.js","webpack:///./lib/modules/hosts/ireddit.js","webpack:///./lib/modules/hosts/jsfiddle.js","webpack:///./lib/modules/hosts/liveleak.js","webpack:///./lib/modules/hosts/livememe.js","webpack:///./lib/modules/hosts/makeameme.js","webpack:///./lib/modules/hosts/memecrunch.js","webpack:///./lib/modules/hosts/memedad.js","webpack:///./lib/modules/hosts/mixer.js","webpack:///./lib/modules/hosts/onedrive.js","webpack:///./lib/modules/hosts/pastebin.js","webpack:///./lib/modules/hosts/peertube.js","webpack:///./lib/modules/hosts/photobucket.js","webpack:///./lib/modules/hosts/pixiv.js","webpack:///./lib/modules/hosts/poly.js","webpack:///./lib/modules/hosts/pornhub.js","webpack:///./lib/modules/hosts/ppy.js","webpack:///./lib/modules/hosts/redditbooru.js","webpack:///./lib/modules/hosts/redditmedia.js","webpack:///./lib/modules/hosts/reddituploads.js","webpack:///./lib/modules/hosts/ridewithgps.js","webpack:///./lib/modules/hosts/simplecove.js","webpack:///./lib/modules/hosts/snag.js","webpack:///./lib/modules/hosts/soundcloud.js","webpack:///./lib/modules/hosts/spotify.js","webpack:///./lib/modules/hosts/steamcommunity.js","webpack:///./lib/modules/hosts/steampowered.js","webpack:///./lib/modules/hosts/strawpollcom.js","webpack:///./lib/modules/hosts/strawpollme.js","webpack:///./lib/modules/hosts/streamable.js","webpack:///./lib/modules/hosts/streamja.js","webpack:///./lib/modules/hosts/supgif.js","webpack:///./lib/modules/hosts/supload.js","webpack:///./lib/modules/hosts/tenor.js","webpack:///./lib/modules/hosts/tumblr.js","webpack:///./lib/modules/hosts/twimg.js","webpack:///./lib/modules/hosts/twitch.js","webpack:///./lib/modules/hosts/twitchclips.js","webpack:///./lib/modules/hosts/twitter.js","webpack:///./lib/modules/hosts/vidble.js","webpack:///./lib/modules/hosts/vimeo.js","webpack:///./lib/modules/hosts/vlipsy.js","webpack:///./lib/modules/hosts/vlive.js","webpack:///./lib/modules/hosts/vreddit.js","webpack:///./lib/core/metadata/packageInfo.js","webpack:///./lib/core/metadata/index.js","webpack:///./lib/modules/hosts/wikipedia.js","webpack:///./lib/modules/hosts/xboxdvr.js","webpack:///./lib/modules/hosts/xkcd.js","webpack:///./lib/modules/hosts/youtube.js","webpack:///./lib/modules/hosts/znipe.js","webpack:///./lib/modules/hosts/default.js?8f03","webpack:///./lib/modules/showImages.js","webpack:///./lib/modules/filteReddit/postCases/Expando.js","webpack:///./lib/modules/filteReddit/postCases/IsLocked.js","webpack:///./lib/modules/filteReddit/postCases/IsNSFW.js","webpack:///./lib/modules/filteReddit/postCases/IsSpoiler.js","webpack:///./lib/modules/filteReddit/postCases/IsVisited.js","webpack:///./lib/modules/filteReddit/postCases/LinkFlair.js","webpack:///./lib/modules/filteReddit/postCases/PostAfter.js","webpack:///./lib/modules/filteReddit/postCases/PostAge.js","webpack:///./lib/modules/filteReddit/postCases/PostTitle.js","webpack:///./lib/modules/filteReddit/postCases/PostType.js","webpack:///./lib/modules/filteReddit/postCases/Score.js","webpack:///./lib/modules/filteReddit/postCases/Selector.js","webpack:///./lib/modules/filteReddit/postCases/Subreddit.js","webpack:///./lib/modules/filteReddit/postCases/UserAttr.js","webpack:///./lib/modules/filteReddit/postCases/UserFlair.js","webpack:///./lib/modules/customToggles.js","webpack:///./lib/modules/filteReddit/Filter.js","webpack:///./lib/modules/filteReddit/ExternalFilter.js","webpack:///./lib/modules/filteReddit/LineFilter.js","webpack:///./lib/modules/filteReddit/Filterline.js","webpack:///./lib/modules/filteReddit.js","webpack:///./lib/modules/subredditStyleToggle.js","webpack:///./lib/modules/nightMode.js","webpack:///./lib/modules/userTagger.js","webpack:///./lib/modules/filteReddit/postCases/UserTag.js","webpack:///./lib/modules/filteReddit/postCases/UserVoteWeight.js","webpack:///./lib/modules/filteReddit/postCases/Username.js","webpack:///./lib/modules/filteReddit/postCases/VoteType.js","webpack:///./lib/modules/filteReddit/postCases/index.js","webpack:///./lib/modules/filteReddit/commentCases/CommentContent.js","webpack:///./lib/modules/filteReddit/commentCases/CommentLength.js","webpack:///./lib/modules/filteReddit/commentCases/Depth.js","webpack:///./lib/modules/filteReddit/commentCases/IsDeleted.js","webpack:///./lib/modules/readComments.js","webpack:///./lib/modules/filteReddit/commentCases/IsRead.js","webpack:///./lib/modules/filteReddit/commentCases/index.js","webpack:///./lib/modules/filteReddit/browseCases/BrowsingFrontPage.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentLocation.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentMulti.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentUserProfile.js","webpack:///./lib/modules/filteReddit/browseCases/CurrentSub.js","webpack:///./lib/modules/filteReddit/browseCases/Date.js","webpack:///./lib/modules/filteReddit/browseCases/Dow.js","webpack:///./lib/modules/filteReddit/browseCases/LoggedInAs.js","webpack:///./lib/modules/filteReddit/browseCases/Toggle.js","webpack:///./lib/modules/filteReddit/browseCases/index.js","webpack:///./lib/modules/filteReddit/cases.js","webpack:///./lib/modules/accountSwitcher.js","webpack:///./lib/modules/submitIssue.js","webpack:///./lib/modules/commentTools.js","webpack:///./lib/modules/usernameHider.js","webpack:///./lib/modules/quickMessage.js","webpack:///./lib/modules/userHighlight.js","webpack:///./lib/modules/userInfo.js","webpack:///./lib/modules/wheelBrowse.js","webpack:///./lib/modules/commentNavigator.js","webpack:///./lib/modules/easterEgg.js","webpack:///./lib/modules/hideChildComments.js","webpack:///./lib/modules/neverEndingReddit.js","webpack:///./lib/modules/noParticipation.js","webpack:///./lib/modules/saveComments.js","webpack:///./lib/modules/showParent.js","webpack:///./lib/modules/singleClick.js","webpack:///./lib/modules/keyboardNav.js","webpack:///./lib/modules/RESTips.js","webpack:///./lib/modules/about.js","webpack:///./lib/modules/announcements.js","webpack:///./lib/modules/autoHide.js","webpack:///./lib/modules/backupAndRestore/serialization.js","webpack:///./lib/modules/backupAndRestore/providers/Provider.js","webpack:///./lib/modules/backupAndRestore/providers/File.js","webpack:///./lib/modules/backupAndRestore/providers/GoogleDrive.js","webpack:///./lib/modules/backupAndRestore/providers/OneDrive.js","webpack:///./lib/modules/backupAndRestore/providers/Dropbox.js","webpack:///./lib/modules/backupAndRestore/providers/index.js","webpack:///./lib/modules/backupAndRestore.js","webpack:///./lib/modules/subredditManager.js","webpack:///./lib/modules/betteReddit.js","webpack:///./lib/modules/commentDepth.js","webpack:///./lib/modules/commentHidePersistor.js","webpack:///./lib/modules/commentPreview.js","webpack:///./lib/modules/commentQuickCollapse.js","webpack:///./lib/modules/commentSortBy.js","webpack:///./lib/modules/commentStyle.js","webpack:///./lib/modules/context.js","webpack:///./lib/modules/contribute.js","webpack:///./lib/modules/disableChat.js","webpack:///./lib/modules/localDate.js","webpack:///./lib/modules/logoLink.js","webpack:///./lib/modules/messageMenu.js","webpack:///./lib/modules/modhelper.js","webpack:///./lib/modules/multiredditNavbar.js","webpack:///./lib/modules/neverEndingComments.js","webpack:///./lib/modules/onboarding.js","webpack:///./lib/modules/orangered.js","webpack:///./lib/modules/pageNavigator.js","webpack:///./lib/modules/troubleshooter.js","webpack:///./lib/modules/presets.js","webpack:///./lib/modules/profileNavigator.js","webpack:///./lib/modules/profileRedirect.js","webpack:///./lib/modules/quarantineHide.js","webpack:///./lib/modules/redditUserInfo.js","webpack:///./lib/modules/requestPermissions.js","webpack:///./lib/modules/search.js","webpack:///./lib/modules/searchHelper.js","webpack:///./lib/modules/selectedEntry.js","webpack:///./lib/modules/showKarma.js","webpack:///./lib/modules/sourceSnudown.js","webpack:///./lib/modules/spamButton.js","webpack:///./lib/modules/spoilerTags.js","webpack:///./lib/modules/styleTweaks.js","webpack:///./lib/modules/stylesheet.js","webpack:///./lib/modules/submitHelper.js","webpack:///./lib/modules/subredditInfo.js","webpack:///./lib/modules/subredditTagger.js","webpack:///./lib/modules/tableTools.js","webpack:///./lib/modules/temporaryDropdownLinks.js","webpack:///./lib/modules/userbarHider.js","webpack:///./lib/modules/version.js","webpack:///./lib/modules/voteEnhancements.js","webpack:///./lib/modules/xPostLinks.js","webpack:///./lib/modules/about.js?b9b1","webpack:///./lib/core/modules/modules.js","webpack:///./lib/core/modules/index.js","webpack:///./lib/core/options/options.js","webpack:///./lib/core/modules/bodyClasses.js","webpack:///./lib/core/init.js","webpack:///./lib/foreground.entry.js"],"names":["global","factory","module","exports","document","w","Error","window","noGlobal","arr","getProto","Object","getPrototypeOf","slice","concat","push","indexOf","class2type","toString","hasOwn","hasOwnProperty","fnToString","ObjectFunctionString","call","support","isFunction","obj","nodeType","isWindow","preservedScriptAttributes","type","src","nonce","noModule","DOMEval","code","node","doc","i","val","script","createElement","text","getAttribute","setAttribute","head","appendChild","parentNode","removeChild","toType","version","jQuery","selector","context","fn","init","rtrim","prototype","jquery","constructor","length","toArray","get","num","pushStack","elems","ret","merge","prevObject","each","callback","map","elem","apply","arguments","first","eq","last","len","j","end","sort","splice","extend","options","name","copy","copyIsArray","clone","target","deep","isPlainObject","Array","isArray","undefined","expando","Math","random","replace","isReady","error","msg","noop","proto","Ctor","isEmptyObject","globalEval","isArrayLike","trim","makeArray","results","inArray","second","grep","invert","callbackInverse","matches","arg","value","guid","Symbol","iterator","split","toLowerCase","Sizzle","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains","Date","preferredDoc","dirruns","done","classCache","createCache","tokenCache","compilerCache","nonnativeSelectorCache","sortOrder","a","b","pop","push_native","list","booleans","whitespace","identifier","attributes","pseudos","rwhitespace","RegExp","rcomma","rcombinators","rdescend","rpseudo","ridentifier","matchExpr","rhtml","rinputs","rheader","rnative","rquickExpr","rsibling","runescape","funescape","_","escaped","escapedWhitespace","high","String","fromCharCode","rcssescape","fcssescape","ch","asCodePoint","charCodeAt","unloadHandler","inDisabledFieldset","addCombinator","disabled","nodeName","dir","next","childNodes","e","els","seed","m","nid","match","groups","newSelector","newContext","ownerDocument","exec","getElementById","id","getElementsByTagName","getElementsByClassName","qsa","test","toSelector","join","testContext","querySelectorAll","qsaError","removeAttribute","keys","cache","key","cacheLength","shift","markFunction","assert","el","addHandle","attrs","handler","attrHandle","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createDisabledPseudo","isDisabled","createPositionalPseudo","argument","matchIndexes","namespace","namespaceURI","documentElement","hasCompare","subWindow","defaultView","top","addEventListener","attachEvent","className","createComment","getById","getElementsByName","filter","attrId","find","getAttributeNode","tag","tmp","innerHTML","input","matchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector","msMatchesSelector","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","ap","bp","unshift","expr","elements","attr","specified","escape","sel","uniqueSort","duplicates","detectDuplicates","sortStable","textContent","firstChild","nodeValue","selectors","createPseudo","relative","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","simple","forward","ofType","xml","uniqueCache","outerCache","nodeIndex","start","parent","useCache","lastChild","uniqueID","pseudo","args","setFilters","idx","matched","matcher","unmatched","lang","elemLang","hash","location","activeElement","hasFocus","href","tabIndex","checked","selected","selectedIndex","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","combinator","base","skip","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","token","compiled","defaultValue","unique","isXMLDoc","escapeSelector","until","truncate","is","siblings","n","rneedsContext","needsContext","rsingleTag","winnow","qualifier","not","self","rootjQuery","root","parseHTML","ready","rparentsprev","guaranteedUnique","children","contents","prev","has","targets","l","closest","index","prevAll","add","addBack","sibling","parents","parentsUntil","nextAll","nextUntil","prevUntil","contentDocument","content","reverse","rnothtmlwhite","createOptions","object","flag","Callbacks","firing","memory","fired","locked","queue","firingIndex","fire","once","stopOnFalse","remove","empty","disable","lock","fireWith","Identity","v","Thrower","ex","adoptValue","resolve","reject","noValue","method","promise","fail","then","Deferred","func","tuples","state","always","deferred","pipe","fns","newDefer","tuple","returned","progress","notify","onFulfilled","onRejected","onProgress","maxDepth","depth","special","that","mightThrow","TypeError","notifyWith","resolveWith","process","exceptionHook","stackTrace","rejectWith","getStackHook","setTimeout","stateString","when","singleValue","remaining","resolveContexts","resolveValues","master","updateFunc","rerrorNames","stack","console","warn","message","readyException","readyList","catch","readyWait","wait","completed","removeEventListener","readyState","doScroll","access","chainable","emptyGet","raw","bulk","rmsPrefix","rdashAlpha","fcamelCase","all","letter","toUpperCase","camelCase","string","acceptData","owner","Data","uid","defineProperty","configurable","set","data","prop","hasData","dataPriv","dataUser","rbrace","rmultiDash","getData","JSON","parse","dataAttr","removeData","_data","_removeData","dequeue","startLength","hooks","_queueHooks","stop","setter","clearQueue","count","defer","pnum","source","rcssNum","cssExpand","isAttached","composed","getRootNode","isHiddenWithinTree","style","display","css","swap","old","adjustCSS","valueParts","tween","adjusted","scale","maxIterations","currentValue","initial","unit","cssNumber","initialInUnit","defaultDisplayMap","getDefaultDisplay","body","showHide","show","values","hide","toggle","rcheckableType","rtagName","rscriptType","wrapMap","option","thead","col","tr","td","_default","optgroup","tbody","tfoot","colgroup","caption","th","getAll","setGlobalEval","refElements","buildFragment","scripts","selection","ignored","wrap","attached","fragment","createDocumentFragment","nodes","createTextNode","htmlPrefilter","div","checkClone","cloneNode","noCloneChecked","rkeyEvent","rmouseEvent","rtypenamespace","returnTrue","returnFalse","expectSync","safeActiveElement","err","on","types","one","origFn","event","off","handleObjIn","eventHandle","events","t","handleObj","handlers","namespaces","origType","elemData","handle","triggered","dispatch","delegateType","bindType","delegateCount","setup","mappedTypes","origCount","teardown","removeEvent","nativeEvent","fix","handlerQueue","delegateTarget","preDispatch","isPropagationStopped","currentTarget","isImmediatePropagationStopped","rnamespace","preventDefault","stopPropagation","postDispatch","matchedHandlers","matchedSelectors","button","addProp","hook","Event","enumerable","originalEvent","writable","load","noBubble","click","leverageNative","trigger","beforeunload","returnValue","notAsync","saved","isTrigger","stopImmediatePropagation","props","isDefaultPrevented","defaultPrevented","relatedTarget","timeStamp","now","isSimulated","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","pageX","pageY","shiftKey","view","charCode","keyCode","buttons","clientX","clientY","offsetX","offsetY","pointerId","pointerType","screenX","screenY","targetTouches","toElement","touches","which","focus","blur","mouseenter","mouseleave","pointerenter","pointerleave","orig","related","rxhtmlTag","rnoInnerhtml","rchecked","rcleanScript","manipulationTarget","disableScript","restoreScript","cloneCopyEvent","dest","pdataOld","pdataCur","udataOld","udataCur","fixInput","domManip","collection","hasScripts","valueIsFunction","html","_evalUrl","keepData","cleanData","dataAndEvents","deepDataAndEvents","srcElements","destElements","inPage","detach","append","prepend","insertBefore","before","after","replaceWith","replaceChild","appendTo","prependTo","insertAfter","replaceAll","original","insert","rnumnonpx","getStyles","opener","getComputedStyle","rboxStyle","computeStyleTests","container","cssText","divStyle","pixelPositionVal","reliableMarginLeftVal","roundPixelMeasures","marginLeft","right","pixelBoxStylesVal","boxSizingReliableVal","width","position","scrollboxSizeVal","offsetWidth","measure","round","parseFloat","backgroundClip","clearCloneStyle","boxSizingReliable","pixelBoxStyles","pixelPosition","reliableMarginLeft","scrollboxSize","curCSS","computed","minWidth","maxWidth","getPropertyValue","addGetHookIf","conditionFn","hookFn","cssPrefixes","emptyStyle","vendorProps","vendorPropName","capName","finalPropName","final","cssProps","rdisplayswap","rcustomProp","cssShow","visibility","cssNormalTransform","letterSpacing","fontWeight","setPositiveNumber","subtract","max","boxModelAdjustment","dimension","box","isBorderBox","styles","computedVal","extra","delta","ceil","getWidthOrHeight","boxSizingNeeded","valueIsBorderBox","offsetProp","getClientRects","cssHooks","opacity","origName","isCustomProp","setProperty","isFinite","getBoundingClientRect","scrollboxSizeBuggy","left","margin","padding","border","prefix","suffix","expand","expanded","parts","Tween","easing","propHooks","run","percent","eased","duration","pos","step","fx","scrollTop","scrollLeft","linear","p","swing","cos","PI","fxNow","inProgress","rfxtypes","rrun","schedule","hidden","requestAnimationFrame","interval","tick","createFxNow","genFx","includeWidth","height","createTween","animation","Animation","tweeners","defaultPrefilter","opts","oldfire","propTween","restoreDisplay","isBox","anim","dataShow","unqueued","overflow","overflowX","overflowY","propFilter","specialEasing","properties","stopped","prefilters","currentTime","startTime","tweens","originalProperties","originalOptions","gotoEnd","bind","complete","timer","tweener","prefilter","speed","opt","speeds","fadeTo","to","animate","optall","doAnimation","finish","stopQueue","timers","cssFn","slideDown","slideUp","slideToggle","fadeIn","fadeOut","fadeToggle","slow","fast","delay","time","timeout","clearTimeout","checkOn","optSelected","radioValue","boolHook","removeAttr","nType","attrHooks","bool","attrNames","getter","lowercaseName","rfocusable","rclickable","removeProp","propFix","tabindex","parseInt","stripAndCollapse","getClass","classesToArray","addClass","classes","curValue","clazz","finalValue","removeClass","toggleClass","stateVal","isValidValue","classNames","hasClass","rreturn","valHooks","optionSet","focusin","rfocusMorph","stopPropagationCallback","onlyHandlers","bubbleType","ontype","lastElement","eventPath","parentWindow","simulate","triggerHandler","attaches","rquery","parseXML","DOMParser","parseFromString","rbracket","rCRLF","rsubmitterTypes","rsubmittable","buildParams","traditional","param","s","valueOrFunction","encodeURIComponent","serialize","serializeArray","r20","rhash","rantiCache","rheaders","rlocalProtocol","rnoContent","rprotocol","transports","allTypes","originAnchor","addToPrefiltersOrTransports","structure","dataTypeExpression","dataType","dataTypes","inspectPrefiltersOrTransports","jqXHR","inspected","seekingTransport","inspect","prefilterOrFactory","dataTypeOrTransport","ajaxExtend","flatOptions","ajaxSettings","ajaxHandleResponses","responses","ct","finalDataType","firstDataType","mimeType","getResponseHeader","converters","ajaxConvert","response","isSuccess","conv2","current","conv","responseFields","dataFilter","throws","active","lastModified","etag","url","isLocal","protocol","processData","async","contentType","accepts","json","ajaxSetup","settings","ajaxPrefilter","ajaxTransport","ajax","transport","cacheURL","responseHeadersString","responseHeaders","timeoutTimer","urlAnchor","fireGlobals","uncached","callbackContext","globalEventContext","completeDeferred","statusCode","requestHeaders","requestHeadersNames","strAbort","getAllResponseHeaders","setRequestHeader","overrideMimeType","status","abort","statusText","finalText","crossDomain","host","hasContent","ifModified","headers","beforeSend","success","send","nativeStatusText","modified","getJSON","getScript","wrapAll","firstElementChild","wrapInner","htmlIsFunction","unwrap","visible","offsetHeight","xhr","XMLHttpRequest","xhrSuccessStatus","xhrSupported","cors","errorCallback","open","username","xhrFields","onload","onerror","onabort","ontimeout","onreadystatechange","responseType","responseText","binary","scriptAttrs","charset","scriptCharset","evt","oldCallbacks","rjsonp","jsonp","jsonpCallback","originalSettings","callbackName","overwritten","responseContainer","jsonProp","createHTMLDocument","implementation","keepScripts","parsed","params","animated","offset","setOffset","curPosition","curLeft","curCSSTop","curTop","curOffset","curCSSLeft","calculatePosition","curElem","using","rect","win","pageYOffset","pageXOffset","offsetParent","parentOffset","scrollTo","Height","Width","defaultExtra","funcName","hover","fnOver","fnOut","unbind","delegate","undelegate","proxy","holdReady","hold","parseJSON","isNumeric","isNaN","define","_jQuery","_$","$","noConflict","require","waitForEvent","ele","Promise","race","waitForChild","child","from","observer","MutationObserver","mutations","mutation","addedNodes","Node","ELEMENT_NODE","disconnect","downcast","HTMLElement","observe","childList","watchForChildren","watchForFutureChildren","waitForDescendant","querySelector","subtree","waitForFutureDescendant","added","removed","removedNodes","waitForAttach","cancel","waitForDetach","watchForDescendants","ignoreChildrenIfAddedNodeMatches","watchForFutureDescendants","Set","dispatchEvent","MouseEvent","isProgrammaticEvent","getViewportSize","clear","visualViewport","viewportSizedElement","elementInViewport","bottom","getViewportDimensions","headerOffset","getHeaderOffset","yOffset","getPercentageVisibleYAxis","min","padBottom","element","viewportHeight","currentPadding","clientHeight","paddingRequired","scrollHeight","recentScroll","scrollInvokationToken","scrollToElement","scrollStyle","restrictDirectionTo","direction","selectedDirection","anchor","waitTillVisible","_scrollInvokationToken","res","scrollBy","viewport","compensateHeader","scrollY","fromTop","buffer","newScrollY","viewportDirection","scollDirection","headerIds","fullWidth","partialWidth","_addHeaderId","elementId","includePartialWidthHeaders","reduce","getD2xBodyOffset","offsetTop","addCSS","addStyle","preventCloning","attribute","WeakSet","MessageHandlerError","createMessageHandler","_sendMessage","errorOnUnrecognizedTypes","listeners","Map","_handleMessage","sendResponse","listener","sendMessage","newData","addListener","apiToPromise","chrome","runtime","onMessage","sender","MapCache","FUNC_ERROR_TEXT","memoize","resolver","memoized","Cache","waitFor","repeat","forEachChunked","queues","frameThrottle","performance","generator","return","iterable","batch","size","flushBeforeUnload","invoke","batchAccumulator","entries","promises","addPromise","startNewBatch","zip","throttle","entry","lastPromise","currentBatch","fastAsync","throwing","throw","Reflect","asyncFlow","firstFn","accum","reifyPromise","x","keyedMutex","keyResolver","tail","delete","mutex","frameDebounce","debounce","update","rej","throttleQueuePositionReset","queued","idleThrottle","requestIdleCallback","matchesPageLocation","includes","excludes","includeStrings","includeRegExps","excludeStrings","excludeRegExps","isPageType","isAppType","matchesPageRegex","regexes","frontpage","comments","commentsLinklist","inbox","profile","profile2x","profileCommentsPage","prefs","account","wiki","stylesheet","search","commentPermalink","subreddit","subredditAbout","modqueue","multireddit","domain","composeMessage","liveThread","execRegexes","path","appType","hasAttribute","thisApp","some","appPageTypes","r2","default","pageTypes","d2x","pageType","spec","pathname","thisPage","regexps","regex","currentSubreddit","isCurrentSubreddit","subreddits","sub","currentMultireddit","isCurrentMultireddit","multireddits","multi","currentDomain","currentUserProfile","fullLocation","COMMENT_CODE_REGEX","isCommentCode","link","emptyText","isEmptyLink","startsWith","inQuarantinedSubreddit","classList","stringTagFunction","valueTransform","strings","encode","escapeHTML","safe","str","__safe__","MAX_DISTANCE_RATIO","areSimilar","levenshtein","regexRegex","htmlTagFunction","markup","template","childElementCount","_html","isObject","toNumber","nativeMax","nativeMin","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","flush","debounced","isInvoking","ty","isLoggedIn","loggedInUser","documentLoggedInUser","findFirstTextNode","isModeratorAnywhere","loggedInUserHash","hashEle","HTMLInputElement","userInfo","loggedInUserInfo","modhash","usernameRE","usernameSelector","getUsernameFromLink","HTMLAnchorElement","origin","endsWith","getUserInfo","cacheFor","MINUTE","convert","placeholder","baseRest","pullAll","pull","identity","HOUR","DAY","WEEK","fromSecondsToTime","timeInSeconds","minutes","floor","hours","part","padStart","baseFlatten","baseOrderBy","isIterateeCall","sortBy","iteratees","CACHED_LANG_KEY","CACHED_MESSAGES_KEY","CACHED_MESSAGES_TOKEN_KEY","r","u","o","h","f","c","weekdays","months","y","M","g","format","pl","date","D","z","utcOffset","abs","year","month","Number","d","ms","Q","locale","$L","utc","$u","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","millisecond","unix","valueOf","getTime","toDate","$locale","weekStart","$set","daysInMonth","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","toJSON","toISOString","toUTCString","isDayjs","en","Ls","baseDifference","isArrayLikeObject","difference","array","arrayMap","iteratee","overRest","setToString","getExtensionId","getURL","getOptionsURL","URL","isOptionsPage","range","iterables","generators","it","gen","baseIsEqual","isEqual","other","baseKeys","getTag","isArguments","isBuffer","isPrototype","isTypedArray","mapTag","setTag","objectProto","isEmpty","maxAge","delete_","filterPerms","perms","permissions","origins","operation","request","granted","without","baseConvert","util","flatten","baseIteratee","basePickBy","getAllKeysIn","pickBy","predicate","lastError","freeze$1","freeze","svg","svgFilters","mathMl","freeze$2","html$1","svg$1","mathMl$1","setPrototypeOf","_ref$1","apply$1","fun","thisValue","addToSet","lcElement","isFrozen","newObject","property","seal","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","_typeof","_toConsumableArray","arr2","_ref","arraySlice","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","policyName","createHTML","html$$1","createDOMPurify","DOMPurify","isSupported","originalDocument","useDOMParser","removeTitle","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","Text","Comment","TrustedTypes","trustedTypesPolicy","emptyHTML","_document","createNodeIterator","importNode","documentMode","MUSTACHE_EXPR$$1","ERB_EXPR$$1","ATTR_WHITESPACE$$1","IS_ALLOWED_URI$$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_JQUERY","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_DOM_IMPORT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","CONFIG","formElement","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","_forceRemove","outerHTML","_removeAttribute","_initDocument","dirty","leadingWhitespace","_doc","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","FILTER_ACCEPT","_isClobbered","elm","_isNode","_executeHook","entryPoint","currentNode","forEach","_sanitizeElements","tagName","allowedTags","insertAdjacentHTML","htmlToInsert","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","idAttr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","nextNode","sanitize","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","purify","freeGlobal","freeSelf","Function","REDDIT_LANGUAGES","SPECIAL_LANGUAGES","navigator","language","isValidLocale","localeString","toLocaleString","getRedditLocale","redditLocale","messages","_loadI18n","localStorage","getItem","buildToken","setItem","stringify","removeItem","i18n","messageName","substitutions","number","userHash","establish","contentStart","retrieveFromParent","assign","isPrivateBrowsing","extension","inIncognitoContext","unzipWith","zipWith","arrays","baseAssignValue","createAggregator","groupBy","baseClamp","clamp","lower","upper","arrayEach","baseCreate","baseForOwn","getPrototype","transform","accumulator","isArr","isArrLike","isObjectLike","isKey","stringToPath","castPath","addURLToHistory","isURLVisited","openNewTab","openNewTabs","urls","focusIndex","escapeLookups","baseSetData","createBind","createCurry","createHybrid","createPartial","mergeData","setData","setWrapToString","toInteger","WRAP_BIND_FLAG","WRAP_BIND_KEY_FLAG","WRAP_CURRY_FLAG","WRAP_CURRY_RIGHT_FLAG","WRAP_PARTIAL_FLAG","WRAP_PARTIAL_RIGHT_FLAG","createWrap","bitmask","partials","holders","argPos","ary","arity","isBindKey","partialsRight","holdersRight","createCtor","thisBinding","MAX_SAFE_INTEGER","reIsUint","isIndex","overArg","arrayPush","isFlattenable","isStrict","stubFalse","assocIndexOf","baseUnary","castArray","baseIndexOf","arrayIncludes","FetchError","sameOrigin","credentials","buildRequestParams","XhrCache","processResponse","fetch","ok","invalidate","query","siteOrigin","requestURL","searchParams","sameSite","hostname","URLSearchParams","download","filename","launchAuthFlow","clientId","scope","warnUserInteraction","Permissions","resAuth","responseUrl","interactive","callbacks","multicast","local","crossContext","localOnly","clickListeners","onClick","__set","items","storage","_set","__get","_get","_delete","_clear","withLockOn","getMultiple","defaults","k","setMultiple","valueMap","compareAndSet","oldValue","newValue","patch","extended","extendDeep","patchShallow","deletePaths","paths","stored","deleteMultiple","sentinel","Wrapper","def","_key","deletePath","keyGenerator","PrefixWrapper","keyMapper","batching","_prefix","_keyMapper","getMultipleNullable","Infinity","_keyGen","getNullable","everything","acc","rawValues","wrapPrefix","destructiveKeyMapper","BlobWrapper","rootKey","_rootKey","wrapBlob","curryRight","guard","basePullAt","indexes","baseExtremum","baseGt","maxBy","compact","resIndex","baseIntersection","castArrayLikeObject","intersection","mapped","baseUniq","uniqBy","copyArray","nativeObjectToString","objectToString","baseGetTag","asyncTag","funcTag","genTag","proxyTag","flatRest","arrayAggregator","baseAggregator","initializer","strictIndexOf","fromIndex","baseSlice","arrayIncludesWith","comparator","SetCache","cacheHas","createSet","setToArray","LARGE_ARRAY_SIZE","isCommon","seen","outer","seenIndex","keyBy","mapValues","partition","trimLeft","trimRight","tinyCounter","mathRound","mathMin","mathMax","mathRandom","tinycolor","color","rgb","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","gradientType","_ok","_tc_id","isDark","getBrightness","isLight","getOriginalInput","getFormat","getAlpha","toRgb","getLuminance","RsRGB","GsRGB","BsRGB","R","G","B","pow","setAlpha","boundAlpha","toHsv","hsv","rgbToHsv","toHsvString","toHsl","hsl","rgbToHsl","toHslString","toHex","allow3Char","rgbToHex","toHexString","toHex8","allow4Char","rgbaToHex","toHex8String","toRgbString","toPercentageRgb","bound01","toPercentageRgbString","toName","hexNames","toFilter","secondColor","hex8String","rgbaToArgbHex","secondHex8String","formatSet","formattedString","hasAlpha","needsAlphaFormat","_applyModification","lighten","brighten","darken","desaturate","saturate","greyscale","spin","_applyCombination","analogous","complement","monochromatic","splitcomplement","triad","tetrad","fromRatio","newColor","convertToPercentage","stringInputToObject","isValidCSSUnit","rgbToRgb","hsvToRgb","hslToRgb","hue2rgb","q","mod","hex","pad2","charAt","convertDecimalToHex","equals","color1","color2","amount","clamp01","hue","slices","modification","mix","rgb1","rgb2","rgba","readability","c1","c2","isReadable","wcag2","wcag2Parms","out","validateWCAG2Parms","level","mostReadable","baseColor","colorList","bestColor","bestScore","includeFallbackColors","names","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","isOnePointZero","processPercent","isPercentage","parseIntFromHex","convertHexToDecimal","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","hsla","hsva","hex3","hex6","hex4","hex8","named","parms","uniq","reRegExpChar","reHasRegExpChar","escapeRegExp","SemVer","debug","env","NODE_DEBUG","log","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_COMPONENT_LENGTH","re","tok","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULLPLAIN","FULL","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","COERCERTL","LONETILDE","TILDETRIM","tildeTrimReplace","TILDE","TILDELOOSE","LONECARET","CARETTRIM","caretTrimReplace","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","comparatorTrimReplace","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","er","valid","clean","major","minor","prerelease","build","compareMain","comparePre","compareIdentifiers","compareBuild","inc","release","version1","version2","v1","v2","defaultResult","numeric","anum","bnum","rcompareIdentifiers","compareLoose","versionA","versionB","rcompare","rsort","gt","lt","neq","gte","lte","cmp","op","Comparator","comp","semver","ANY","intersects","rangeTmp","Range","satisfies","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","parseRange","comps","hr","hyphenReplace","compRe","parseComparator","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","comparators","remainingComparators","testComparator","otherComparator","toComparators","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","pr","replaceCaret","replaceXRange","gtlt","xM","xm","xp","anyX","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","testSet","allowed","maxSatisfying","versions","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","outside","gtr","hilo","gtfn","ltefn","ltfn","ecomp","low","r1","coerce","rtl","lastIndex","objectCreate","create","composeArgs","composeArgsRight","countHolders","createRecurry","getHolder","reorder","replaceHolders","WRAP_ARY_FLAG","WRAP_FLIP_FLAG","isCurried","wrapper","holdersCount","newHolders","isLaziable","WRAP_CURRY_BOUND_FLAG","wrapFunc","isCurry","newHoldersRight","newPartials","newPartialsRight","stubArray","assignValue","copyObject","customizer","isNew","objValue","nativeKeys","otherArgs","memoizeCapped","rePropName","reEscapeChar","quote","subString","listCacheClear","__data__","arrayProto","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","baseGet","baseSet","toKey","isLength","arrayFilter","baseProperty","baseTimes","unzip","group","baseFor","valuesLength","valuesIndex","createAssigner","keysIn","assignIn","basePick","pick","collator","Intl","Collator","sensitivity","prevRow","str2Char","Levenshtein","str1","str2","useCollator","str1Len","str2Len","curCol","nextCol","strCmp","postMessage","importScripts","fromPairs","pairs","pair","baseRandom","toFinite","freeParseFloat","nativeRandom","floating","rand","negate","omitBy","baseWhile","dropWhile","baseClone","CLONE_DEEP_FLAG","CLONE_SYMBOLS_FLAG","cloneDeep","union","sin","asin","atan","atan2","acos","rad","dayMs","J1970","J2000","toJulian","fromJulian","toDays","rightAscension","declination","azimuth","phi","dec","altitude","siderealTime","lw","astroRefraction","solarMeanAnomaly","eclipticLongitude","C","sunCoords","L","ra","SunCalc","getPosition","lat","lng","times","addTime","angle","riseName","setName","J0","julianCycle","approxTransit","Ht","solarTransitJ","ds","hourAngle","getSetJ","getTimes","Jnoon","Jset","Jrise","solarNoon","nadir","moonCoords","dt","dist","getMoonPosition","pa","distance","parallacticAngle","getMoonIllumination","sdist","fraction","phase","hoursLater","getMoonTimes","inUTC","setUTCHours","setHours","hc","h0","h1","h2","rise","xe","ye","roots","x1","x2","dx","sqrt","Favico","_def","bgColor","textColor","fontFamily","fontStyle","dataUrl","_opt","_orig","_h","_w","_canvas","_context","_img","_ready","_lastBadge","_running","_readyCb","_stop","_browser","_animTimeout","_drawTimeout","ff","InstallTrigger","opera","userAgent","ie","safari","supported","_queue","hexToRgb","isUp","isLeft","getIcon","getContext","icon","clearRect","drawImage","setIcon","finished","circle","more","beginPath","font","textAlign","moveTo","lineTo","quadraticCurveTo","arc","fillStyle","fill","closePath","stroke","fillText","rectangle","fillRect","badge","imageElement","newImg","ratio","video","videoElement","drawVideo","webcam","action","createObjectURL","newVideo","getUserMedia","oGetUserMedia","msGetUserMedia","mozGetUserMedia","webkitGetUserMedia","audio","stream","play","paused","ended","getLink","canvas","toDataURL","shorthandRegex","mergedOpt","attrname","isPageHidden","msHidden","webkitHidden","mozHidden","fade","none","popFade","slide","cb","revert","animationType","browser","mapping","fallbackHolder","baseArity","baseAry","cloneArray","createCloner","flatSpread","wrapImmutable","cloner","isLib","isObj","config","cap","curry","fixed","immutable","rearg","defaultHolder","forceCurry","forceFixed","forceRearg","pristine","runInContext","helpers","isError","isWeakMap","toPath","aryMethodKeys","aryMethod","wrappers","mixin","nthArg","castCap","iterateeRearg","iterateeAry","castCurry","castFixed","skipFixed","methodSpread","castRearg","skipRearg","methodRearg","aryRearg","cloneByPath","nested","convertLib","createConverter","realName","aliasToReal","methodName","remap","oldOptions","newUtil","newFunc","newOptions","wrapped","mutate","aryKey","otherName","afterRearg","realToAlias","alias","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","holdersIndex","rightIndex","rightLength","arrLength","oldArray","baseAssign","getNative","getValue","domExcTag","errorTag","objectTag","funcProto","funcToString","objectCtorString","weakMapTag","WRAP_REARG_FLAG","spreadableSymbol","isConcatSpreadable","isSymbol","ListCache","assigner","sources","nativeKeysIn","hasIn","reIsDeepProp","reIsPlainProp","baseHasIn","hasPath","hasFunc","createFlow","flow","LodashWrapper","getFuncName","fromRight","funcs","prereq","thru","plant","stubString","webpackPolyfill","deprecate","basePullAll","baseIndexOfWith","baseUnset","previous","createBaseFor","keysFunc","ordinal","formats","LTS","LT","LL","LLL","LLLL","relativeTime","future","past","yy","Y","ll","lll","llll","toNow","fromNow","baseMap","baseSortBy","compareMultiple","orders","criteria","comparer","compareAscending","objCriteria","othCriteria","ordersLength","order","valIsDefined","valIsNull","valIsReflexive","valIsSymbol","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","baseIsEqualDeep","Stack","equalArrays","equalByTag","equalObjects","COMPARE_PARTIAL_FLAG","argsTag","arrayTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","arraySome","COMPARE_UNORDERED_FLAG","isPartial","othLength","stacked","arrValue","othValue","compared","othIndex","getAllKeys","objProps","objLength","othProps","skipCtor","objCtor","othCtor","nativeFloor","caches","maxLength","isDrop","RES_DISABLED_HASH","RES_SETTINGS_HASH","RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH","RES_NER_PAGE_HASH","LRUCache","capacity","createTime","hitTime","forEachSeq","asyncFilter","shouldKeep","asyncReduce","initialValue","asyncFind","concurrentFold","baseCase","onResolve","onReject","asyncSome","asyncEvery","filterMap","elementMap","WeakMap","things","SECRET_TOKEN","thingElementsCached","Thing","thingSelector","thingElements","eles","nextElementSibling","parentElement","checkedFrom","visibleThingElements","visibleThings","thing","runTasksRange","marginTop","marginBottom","stopAfterCls","getDirectionOf","tidx","bidx","tasks","isVisible","runTasks","thingElement","entrySelector","immediate","byId","refreshPartialVisibility","isHiddenByFilter","_p","setHideFilter","isComment","getParents","setFilterReasons","DOCUMENT_POSITION_FOLLOWING","getThreadTop","getNext","excludeMoreChildren","_target","getNextSibling","getClosest","getClosestVisible","isMessage","isSubreddit","isPost","isLinkPost","isSelfPost","isTopLevelComment","getTitle","getTitleElement","getTitleUrl","getPostLink","getPostUrl","dataset","getTextBody","getCommentsLink","getCommentPermalink","getHideElement","getButtons","getNumberOfChildren","numChildrenElem","_parseScore","scoreEle","title","getScore","_getActiveScoreElement","getAllScoreElements","toScoreTuple","getAuthor","getAuthorElement","getAuthorUrl","author","getSubreddit","getSubredditLink","getPostDomain","getPostDomainLink","getPostDomainText","getPostDomainUrl","getCommentCount","getCommentCountElement","getPostThumbnailUrl","thumbnail","getPostThumbnailElement","getPostFlairText","getPostFlairElement","getUserFlairText","getUserFlairElement","getCrosspostBadgeElement","getUpvoteButton","_getVoteButton","getDownvoteButton","previousSibling","getTimestamp","getTimestampElement","getPostEditTimestamp","getPostEditTimestampElement","getFullname","getUserattrsElement","getRank","rank","getRankElement","getTaglineElement","getCommentCollapseToggleElement","setCommentCollapse","reason","openOnlyWhenSameReason","isCollapsed","getPostTime","getPostTimeElement","isNSFW","isSpoiler","isCrosspost","isLocked","isDeleted","partialAsFiltered","isContentVisible","isSelected","isUpvoted","isDownvoted","isUnvoted","registeredThings","getPostMetadata","requests","limit","raw_json","colorToArray","colorString","colorFromArray","bodyStart","sitetableStarted","contentLoaded","loadComplete","Container","isAvailable","useList","go","separate","HTMLLIElement","li","fallback","PagePhases","containers","inNavbar","updateHeaderWidth","headerButton","marginRight","userMenu","belowFixedNavbar","visibleAfterScroll","IntersectionObserver","isIntersecting","tabMenu","menu","inert","getContainer","InertContainer","addFloater","containerName","chars","randomHash","hashCode","char","hideEndpoint","unhideEndpoint","HIDE","UNHIDE","eventAction","updateElements","unhide","NAMED_KEYS","Backspace","Tab","Enter","Escape","Space","PageUp","PageDown","End","Home","Left","Up","Right","Down","Shift","Control","Alt","keyCodes","niceKeyCode","keyArray","modifiers","alt","ctrl","meta","keyCombo","keyName","checkKeysForEvent","eventHash","hashKeyEvent","arrayHash","hashKeyArray","Dayjs","dayjs","localeCode","formatNumber","formatDate","formatDateTime","formatDateDiff","formatRelativeTime","numericalCompare","inverseOperator","prettyOperator","interpolate","frac","deinterpolate","projectInto","fromLow","fromHigh","toLow","toHigh","positiveModulo","indexOptionTable","keyIndex","keyTransformer","fields","nestedArray","subKey","counter","markStart","mark","markEnd","maybePruneOldEntries","entryStorage","keepTrackDays","shouldPrune","updateTime","lastStorage","Storage","fakeSubreddits","isFakeSubreddit","fakeSubreddit","firstValid","vals","elementWatchers","page","selfText","thingWatchers","comment","post","runCallback","addCallback","actingOnElement","task","registerElement","registered","registerThing","thingWatcherCallbacks","watchForThings","watchForElements","_runLikelyVisibleTasks","screen","availHeight","filterTask","nextCheck","Boolean","registerPage","runLikelyVisibleTasks","HIDE_FOLLOWING_CLASS","r2WatcherSitetableStart","runLikelyVisibleVisibleTasks","r2WatcherContentLoaded","io","intersecting","rootMargin","unobserve","commentarea","watchList","JSAPI_CONSUMER_NAME","postAuthor","watchForRedditEvents","handleRedditEvent","expandoId","contextId","user","ownedTarget","initD2xWatcher","CustomEvent","addMissing","change","cls","versionSearchString","searchString","datas","versionSearch","searchVersion","dataString","substring","hasNavigator","dataBrowser","appVersion","OS","dataOS","vendor","platform","toggleButton","fieldID","enabled","onText","offText","isTable","usesBatch","enabling","description","item","tabMenuItem","aftercontent","onChange","fancyToggleButton","getState","refresh","_state","overlay","confirm","close","listenForEscape","makeButton","btn","LAST_SELECTED_ENTRY_KEY","currentContainer","instantly","beforePaint","idle","priority","runCallbacks","runListeners","new_","throttler","oldest","throttled","runBeforePaint","runIdle","_new","force","selectClosestInView","closestToCurrent","currentIndex","closestThings","closestVisible","movers","up","down","upSibling","downSibling","downParentSibling","upThread","downThread","toTopComment","toParent","move","targetFn","lastSelectedKey","getLastSelectedId","sessionStorage","scrollToSelectedThingOnLoad","setScrollToSelectedThingOnLoad","lastSelectedId","history","scrollRestoration","_defineProperty","_extends","_objectSpread","ownKeys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectWithoutPropertiesLoose","excluded","sourceKeys","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","getParentOrHost","ctx","includeCTX","R_SPACE","currentStyle","matrix","selfOnly","appliedTransforms","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","getWindowScrollingElement","scrollingElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","elRect","innerHeight","innerWidth","containerRect","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","getParentAutoScrollElement","elSideVal","parentSideVal","getChild","childNum","currentChild","Sortable","ghost","dragged","draggable","lastElementChild","previousElementSibling","getRelativeScrollOffset","offsetLeft","winScroller","indexOfObject","includeSelf","gotSelf","clientWidth","scrollWidth","elemCSS","dst","isRectEqual","rect1","rect2","_throttleTimeout","_this","cancelThrottle","Polymer","Zepto","dom","setRect","unsetRect","AnimationStateManager","animationStates","animationCallbackId","captureAnimationState","fromRect","thisAnimationDuration","childMatrix","addAnimationState","removeAnimationState","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animationResetTimer","currentRect","translateX","translateY","animatingX","animatingY","repaint","plugins","initializeByDefault","PluginManager","mount","plugin","pluginEvent","eventName","sortable","eventCanceled","eventNameGlobal","pluginName","initializePlugins","initialized","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","putSortable","extraEventProperties","onName","createEvent","initEvent","pullMode","lastPutMode","allEventProperties","dragEl","parentEl","ghostEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","supportCssPointerEvents","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","secondChildWidth","flexDirection","gridTemplateColumns","touchingSideChild2","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","sameGroup","otherGroup","originalGroup","checkPull","checkPut","put","revertClone","nearestEmptyInsertDetectEvent","nearest","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","store","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","dataTransfer","dropBubble","dragoverBubble","dataIdAttr","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","_getDirection","touch","originalTarget","shadowRoot","composedPath","_saveInputCheckedState","isContentEditable","_prepareDragStart","dragStartFn","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDraggable","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","_onTouchMove","_onDragStart","_nextTick","getSelection","removeAllRanges","_dragStarted","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dy","cssMatrix","_hideClone","cloneId","_loopId","setInterval","effectAllowed","_dragStartId","isOwner","canSort","fromSortable","completedFired","dragOverEvent","axis","onMove","_onMove","changed","insertion","_showClone","_ignoreWhileAnimating","elLastChild","_ghostIsLast","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","_getSwapDirection","dragIndex","moveVector","_unsilent","_offMoveEvents","_offUpEvents","clearInterval","_cancelNextTick","save","handleEvent","_globalDragOver","_generateId","destroy","dropEffect","willInsertAfter","onMoveFn","retVal","draggedRect","relatedRect","spacer","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","_getInsertDirection","sum","inputs","utils","nextTick","cancelNextTick","detectDirection","_len","autoScrolls","scrollEl","scrollRootEl","scrolling","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","AutoScrollPlugin","AutoScroll","scroll","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","sens","scrollThisInstance","scrollCustomFn","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","onSpill","Revert","startIndex","dragStart","_ref3","Remove","_ref4","parentSortable","OnSpill","lastSwapEl","SwapPlugin","Swap","swapClass","dragOverValid","prevSwapEl","swapNodes","swapItem","n1","n2","p1","p2","i1","i2","isEqualNode","multiDragElements","multiDragClones","lastMultiDragSelect","multiDragSortable","initialFolding","folding","dragEl$1","clonesFromRect","clonesHidden","MultiDragPlugin","MultiDrag","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","originalEvt","multiDragIndex","nullingGlobal","destroyGlobal","deselect","_this3","oldIndicies","newIndicies","clones","clonesInserted","elementsInserted","drawOptionBuilder","optionName","$addRowButton","$itemContainer","moduleID","addItemText","$newBody","drawBuilderItem","defaultTemplate","customOptionsFields","cases","firstText","$editButton","$item","readBuilderItem","prompt","$deleteButton","drawDeleteButton","customOptions","drawFields","$header","drawHandle","note","ver","$body","drawBuilderBlock","addBaseControls","$block","$firstBlock","readBuilderBlock","readFields","$element","BlockClass","multiType","validate","field","$fieldElem","fieldModule","builderFields","read","draw","$rowWrapper","addItem","itemData","addCaseSelect","HTMLSelectElement","defaultConditions","$elem","$input","label","checkset","prefixId","$wrap","itemId","$box","$label","durr","days","getPredefinedChoices","$dropdown","row","Module","moduleName","category","descriptionRaw","keywords","bodyClass","include","exclude","shouldRun","onToggle","onSaveSettings","disabledByDefault","alwaysEnabled","onInit","beforeLoad","afterLoad","requiredPermissions","getModuleId","opaqueId","setEnabled","moduleId","enable","guiders","_defaultSettings","attachTo","autoFocus","buttonCustomHTML","classString","closeOnEscape","highlight","isHashable","onClose","onHide","onShow","shouldSkip","xButton","_htmlSkeleton","_arrowSize","_backButtonTitle","_buttonAttributes","_buttonClassName","_buttonClickEvent","_buttonElement","_closeButtonTitle","_currentGuiderID","_fixedOrAbsolute","_guiders","_lastCreatedGuiderID","_nextButtonTitle","_offsetNameMapping","_windowHeight","ieBrowserMatch","_isIE","_ieVersion","_addButtons","myGuider","guiderButtonsContainer","thisButton","thisButtonElem","thisButtonName","onclick","hideAll","myCustomHTML","_addXButton","xButtonContainer","_attach","myHeight","myWidth","fixedOrAbsolute","topMarginOfBody","outerHeight","attachToHeight","attachToWidth","bufferOffset","positionType","_styleArrow","_dehighlightElement","_hideOverlay","_highlightElement","_initializeOverlay","_showOverlay","myGuiderArrow","arrowOffset","_showIfHashed","GUIDER_HASH_TAG","hashIndex","hashGuiderId","_updatePositionOnResize","_resizing","resize","reposition","_unwireEscape","_wireEscape","keydown","createGuider","passedSettings","guiderElement","guiderTitleContainer","getCurrentGuider","omitHidingOverlay","currentGuider","nextGuiderId","nextGuider","prevGuider","prevGuiderId","scrollToCurrent","windowHeight","guiderOffset","guiderElemHeight","scrollToHeight","isGuiderBelow","isGuiderAbove","loadRaw","optionKey","getModified","Modules","enabledByDefault","isEnabled","moduleStatusChanged","modifiedOptions","moduleStatus","getModifiedText","lines","optionMaxLength","moduleMaxLength","padEnd","stagedOptions","clearStagedOptions","stageOption","optionValue","commitStagedOptions","modId","_option","hasStagedOptions","getStagedOptions","getMatchingValueOrAdd","valueIdentifier","instances","openDelay","fadeDelay","fadeSpeed","noconfig","closeOnMouseOut","Hover","_defaultOptions","getInstance","TypeClass","infocard","HoverInfoCard","dropdownList","HoverDropdownList","getFixedParent","pin","_options","instanceID","_hideTimer","_showTimer","_closeFadeTimer","_callback","_container","_fixedPosition","_closePromise","_closePromiseResolve","_checkMouseLeave","getCheckedTarget","instance","_startHideTimer","_startShowTimer","_cancelHideTimer","_cancelShowTimer","persistent","persistentOptions","Options","populateWith","_render","_addContainerHandlers","_clearCloseFade","begin","watch","_displayLoadIndicator","populate","fixedParent","onScroll","_updatePosition","_positionContainer","scrollX","resetShowTimer","_startCloseFade","transitionDuration","_loadIndicator","$container","tooltipWidth","tooltipLeft","tooltipTop","bottomPadding","bottomAlign","leftAlign","outerWidth","launch","menuItem","addMenuItem","Menu","commandLine","widget","tip","setTip","clearTip","setError","clearError","getTip","commandLineForm","executeCommand","initialCmd","navigateTo","commands","registerCommand","commandPredicate","getCommandSpec","command","commandSpec","predicateResult","splitWords","matchingCommandSpec","loggedIn","currentUser","Alert","optionsRegex","moduleDataRegex","sanitizeStorageKey","HTMLTextAreaElement","sortTypes","sortTypeRecognizesPeriod","sortType","periods","getPeriod","period","_navigateTo","cmd","descriptions","gearIconClickAction","advanced","gear","showDropdown","CommandLine","hideDropdown","SettingsNavigation","addLegacyStyling","buildItem","getElement","backgroundImage","showAllOptions","showAllOptionsAlert","findModules","isSettingsUrl","makeUrlHashLink","displayText","cssClass","makeUrlHash","parseHash","hashComponents","setHash","replaceState","pushState","iframe","contentWindow","failedToLoad","closing","handleEmbedFailure","loadSuccess","sticky","closeDelay","fadeOutLength","notificationTypes","addRowText","notificationsContainer","lastShownStorage","activeNotifications","showNotification","_delay","notificationID","header","noDisable","inner","existing","notification","isSticky","fadeDuration","resetCloseTimer","fadeTimer","hideTimer","cooldown","maxHeight","MIN_PENALTY","MAX_PENALTY","delayFeatures","suspendFeatures","features","alterFeaturePenalty","valueDelta","getOrAddFeatures","monitoring","penalty","suspendFeature","stopMonitoringFeature","getFeaturePenalty","penalizedDelay","delayOption","penalizedValue","featureModule","featureOptionLink","Notifications","pardonSuspendedFeature","Case","getSelectedEntryValue","SelectedThing","conditions","thingToCriterion","criterionToConditions","cased","fromConditions","evaluate","criterion","parseCriterion","criterionOperators","Cases","propagateError","CaseClass","buildRegex","fullMatch","flags","patt","getCustomFilter","_customFilter","trueText","falseText","observers","isEvaluatable","hasType","onObserve","reconcile","variant","PatternCase","variants","variantLoop","possibleVariant","fullMatchDefault","pattIfEmpty","plain","_patt","CommentCount","isInteger","commentCount","defaultPosts","defaultSort","defaultSortSearch","dashboardShortcut","tagsPerPage","initialWidgetLoad","getLatestWidgets","dashboardUrl","addTab","addDashboardTab","addDashboardShortcuts","initialTabID","selectedTabMenuItem","tabID","tabName","tabModuleId","BodyClasses","$tabPage","CreateElement","MAX_ROWS","dashboardStorage","widgets","attachAddComponent","attachEditComponent","initUpdateQueue","addWidget","saveOrder","updateQueue","updateQueueTimer","addToUpdateQueue","updateFunction","processUpdateQueue","thisUpdate","newOrder","basePath","widgetBeingEdited","$dashboardEditComponent","thisBasePath","formerBasePath","displayName","widgetEle","updateWidget","showEditForm","eleTop","eleWidth","decodeURIComponent","$dashboardUL","$dashboardAddComponent","thisDisplayName","optionsObject","exists","thisWidget","WidgetObject","saveWidget","removeWidget","findIndex","widgetOptions","numPosts","sortSearchBy","minimized","sortControls","sortSearchControls","sortChange","stateControls","edit","sortPath","scrim","$widgetContent","$thisWidgetContents","$noResults","subButtons","subButton","isMulti","thisSubredditFragment","$subButtonsWrapper","theWrap","$subButtons","createSubredditToggleButton","hideWhenUnchanged","cleanComments","subscriptionLength","showSubscribeButton","notifyEditedPosts","dependsOn","monitorPostsVisited","monitorPostsVisitedIncognito","subscriptionStorage","subscriptionButton","refreshSubscriptionButton","getNewCount","displayNewCommentCount","Dashboard","addDashboardFunctionality","listingThing","currentCommentCount","checkSubscriptions","setEntry","getId","updateCurrentCommentCountFromMyComment","hasEntry","newCommentCount","currentCount","lastOpenedCount","newCount","timestamp","isRecent","isMine","subscriptions","unsubscribe","subscribe","newEditedTime","subscriptionDate","editedTime","subscription","checkThread","num_comments","edited","createButton","$button","$openOnReddit","$threads","ids","concatIds","$thisTable","drawSubscriptionsTable","currentSortMethod","isDescending","sortMethod","descending","thisCounts","rows","thisUpdateTime","thisTrashButton","thisTrashPromise","thisRenewButton","thisRenewPromise","thisUnsubButton","thisUnsubPromise","thisExpires","thisExpiresContent","thisROW","$thisROW","NewCommentCount","N","CommentsOpened","Domain","Host","domains","logo","landingPage","attribution","detect","handleLink","getVideoData","audioTemplate","loop","galleryTemplate","credits","imageTemplate","openInNewWindow","iframeTemplate","textTemplate","videoTemplate","poster","hasAudio","reversable","formattedPlaybackRate","mediaControlsTemplate","downloadUrl","lookupUrl","clippy","siteAttributionTemplate","logoUrl","settingsLink","crosspostMetadataTemplate","crosspostRootTitle","crosspostRootScore","crosspostRootSubreddit","targetParentFullname","crosspostRootNumComments","crosspostRootTime","crosspostRootAuthor","expandos","activeExpandos","opened","Expando","getEntryExpandoFrom","buttonPlaceholder","boxPlaceholder","collapse","reattach","cachedhtml","getTextExpandosFrom","md","expandoSelector","exp","getAllExpandosFrom","inText","expandWanted","expandCallbacks","media","generateMedia","buttonInfo","mediaClass","updateButton","onExpand","initialize","getDuplicates","setLock","attachMedia","duplicate","onAttach","aarId","errors","previousurl","authorurl","slides","desc","imglink","embed","fixedRatio","formattedUrl","dashboardId","expandoClass","playlist","muted","isGifv","embedAutoplay","pause","autoplay","fetchInfo","images","responseById","img","duplicate_of","source_url","fullsize_url","thumbnail_url","author_url","author_name","genericHosts","originalURL","photoId","base58Encode","enc","oembedTarget","validSuffix","useMobileGfycat","isMobileResolution","gfyItem","frameRate","playbackRate","mobilePosterUrl","posterUrl","mobileUrl","webmUrl","mp4Url","sauce","api_key","mp4","dynCall_v","dynCall_vi","E","onAbort","I","nofollow","tocIdPrefix","enableToc","S","U","ArrayBuffer","HEAP8","Int8Array","HEAP16","Int16Array","HEAP32","Int32Array","HEAPU8","Uint8Array","HEAPU16","Uint16Array","HEAPU32","Uint32Array","HEAPF32","Float32Array","HEAPF64","Float64Array","preloadedImages","preloadedAudios","ze","fr","je","ar","F","Ke","Be","V","de","he","De","cr","Me","Re","Fe","we","me","Pe","qe","Ye","Oe","_e","pe","P","O","T","K","Ue","W","X","J","rr","ir","nr","or","lr","sr","ur","He","Te","br","ge","kr","vr","dr","wr","mr","yr","gr","Ar","Cr","Sr","xr","Ne","Le","Er","Ae","Ir","Ur","qr","Pr","Or","Hr","Tr","Kr","Mr","Rr","Nr","jr","zr","Br","Dr","Ce","Fr","Lr","Yr","Zr","Gr","Vr","Wr","Xr","$r","Qr","Jr","Se","ee","Ee","ae","fe","ne","te","oe","le","ce","se","ue","be","ke","ve","Ie","imul","clz32","___muldi3","___udivdi3","_bitshift64Lshr","_bitshift64Shl","_default_renderer","_free","_i64Add","_i64Subtract","_llvm_ctpop_i32","_malloc","_memcpy","_memmove","_memset","_sbrk","_wiki_renderer","dynCall_iii","dynCall_iiii","dynCall_iiiii","dynCall_iiiiii","dynCall_iiiiiii","dynCall_vii","dynCall_viii","dynCall_viiii","dynCall_viiiii","establishStackSpace","stackAlloc","stackRestore","stackSave","subarray","extraStackTrace","asm","markdown","markdownWiki","files","truncated","coords","long","zoom","mapType","testWithTitle","titleResult","preferResAlbums","useGifOverGifv","preferredImgurLink","imgurImageResolution","hashRe","hostedHashRe","galleryHashRe","albumHashRe","_api","_handleImage","_handleImageCollection","endpoint","Authorization","_mockImageAPI","thisCdnUrl","looping","has_sound","gifv","hashes","is_album","getInfo","baseUrl","shareLinkPreferred","resolutionSuffix","useGif","_handleAlbum","_handleGifv","_handleSingleImage","fullname","postMetadata","preview","gif","categories","clipId","encodedUrl","btoa","processFile","webUrl","route","imageUrl","base36","postId","cdnUrl","sourceUrl","photo_src","photo_caption","uri","publishedfiledetails","preview_url","previewUrl","file_url","fileUrl","itemcount","ext","short","alphabet","alphabetMap","parseViewShortId","pathMatch","h1_title","generatedcaption","blog","posts","render","photos","photo","original_size","dialogue","phrase","asking","asking_url","asking_name","question","answer","channel","typeId","videoId","channelOrVideo","omit_script","$dummy","generate","urlObj","pics","replaceNativeExpando","mpd","manifest","reps","rep","announcementsSubreddit","isBeta","isPatch","isMinor","isMajor","updatedURL","homepageURL","gitDescription","packageInfo","req","Metadata","article","sectionId","sections","cleanDoc","displaytitle","vParam","uParam","tParam","timeBlocks","timeRe","timeMatch","ts","_id","contentDetails","rawDuration","snippet","publishedAt","statistics","viewCount","mParam","clipType","siteModules","__hosts","defaultVideo","defaultAudio","mediaBrowse","browsePreloadCount","galleryPreloadCount","conserveMemory","displayOriginalResolution","selfTextMaxHeight","commentMaxHeight","autoMaxHeight","hideNSFW","highlightNSFWButton","highlightSpoilerButton","imageZoom","imageMove","mediaControls","mediaControlsPosition","crossposts","displayImageCaptions","captionsPosition","markVisited","markSelftextVisited","sfwHistory","galleryRememberWidth","galleryAsFilmstrip","filmstripLoadIncrement","useSlideshowWhenLargerThan","showViewImagesTab","autoExpandTypes","autoExpandSelfText","autoExpandSelfTextFirstVisibleNonMuted","autoExpandSelfTextNSFW","showSiteAttribution","expandoCommentRedirects","startVideosMuted","onlyPlayMutedWhenVisible","maxSimultaneousPlaying","autoplayVideo","hidePinnedRedditVideos","siteModule","siteModuleOptionKey","scanBody","checkElementForMedia","viewImagesButton","updateParentHeight","spotlight","nextprev","enableConserveMemory","isSiteModuleEnabled","sitesMap","modulesForHostname","fullscreenActive","fullscreenElement","webkitFullscreenElement","mozFullScreenElement","boxMap","ioBox","setLoaded","buttonMap","ioButton","supportsUnload","autoExpandActive","mediaBrowseModeActive","isExpandWanted","toggleThingExpandos","scrollOnToggle","openExpandos","autoExpandFirstVisibleNonMutedInThing","autoExpand","ignoreDuplicatesScope","preloadExpandos","fromThing","preloadCount","pieces","preloadMedia","unselected","allowMediaBrowse","oldExpando","newExpando","hasEntryAnyExpandedNonMuted","matchesTypes","wantedTypes","expandoTypes","ignoreDuplicates","onlyExpandMuted","expandoIsNonMuted","typeCriteriaOK","muteCriteriaOK","resolveMediaUrl","fullDataUrl","promptSiteModulePermissions","urlStripRe","disableHostButton","finally","generateSiteModuleLock","_resolve","_reject","linksMap","getLinkExpando","entryExpando","nativeExpando","trackNativeExpando","mediaUrl","detectResult","placeExpando","trackMediaLoad","completeExpando","mediaOptions","isMuted","getMediaButtonInfo","addSiteAttribution","hideButton","wasOpen","lightbox","dontAutoExpandNSFW","basisHeight","expandoHeight","trackLoad","defaultClass","IMAGE","GALLERY","TEXT","VIDEO","IFRAME","AUDIO","GENERIC_EXPANDO","lastPreloadIndex","piece","Gallery","Image","Iframe","Video","Audio","Generic","observed","resizeObserver","ResizeObserver","contentRect","Media","onResize","resizing","rotationState","_unload","_restore","makeIndependent","independent","willChange","keepVisible","basisLeft","isAligned","elementWidth","viewportWidth","elementLeft","elementRight","deltaLeft","setMaxSize","makeZoomable","dragInitiater","absoluteSizing","initialWidth","initialDiagonal","getDiagonal","hypot","addDragListener","atShiftKey","onStart","deltaX","deltaY","newWidth","makeMovable","addControls","updateRotation","individualCtrl","msgPosition","ctrlToFilmstrip","ctrlConcurrentIncrease","lastRevealedPiece","filmstripActive","rememberResizeWidth","lastResizedWidth","piecesContainer","ctrlPrev","ctrlNext","slideshowWhenLargerThan","expandFilmstrip","changeSlideshowPiece","shouldRememberResizeWidth","rememberWidth","resizedElement","resizedWidth","restoreWidth","resizeElement","revealPiece","preloadAhead","preloadFrom","preloadTo","revealFrom","revealTo","innerText","previousIndex","HTMLImageElement","naturalWidth","naturalHeight","pauseCommand","playCommand","loaded","HTMLIFrameElement","iframeWrapper","dragHandle","HTMLAudioElement","trackVisitNative","links","$replace","hasFrameExecution","setFrameExecution","isActive","hasMoved","lastX","lastY","handleMove","movementX","movementY","handleClick","mutedVideoManager","videos","updatePlay","notVisible","intervalId","reversed","useVideoManager","formatMultilineNumber","HTMLVideoElement","msgError","displayError","sourceElements","canPlayType","lastSource","setPlayIcon","controls","addVideoControls","stopAutoplay","volumeStorage","volume","toggleAttribute","toFixed","ctrlContainer","ctrlReverse","ctrlTogglePause","ctrlSpeedDecrease","ctrlSpeedIncrease","ctrlTimeDecrease","ctrlTimeIncrease","indicatorPosition","ctrlPosition","msgSpeed","msgTime","percentage","ctrlVolume","ctrlVolumeLevel","volumePercentage","updateVolume","newHeight","ShowImages","_matches","_waitTillReady","completeTask","IsLocked","IsNSFW","IsSpoiler","IsVisited","LinkFlair","PostAfter","postTime","qualifiers","prettifyAge","remainder","remainderQualifier","multiplier","PostAge","age","ageQualifier","PostTitle","PostType","kind","Score","score","Selector","Subreddit","UserAttr","myName","UserFlair","toggles","customToggles","initialEnabled","Toggle","onStateChange","registerCommandLine","stateChangeCallbacks","toggleCallbacks","addCLI","buildCheckbox","getToggles","localeCompare","toggleActive","Filter","BaseCase","effects","updatePromise","case","setCase","getEffects","setParent","getStateText","getSaveValues","effect","removeFilter","newCase","describeOnly","updateByInputConstruction","disableFilter","reverseActive","fromSelected","getMatchingEntry","removeEntry","buildReasonElement","ExternalFilter","toggleEffects","FilteReddit","setActive","LineFilter","externOpts","propagate","initialConditions","getBuilder","filterline","card","builderCases","thingType","lastConditions","$builderBlock","caseBuilder","lastFocus","builder","isCaseChanged","refreshElement","showInfocard","immediately","populateHover","redraw","addButton","groupName","ondemand","customFilter","CommentNavigator","numberSpan","hidePermanently","Filterline","sortedFilters","currentMatches","permanentlyHiddenThings","displayReasons","dropdown","preamble","filterContainer","poweredElement","permanentlyHideCheckbox","togglePowered","powered","isPowered","deferredFilters","lastUsed","availableEffects","_refreshAfterChange","backgroundColor","removePlaceholders","replaceWithPlaceholder","checkEmptyState","refreshThing","invokedByFilter","effectsToRefresh","filtersToTest","getFiltersToTest","updateEffect","refreshDisplayReasonsChunked","getActiveFilters","toggleDisplayReasons","refreshDisplayReasons","isInitialized","addFilterElements","createDropdown","getFiltersOfCase","getPickable","addDetails","summary","dp","CaseClasses","createNewFilterElement","_getAsConditions","getAsConditions","of","reload","displayReasonsCheckbox","permanentlyHide","updatePermanentlyHideCheckbox","unhidePermanently","RESTips","indeterminate","getThings","newOpts","createFilter","redditHide","redditUnhide","hasEffect","extracted","resumeDeferredTypes","createFilterFromStateValues","restoreState","getFilter","deferredOpts","getCLI","deconstruct","asNewFilter","findMatchingCases","deconstructed","bestMatch","MatchedCase","lastFilter","actionDescription","addFilter","timing","navigationStart","currentFilter","invokedByFilterIndex","currentFilterIndex","addThing","withEffect","newState","reasons","hideUntilProcessed","NSFWfilter","allowNSFW","listType","NSFWQuickToggle","showFilterline","excludeOwnPosts","excludeModqueue","excludeUserPages","useRedditFilters","reconcileNativeFilters","filterSubredditsFrom","forceSyncFilters","warnNotLoggedIn","users","usersMatchAction","usersMatchRepliesAction","flair","customFiltersP","customFiltersC","featureTips","quiet","filterlineVisible","pageID","filterlineStorage","customFilterVariant","createStateFromTypes","defaultFilters","nsfwToggle","_filterlineResolve","filterlinePromise","ensureFilterlineVisible","updateNsfwBodyClass","CustomToggles","updateNsfwThingClass","_visible","populateFromOptions","shouldFilter","makeFilterlineInteractable","registerSubredditFilterCommand","insertFilterline","filterlineTab","continuation","ListFilter","externalKey","caseType","additionalCriteria","useEffects","_listFilter","addExternalFilter","getStringMatchConditions","_effects","matching","toggleEntry","findEntry","matchString","includesString","toggleString","listFilters","getConditions","customFilters","addOndemandCase","onlyUseful","addCustomFilter","updateCustomFilter","saveFilterlineStateAsDefault","applyTo","applyList","except","mainFilter","applyToConditions","getTopScore","resp","topScoreBySub","sortByPopularity","scores","desired","toRemove","toAdd","model","subredditAllowNsfwOption","allowAllNsfw","currOptionValue","postSubreddit","currSubreddit","postOptionValue","filterOn","browserToolbarButton","ignoredStorage","PageAction","shouldDisable","hasToggleableElements","createToggle","nightmodeCompatible","initialState","NightMode","ignoredSubreddits","toggleElements","makeInteractable","place","insertCheckbox","getStylesheet","getHeaderImg","headerImg","imgWrapper","toggleStylesheet","shouldRestore","subredditStylesheet","toggleHeaderImg","nightModeOn","nightSwitch","automaticNightMode","nightModeStart","nightModeEnd","nightModeOverrideHours","useSubredditStyles","subredditStylesWhitelist","coloredLinks","localStorageKey","nightModeActive","nightmodeOverrideStorage","addNightMode","isNightModeOn","removeNightMode","overrideNightMode","isNightmodeCompatible","handleAutomaticNightMode","isAllowedByOptions","Init","isWhitelisted","isSubredditCompatible","compatible","Session","SubredditStyleToggle","toggledSubredditStyle","toggledOn","currSub","whitelist","nightModeOverrideStart","nightModeOverrideLength","nightModeOverrideEnd","isOverrideActive","needsNightModeToggle","isTimeForNightMode","getGeolocation","geolocation","getCurrentPosition","getNightModeTimes","latitude","longitude","sunrise","sunset","getSunriseSunset","startingTime","endingTime","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","UNKNOWN_ERROR","timeStringToDate","timeString","bgToTextColorMap","showTaggingIcon","storeSourceLink","useCommentsLinkAsSource","trackVoteWeight","vwNumber","truncateTag","presetTags","tagStorage","Tag","applyFromElement","applyToUser","renderTaggingIcon","attachVoteHandler","renderVoteWeight","getUnfilled","tags","buildTagElement","getStored","votesUp","votesDown","getBaseDifference","extract","votes","showNotice","unignore","openPrompt","getLinkBasedOnTagLocation","tagger","populateDialog","vw","getVoteWeightStyle","defaultTagElement","colors","presetSaveAs","presetTag","presetFieldPair","openLink","textShouldBeUpdated","updateTagPreview","buildPresetTagElement","saveAsPreset","alert","setSelectionRange","handleVoteClick","arrow","$this","$otherArrow","alpha","$showDiv","drawUserTagTable","controlWrapper","pageCount","leftButton","posLabel","rightButton","$tagControls","pages","UserTag","UserVoteWeight","UserTagger","Username","VoteType","CommentContent","CommentLength","Depth","IsDeleted","monitorSelected","monitorWhenIncognito","currentId","maybeHidePrevious","isRead","_add","IsRead","ReadComments","BrowsingFrontPage","CurrentLocation","CurrentMulti","rawMulti","CurrentUserProfile","CurrentSub","Dow","currentDOW","LoggedInAs","loggedInAs","getOptions","toggleName","Inert","True","False","Group","_cases","toCriterion","NONE","ONE","ALL","evaluators","seenTrue","evaluator","falseConditions","trueConditions","inertConditions","resolveGroup","precompute","keepGroup","available","typeSorted","getGroup","createAdHoc","AdHoc","getUniqueTypeName","primitives","populatePrimitives","false","true","postCases","commentCases","browseCases","filterThings","getByContext","primitivesOnly","isUseful","keepLoggedIn","accounts","updateOtherTabs","reloadOtherTabs","showCurrentUserName","dropDownStyle","showUserDetails","showKarma","showGold","storedPassword","requiresOtp","downArrow","manageAccounts","userLink","createAccountMenu","usernames","switchTo","accountMenu","goldExpDate","gold_expiration","link_karma","comment_karma","is_gold","logoutPromise","otp","passwd","rem","switchedAccountElsewhere","reloadPage","jqueryRpc","hasDraft","textarea","subredditsForDiagnostics","checkIfSubmitting","submitWizardTemplate","foolin","bugs","submitIssueDefaultBody","diagnostics","BrowserDetect","cookieEnabled","subredditInput","showWizard","injectTemplate","hideWizard","diagnosticsStripped","selfTextStripped","updateSubreddit","wizard","fetchLinks","guiderId","guider","parseObjectList","content_md","dictText","dictMapping","rawLine","line","userAutocomplete","subredditAutocomplete","wikiAutocomplete","formattingToolButtons","keyboardShortcuts","boldKey","italicKey","strikeKey","superKey","linkKey","quoteKey","ctrlEnterSubmitsComments","ctrlEnterSavesLiveThreads","ctrlEnterSubmitsPosts","commentingAs","highlightIfAltAccount","showInputLength","macroButtons","macros","keepMacroListOpen","macroPlaceholders","enabledOnBanMessages","SUBMIT_LIMITS","STYLESHEET","SIDEBAR","DESCRIPTION","WIKI","COMMENT","LIVE_COMMENT","POST","POST_TITLE","BAN_MESSAGE","macroCallbackTable","macroKeyTable","commentTextareaSelector","attachEditorToUsertext","initializeCtrlEnterToSubmit","initializeLengthCounters","initializeAutocomplete","onCtrlEnter","currentForm","saveButton","$captcha","updateCounter","initializeEditorTools","findTextareaForElement","thisCat","testedKeyArray","macroIndex","getFieldLimit","bar","makeEditBar","cachedEditBar","$editBar","wrappedEditBar","commentingAsMessage","AccountSwitcher","shortcuts","makeEditButton","wrapSelection","wrapSelectedWords","linkSelection","wrapSelectedLines","selectedText","selectionStart","selectionEnd","numSeparator","startTable","prevTable","currText","generatedTable","generatedTableSeparation","replaceSelection","addRow","remRow","addCol","remCol","nbCol","newRow","$buttonContainer","$counter","buildMacroDropdowns","addMacroButton","addButtonToMacroGroup","macroDropDownTable","getMacroGroup","macroGroup","titleButton","getDebugMacros","editBar","macroSelection","$macroWrapper","defaultGroup","macroButtonIndex","macroText","fillPlaceholders","placeholders","completedPlaceholders","placeholderInnerText","getMagicPlaceholderValue","promptForPlaceholderValue","magicPlaceholders","$next","furthest","$base","isEditing","toTimeString","toDateString","SubmitIssue","escapeFunction","beforeSelection","afterSelection","trailingSpace","cursor","replacement","startPosition","lineStart","lineEnd","startMovement","endMovement","selectedWords","selectionModify","newLinePosition","lastIndexOf","autoCompleteMatchRegExp","prefixText","completions","getUserCompletions","getSubredditCompletions","getWikiCompletions","autoComplete","caretPos","updateSelection","navigate","textareaOffset","loadAllTags","wikiPages","wikiPage","perAccountDisplayText","hideAllUsernames","hideAccountSwitcherUsernames","showUsernameOnHover","substitutes","substitute","getDisplayText","hideUsername","userHref","curatedBy","curatedByUsername","openQuickMessage","defaultSubject","sendAs","handleContentLinks","handleSideLinks","linkToCurrentPage","lastSentAsStorage","openQuickMessageDialog","messageLinkEventHandler","quickMessageDialog","$dialog","subject","closeQuickMessageDialog","CommentTools","getFullMessageFormUrl","updateModeratorIcon","hasModifier","srMatch","onClickMessageLink","getValidSendFrom","UsernameHider","modSubs","setUpSendFromDropdown","senders","currentOption","focusFirstEmpty","updateSelectedSender","desiredUser","sendAsOptions","indexToSelect","lastSelected","presetSendErrors","NO_USER","NO_SUBJECT","NO_TEXT","BAD_CAPTCHA","TOO_LONG","api_type","from_sr","highlightSelf","selfColor","selfColorHover","highlightOP","OPColor","OPColorHover","highlightAdmin","adminColor","adminColorHover","highlightAlum","alumColor","alumColorHover","highlightFriend","friendColor","friendColorHover","highlightMod","modColor","modColorHover","highlightOpMentions","opMentionsColor","opMentionsHover","highlightFirstCommenter","dontHighlightFirstComment","firstCommentColor","firstCommentColorHover","fontColor","autoColorUsernames","autoColorUsing","generateHoverColors","updateNewUsernames","updateFirstComments","selftext","highlightMentionedUsers","hoverColor","idClass","authorClass","colorGetter","doTextColor","lum","minLum","maxLum","nightmodeColor","monochrome","highlightUser","userid","UserInfo","highlightColor","highlightColorHover","colorData","generateHoverColor","hoverInfo","useQuickMessage","hoverDelay","gildComments","highlightButton","highlightedUsers","showUserInfo","is_suspended","created_utc","friendButton","is_friend","$link","isRemove","userHTML","userTaggerEnabled","userTag","isHighlight","getButton","toggleUserHighlight","giveGold","QuickMessage","entryUrl","permalink","authorInfoToolTipHighlight","toggleUserHighlightButton","UserHighlight","openOnHighlightUser","canHighlight","behavior","useLinklistBehavior","wheelBrowseWidget","onWheel","setCallback","galleryPart","updateGalleryPart","clicker","showByDefault","popularConditions","installEntryElement","commentNav","WheelBrowse","getMatchingCategory","getCategories","matchingCategory","setCategory","_memoized","updateFromSelected","custom","submitter","moderator","friend","admin","highlighted","getElements","highlightedUserSelector","tagged","gilded","IAmA","getPosts","popular","nonlinear","new","upvoted","updateCustomConditions","currentCategory","getVisiblePosts","lastNavigatedTo","isOpen","selectedItem","updateBuilder","postCount","HTMLButtonElement","lastNavigatedToIndex","commentNavToggle","choices","keepSelected","konami","createKonami","$baconBit","konamiActive","almostThere","prepattern","automatic","hideNested","initialHide","toggleAllButton","addToggleChildrenButton","addToggleAllButton","includeChildren","toggleAll","returnToPrevPage","autoLoad","pauseAfterEvery","showPauseButton","reversePauseIcon","showServerInfo","dupeSet","pauseReasonStorage","pauseReason","nextPageUrl","retrieveNextPageUrl","loadReturnToPrevPage","initiateReturnToPrevPage","setPause","distanceFromBottom","prefetchNextPage","loadNextPage","prepareNextPageLoad","getLastSiteTable","getNextPrevLinks","getNextPageUrl","refreshAutoLoad","displayEndBanner","endNER","pauseAfterPages","startPromise","donePromise","loadPage","createLoaderWidget","pauseButton","isNerUrl","setReturnToPage","$earlierMarkers","marker","ner","loadPromise","setLoaderWidgetActionText","scrollToLoadWidget","prefetchIo","displayPauseReason","pauseReasonIo","loadNextPageIo","fetchPage","attachPromise","newSiteTable","noresults","pageMarker","firstLen","lastLen","class","moreinfo","disableVoteButtons","disableCommentTextarea","evenIfSubscriber","escapeNP","isNpHostname","boilerplateNotificationText","noParticipationActive","removeNpFromLink","isNPIrrelevant","notifyNpIrrelevant","applyNoParticipationMode","isSubscriber","isVotingBlocked","nonNpLocation","nonNpUrl","notifyNpActive","votedOnButtons","notifyNoVote","voteButton","canUndoVote","revertVote","notifyNoComment","watchForVote","voteButtons","savedCommentStorage","saveElement","drawSavedComments","saveComment","getCommentContent","permaLink","timeSaved","savedCommentsTemplate","keyNavTip","moduleDescription","keyNavHash","savePostKey","saveCommentKey","saveRESKey","dateTime","timeAgo","savedComments","KeyboardNav","savePost","saveRES","showEducationalNotification","showCommentHover","startHover","voteClasses","$targetButton","removeClickHandlers","$midcol","startDir","newDir","$parents","topParentURL","topParentId","openOrder","hideLEC","openFrontpage","openBackground","applyLinks","focused","openTabs","frontpageLink","linearScrollStyle","nonLinearScrollStyle","linkNumbers","linkNumberPosition","linkToggleExpando","linkNumberAltModeModifier","linkNewTab","onHideMoveDown","onVoteMoveDown","onVoteCommentMoveDown","followLinkNewTabFocus","toggleHelp","toggleKeyNavHelp","toggleCmdLine","requiresModules","enterFilterCommandLine","hideLink","moveUp","moveDown","moveDownFallback","moveUpComment","moveDownComment","moveTop","moveBottom","moveUpSibling","moveDownSibling","moveDownParentSibling","moveUpThread","moveDownThread","moveToTopComment","moveToParent","undoMove","showParents","ShowParent","getSelected","assertElement","followLink","followLinkNewTab","toggleExpando","scrollOnExpando","imageSizeUp","imageResize","factor","imageSizeDown","imageSizeUpFine","imageSizeDownFine","imageSizeAnyHeight","removeHeightRestriction","imageMoveUp","imageMoveDown","imageMoveLeft","imageMoveRight","previousGalleryImage","navigateGallery","nextGalleryImage","scrollOnGalleryNavigate","toggleViewImages","toggleChildren","followComments","followCommentsNewTab","followLinkAndCommentsNewTab","SingleClick","followLinkAndComments","followLinkAndCommentsNewTabBG","upVote","mustBeLoggedIn","vote","downVote","upVoteWithoutToggling","downVoteWithoutToggling","getFirstElementInThingByQuery","ASSERT","SaveComments","reply","showChildComments","HideChildComments","showAllChildComments","followPermalink","followPermalinkNewTab","followSubreddit","followSubredditNewTab","followProfile","followProfileNewTab","toggleCommentNavigator","commentNavigatorMoveUp","commentNavigatorMoveDown","focusOnSearchBox","useGoMode","goMode","toggleGoMode","leaveNP","inboxNewTab","newWindow","modmail","modmailNewTab","profileNewTab","frontPage","slashAll","subredditFrontPage","nextPage","NeverEndingReddit","prevPage","overviewLegacy","profileView","updateLinkAnnotations","handleKeyPress","annotation","linkAnnotations","followLinkByRank","slideSpeed","drawHelp","getActiveCommandOptions","getLinkKeys","altModeModifier","addKey","_commandLookup","lookup","EasterEgg","hasDefaultBehavior","goModeActive","handleCallbacks","shortcut","promptUniqueShortcut","optionButtons","followUp","preservedOption","NOASSERT","assertExistance","getElementsInThingByQuery","assertLength","getMostVisibleElementInThingByQuery","mostVisible","gallery","background","way","preventToggle","NoParticipation","$target","goModePanel","goModes","handleGoModeEscapeKey","bump","altMode","dailyTip","newFeatureTips","featureTipsStorage","lastTooltipStorage","showOrdinaryTip","allowFeatureTips","featureTipReadyPromise","showsDailyTip","newFeatureTipsCheckbox","addFeatureTip","tips","showFeatureTip","Element","showTip","lastCheck","PenaltyBox","generateContent","keyboard","keyboardTable","generateContentKeyboard","optionTable","generateContentOption","keyboardNavOption","dailyTipsCheckbox","lastTip","currTipIndex","guiderObj","origGuiderObj","upcomingId","nextTip","toggleIncreasedZIndex","presets","backup","searchSettings","announcements","donate","suggestions","faq","contributors","privacy","license","viewUrl","markedReadDate","lastUnreadDate","lastID","archiveAfter","pizzazzAfter","recheckPostAfter","biff","setMarkedRead","postForNotification","getLatestPost","cacheLatestPost","shouldNotify","createdDate","isPostRelevant","withPizzazz","addAnnouncementBiff","hasSeenNotification","mustBeVisibleDuration","hidePost","ThingHide","pending","SCHEMA_VERSION","deserialize","encoded","Provider","write","notifyBackupDone","supportsAutomaticBackups","File","accept","reader","FileReader","readAsText","blob","Blob","getUTCFullYear","FILE","FOLDER","GoogleDrive","accessToken","googleLoginHint","getExistingFile","spaces","getOrCreateFile","existingFile","uploadType","OneDrive","getMetadata","Dropbox","mode","mute","Providers","getProvider","restore","reloadWarning","automaticBackups","lastCheckStorage","handleAutomaticSync","warnBeforeAutomaticRestore","googleAccount","providerClass","lastModifiedStorage","automaticProviderKey","provider","remoteBackup","lastModifiedKey","alertType","isAutomatic","backupDate","NumberFormat","notation","unitDisplay","postRestore","subredditShortcut","shortcutsPerAccount","alwaysApplySuffixToMulti","dropdownEditButton","enableSubredditFilter","shortcutDropdownDelay","shortcutEditDropdownDelay","allowLowercase","linkDashboard","linkAll","linkFront","linkPopular","linkProfilePosts","linkRandom","linkMyRandom","linkRandNSFW","linkUsers","linkFriends","linkMod","linkModqueue","linkSaved","buttonEdit","lastUpdate","storeSubredditVisit","storeSubredditVisitIncognito","dragDropDelete","displayMultiCounts","shortcutsContainer","$subredditGroupDropdown","subredditGroupDropdownUL","subredditGroupDropdownRefItem","$editShortcutDialog","deleteButton","subredditsLastViewed","mySubredditShortcuts","subredditsLastViewedStorage","subredditShortcutsStorage","loadShortcuts","initialShortcutsLoad","createSubredditBar","createSidebarShortcutToggle","titleElement","createShortcutToggleButton","setLastViewtime","getMultiCounts","multiCount","addSubredditShortcut","removeSubredditShortcut","redrawShortcuts","hideSubredditGroupDropdownTimer","showSubredditGroupDropdownTimer","currentSub","isCurrent","sortedSubs","thisShortCut","followSubredditShortcut","hideSubredditGroupDropdown","editSubredditShortcut","showSubredditGroupDropdown","subredditDragStart","subredditDragEnter","subredditDragOver","subredditDragLeave","subredditDrop","subredditDragEnd","sep","textTransform","cleanSubreddits","_showSubredditGroupDropdown","$rows","$collection","$thisLI","unsortable","thisForm","displayNameInput","saveSubredditShortcut","sortSubmenu","inputEl","currStr","ascArr","ascStr","descArr","descStr","btnTxt","thisLeft","addedDate","saveLatestShortcuts","populateSubredditDropdown","dragSrcEl","srDataTransfer","addTrashBin","theData","srcOrderIndex","srcSubreddit","destOrderIndex","destSubreddit","rearranged","rearrangedI","removeTrashBin","headerContents","originalShortcuts","myRandom","myRandomGold","originalFrontpage","originalPopular","originalProfilePosts","staticShortcutsHTML","flat","toggleSubredditDropdown","choice","shortcutsEditContainer","sortMenu","toggleShortCutsAddForm","containerMargin","shiftWidth","trashBin","$title","$trashZone","shortCutsTrash","$wrapper","shortCutsAddFormContainer","shortCutsAddFormField","shortCutsAddFormFieldDisplayName","shortCutsAddForm","displayname","trashOpenLink","$pageOverlay","srHeaderArea","lastField","sameField","sortShortcuts","subredditPagesLoaded","srList","getSubreddits","addFilterSearch","theBody","tableHead","tableRow","tableCol","subredditName","mySubreddits","display_name","adisp","bdisp","badJSON","srHeader","lvHeader","scHeader","sortableSubreddits","alv","last_visited","blv","dateString","relativeDateString","thisReddit","dateVisited","theRow","theSR","theLV","theSC","errorTD","errorRow","multis","subredditObj","subscribeToSubreddit","mySubredditList","mySubredditListCachedObject","mySubredditListCached","_lastUpdate","inactiveThreshold","cachedObject","commentsLinksNewTabs","fixHideLinks","hideLinkInstant","hideLinkFadeDelay","videoTimes","videoUploaded","videoViewed","pinHeader","showLastEditedTimestamp","scoreHiddenTimeLeft","showTimestampPosts","showTimestampComments","showTimestampSidebar","showTimestampWiki","showTimestampModerationLog","restoreSavedTab","doNoCtrlF","showHiddenSortOptions","truncateLongLinks","commentCollapseInInbox","restrictScrollEvents","applyNoCtrlF","fetchVideoData","showVideoData","scr","timeNode","scoreHiddenDuration","minutesLeft","pinSubredditBar","pinUserBar","rel","clickedLink","Youtube","uploaded","titleHasTimeRegex","getYoutubeStartTimeRegex","titleMatch","seconds","fromYoutubeTimecodeToSeconds","tc","timeSeconds","tcobj","sm","SubredditManager","sb","paddingTop","paddingBottom","pinCommonElements","userbar","headerHeight","defaultCommentDepth","defaultMinimumComments","commentPermalinks","commentPermalinksContext","subredditCommentDepths","commentDepth","minimumComments","minimumCount","COLLAPSE_REASON","collapsedThings","listenToCommentCollapse","collapsed","currentCollapseReason","enableBigEditor","swapBigEditorLayout","openBigEditor","draftStyle","enableForComments","enableForPosts","enableForWiki","enableForSubredditConfig","enableForBanMessages","sidebarPreview","subredditImages","isWiki","isBan","initWikiImages","showBigEditor","attachWikiPreview","addBigEditorButton","attachPreview","markdownToHTML","generateBanMessage","$doc","imgKey","resolvedSrc","tocDiv","$parent","aid","idNum","thisLevel","$newUL","bigEditorButton","makePreviewBox","onTextareaInput","markdownText","createBigEditor","$editor","$left","$contents","$textarea","$foot","hideBigEditor","$right","$preview","$bigTextTarget","$baseText","hideCommentsOnHeaderDoubleClick","toggleCommentsOnClickLeftEdge","leftEdgeColor","leftEdgeHoverColor","leftEdgeCollapsedColor","leftEdgeWidth","hideCollapseButton","scrollOnCollapse","_base","commentBoxes","commentRounded","commentHoverBorder","commentIndent","continuity","viewFullContext","defaultContext","addViewFullContext","setDefaultContext","pInfobar","contextDepth","HTMLScriptElement","redditLogoDestination","customDestination","redditLogoNode","getLogoLinkUrl","destination","getListFragment","doStyleSheetCheck","keyNav","nightmode","$stylesheetTextarea","createTipPane","addTipToPane","keyNavIdx","keyNavRule","thisChar","$tipPane","$tipPaneHeader","$tipPaneContents","$tipPaneList","$sheetsDiv","toggleTipPane","$tipPaneCloseButton","hideTipPane","$tipPaneHeaderSpan","openTipPaneContents","closeTipPaneContents","tipText","$tip","sectionMenu","sectionLinks","loadChildComments","visibleLoaders","loadFirst","loader","updateNotification","patchUpdateNotification","betaUpdateNotification","highestVersionStorage","highestVersion","infoTypes","notificationOption","openMailInNewTab","updateCurrentTab","showFloatingEnvelope","retroUnreadCount","showUnreadCountInTitle","faviconUseLegacy","showUnreadCountInFavicon","faviconNotificationBGColor","faviconNotificationTextColor","resetFaviconOnLeave","unreadLinksToInbox","hideEmptyMail","hideModMail","hideEmptyModMail","hideNewModMail","hideEmptyNewModMail","setupFavicon","floatingButtons","$orangeredElements","updateFromPage","debuginfoElement","timestampRegex","setUnreadCount","getUnreadCount","lastCount","_setUnreadCount","updateFaviconBadge","updateTitle","updateInboxElements","updateMailCountElements","nativeInboxButton","$floatingInboxButton","orangeredElements","getInboxLink","nativeInboxCount","$floatingInboxCount","favicons","selectedFavicon","legacyFavicon","favicon","nativeButtons","modmailButtonSelector","$all","BetteReddit","havemail","mailCount","toTop","toComment","showLink","showLinkNewTab","showLinkTitle","backToNewCommentArea","backToTop","showLinkTitleTemplate","thumbnailSrc","linkId","settingsHash","linkHref","domainHref","authorHref","commentArea","submissionThing","$widget","belowSubmission","baseHeight","hoverHeight","showWidget","hideWidget","renderWidget","scrollingUp","clearCache","clearTags","resetToFactory","disableRES","breakpoint","testEnvironment","testNotifications","toDelete","testMulticast","testKey","lite","confirmPreset","toggleModules","cleanSlate","noPopups","toggleOptions","Troubleshooter","confirmation","shouldReload","sanitizeModulesList","unsanitized","sanitized","allModules","requestEnable","requestDisable","setOptionValue","optName","fromLandingPage","customFromLandingPage","currentSection","preferredSection","hideFlair","hideQuarantinedInSub","hideAuthorTooltip","getManifest","optional_permissions","PRESERVE_SPACES","drawSearchResults","sanitizedQuery","sanitizeString","queryTerms","searchDomain","rankModule","rankOption","rankString","indexesOfSearchTermsInString","weighted","matchedIndex","needles","haystack","needle","preserveSpaces","replaceSpacesWith","onSearchResultSelected","$resultsContainer","handleSearchResultClick","advancedResults","plural","resultsList","drawSearchResultItem","searchResultTemplate","copybutton","onSearchResultCopy","makeOptionSearchResultLink","optionLinkTemplate","settingsUrl","moduleUrl","optionUrl","addSearchOptions","defaultSortOption","defaultTimeOption","legacySearch","toggleSearchOptions","hideSearchOptions","userFilterBySubreddit","searchByFlair","searchPageTabs","defaultSearchTab","transitionSearchTabs","searchBySubreddit","searchExpando","searchOptionsHtml","userProfile","referrer","previousPage","isLegacySearch","$searchTabsEle","searchHeader","searchForm","moreSearchInfo","searchFacets","$searchOptions","subredditResultListing","searchTabs","facets","searchTab","$searchTabLi","searchTabToggle","restrictSearch","transitionSpd","sourceParent","tab","activeClass","openClass","autoSelectOnScroll","addLine","setColors","backgroundColorNight","textColorNight","outlineStyle","outlineStyleNight","styleLine","styleColor","styleOutline","showCommentKarma","separator","useCommas","updateKarmaDiv","displayGold","karmaDiv","expires","userSpan","today","expDate","attachViewSourceButton","sourceButton","viewSource","$buttonList","$userTextForm","sourceText","replies","addSpamButton","authorElement","authorName","spam","transition","navTop","disableAnimations","visitedStyle","showExpandos","hideUnvotable","showFullLinkFlair","highlightEditedTime","colorBlindFriendly","scrollSubredditDropdown","highlightTopLevel","highlightTopLevelColor","highlightTopLevelSize","floatingSideBar","postTitleCapitalization","hideDomainLink","flairEmojiAsText","redditThemes","loadStylesheets","snippets","bodyClasses","subredditClass","multiredditClass","usernameClass","loggedInUserClass","applySubredditClass","applyUsernameClass","applyMultiredditClass","applyStyles","applyBodyClasses","applyCssSnippets","applyLoggedInUserClass","addClasses","shouldApply","removeClasses","subredditNameRegexp","urlRegexp","sanitizeStylesheetUrls","subredditMatch","stylesheetUrls","stylesheetManager","sync","stylesheetElementManager","snippetManager","generateElement","wantedKeys","currentKeys","warnAlreadySubmitted","uncheckSendRepliesToInbox","focusFormOnLoad","$repostWarning","urlField","srField","implementOptions","urlFieldDiv","updateRepostWarning","linkButton","textButton","sendReplies","trailingUrl","cliParams","commandLineParameters","urlResult","redirect","showRepostWarning","hideRepostWarning","stripUrlRe","userUrl","restrict_sr","requireDirectLink","linkSelector","showSubredditInfo","jsonData","user_is_subscriber","subscribers","over18","subReddits","SRTDoesntContain","SRTTagWith","doesntContain","tagWith","scanTitle","tagToAdd","tagText","hasTag","thisSubReddit","thisString","sortTableColumn","$columnHeader","column","sortFunction","rowA","rowB","getCellValue","setupMenu","mutateChoice","removeListener","appendTemporaryButton","form","userbarState","toggleButtonState","$userbarToggle","userbarHider","addToggleButton","updateUserBar","toggleUserBar","userbarHidden","updateToggleButton","toggleUserbarElementsDisplay","concurrentInstallWiki","addVersionClasses","reportVersion","avoidConcurrentInstalls","versionComponents","installs","concurrentInstalls","highlightScores","colorLinkScore","userDefinedLinkColoration","colorCommentScore","userDefinedCommentColoration","interpolateScoreColor","highlightControversial","highlightControversialColor","applyLinkScoreColor","applyCommentScoreColor","defaultColor","augmented","lowBound","lowColor","highBound","highColor","lowVal","highVal","getLinkScoreColor","getCommentScoreColor","rankEle","createLinks","xpostRe","xpostFromRe","subredditRe","parseSubreddit","xpostString","appendToTagline","modules","__modules","allowedModules","_loadModulePrefs","storedPrefs","ERRORED_KEY","_runModuleStage","stage","skipEnabledCheck","isRunning","getUnchecked","getByCategory","sortComparison","_loadModuleOptions","shouldPrunePromise","storedOptions","storedValue","should","prune","_addModuleBodyClasses","optId","sourceLoaded","loadI18n","loadOptions","addModuleBodyClasses","Context","FontFace","weight","fonts","blockers"],"mappings":"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","file":"foreground.entry.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 264);\n","/*!\n * jQuery JavaScript Library v3.4.1\n * https://jquery.com/\n *\n * Includes Sizzle.js\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://jquery.org/license\n *\n * Date: 2019-05-01T21:04Z\n */\n( function( global, factory ) {\n\n\t\"use strict\";\n\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\n\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\n\t\t// is present, execute the factory and get jQuery.\n\t\t// For environments that do not have a `window` with a `document`\n\t\t// (such as Node.js), expose a factory as module.exports.\n\t\t// This accentuates the need for the creation of a real `window`.\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\n\t\t// See ticket #14549 for more info.\n\t\tmodule.exports = global.document ?\n\t\t\tfactory( global, true ) :\n\t\t\tfunction( w ) {\n\t\t\t\tif ( !w.document ) {\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\n\t\t\t\t}\n\t\t\t\treturn factory( w );\n\t\t\t};\n\t} else {\n\t\tfactory( global );\n\t}\n\n// Pass this if window is not defined yet\n} )( typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\n\n// Edge <= 12 - 13+, Firefox <=18 - 45+, IE 10 - 11, Safari 5.1 - 9+, iOS 6 - 9.1\n// throw exceptions when non-strict code (e.g., ASP.NET 4.5) accesses strict mode\n// arguments.callee.caller (trac-13335). But as of jQuery 3.0 (2016), strict mode should be common\n// enough that all such attempts are guarded in a try block.\n\"use strict\";\n\nvar arr = [];\n\nvar document = window.document;\n\nvar getProto = Object.getPrototypeOf;\n\nvar slice = arr.slice;\n\nvar concat = arr.concat;\n\nvar push = arr.push;\n\nvar indexOf = arr.indexOf;\n\nvar class2type = {};\n\nvar toString = class2type.toString;\n\nvar hasOwn = class2type.hasOwnProperty;\n\nvar fnToString = hasOwn.toString;\n\nvar ObjectFunctionString = fnToString.call( Object );\n\nvar support = {};\n\nvar isFunction = function isFunction( obj ) {\n\n      // Support: Chrome <=57, Firefox <=52\n      // In some browsers, typeof returns \"function\" for HTML <object> elements\n      // (i.e., `typeof document.createElement( \"object\" ) === \"function\"`).\n      // We don't want to classify *any* DOM node as a function.\n      return typeof obj === \"function\" && typeof obj.nodeType !== \"number\";\n  };\n\n\nvar isWindow = function isWindow( obj ) {\n\t\treturn obj != null && obj === obj.window;\n\t};\n\n\n\n\n\tvar preservedScriptAttributes = {\n\t\ttype: true,\n\t\tsrc: true,\n\t\tnonce: true,\n\t\tnoModule: true\n\t};\n\n\tfunction DOMEval( code, node, doc ) {\n\t\tdoc = doc || document;\n\n\t\tvar i, val,\n\t\t\tscript = doc.createElement( \"script\" );\n\n\t\tscript.text = code;\n\t\tif ( node ) {\n\t\t\tfor ( i in preservedScriptAttributes ) {\n\n\t\t\t\t// Support: Firefox 64+, Edge 18+\n\t\t\t\t// Some browsers don't support the \"nonce\" property on scripts.\n\t\t\t\t// On the other hand, just using `getAttribute` is not enough as\n\t\t\t\t// the `nonce` attribute is reset to an empty string whenever it\n\t\t\t\t// becomes browsing-context connected.\n\t\t\t\t// See https://github.com/whatwg/html/issues/2369\n\t\t\t\t// See https://html.spec.whatwg.org/#nonce-attributes\n\t\t\t\t// The `node.getAttribute` check was added for the sake of\n\t\t\t\t// `jQuery.globalEval` so that it can fake a nonce-containing node\n\t\t\t\t// via an object.\n\t\t\t\tval = node[ i ] || node.getAttribute && node.getAttribute( i );\n\t\t\t\tif ( val ) {\n\t\t\t\t\tscript.setAttribute( i, val );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tdoc.head.appendChild( script ).parentNode.removeChild( script );\n\t}\n\n\nfunction toType( obj ) {\n\tif ( obj == null ) {\n\t\treturn obj + \"\";\n\t}\n\n\t// Support: Android <=2.3 only (functionish RegExp)\n\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\n\t\tclass2type[ toString.call( obj ) ] || \"object\" :\n\t\ttypeof obj;\n}\n/* global Symbol */\n// Defining this global in .eslintrc.json would create a danger of using the global\n// unguarded in another place, it seems safer to define global only for this module\n\n\n\nvar\n\tversion = \"3.4.1\",\n\n\t// Define a local copy of jQuery\n\tjQuery = function( selector, context ) {\n\n\t\t// The jQuery object is actually just the init constructor 'enhanced'\n\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\n\t\treturn new jQuery.fn.init( selector, context );\n\t},\n\n\t// Support: Android <=4.0 only\n\t// Make sure we trim BOM and NBSP\n\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g;\n\njQuery.fn = jQuery.prototype = {\n\n\t// The current version of jQuery being used\n\tjquery: version,\n\n\tconstructor: jQuery,\n\n\t// The default length of a jQuery object is 0\n\tlength: 0,\n\n\ttoArray: function() {\n\t\treturn slice.call( this );\n\t},\n\n\t// Get the Nth element in the matched element set OR\n\t// Get the whole matched element set as a clean array\n\tget: function( num ) {\n\n\t\t// Return all the elements in a clean array\n\t\tif ( num == null ) {\n\t\t\treturn slice.call( this );\n\t\t}\n\n\t\t// Return just the one element from the set\n\t\treturn num < 0 ? this[ num + this.length ] : this[ num ];\n\t},\n\n\t// Take an array of elements and push it onto the stack\n\t// (returning the new matched element set)\n\tpushStack: function( elems ) {\n\n\t\t// Build a new jQuery matched element set\n\t\tvar ret = jQuery.merge( this.constructor(), elems );\n\n\t\t// Add the old object onto the stack (as a reference)\n\t\tret.prevObject = this;\n\n\t\t// Return the newly-formed element set\n\t\treturn ret;\n\t},\n\n\t// Execute a callback for every element in the matched set.\n\teach: function( callback ) {\n\t\treturn jQuery.each( this, callback );\n\t},\n\n\tmap: function( callback ) {\n\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\n\t\t\treturn callback.call( elem, i, elem );\n\t\t} ) );\n\t},\n\n\tslice: function() {\n\t\treturn this.pushStack( slice.apply( this, arguments ) );\n\t},\n\n\tfirst: function() {\n\t\treturn this.eq( 0 );\n\t},\n\n\tlast: function() {\n\t\treturn this.eq( -1 );\n\t},\n\n\teq: function( i ) {\n\t\tvar len = this.length,\n\t\t\tj = +i + ( i < 0 ? len : 0 );\n\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\n\t},\n\n\tend: function() {\n\t\treturn this.prevObject || this.constructor();\n\t},\n\n\t// For internal use only.\n\t// Behaves like an Array's method, not like a jQuery method.\n\tpush: push,\n\tsort: arr.sort,\n\tsplice: arr.splice\n};\n\njQuery.extend = jQuery.fn.extend = function() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[ 0 ] || {},\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif ( typeof target === \"boolean\" ) {\n\t\tdeep = target;\n\n\t\t// Skip the boolean and the target\n\t\ttarget = arguments[ i ] || {};\n\t\ti++;\n\t}\n\n\t// Handle case when target is a string or something (possible in deep copy)\n\tif ( typeof target !== \"object\" && !isFunction( target ) ) {\n\t\ttarget = {};\n\t}\n\n\t// Extend jQuery itself if only one argument is passed\n\tif ( i === length ) {\n\t\ttarget = this;\n\t\ti--;\n\t}\n\n\tfor ( ; i < length; i++ ) {\n\n\t\t// Only deal with non-null/undefined values\n\t\tif ( ( options = arguments[ i ] ) != null ) {\n\n\t\t\t// Extend the base object\n\t\t\tfor ( name in options ) {\n\t\t\t\tcopy = options[ name ];\n\n\t\t\t\t// Prevent Object.prototype pollution\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif ( name === \"__proto__\" || target === copy ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\n\t\t\t\t\t( copyIsArray = Array.isArray( copy ) ) ) ) {\n\t\t\t\t\tsrc = target[ name ];\n\n\t\t\t\t\t// Ensure proper type for the source value\n\t\t\t\t\tif ( copyIsArray && !Array.isArray( src ) ) {\n\t\t\t\t\t\tclone = [];\n\t\t\t\t\t} else if ( !copyIsArray && !jQuery.isPlainObject( src ) ) {\n\t\t\t\t\t\tclone = {};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src;\n\t\t\t\t\t}\n\t\t\t\t\tcopyIsArray = false;\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if ( copy !== undefined ) {\n\t\t\t\t\ttarget[ name ] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\njQuery.extend( {\n\n\t// Unique for each copy of jQuery on the page\n\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\n\n\t// Assume jQuery is ready without the ready module\n\tisReady: true,\n\n\terror: function( msg ) {\n\t\tthrow new Error( msg );\n\t},\n\n\tnoop: function() {},\n\n\tisPlainObject: function( obj ) {\n\t\tvar proto, Ctor;\n\n\t\t// Detect obvious negatives\n\t\t// Use toString instead of jQuery.type to catch host objects\n\t\tif ( !obj || toString.call( obj ) !== \"[object Object]\" ) {\n\t\t\treturn false;\n\t\t}\n\n\t\tproto = getProto( obj );\n\n\t\t// Objects with no prototype (e.g., `Object.create( null )`) are plain\n\t\tif ( !proto ) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// Objects with prototype are plain iff they were constructed by a global Object function\n\t\tCtor = hasOwn.call( proto, \"constructor\" ) && proto.constructor;\n\t\treturn typeof Ctor === \"function\" && fnToString.call( Ctor ) === ObjectFunctionString;\n\t},\n\n\tisEmptyObject: function( obj ) {\n\t\tvar name;\n\n\t\tfor ( name in obj ) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\t// Evaluates a script in a global context\n\tglobalEval: function( code, options ) {\n\t\tDOMEval( code, { nonce: options && options.nonce } );\n\t},\n\n\teach: function( obj, callback ) {\n\t\tvar length, i = 0;\n\n\t\tif ( isArrayLike( obj ) ) {\n\t\t\tlength = obj.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in obj ) {\n\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn obj;\n\t},\n\n\t// Support: Android <=4.0 only\n\ttrim: function( text ) {\n\t\treturn text == null ?\n\t\t\t\"\" :\n\t\t\t( text + \"\" ).replace( rtrim, \"\" );\n\t},\n\n\t// results is for internal usage only\n\tmakeArray: function( arr, results ) {\n\t\tvar ret = results || [];\n\n\t\tif ( arr != null ) {\n\t\t\tif ( isArrayLike( Object( arr ) ) ) {\n\t\t\t\tjQuery.merge( ret,\n\t\t\t\t\ttypeof arr === \"string\" ?\n\t\t\t\t\t[ arr ] : arr\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tpush.call( ret, arr );\n\t\t\t}\n\t\t}\n\n\t\treturn ret;\n\t},\n\n\tinArray: function( elem, arr, i ) {\n\t\treturn arr == null ? -1 : indexOf.call( arr, elem, i );\n\t},\n\n\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t// push.apply(_, arraylike) throws on ancient WebKit\n\tmerge: function( first, second ) {\n\t\tvar len = +second.length,\n\t\t\tj = 0,\n\t\t\ti = first.length;\n\n\t\tfor ( ; j < len; j++ ) {\n\t\t\tfirst[ i++ ] = second[ j ];\n\t\t}\n\n\t\tfirst.length = i;\n\n\t\treturn first;\n\t},\n\n\tgrep: function( elems, callback, invert ) {\n\t\tvar callbackInverse,\n\t\t\tmatches = [],\n\t\t\ti = 0,\n\t\t\tlength = elems.length,\n\t\t\tcallbackExpect = !invert;\n\n\t\t// Go through the array, only saving the items\n\t\t// that pass the validator function\n\t\tfor ( ; i < length; i++ ) {\n\t\t\tcallbackInverse = !callback( elems[ i ], i );\n\t\t\tif ( callbackInverse !== callbackExpect ) {\n\t\t\t\tmatches.push( elems[ i ] );\n\t\t\t}\n\t\t}\n\n\t\treturn matches;\n\t},\n\n\t// arg is for internal usage only\n\tmap: function( elems, callback, arg ) {\n\t\tvar length, value,\n\t\t\ti = 0,\n\t\t\tret = [];\n\n\t\t// Go through the array, translating each of the items to their new values\n\t\tif ( isArrayLike( elems ) ) {\n\t\t\tlength = elems.length;\n\t\t\tfor ( ; i < length; i++ ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Go through every key on the object,\n\t\t} else {\n\t\t\tfor ( i in elems ) {\n\t\t\t\tvalue = callback( elems[ i ], i, arg );\n\n\t\t\t\tif ( value != null ) {\n\t\t\t\t\tret.push( value );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Flatten any nested arrays\n\t\treturn concat.apply( [], ret );\n\t},\n\n\t// A global GUID counter for objects\n\tguid: 1,\n\n\t// jQuery.support is not used in Core but other projects attach their\n\t// properties to it so it needs to exist.\n\tsupport: support\n} );\n\nif ( typeof Symbol === \"function\" ) {\n\tjQuery.fn[ Symbol.iterator ] = arr[ Symbol.iterator ];\n}\n\n// Populate the class2type map\njQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\nfunction( i, name ) {\n\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\n} );\n\nfunction isArrayLike( obj ) {\n\n\t// Support: real iOS 8.2 only (not reproducible in simulator)\n\t// `in` check used to prevent JIT error (gh-2145)\n\t// hasOwn isn't used here due to false negatives\n\t// regarding Nodelist length in IE\n\tvar length = !!obj && \"length\" in obj && obj.length,\n\t\ttype = toType( obj );\n\n\tif ( isFunction( obj ) || isWindow( obj ) ) {\n\t\treturn false;\n\t}\n\n\treturn type === \"array\" || length === 0 ||\n\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\n}\nvar Sizzle =\n/*!\n * Sizzle CSS Selector Engine v2.3.4\n * https://sizzlejs.com/\n *\n * Copyright JS Foundation and other contributors\n * Released under the MIT license\n * https://js.foundation/\n *\n * Date: 2019-04-08\n */\n(function( window ) {\n\nvar i,\n\tsupport,\n\tExpr,\n\tgetText,\n\tisXML,\n\ttokenize,\n\tcompile,\n\tselect,\n\toutermostContext,\n\tsortInput,\n\thasDuplicate,\n\n\t// Local document vars\n\tsetDocument,\n\tdocument,\n\tdocElem,\n\tdocumentIsHTML,\n\trbuggyQSA,\n\trbuggyMatches,\n\tmatches,\n\tcontains,\n\n\t// Instance-specific data\n\texpando = \"sizzle\" + 1 * new Date(),\n\tpreferredDoc = window.document,\n\tdirruns = 0,\n\tdone = 0,\n\tclassCache = createCache(),\n\ttokenCache = createCache(),\n\tcompilerCache = createCache(),\n\tnonnativeSelectorCache = createCache(),\n\tsortOrder = function( a, b ) {\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t}\n\t\treturn 0;\n\t},\n\n\t// Instance methods\n\thasOwn = ({}).hasOwnProperty,\n\tarr = [],\n\tpop = arr.pop,\n\tpush_native = arr.push,\n\tpush = arr.push,\n\tslice = arr.slice,\n\t// Use a stripped-down indexOf as it's faster than native\n\t// https://jsperf.com/thor-indexof-vs-for/5\n\tindexOf = function( list, elem ) {\n\t\tvar i = 0,\n\t\t\tlen = list.length;\n\t\tfor ( ; i < len; i++ ) {\n\t\t\tif ( list[i] === elem ) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t},\n\n\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\n\n\t// Regular expressions\n\n\t// http://www.w3.org/TR/css3-selectors/#whitespace\n\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\n\n\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\n\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\0-\\\\xa0])+\",\n\n\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\n\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\n\t\t// Operator (capture 2)\n\t\t\"*([*^$|!~]?=)\" + whitespace +\n\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\n\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\n\t\t\"*\\\\]\",\n\n\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\n\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\n\t\t// 1. quoted (capture 3; capture 4 or capture 5)\n\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\n\t\t// 2. simple (capture 6)\n\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\n\t\t// 3. anything else (capture 2)\n\t\t\".*\" +\n\t\t\")\\\\)|)\",\n\n\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\n\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\n\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\n\n\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\n\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\n\trdescend = new RegExp( whitespace + \"|>\" ),\n\n\trpseudo = new RegExp( pseudos ),\n\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\n\n\tmatchExpr = {\n\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\n\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\n\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\n\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\n\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\n\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\n\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\n\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\n\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\n\t\t// For use in libraries implementing .is()\n\t\t// We use this for POS matching in `select`\n\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\n\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\n\t},\n\n\trhtml = /HTML$/i,\n\trinputs = /^(?:input|select|textarea|button)$/i,\n\trheader = /^h\\d$/i,\n\n\trnative = /^[^{]+\\{\\s*\\[native \\w/,\n\n\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\n\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\n\n\trsibling = /[+~]/,\n\n\t// CSS escapes\n\t// http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\n\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\n\tfunescape = function( _, escaped, escapedWhitespace ) {\n\t\tvar high = \"0x\" + escaped - 0x10000;\n\t\t// NaN means non-codepoint\n\t\t// Support: Firefox<24\n\t\t// Workaround erroneous numeric interpretation of +\"0x\"\n\t\treturn high !== high || escapedWhitespace ?\n\t\t\tescaped :\n\t\t\thigh < 0 ?\n\t\t\t\t// BMP codepoint\n\t\t\t\tString.fromCharCode( high + 0x10000 ) :\n\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\n\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\n\t},\n\n\t// CSS string/identifier serialization\n\t// https://drafts.csswg.org/cssom/#common-serializing-idioms\n\trcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\0-\\x1f\\x7f-\\uFFFF\\w-]/g,\n\tfcssescape = function( ch, asCodePoint ) {\n\t\tif ( asCodePoint ) {\n\n\t\t\t// U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\n\t\t\tif ( ch === \"\\0\" ) {\n\t\t\t\treturn \"\\uFFFD\";\n\t\t\t}\n\n\t\t\t// Control characters and (dependent upon position) numbers get escaped as code points\n\t\t\treturn ch.slice( 0, -1 ) + \"\\\\\" + ch.charCodeAt( ch.length - 1 ).toString( 16 ) + \" \";\n\t\t}\n\n\t\t// Other potentially-special ASCII characters get backslash-escaped\n\t\treturn \"\\\\\" + ch;\n\t},\n\n\t// Used for iframes\n\t// See setDocument()\n\t// Removing the function wrapper causes a \"Permission Denied\"\n\t// error in IE\n\tunloadHandler = function() {\n\t\tsetDocument();\n\t},\n\n\tinDisabledFieldset = addCombinator(\n\t\tfunction( elem ) {\n\t\t\treturn elem.disabled === true && elem.nodeName.toLowerCase() === \"fieldset\";\n\t\t},\n\t\t{ dir: \"parentNode\", next: \"legend\" }\n\t);\n\n// Optimize for push.apply( _, NodeList )\ntry {\n\tpush.apply(\n\t\t(arr = slice.call( preferredDoc.childNodes )),\n\t\tpreferredDoc.childNodes\n\t);\n\t// Support: Android<4.0\n\t// Detect silently failing push.apply\n\tarr[ preferredDoc.childNodes.length ].nodeType;\n} catch ( e ) {\n\tpush = { apply: arr.length ?\n\n\t\t// Leverage slice if possible\n\t\tfunction( target, els ) {\n\t\t\tpush_native.apply( target, slice.call(els) );\n\t\t} :\n\n\t\t// Support: IE<9\n\t\t// Otherwise append directly\n\t\tfunction( target, els ) {\n\t\t\tvar j = target.length,\n\t\t\t\ti = 0;\n\t\t\t// Can't trust NodeList.length\n\t\t\twhile ( (target[j++] = els[i++]) ) {}\n\t\t\ttarget.length = j - 1;\n\t\t}\n\t};\n}\n\nfunction Sizzle( selector, context, results, seed ) {\n\tvar m, i, elem, nid, match, groups, newSelector,\n\t\tnewContext = context && context.ownerDocument,\n\n\t\t// nodeType defaults to 9, since context defaults to document\n\t\tnodeType = context ? context.nodeType : 9;\n\n\tresults = results || [];\n\n\t// Return early from calls with invalid selector or context\n\tif ( typeof selector !== \"string\" || !selector ||\n\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\n\n\t\treturn results;\n\t}\n\n\t// Try to shortcut find operations (as opposed to filters) in HTML documents\n\tif ( !seed ) {\n\n\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\n\t\t\tsetDocument( context );\n\t\t}\n\t\tcontext = context || document;\n\n\t\tif ( documentIsHTML ) {\n\n\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\n\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\n\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\n\n\t\t\t\t// ID selector\n\t\t\t\tif ( (m = match[1]) ) {\n\n\t\t\t\t\t// Document context\n\t\t\t\t\tif ( nodeType === 9 ) {\n\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\n\n\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\t\tif ( elem.id === m ) {\n\t\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t// Element context\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// Support: IE, Opera, Webkit\n\t\t\t\t\t\t// TODO: identify versions\n\t\t\t\t\t\t// getElementById can match elements by name instead of ID\n\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\n\t\t\t\t\t\t\tcontains( context, elem ) &&\n\t\t\t\t\t\t\telem.id === m ) {\n\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\treturn results;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t// Type selector\n\t\t\t\t} else if ( match[2] ) {\n\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\n\t\t\t\t\treturn results;\n\n\t\t\t\t// Class selector\n\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\n\t\t\t\t\tcontext.getElementsByClassName ) {\n\n\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\n\t\t\t\t\treturn results;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Take advantage of querySelectorAll\n\t\t\tif ( support.qsa &&\n\t\t\t\t!nonnativeSelectorCache[ selector + \" \" ] &&\n\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) &&\n\n\t\t\t\t// Support: IE 8 only\n\t\t\t\t// Exclude object elements\n\t\t\t\t(nodeType !== 1 || context.nodeName.toLowerCase() !== \"object\") ) {\n\n\t\t\t\tnewSelector = selector;\n\t\t\t\tnewContext = context;\n\n\t\t\t\t// qSA considers elements outside a scoping root when evaluating child or\n\t\t\t\t// descendant combinators, which is not what we want.\n\t\t\t\t// In such cases, we work around the behavior by prefixing every selector in the\n\t\t\t\t// list with an ID selector referencing the scope context.\n\t\t\t\t// Thanks to Andrew Dupont for this technique.\n\t\t\t\tif ( nodeType === 1 && rdescend.test( selector ) ) {\n\n\t\t\t\t\t// Capture the context ID, setting it first if necessary\n\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\n\t\t\t\t\t\tnid = nid.replace( rcssescape, fcssescape );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prefix every selector in the list\n\t\t\t\t\tgroups = tokenize( selector );\n\t\t\t\t\ti = groups.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tgroups[i] = \"#\" + nid + \" \" + toSelector( groups[i] );\n\t\t\t\t\t}\n\t\t\t\t\tnewSelector = groups.join( \",\" );\n\n\t\t\t\t\t// Expand context for sibling selectors\n\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\n\t\t\t\t\t\tcontext;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tpush.apply( results,\n\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\n\t\t\t\t\t);\n\t\t\t\t\treturn results;\n\t\t\t\t} catch ( qsaError ) {\n\t\t\t\t\tnonnativeSelectorCache( selector, true );\n\t\t\t\t} finally {\n\t\t\t\t\tif ( nid === expando ) {\n\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// All others\n\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\n}\n\n/**\n * Create key-value caches of limited size\n * @returns {function(string, object)} Returns the Object data after storing it on itself with\n *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\n *\tdeleting the oldest entry\n */\nfunction createCache() {\n\tvar keys = [];\n\n\tfunction cache( key, value ) {\n\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\n\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\n\t\t\t// Only keep the most recent entries\n\t\t\tdelete cache[ keys.shift() ];\n\t\t}\n\t\treturn (cache[ key + \" \" ] = value);\n\t}\n\treturn cache;\n}\n\n/**\n * Mark a function for special use by Sizzle\n * @param {Function} fn The function to mark\n */\nfunction markFunction( fn ) {\n\tfn[ expando ] = true;\n\treturn fn;\n}\n\n/**\n * Support testing using an element\n * @param {Function} fn Passed the created element and returns a boolean result\n */\nfunction assert( fn ) {\n\tvar el = document.createElement(\"fieldset\");\n\n\ttry {\n\t\treturn !!fn( el );\n\t} catch (e) {\n\t\treturn false;\n\t} finally {\n\t\t// Remove from its parent by default\n\t\tif ( el.parentNode ) {\n\t\t\tel.parentNode.removeChild( el );\n\t\t}\n\t\t// release memory in IE\n\t\tel = null;\n\t}\n}\n\n/**\n * Adds the same handler for all of the specified attrs\n * @param {String} attrs Pipe-separated list of attributes\n * @param {Function} handler The method that will be applied\n */\nfunction addHandle( attrs, handler ) {\n\tvar arr = attrs.split(\"|\"),\n\t\ti = arr.length;\n\n\twhile ( i-- ) {\n\t\tExpr.attrHandle[ arr[i] ] = handler;\n\t}\n}\n\n/**\n * Checks document order of two siblings\n * @param {Element} a\n * @param {Element} b\n * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\n */\nfunction siblingCheck( a, b ) {\n\tvar cur = b && a,\n\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\n\t\t\ta.sourceIndex - b.sourceIndex;\n\n\t// Use IE sourceIndex if available on both nodes\n\tif ( diff ) {\n\t\treturn diff;\n\t}\n\n\t// Check if b follows a\n\tif ( cur ) {\n\t\twhile ( (cur = cur.nextSibling) ) {\n\t\t\tif ( cur === b ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn a ? 1 : -1;\n}\n\n/**\n * Returns a function to use in pseudos for input types\n * @param {String} type\n */\nfunction createInputPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn name === \"input\" && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for buttons\n * @param {String} type\n */\nfunction createButtonPseudo( type ) {\n\treturn function( elem ) {\n\t\tvar name = elem.nodeName.toLowerCase();\n\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for :enabled/:disabled\n * @param {Boolean} disabled true for :disabled; false for :enabled\n */\nfunction createDisabledPseudo( disabled ) {\n\n\t// Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable\n\treturn function( elem ) {\n\n\t\t// Only certain elements can match :enabled or :disabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled\n\t\t// https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled\n\t\tif ( \"form\" in elem ) {\n\n\t\t\t// Check for inherited disabledness on relevant non-disabled elements:\n\t\t\t// * listed form-associated elements in a disabled fieldset\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#category-listed\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled\n\t\t\t// * option elements in a disabled optgroup\n\t\t\t//   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled\n\t\t\t// All such elements have a \"form\" property.\n\t\t\tif ( elem.parentNode && elem.disabled === false ) {\n\n\t\t\t\t// Option elements defer to a parent optgroup if present\n\t\t\t\tif ( \"label\" in elem ) {\n\t\t\t\t\tif ( \"label\" in elem.parentNode ) {\n\t\t\t\t\t\treturn elem.parentNode.disabled === disabled;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn elem.disabled === disabled;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Support: IE 6 - 11\n\t\t\t\t// Use the isDisabled shortcut property to check for disabled fieldset ancestors\n\t\t\t\treturn elem.isDisabled === disabled ||\n\n\t\t\t\t\t// Where there is no isDisabled, check manually\n\t\t\t\t\t/* jshint -W018 */\n\t\t\t\t\telem.isDisabled !== !disabled &&\n\t\t\t\t\t\tinDisabledFieldset( elem ) === disabled;\n\t\t\t}\n\n\t\t\treturn elem.disabled === disabled;\n\n\t\t// Try to winnow out elements that can't be disabled before trusting the disabled property.\n\t\t// Some victims get caught in our net (label, legend, menu, track), but it shouldn't\n\t\t// even exist on them, let alone have a boolean value.\n\t\t} else if ( \"label\" in elem ) {\n\t\t\treturn elem.disabled === disabled;\n\t\t}\n\n\t\t// Remaining elements are neither :enabled nor :disabled\n\t\treturn false;\n\t};\n}\n\n/**\n * Returns a function to use in pseudos for positionals\n * @param {Function} fn\n */\nfunction createPositionalPseudo( fn ) {\n\treturn markFunction(function( argument ) {\n\t\targument = +argument;\n\t\treturn markFunction(function( seed, matches ) {\n\t\t\tvar j,\n\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\n\t\t\t\ti = matchIndexes.length;\n\n\t\t\t// Match elements found at the specified indexes\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\n\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Checks a node for validity as a Sizzle context\n * @param {Element|Object=} context\n * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\n */\nfunction testContext( context ) {\n\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\n}\n\n// Expose support vars for convenience\nsupport = Sizzle.support = {};\n\n/**\n * Detects XML nodes\n * @param {Element|Object} elem An element or a document\n * @returns {Boolean} True iff elem is a non-HTML XML node\n */\nisXML = Sizzle.isXML = function( elem ) {\n\tvar namespace = elem.namespaceURI,\n\t\tdocElem = (elem.ownerDocument || elem).documentElement;\n\n\t// Support: IE <=8\n\t// Assume HTML when documentElement doesn't yet exist, such as inside loading iframes\n\t// https://bugs.jquery.com/ticket/4833\n\treturn !rhtml.test( namespace || docElem && docElem.nodeName || \"HTML\" );\n};\n\n/**\n * Sets document-related variables once based on the current document\n * @param {Element|Object} [doc] An element or document object to use to set the document\n * @returns {Object} Returns the current document\n */\nsetDocument = Sizzle.setDocument = function( node ) {\n\tvar hasCompare, subWindow,\n\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\n\n\t// Return early if doc is invalid or already selected\n\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\n\t\treturn document;\n\t}\n\n\t// Update global variables\n\tdocument = doc;\n\tdocElem = document.documentElement;\n\tdocumentIsHTML = !isXML( document );\n\n\t// Support: IE 9-11, Edge\n\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\n\tif ( preferredDoc !== document &&\n\t\t(subWindow = document.defaultView) && subWindow.top !== subWindow ) {\n\n\t\t// Support: IE 11, Edge\n\t\tif ( subWindow.addEventListener ) {\n\t\t\tsubWindow.addEventListener( \"unload\", unloadHandler, false );\n\n\t\t// Support: IE 9 - 10 only\n\t\t} else if ( subWindow.attachEvent ) {\n\t\t\tsubWindow.attachEvent( \"onunload\", unloadHandler );\n\t\t}\n\t}\n\n\t/* Attributes\n\t---------------------------------------------------------------------- */\n\n\t// Support: IE<8\n\t// Verify that getAttribute really returns attributes and not properties\n\t// (excepting IE8 booleans)\n\tsupport.attributes = assert(function( el ) {\n\t\tel.className = \"i\";\n\t\treturn !el.getAttribute(\"className\");\n\t});\n\n\t/* getElement(s)By*\n\t---------------------------------------------------------------------- */\n\n\t// Check if getElementsByTagName(\"*\") returns only elements\n\tsupport.getElementsByTagName = assert(function( el ) {\n\t\tel.appendChild( document.createComment(\"\") );\n\t\treturn !el.getElementsByTagName(\"*\").length;\n\t});\n\n\t// Support: IE<9\n\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\n\n\t// Support: IE<10\n\t// Check if getElementById returns elements by name\n\t// The broken getElementById methods don't pick up programmatically-set names,\n\t// so use a roundabout getElementsByName test\n\tsupport.getById = assert(function( el ) {\n\t\tdocElem.appendChild( el ).id = expando;\n\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\n\t});\n\n\t// ID filter and find\n\tif ( support.getById ) {\n\t\tExpr.filter[\"ID\"] = function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\n\t\t\t};\n\t\t};\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar elem = context.getElementById( id );\n\t\t\t\treturn elem ? [ elem ] : [];\n\t\t\t}\n\t\t};\n\t} else {\n\t\tExpr.filter[\"ID\"] =  function( id ) {\n\t\t\tvar attrId = id.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\n\t\t\t\t\telem.getAttributeNode(\"id\");\n\t\t\t\treturn node && node.value === attrId;\n\t\t\t};\n\t\t};\n\n\t\t// Support: IE 6 - 7 only\n\t\t// getElementById is not reliable as a find shortcut\n\t\tExpr.find[\"ID\"] = function( id, context ) {\n\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\n\t\t\t\tvar node, i, elems,\n\t\t\t\t\telem = context.getElementById( id );\n\n\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t// Verify the id attribute\n\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t}\n\n\t\t\t\t\t// Fall back on getElementsByName\n\t\t\t\t\telems = context.getElementsByName( id );\n\t\t\t\t\ti = 0;\n\t\t\t\t\twhile ( (elem = elems[i++]) ) {\n\t\t\t\t\t\tnode = elem.getAttributeNode(\"id\");\n\t\t\t\t\t\tif ( node && node.value === id ) {\n\t\t\t\t\t\t\treturn [ elem ];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn [];\n\t\t\t}\n\t\t};\n\t}\n\n\t// Tag\n\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\n\t\tfunction( tag, context ) {\n\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\t\t\treturn context.getElementsByTagName( tag );\n\n\t\t\t// DocumentFragment nodes don't have gEBTN\n\t\t\t} else if ( support.qsa ) {\n\t\t\t\treturn context.querySelectorAll( tag );\n\t\t\t}\n\t\t} :\n\n\t\tfunction( tag, context ) {\n\t\t\tvar elem,\n\t\t\t\ttmp = [],\n\t\t\t\ti = 0,\n\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\n\t\t\t\tresults = context.getElementsByTagName( tag );\n\n\t\t\t// Filter out possible comments\n\t\t\tif ( tag === \"*\" ) {\n\t\t\t\twhile ( (elem = results[i++]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\ttmp.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\treturn results;\n\t\t};\n\n\t// Class\n\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\n\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\n\t\t\treturn context.getElementsByClassName( className );\n\t\t}\n\t};\n\n\t/* QSA/matchesSelector\n\t---------------------------------------------------------------------- */\n\n\t// QSA and matchesSelector support\n\n\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\n\trbuggyMatches = [];\n\n\t// qSa(:focus) reports false when true (Chrome 21)\n\t// We allow this because of a bug in IE8/9 that throws an error\n\t// whenever `document.activeElement` is accessed on an iframe\n\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\n\t// See https://bugs.jquery.com/ticket/13378\n\trbuggyQSA = [];\n\n\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\n\t\t// Build QSA regex\n\t\t// Regex strategy adopted from Diego Perini\n\t\tassert(function( el ) {\n\t\t\t// Select is set to empty string on purpose\n\t\t\t// This is to test IE's treatment of not explicitly\n\t\t\t// setting a boolean content attribute,\n\t\t\t// since its presence should be enough\n\t\t\t// https://bugs.jquery.com/ticket/12359\n\t\t\tdocElem.appendChild( el ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\n\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\n\t\t\t\t\"<option selected=''></option></select>\";\n\n\t\t\t// Support: IE8, Opera 11-12.16\n\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\n\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\n\t\t\t// https://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\n\t\t\tif ( el.querySelectorAll(\"[msallowcapture^='']\").length ) {\n\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\n\t\t\t}\n\n\t\t\t// Support: IE8\n\t\t\t// Boolean attributes and \"value\" are not treated correctly\n\t\t\tif ( !el.querySelectorAll(\"[selected]\").length ) {\n\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\n\t\t\t}\n\n\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\n\t\t\tif ( !el.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\n\t\t\t\trbuggyQSA.push(\"~=\");\n\t\t\t}\n\n\t\t\t// Webkit/Opera - :checked should return selected option elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( !el.querySelectorAll(\":checked\").length ) {\n\t\t\t\trbuggyQSA.push(\":checked\");\n\t\t\t}\n\n\t\t\t// Support: Safari 8+, iOS 8+\n\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\n\t\t\t// In-page `selector#id sibling-combinator selector` fails\n\t\t\tif ( !el.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\n\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\n\t\t\t}\n\t\t});\n\n\t\tassert(function( el ) {\n\t\t\tel.innerHTML = \"<a href='' disabled='disabled'></a>\" +\n\t\t\t\t\"<select disabled='disabled'><option/></select>\";\n\n\t\t\t// Support: Windows 8 Native Apps\n\t\t\t// The type and name attributes are restricted during .innerHTML assignment\n\t\t\tvar input = document.createElement(\"input\");\n\t\t\tinput.setAttribute( \"type\", \"hidden\" );\n\t\t\tel.appendChild( input ).setAttribute( \"name\", \"D\" );\n\n\t\t\t// Support: IE8\n\t\t\t// Enforce case-sensitivity of name attribute\n\t\t\tif ( el.querySelectorAll(\"[name=d]\").length ) {\n\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\n\t\t\t}\n\n\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\n\t\t\t// IE8 throws error here and will not see later tests\n\t\t\tif ( el.querySelectorAll(\":enabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Support: IE9-11+\n\t\t\t// IE's :disabled selector does not pick up the children of disabled fieldsets\n\t\t\tdocElem.appendChild( el ).disabled = true;\n\t\t\tif ( el.querySelectorAll(\":disabled\").length !== 2 ) {\n\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\n\t\t\t}\n\n\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\n\t\t\tel.querySelectorAll(\"*,:x\");\n\t\t\trbuggyQSA.push(\",.*:\");\n\t\t});\n\t}\n\n\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\n\t\tdocElem.webkitMatchesSelector ||\n\t\tdocElem.mozMatchesSelector ||\n\t\tdocElem.oMatchesSelector ||\n\t\tdocElem.msMatchesSelector) )) ) {\n\n\t\tassert(function( el ) {\n\t\t\t// Check to see if it's possible to do matchesSelector\n\t\t\t// on a disconnected node (IE 9)\n\t\t\tsupport.disconnectedMatch = matches.call( el, \"*\" );\n\n\t\t\t// This should fail with an exception\n\t\t\t// Gecko does not error, returns false instead\n\t\t\tmatches.call( el, \"[s!='']:x\" );\n\t\t\trbuggyMatches.push( \"!=\", pseudos );\n\t\t});\n\t}\n\n\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\n\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\n\n\t/* Contains\n\t---------------------------------------------------------------------- */\n\thasCompare = rnative.test( docElem.compareDocumentPosition );\n\n\t// Element contains another\n\t// Purposefully self-exclusive\n\t// As in, an element does not contain itself\n\tcontains = hasCompare || rnative.test( docElem.contains ) ?\n\t\tfunction( a, b ) {\n\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\n\t\t\t\tbup = b && b.parentNode;\n\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\n\t\t\t\tadown.contains ?\n\t\t\t\t\tadown.contains( bup ) :\n\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\n\t\t\t));\n\t\t} :\n\t\tfunction( a, b ) {\n\t\t\tif ( b ) {\n\t\t\t\twhile ( (b = b.parentNode) ) {\n\t\t\t\t\tif ( b === a ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\n\t/* Sorting\n\t---------------------------------------------------------------------- */\n\n\t// Document order sorting\n\tsortOrder = hasCompare ?\n\tfunction( a, b ) {\n\n\t\t// Flag for duplicate removal\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\t// Sort on method existence if only one input has compareDocumentPosition\n\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n\t\tif ( compare ) {\n\t\t\treturn compare;\n\t\t}\n\n\t\t// Calculate position if both inputs belong to the same document\n\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\n\t\t\ta.compareDocumentPosition( b ) :\n\n\t\t\t// Otherwise we know they are disconnected\n\t\t\t1;\n\n\t\t// Disconnected nodes\n\t\tif ( compare & 1 ||\n\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\n\n\t\t\t// Choose the first element that is related to our preferred document\n\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\t// Maintain original order\n\t\t\treturn sortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\t\t}\n\n\t\treturn compare & 4 ? -1 : 1;\n\t} :\n\tfunction( a, b ) {\n\t\t// Exit early if the nodes are identical\n\t\tif ( a === b ) {\n\t\t\thasDuplicate = true;\n\t\t\treturn 0;\n\t\t}\n\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\taup = a.parentNode,\n\t\t\tbup = b.parentNode,\n\t\t\tap = [ a ],\n\t\t\tbp = [ b ];\n\n\t\t// Parentless nodes are either documents or disconnected\n\t\tif ( !aup || !bup ) {\n\t\t\treturn a === document ? -1 :\n\t\t\t\tb === document ? 1 :\n\t\t\t\taup ? -1 :\n\t\t\t\tbup ? 1 :\n\t\t\t\tsortInput ?\n\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\n\t\t\t\t0;\n\n\t\t// If the nodes are siblings, we can do a quick check\n\t\t} else if ( aup === bup ) {\n\t\t\treturn siblingCheck( a, b );\n\t\t}\n\n\t\t// Otherwise we need full lists of their ancestors for comparison\n\t\tcur = a;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tap.unshift( cur );\n\t\t}\n\t\tcur = b;\n\t\twhile ( (cur = cur.parentNode) ) {\n\t\t\tbp.unshift( cur );\n\t\t}\n\n\t\t// Walk down the tree looking for a discrepancy\n\t\twhile ( ap[i] === bp[i] ) {\n\t\t\ti++;\n\t\t}\n\n\t\treturn i ?\n\t\t\t// Do a sibling check if the nodes have a common ancestor\n\t\t\tsiblingCheck( ap[i], bp[i] ) :\n\n\t\t\t// Otherwise nodes in our document sort first\n\t\t\tap[i] === preferredDoc ? -1 :\n\t\t\tbp[i] === preferredDoc ? 1 :\n\t\t\t0;\n\t};\n\n\treturn document;\n};\n\nSizzle.matches = function( expr, elements ) {\n\treturn Sizzle( expr, null, null, elements );\n};\n\nSizzle.matchesSelector = function( elem, expr ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tif ( support.matchesSelector && documentIsHTML &&\n\t\t!nonnativeSelectorCache[ expr + \" \" ] &&\n\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\n\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\n\n\t\ttry {\n\t\t\tvar ret = matches.call( elem, expr );\n\n\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\n\t\t\tif ( ret || support.disconnectedMatch ||\n\t\t\t\t\t// As well, disconnected nodes are said to be in a document\n\t\t\t\t\t// fragment in IE 9\n\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnonnativeSelectorCache( expr, true );\n\t\t}\n\t}\n\n\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\n};\n\nSizzle.contains = function( context, elem ) {\n\t// Set document vars if needed\n\tif ( ( context.ownerDocument || context ) !== document ) {\n\t\tsetDocument( context );\n\t}\n\treturn contains( context, elem );\n};\n\nSizzle.attr = function( elem, name ) {\n\t// Set document vars if needed\n\tif ( ( elem.ownerDocument || elem ) !== document ) {\n\t\tsetDocument( elem );\n\t}\n\n\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\n\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\n\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\n\t\t\tfn( elem, name, !documentIsHTML ) :\n\t\t\tundefined;\n\n\treturn val !== undefined ?\n\t\tval :\n\t\tsupport.attributes || !documentIsHTML ?\n\t\t\telem.getAttribute( name ) :\n\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\n\t\t\t\tval.value :\n\t\t\t\tnull;\n};\n\nSizzle.escape = function( sel ) {\n\treturn (sel + \"\").replace( rcssescape, fcssescape );\n};\n\nSizzle.error = function( msg ) {\n\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\n};\n\n/**\n * Document sorting and removing duplicates\n * @param {ArrayLike} results\n */\nSizzle.uniqueSort = function( results ) {\n\tvar elem,\n\t\tduplicates = [],\n\t\tj = 0,\n\t\ti = 0;\n\n\t// Unless we *know* we can detect duplicates, assume their presence\n\thasDuplicate = !support.detectDuplicates;\n\tsortInput = !support.sortStable && results.slice( 0 );\n\tresults.sort( sortOrder );\n\n\tif ( hasDuplicate ) {\n\t\twhile ( (elem = results[i++]) ) {\n\t\t\tif ( elem === results[ i ] ) {\n\t\t\t\tj = duplicates.push( i );\n\t\t\t}\n\t\t}\n\t\twhile ( j-- ) {\n\t\t\tresults.splice( duplicates[ j ], 1 );\n\t\t}\n\t}\n\n\t// Clear input after sorting to release objects\n\t// See https://github.com/jquery/sizzle/pull/225\n\tsortInput = null;\n\n\treturn results;\n};\n\n/**\n * Utility function for retrieving the text value of an array of DOM nodes\n * @param {Array|Element} elem\n */\ngetText = Sizzle.getText = function( elem ) {\n\tvar node,\n\t\tret = \"\",\n\t\ti = 0,\n\t\tnodeType = elem.nodeType;\n\n\tif ( !nodeType ) {\n\t\t// If no nodeType, this is expected to be an array\n\t\twhile ( (node = elem[i++]) ) {\n\t\t\t// Do not traverse comment nodes\n\t\t\tret += getText( node );\n\t\t}\n\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\n\t\t// Use textContent for elements\n\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\n\t\tif ( typeof elem.textContent === \"string\" ) {\n\t\t\treturn elem.textContent;\n\t\t} else {\n\t\t\t// Traverse its children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tret += getText( elem );\n\t\t\t}\n\t\t}\n\t} else if ( nodeType === 3 || nodeType === 4 ) {\n\t\treturn elem.nodeValue;\n\t}\n\t// Do not include comment or processing instruction nodes\n\n\treturn ret;\n};\n\nExpr = Sizzle.selectors = {\n\n\t// Can be adjusted by the user\n\tcacheLength: 50,\n\n\tcreatePseudo: markFunction,\n\n\tmatch: matchExpr,\n\n\tattrHandle: {},\n\n\tfind: {},\n\n\trelative: {\n\t\t\">\": { dir: \"parentNode\", first: true },\n\t\t\" \": { dir: \"parentNode\" },\n\t\t\"+\": { dir: \"previousSibling\", first: true },\n\t\t\"~\": { dir: \"previousSibling\" }\n\t},\n\n\tpreFilter: {\n\t\t\"ATTR\": function( match ) {\n\t\t\tmatch[1] = match[1].replace( runescape, funescape );\n\n\t\t\t// Move the given value to match[3] whether quoted or unquoted\n\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\n\n\t\t\tif ( match[2] === \"~=\" ) {\n\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\n\t\t\t}\n\n\t\t\treturn match.slice( 0, 4 );\n\t\t},\n\n\t\t\"CHILD\": function( match ) {\n\t\t\t/* matches from matchExpr[\"CHILD\"]\n\t\t\t\t1 type (only|nth|...)\n\t\t\t\t2 what (child|of-type)\n\t\t\t\t3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\n\t\t\t\t4 xn-component of xn+y argument ([+-]?\\d*n|)\n\t\t\t\t5 sign of xn-component\n\t\t\t\t6 x of xn-component\n\t\t\t\t7 sign of y-component\n\t\t\t\t8 y of y-component\n\t\t\t*/\n\t\t\tmatch[1] = match[1].toLowerCase();\n\n\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\n\t\t\t\t// nth-* requires argument\n\t\t\t\tif ( !match[3] ) {\n\t\t\t\t\tSizzle.error( match[0] );\n\t\t\t\t}\n\n\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\n\t\t\t\t// remember that false/true cast respectively to 0/1\n\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\n\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\n\n\t\t\t// other types prohibit arguments\n\t\t\t} else if ( match[3] ) {\n\t\t\t\tSizzle.error( match[0] );\n\t\t\t}\n\n\t\t\treturn match;\n\t\t},\n\n\t\t\"PSEUDO\": function( match ) {\n\t\t\tvar excess,\n\t\t\t\tunquoted = !match[6] && match[2];\n\n\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\t// Accept quoted arguments as-is\n\t\t\tif ( match[3] ) {\n\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\n\n\t\t\t// Strip excess characters from unquoted arguments\n\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\n\t\t\t\t// Get excess from tokenize (recursively)\n\t\t\t\t(excess = tokenize( unquoted, true )) &&\n\t\t\t\t// advance to the next closing parenthesis\n\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\n\n\t\t\t\t// excess is a negative index\n\t\t\t\tmatch[0] = match[0].slice( 0, excess );\n\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\n\t\t\t}\n\n\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\n\t\t\treturn match.slice( 0, 3 );\n\t\t}\n\t},\n\n\tfilter: {\n\n\t\t\"TAG\": function( nodeNameSelector ) {\n\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn nodeNameSelector === \"*\" ?\n\t\t\t\tfunction() { return true; } :\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n\t\t\t\t};\n\t\t},\n\n\t\t\"CLASS\": function( className ) {\n\t\t\tvar pattern = classCache[ className + \" \" ];\n\n\t\t\treturn pattern ||\n\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\n\t\t\t\tclassCache( className, function( elem ) {\n\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\n\t\t\t\t});\n\t\t},\n\n\t\t\"ATTR\": function( name, operator, check ) {\n\t\t\treturn function( elem ) {\n\t\t\t\tvar result = Sizzle.attr( elem, name );\n\n\t\t\t\tif ( result == null ) {\n\t\t\t\t\treturn operator === \"!=\";\n\t\t\t\t}\n\t\t\t\tif ( !operator ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tresult += \"\";\n\n\t\t\t\treturn operator === \"=\" ? result === check :\n\t\t\t\t\toperator === \"!=\" ? result !== check :\n\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\n\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\n\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\n\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\n\t\t\t\t\tfalse;\n\t\t\t};\n\t\t},\n\n\t\t\"CHILD\": function( type, what, argument, first, last ) {\n\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\n\t\t\t\tforward = type.slice( -4 ) !== \"last\",\n\t\t\t\tofType = what === \"of-type\";\n\n\t\t\treturn first === 1 && last === 0 ?\n\n\t\t\t\t// Shortcut for :nth-*(n)\n\t\t\t\tfunction( elem ) {\n\t\t\t\t\treturn !!elem.parentNode;\n\t\t\t\t} :\n\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\n\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\n\t\t\t\t\t\tparent = elem.parentNode,\n\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\n\t\t\t\t\t\tuseCache = !xml && !ofType,\n\t\t\t\t\t\tdiff = false;\n\n\t\t\t\t\tif ( parent ) {\n\n\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\n\t\t\t\t\t\tif ( simple ) {\n\t\t\t\t\t\t\twhile ( dir ) {\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\n\t\t\t\t\t\t\t\t\tif ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\n\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\n\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\n\n\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\n\t\t\t\t\t\tif ( forward && useCache ) {\n\n\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\n\n\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\tnode = parent;\n\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\n\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\n\n\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\n\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\n\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\n\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\n\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Use previously-cached element index if available\n\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\n\t\t\t\t\t\t\t\tnode = elem;\n\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\n\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\n\t\t\t\t\t\t\t\tdiff = nodeIndex;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// xml :nth-child(...)\n\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\n\t\t\t\t\t\t\tif ( diff === false ) {\n\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\n\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\n\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\n\n\t\t\t\t\t\t\t\t\tif ( ( ofType ?\n\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\n\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\n\t\t\t\t\t\t\t\t\t\t++diff ) {\n\n\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\n\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\n\t\t\t\t\t\tdiff -= last;\n\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t},\n\n\t\t\"PSEUDO\": function( pseudo, argument ) {\n\t\t\t// pseudo-class names are case-insensitive\n\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\n\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\n\t\t\t// Remember that setFilters inherits from pseudos\n\t\t\tvar args,\n\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\n\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\n\n\t\t\t// The user may use createPseudo to indicate that\n\t\t\t// arguments are needed to create the filter function\n\t\t\t// just as Sizzle does\n\t\t\tif ( fn[ expando ] ) {\n\t\t\t\treturn fn( argument );\n\t\t\t}\n\n\t\t\t// But maintain support for old signatures\n\t\t\tif ( fn.length > 1 ) {\n\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\n\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\n\t\t\t\t\tmarkFunction(function( seed, matches ) {\n\t\t\t\t\t\tvar idx,\n\t\t\t\t\t\t\tmatched = fn( seed, argument ),\n\t\t\t\t\t\t\ti = matched.length;\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\n\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\n\t\t\t\t\t\t}\n\t\t\t\t\t}) :\n\t\t\t\t\tfunction( elem ) {\n\t\t\t\t\t\treturn fn( elem, 0, args );\n\t\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn fn;\n\t\t}\n\t},\n\n\tpseudos: {\n\t\t// Potentially complex pseudos\n\t\t\"not\": markFunction(function( selector ) {\n\t\t\t// Trim the selector passed to compile\n\t\t\t// to avoid treating leading and trailing\n\t\t\t// spaces as combinators\n\t\t\tvar input = [],\n\t\t\t\tresults = [],\n\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\n\n\t\t\treturn matcher[ expando ] ?\n\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\n\t\t\t\t\tvar elem,\n\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\n\t\t\t\t\t\ti = seed.length;\n\n\t\t\t\t\t// Match elements unmatched by `matcher`\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\n\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}) :\n\t\t\t\tfunction( elem, context, xml ) {\n\t\t\t\t\tinput[0] = elem;\n\t\t\t\t\tmatcher( input, null, xml, results );\n\t\t\t\t\t// Don't keep the element (issue #299)\n\t\t\t\t\tinput[0] = null;\n\t\t\t\t\treturn !results.pop();\n\t\t\t\t};\n\t\t}),\n\n\t\t\"has\": markFunction(function( selector ) {\n\t\t\treturn function( elem ) {\n\t\t\t\treturn Sizzle( selector, elem ).length > 0;\n\t\t\t};\n\t\t}),\n\n\t\t\"contains\": markFunction(function( text ) {\n\t\t\ttext = text.replace( runescape, funescape );\n\t\t\treturn function( elem ) {\n\t\t\t\treturn ( elem.textContent || getText( elem ) ).indexOf( text ) > -1;\n\t\t\t};\n\t\t}),\n\n\t\t// \"Whether an element is represented by a :lang() selector\n\t\t// is based solely on the element's language value\n\t\t// being equal to the identifier C,\n\t\t// or beginning with the identifier C immediately followed by \"-\".\n\t\t// The matching of C against the element's language value is performed case-insensitively.\n\t\t// The identifier C does not have to be a valid language name.\"\n\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\n\t\t\"lang\": markFunction( function( lang ) {\n\t\t\t// lang value must be a valid identifier\n\t\t\tif ( !ridentifier.test(lang || \"\") ) {\n\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\n\t\t\t}\n\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\n\t\t\treturn function( elem ) {\n\t\t\t\tvar elemLang;\n\t\t\t\tdo {\n\t\t\t\t\tif ( (elemLang = documentIsHTML ?\n\t\t\t\t\t\telem.lang :\n\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\n\n\t\t\t\t\t\telemLang = elemLang.toLowerCase();\n\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\n\t\t\t\t\t}\n\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}),\n\n\t\t// Miscellaneous\n\t\t\"target\": function( elem ) {\n\t\t\tvar hash = window.location && window.location.hash;\n\t\t\treturn hash && hash.slice( 1 ) === elem.id;\n\t\t},\n\n\t\t\"root\": function( elem ) {\n\t\t\treturn elem === docElem;\n\t\t},\n\n\t\t\"focus\": function( elem ) {\n\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n\t\t},\n\n\t\t// Boolean properties\n\t\t\"enabled\": createDisabledPseudo( false ),\n\t\t\"disabled\": createDisabledPseudo( true ),\n\n\t\t\"checked\": function( elem ) {\n\t\t\t// In CSS3, :checked should return both checked and selected elements\n\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\n\t\t\tvar nodeName = elem.nodeName.toLowerCase();\n\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\n\t\t},\n\n\t\t\"selected\": function( elem ) {\n\t\t\t// Accessing this property makes selected-by-default\n\t\t\t// options in Safari work properly\n\t\t\tif ( elem.parentNode ) {\n\t\t\t\telem.parentNode.selectedIndex;\n\t\t\t}\n\n\t\t\treturn elem.selected === true;\n\t\t},\n\n\t\t// Contents\n\t\t\"empty\": function( elem ) {\n\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\n\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\n\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\n\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\n\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\n\t\t\t\tif ( elem.nodeType < 6 ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t\"parent\": function( elem ) {\n\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\n\t\t},\n\n\t\t// Element/input types\n\t\t\"header\": function( elem ) {\n\t\t\treturn rheader.test( elem.nodeName );\n\t\t},\n\n\t\t\"input\": function( elem ) {\n\t\t\treturn rinputs.test( elem.nodeName );\n\t\t},\n\n\t\t\"button\": function( elem ) {\n\t\t\tvar name = elem.nodeName.toLowerCase();\n\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\n\t\t},\n\n\t\t\"text\": function( elem ) {\n\t\t\tvar attr;\n\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\n\t\t\t\telem.type === \"text\" &&\n\n\t\t\t\t// Support: IE<8\n\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\n\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\n\t\t},\n\n\t\t// Position-in-collection\n\t\t\"first\": createPositionalPseudo(function() {\n\t\t\treturn [ 0 ];\n\t\t}),\n\n\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\treturn [ length - 1 ];\n\t\t}),\n\n\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\treturn [ argument < 0 ? argument + length : argument ];\n\t\t}),\n\n\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\n\t\t\tvar i = 1;\n\t\t\tfor ( ; i < length; i += 2 ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ?\n\t\t\t\targument + length :\n\t\t\t\targument > length ?\n\t\t\t\t\tlength :\n\t\t\t\t\targument;\n\t\t\tfor ( ; --i >= 0; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t}),\n\n\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\n\t\t\tvar i = argument < 0 ? argument + length : argument;\n\t\t\tfor ( ; ++i < length; ) {\n\t\t\t\tmatchIndexes.push( i );\n\t\t\t}\n\t\t\treturn matchIndexes;\n\t\t})\n\t}\n};\n\nExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\n\n// Add button/input type pseudos\nfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\n\tExpr.pseudos[ i ] = createInputPseudo( i );\n}\nfor ( i in { submit: true, reset: true } ) {\n\tExpr.pseudos[ i ] = createButtonPseudo( i );\n}\n\n// Easy API for creating new setFilters\nfunction setFilters() {}\nsetFilters.prototype = Expr.filters = Expr.pseudos;\nExpr.setFilters = new setFilters();\n\ntokenize = Sizzle.tokenize = function( selector, parseOnly ) {\n\tvar matched, match, tokens, type,\n\t\tsoFar, groups, preFilters,\n\t\tcached = tokenCache[ selector + \" \" ];\n\n\tif ( cached ) {\n\t\treturn parseOnly ? 0 : cached.slice( 0 );\n\t}\n\n\tsoFar = selector;\n\tgroups = [];\n\tpreFilters = Expr.preFilter;\n\n\twhile ( soFar ) {\n\n\t\t// Comma and first run\n\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\n\t\t\tif ( match ) {\n\t\t\t\t// Don't consume trailing commas as valid\n\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\n\t\t\t}\n\t\t\tgroups.push( (tokens = []) );\n\t\t}\n\n\t\tmatched = false;\n\n\t\t// Combinators\n\t\tif ( (match = rcombinators.exec( soFar )) ) {\n\t\t\tmatched = match.shift();\n\t\t\ttokens.push({\n\t\t\t\tvalue: matched,\n\t\t\t\t// Cast descendant combinators to space\n\t\t\t\ttype: match[0].replace( rtrim, \" \" )\n\t\t\t});\n\t\t\tsoFar = soFar.slice( matched.length );\n\t\t}\n\n\t\t// Filters\n\t\tfor ( type in Expr.filter ) {\n\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\n\t\t\t\t(match = preFilters[ type ]( match ))) ) {\n\t\t\t\tmatched = match.shift();\n\t\t\t\ttokens.push({\n\t\t\t\t\tvalue: matched,\n\t\t\t\t\ttype: type,\n\t\t\t\t\tmatches: match\n\t\t\t\t});\n\t\t\t\tsoFar = soFar.slice( matched.length );\n\t\t\t}\n\t\t}\n\n\t\tif ( !matched ) {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Return the length of the invalid excess\n\t// if we're just parsing\n\t// Otherwise, throw an error or return tokens\n\treturn parseOnly ?\n\t\tsoFar.length :\n\t\tsoFar ?\n\t\t\tSizzle.error( selector ) :\n\t\t\t// Cache the tokens\n\t\t\ttokenCache( selector, groups ).slice( 0 );\n};\n\nfunction toSelector( tokens ) {\n\tvar i = 0,\n\t\tlen = tokens.length,\n\t\tselector = \"\";\n\tfor ( ; i < len; i++ ) {\n\t\tselector += tokens[i].value;\n\t}\n\treturn selector;\n}\n\nfunction addCombinator( matcher, combinator, base ) {\n\tvar dir = combinator.dir,\n\t\tskip = combinator.next,\n\t\tkey = skip || dir,\n\t\tcheckNonElements = base && key === \"parentNode\",\n\t\tdoneName = done++;\n\n\treturn combinator.first ?\n\t\t// Check against closest ancestor/preceding element\n\t\tfunction( elem, context, xml ) {\n\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\treturn matcher( elem, context, xml );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t} :\n\n\t\t// Check against all ancestor/preceding elements\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar oldCache, uniqueCache, outerCache,\n\t\t\t\tnewCache = [ dirruns, doneName ];\n\n\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\n\t\t\tif ( xml ) {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\twhile ( (elem = elem[ dir ]) ) {\n\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\n\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\n\n\t\t\t\t\t\t// Support: IE <9 only\n\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\n\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\n\n\t\t\t\t\t\tif ( skip && skip === elem.nodeName.toLowerCase() ) {\n\t\t\t\t\t\t\telem = elem[ dir ] || elem;\n\t\t\t\t\t\t} else if ( (oldCache = uniqueCache[ key ]) &&\n\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\n\n\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\n\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\n\t\t\t\t\t\t\tuniqueCache[ key ] = newCache;\n\n\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\n\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n}\n\nfunction elementMatcher( matchers ) {\n\treturn matchers.length > 1 ?\n\t\tfunction( elem, context, xml ) {\n\t\t\tvar i = matchers.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t} :\n\t\tmatchers[0];\n}\n\nfunction multipleContexts( selector, contexts, results ) {\n\tvar i = 0,\n\t\tlen = contexts.length;\n\tfor ( ; i < len; i++ ) {\n\t\tSizzle( selector, contexts[i], results );\n\t}\n\treturn results;\n}\n\nfunction condense( unmatched, map, filter, context, xml ) {\n\tvar elem,\n\t\tnewUnmatched = [],\n\t\ti = 0,\n\t\tlen = unmatched.length,\n\t\tmapped = map != null;\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (elem = unmatched[i]) ) {\n\t\t\tif ( !filter || filter( elem, context, xml ) ) {\n\t\t\t\tnewUnmatched.push( elem );\n\t\t\t\tif ( mapped ) {\n\t\t\t\t\tmap.push( i );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn newUnmatched;\n}\n\nfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\n\tif ( postFilter && !postFilter[ expando ] ) {\n\t\tpostFilter = setMatcher( postFilter );\n\t}\n\tif ( postFinder && !postFinder[ expando ] ) {\n\t\tpostFinder = setMatcher( postFinder, postSelector );\n\t}\n\treturn markFunction(function( seed, results, context, xml ) {\n\t\tvar temp, i, elem,\n\t\t\tpreMap = [],\n\t\t\tpostMap = [],\n\t\t\tpreexisting = results.length,\n\n\t\t\t// Get initial elements from seed or context\n\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\n\n\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\n\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\n\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\n\t\t\t\telems,\n\n\t\t\tmatcherOut = matcher ?\n\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\n\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\n\n\t\t\t\t\t// ...intermediate processing is necessary\n\t\t\t\t\t[] :\n\n\t\t\t\t\t// ...otherwise use results directly\n\t\t\t\t\tresults :\n\t\t\t\tmatcherIn;\n\n\t\t// Find primary matches\n\t\tif ( matcher ) {\n\t\t\tmatcher( matcherIn, matcherOut, context, xml );\n\t\t}\n\n\t\t// Apply postFilter\n\t\tif ( postFilter ) {\n\t\t\ttemp = condense( matcherOut, postMap );\n\t\t\tpostFilter( temp, [], context, xml );\n\n\t\t\t// Un-match failing elements by moving them back to matcherIn\n\t\t\ti = temp.length;\n\t\t\twhile ( i-- ) {\n\t\t\t\tif ( (elem = temp[i]) ) {\n\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif ( seed ) {\n\t\t\tif ( postFinder || preFilter ) {\n\t\t\t\tif ( postFinder ) {\n\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\n\t\t\t\t\ttemp = [];\n\t\t\t\t\ti = matcherOut.length;\n\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\n\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\n\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\n\t\t\t\t}\n\n\t\t\t\t// Move matched elements from seed to results to keep them synchronized\n\t\t\t\ti = matcherOut.length;\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\tif ( (elem = matcherOut[i]) &&\n\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\n\n\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Add elements to results, through postFinder if defined\n\t\t} else {\n\t\t\tmatcherOut = condense(\n\t\t\t\tmatcherOut === results ?\n\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\n\t\t\t\t\tmatcherOut\n\t\t\t);\n\t\t\tif ( postFinder ) {\n\t\t\t\tpostFinder( null, results, matcherOut, xml );\n\t\t\t} else {\n\t\t\t\tpush.apply( results, matcherOut );\n\t\t\t}\n\t\t}\n\t});\n}\n\nfunction matcherFromTokens( tokens ) {\n\tvar checkContext, matcher, j,\n\t\tlen = tokens.length,\n\t\tleadingRelative = Expr.relative[ tokens[0].type ],\n\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\n\t\ti = leadingRelative ? 1 : 0,\n\n\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\n\t\tmatchContext = addCombinator( function( elem ) {\n\t\t\treturn elem === checkContext;\n\t\t}, implicitRelative, true ),\n\t\tmatchAnyContext = addCombinator( function( elem ) {\n\t\t\treturn indexOf( checkContext, elem ) > -1;\n\t\t}, implicitRelative, true ),\n\t\tmatchers = [ function( elem, context, xml ) {\n\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\n\t\t\t\t(checkContext = context).nodeType ?\n\t\t\t\t\tmatchContext( elem, context, xml ) :\n\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\n\t\t\t// Avoid hanging onto element (issue #299)\n\t\t\tcheckContext = null;\n\t\t\treturn ret;\n\t\t} ];\n\n\tfor ( ; i < len; i++ ) {\n\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\n\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\n\t\t} else {\n\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\n\n\t\t\t// Return special upon seeing a positional matcher\n\t\t\tif ( matcher[ expando ] ) {\n\t\t\t\t// Find the next relative operator (if any) for proper handling\n\t\t\t\tj = ++i;\n\t\t\t\tfor ( ; j < len; j++ ) {\n\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn setMatcher(\n\t\t\t\t\ti > 1 && elementMatcher( matchers ),\n\t\t\t\t\ti > 1 && toSelector(\n\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\n\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\n\t\t\t\t\t).replace( rtrim, \"$1\" ),\n\t\t\t\t\tmatcher,\n\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\n\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\n\t\t\t\t\tj < len && toSelector( tokens )\n\t\t\t\t);\n\t\t\t}\n\t\t\tmatchers.push( matcher );\n\t\t}\n\t}\n\n\treturn elementMatcher( matchers );\n}\n\nfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\n\tvar bySet = setMatchers.length > 0,\n\t\tbyElement = elementMatchers.length > 0,\n\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\n\t\t\tvar elem, j, matcher,\n\t\t\t\tmatchedCount = 0,\n\t\t\t\ti = \"0\",\n\t\t\t\tunmatched = seed && [],\n\t\t\t\tsetMatched = [],\n\t\t\t\tcontextBackup = outermostContext,\n\t\t\t\t// We must always have either seed elements or outermost context\n\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\n\t\t\t\t// Use integer dirruns iff this is the outermost matcher\n\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\n\t\t\t\tlen = elems.length;\n\n\t\t\tif ( outermost ) {\n\t\t\t\toutermostContext = context === document || context || outermost;\n\t\t\t}\n\n\t\t\t// Add elements passing elementMatchers directly to results\n\t\t\t// Support: IE<9, Safari\n\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\n\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\n\t\t\t\tif ( byElement && elem ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\n\t\t\t\t\t\tsetDocument( elem );\n\t\t\t\t\t\txml = !documentIsHTML;\n\t\t\t\t\t}\n\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\n\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\n\t\t\t\t\t\t\tresults.push( elem );\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( outermost ) {\n\t\t\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Track unmatched elements for set filters\n\t\t\t\tif ( bySet ) {\n\t\t\t\t\t// They will have gone through all possible matchers\n\t\t\t\t\tif ( (elem = !matcher && elem) ) {\n\t\t\t\t\t\tmatchedCount--;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Lengthen the array for every element, matched or not\n\t\t\t\t\tif ( seed ) {\n\t\t\t\t\t\tunmatched.push( elem );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\n\t\t\t// makes the latter nonnegative.\n\t\t\tmatchedCount += i;\n\n\t\t\t// Apply set filters to unmatched elements\n\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\n\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\n\t\t\t// no element matchers and no seed.\n\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\n\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\n\t\t\t// numerically zero.\n\t\t\tif ( bySet && i !== matchedCount ) {\n\t\t\t\tj = 0;\n\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\n\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\n\t\t\t\t}\n\n\t\t\t\tif ( seed ) {\n\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\n\t\t\t\t\tif ( matchedCount > 0 ) {\n\t\t\t\t\t\twhile ( i-- ) {\n\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\n\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Discard index placeholder values to get only actual matches\n\t\t\t\t\tsetMatched = condense( setMatched );\n\t\t\t\t}\n\n\t\t\t\t// Add matches to results\n\t\t\t\tpush.apply( results, setMatched );\n\n\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\n\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\n\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\n\n\t\t\t\t\tSizzle.uniqueSort( results );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Override manipulation of globals by nested matchers\n\t\t\tif ( outermost ) {\n\t\t\t\tdirruns = dirrunsUnique;\n\t\t\t\toutermostContext = contextBackup;\n\t\t\t}\n\n\t\t\treturn unmatched;\n\t\t};\n\n\treturn bySet ?\n\t\tmarkFunction( superMatcher ) :\n\t\tsuperMatcher;\n}\n\ncompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\n\tvar i,\n\t\tsetMatchers = [],\n\t\telementMatchers = [],\n\t\tcached = compilerCache[ selector + \" \" ];\n\n\tif ( !cached ) {\n\t\t// Generate a function of recursive functions that can be used to check each element\n\t\tif ( !match ) {\n\t\t\tmatch = tokenize( selector );\n\t\t}\n\t\ti = match.length;\n\t\twhile ( i-- ) {\n\t\t\tcached = matcherFromTokens( match[i] );\n\t\t\tif ( cached[ expando ] ) {\n\t\t\t\tsetMatchers.push( cached );\n\t\t\t} else {\n\t\t\t\telementMatchers.push( cached );\n\t\t\t}\n\t\t}\n\n\t\t// Cache the compiled function\n\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\n\n\t\t// Save selector and tokenization\n\t\tcached.selector = selector;\n\t}\n\treturn cached;\n};\n\n/**\n * A low-level selection function that works with Sizzle's compiled\n *  selector functions\n * @param {String|Function} selector A selector or a pre-compiled\n *  selector function built with Sizzle.compile\n * @param {Element} context\n * @param {Array} [results]\n * @param {Array} [seed] A set of elements to match against\n */\nselect = Sizzle.select = function( selector, context, results, seed ) {\n\tvar i, tokens, token, type, find,\n\t\tcompiled = typeof selector === \"function\" && selector,\n\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\n\n\tresults = results || [];\n\n\t// Try to minimize operations if there is only one selector in the list and no seed\n\t// (the latter of which guarantees us context)\n\tif ( match.length === 1 ) {\n\n\t\t// Reduce context if the leading compound selector is an ID\n\t\ttokens = match[0] = match[0].slice( 0 );\n\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\n\t\t\t\tcontext.nodeType === 9 && documentIsHTML && Expr.relative[ tokens[1].type ] ) {\n\n\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\n\t\t\tif ( !context ) {\n\t\t\t\treturn results;\n\n\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\n\t\t\t} else if ( compiled ) {\n\t\t\t\tcontext = context.parentNode;\n\t\t\t}\n\n\t\t\tselector = selector.slice( tokens.shift().value.length );\n\t\t}\n\n\t\t// Fetch a seed set for right-to-left matching\n\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\n\t\twhile ( i-- ) {\n\t\t\ttoken = tokens[i];\n\n\t\t\t// Abort if we hit a combinator\n\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( (find = Expr.find[ type ]) ) {\n\t\t\t\t// Search, expanding context for leading sibling combinators\n\t\t\t\tif ( (seed = find(\n\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\n\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\n\t\t\t\t)) ) {\n\n\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\n\t\t\t\t\ttokens.splice( i, 1 );\n\t\t\t\t\tselector = seed.length && toSelector( tokens );\n\t\t\t\t\tif ( !selector ) {\n\t\t\t\t\t\tpush.apply( results, seed );\n\t\t\t\t\t\treturn results;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Compile and execute a filtering function if one is not provided\n\t// Provide `match` to avoid retokenization if we modified the selector above\n\t( compiled || compile( selector, match ) )(\n\t\tseed,\n\t\tcontext,\n\t\t!documentIsHTML,\n\t\tresults,\n\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\n\t);\n\treturn results;\n};\n\n// One-time assignments\n\n// Sort stability\nsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\n\n// Support: Chrome 14-35+\n// Always assume duplicates if they aren't passed to the comparison function\nsupport.detectDuplicates = !!hasDuplicate;\n\n// Initialize against the default document\nsetDocument();\n\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\n// Detached nodes confoundingly follow *each other*\nsupport.sortDetached = assert(function( el ) {\n\t// Should return 1, but returns 4 (following)\n\treturn el.compareDocumentPosition( document.createElement(\"fieldset\") ) & 1;\n});\n\n// Support: IE<8\n// Prevent attribute/property \"interpolation\"\n// https://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\nif ( !assert(function( el ) {\n\tel.innerHTML = \"<a href='#'></a>\";\n\treturn el.firstChild.getAttribute(\"href\") === \"#\" ;\n}) ) {\n\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\n\t\tif ( !isXML ) {\n\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use defaultValue in place of getAttribute(\"value\")\nif ( !support.attributes || !assert(function( el ) {\n\tel.innerHTML = \"<input/>\";\n\tel.firstChild.setAttribute( \"value\", \"\" );\n\treturn el.firstChild.getAttribute( \"value\" ) === \"\";\n}) ) {\n\taddHandle( \"value\", function( elem, name, isXML ) {\n\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\n\t\t\treturn elem.defaultValue;\n\t\t}\n\t});\n}\n\n// Support: IE<9\n// Use getAttributeNode to fetch booleans when getAttribute lies\nif ( !assert(function( el ) {\n\treturn el.getAttribute(\"disabled\") == null;\n}) ) {\n\taddHandle( booleans, function( elem, name, isXML ) {\n\t\tvar val;\n\t\tif ( !isXML ) {\n\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\n\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\n\t\t\t\t\tval.value :\n\t\t\t\tnull;\n\t\t}\n\t});\n}\n\nreturn Sizzle;\n\n})( window );\n\n\n\njQuery.find = Sizzle;\njQuery.expr = Sizzle.selectors;\n\n// Deprecated\njQuery.expr[ \":\" ] = jQuery.expr.pseudos;\njQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\njQuery.text = Sizzle.getText;\njQuery.isXMLDoc = Sizzle.isXML;\njQuery.contains = Sizzle.contains;\njQuery.escapeSelector = Sizzle.escape;\n\n\n\n\nvar dir = function( elem, dir, until ) {\n\tvar matched = [],\n\t\ttruncate = until !== undefined;\n\n\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\n\t\tif ( elem.nodeType === 1 ) {\n\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tmatched.push( elem );\n\t\t}\n\t}\n\treturn matched;\n};\n\n\nvar siblings = function( n, elem ) {\n\tvar matched = [];\n\n\tfor ( ; n; n = n.nextSibling ) {\n\t\tif ( n.nodeType === 1 && n !== elem ) {\n\t\t\tmatched.push( n );\n\t\t}\n\t}\n\n\treturn matched;\n};\n\n\nvar rneedsContext = jQuery.expr.match.needsContext;\n\n\n\nfunction nodeName( elem, name ) {\n\n  return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\n\n};\nvar rsingleTag = ( /^<([a-z][^\\/\\0>:\\x20\\t\\r\\n\\f]*)[\\x20\\t\\r\\n\\f]*\\/?>(?:<\\/\\1>|)$/i );\n\n\n\n// Implement the identical functionality for filter and not\nfunction winnow( elements, qualifier, not ) {\n\tif ( isFunction( qualifier ) ) {\n\t\treturn jQuery.grep( elements, function( elem, i ) {\n\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\n\t\t} );\n\t}\n\n\t// Single element\n\tif ( qualifier.nodeType ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( elem === qualifier ) !== not;\n\t\t} );\n\t}\n\n\t// Arraylike of elements (jQuery, arguments, Array)\n\tif ( typeof qualifier !== \"string\" ) {\n\t\treturn jQuery.grep( elements, function( elem ) {\n\t\t\treturn ( indexOf.call( qualifier, elem ) > -1 ) !== not;\n\t\t} );\n\t}\n\n\t// Filtered directly for both simple and complex selectors\n\treturn jQuery.filter( qualifier, elements, not );\n}\n\njQuery.filter = function( expr, elems, not ) {\n\tvar elem = elems[ 0 ];\n\n\tif ( not ) {\n\t\texpr = \":not(\" + expr + \")\";\n\t}\n\n\tif ( elems.length === 1 && elem.nodeType === 1 ) {\n\t\treturn jQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [];\n\t}\n\n\treturn jQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\n\t\treturn elem.nodeType === 1;\n\t} ) );\n};\n\njQuery.fn.extend( {\n\tfind: function( selector ) {\n\t\tvar i, ret,\n\t\t\tlen = this.length,\n\t\t\tself = this;\n\n\t\tif ( typeof selector !== \"string\" ) {\n\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} ) );\n\t\t}\n\n\t\tret = this.pushStack( [] );\n\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\tjQuery.find( selector, self[ i ], ret );\n\t\t}\n\n\t\treturn len > 1 ? jQuery.uniqueSort( ret ) : ret;\n\t},\n\tfilter: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], false ) );\n\t},\n\tnot: function( selector ) {\n\t\treturn this.pushStack( winnow( this, selector || [], true ) );\n\t},\n\tis: function( selector ) {\n\t\treturn !!winnow(\n\t\t\tthis,\n\n\t\t\t// If this is a positional/relative selector, check membership in the returned set\n\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\n\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\n\t\t\t\tjQuery( selector ) :\n\t\t\t\tselector || [],\n\t\t\tfalse\n\t\t).length;\n\t}\n} );\n\n\n// Initialize a jQuery object\n\n\n// A central reference to the root jQuery(document)\nvar rootjQuery,\n\n\t// A simple way to check for HTML strings\n\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\n\t// Strict HTML recognition (#11290: must start with <)\n\t// Shortcut simple #id case for speed\n\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]+))$/,\n\n\tinit = jQuery.fn.init = function( selector, context, root ) {\n\t\tvar match, elem;\n\n\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\n\t\tif ( !selector ) {\n\t\t\treturn this;\n\t\t}\n\n\t\t// Method init() accepts an alternate rootjQuery\n\t\t// so migrate can support jQuery.sub (gh-2101)\n\t\troot = root || rootjQuery;\n\n\t\t// Handle HTML strings\n\t\tif ( typeof selector === \"string\" ) {\n\t\t\tif ( selector[ 0 ] === \"<\" &&\n\t\t\t\tselector[ selector.length - 1 ] === \">\" &&\n\t\t\t\tselector.length >= 3 ) {\n\n\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\n\t\t\t\tmatch = [ null, selector, null ];\n\n\t\t\t} else {\n\t\t\t\tmatch = rquickExpr.exec( selector );\n\t\t\t}\n\n\t\t\t// Match html or make sure no context is specified for #id\n\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\n\n\t\t\t\t// HANDLE: $(html) -> $(array)\n\t\t\t\tif ( match[ 1 ] ) {\n\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\n\n\t\t\t\t\t// Option to run scripts is true for back-compat\n\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\n\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\n\t\t\t\t\t\tmatch[ 1 ],\n\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t) );\n\n\t\t\t\t\t// HANDLE: $(html, props)\n\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\n\t\t\t\t\t\tfor ( match in context ) {\n\n\t\t\t\t\t\t\t// Properties of context are called as methods if possible\n\t\t\t\t\t\t\tif ( isFunction( this[ match ] ) ) {\n\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\n\n\t\t\t\t\t\t\t// ...and otherwise set as attributes\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn this;\n\n\t\t\t\t// HANDLE: $(#id)\n\t\t\t\t} else {\n\t\t\t\t\telem = document.getElementById( match[ 2 ] );\n\n\t\t\t\t\tif ( elem ) {\n\n\t\t\t\t\t\t// Inject the element directly into the jQuery object\n\t\t\t\t\t\tthis[ 0 ] = elem;\n\t\t\t\t\t\tthis.length = 1;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\n\t\t\t// HANDLE: $(expr, $(...))\n\t\t\t} else if ( !context || context.jquery ) {\n\t\t\t\treturn ( context || root ).find( selector );\n\n\t\t\t// HANDLE: $(expr, context)\n\t\t\t// (which is just equivalent to: $(context).find(expr)\n\t\t\t} else {\n\t\t\t\treturn this.constructor( context ).find( selector );\n\t\t\t}\n\n\t\t// HANDLE: $(DOMElement)\n\t\t} else if ( selector.nodeType ) {\n\t\t\tthis[ 0 ] = selector;\n\t\t\tthis.length = 1;\n\t\t\treturn this;\n\n\t\t// HANDLE: $(function)\n\t\t// Shortcut for document ready\n\t\t} else if ( isFunction( selector ) ) {\n\t\t\treturn root.ready !== undefined ?\n\t\t\t\troot.ready( selector ) :\n\n\t\t\t\t// Execute immediately if ready is not present\n\t\t\t\tselector( jQuery );\n\t\t}\n\n\t\treturn jQuery.makeArray( selector, this );\n\t};\n\n// Give the init function the jQuery prototype for later instantiation\ninit.prototype = jQuery.fn;\n\n// Initialize central reference\nrootjQuery = jQuery( document );\n\n\nvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\n\n\t// Methods guaranteed to produce a unique set when starting from a unique set\n\tguaranteedUnique = {\n\t\tchildren: true,\n\t\tcontents: true,\n\t\tnext: true,\n\t\tprev: true\n\t};\n\njQuery.fn.extend( {\n\thas: function( target ) {\n\t\tvar targets = jQuery( target, this ),\n\t\t\tl = targets.length;\n\n\t\treturn this.filter( function() {\n\t\t\tvar i = 0;\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\tclosest: function( selectors, context ) {\n\t\tvar cur,\n\t\t\ti = 0,\n\t\t\tl = this.length,\n\t\t\tmatched = [],\n\t\t\ttargets = typeof selectors !== \"string\" && jQuery( selectors );\n\n\t\t// Positional selectors never match, since there's no _selection_ context\n\t\tif ( !rneedsContext.test( selectors ) ) {\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\n\n\t\t\t\t\t// Always skip document fragments\n\t\t\t\t\tif ( cur.nodeType < 11 && ( targets ?\n\t\t\t\t\t\ttargets.index( cur ) > -1 :\n\n\t\t\t\t\t\t// Don't pass non-elements to Sizzle\n\t\t\t\t\t\tcur.nodeType === 1 &&\n\t\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\n\n\t\t\t\t\t\tmatched.push( cur );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\n\t},\n\n\t// Determine the position of an element within the set\n\tindex: function( elem ) {\n\n\t\t// No argument, return index in parent\n\t\tif ( !elem ) {\n\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\n\t\t}\n\n\t\t// Index in selector\n\t\tif ( typeof elem === \"string\" ) {\n\t\t\treturn indexOf.call( jQuery( elem ), this[ 0 ] );\n\t\t}\n\n\t\t// Locate the position of the desired element\n\t\treturn indexOf.call( this,\n\n\t\t\t// If it receives a jQuery object, the first element is used\n\t\t\telem.jquery ? elem[ 0 ] : elem\n\t\t);\n\t},\n\n\tadd: function( selector, context ) {\n\t\treturn this.pushStack(\n\t\t\tjQuery.uniqueSort(\n\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\n\t\t\t)\n\t\t);\n\t},\n\n\taddBack: function( selector ) {\n\t\treturn this.add( selector == null ?\n\t\t\tthis.prevObject : this.prevObject.filter( selector )\n\t\t);\n\t}\n} );\n\nfunction sibling( cur, dir ) {\n\twhile ( ( cur = cur[ dir ] ) && cur.nodeType !== 1 ) {}\n\treturn cur;\n}\n\njQuery.each( {\n\tparent: function( elem ) {\n\t\tvar parent = elem.parentNode;\n\t\treturn parent && parent.nodeType !== 11 ? parent : null;\n\t},\n\tparents: function( elem ) {\n\t\treturn dir( elem, \"parentNode\" );\n\t},\n\tparentsUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"parentNode\", until );\n\t},\n\tnext: function( elem ) {\n\t\treturn sibling( elem, \"nextSibling\" );\n\t},\n\tprev: function( elem ) {\n\t\treturn sibling( elem, \"previousSibling\" );\n\t},\n\tnextAll: function( elem ) {\n\t\treturn dir( elem, \"nextSibling\" );\n\t},\n\tprevAll: function( elem ) {\n\t\treturn dir( elem, \"previousSibling\" );\n\t},\n\tnextUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"nextSibling\", until );\n\t},\n\tprevUntil: function( elem, i, until ) {\n\t\treturn dir( elem, \"previousSibling\", until );\n\t},\n\tsiblings: function( elem ) {\n\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\n\t},\n\tchildren: function( elem ) {\n\t\treturn siblings( elem.firstChild );\n\t},\n\tcontents: function( elem ) {\n\t\tif ( typeof elem.contentDocument !== \"undefined\" ) {\n\t\t\treturn elem.contentDocument;\n\t\t}\n\n\t\t// Support: IE 9 - 11 only, iOS 7 only, Android Browser <=4.3 only\n\t\t// Treat the template element as a regular one in browsers that\n\t\t// don't support it.\n\t\tif ( nodeName( elem, \"template\" ) ) {\n\t\t\telem = elem.content || elem;\n\t\t}\n\n\t\treturn jQuery.merge( [], elem.childNodes );\n\t}\n}, function( name, fn ) {\n\tjQuery.fn[ name ] = function( until, selector ) {\n\t\tvar matched = jQuery.map( this, fn, until );\n\n\t\tif ( name.slice( -5 ) !== \"Until\" ) {\n\t\t\tselector = until;\n\t\t}\n\n\t\tif ( selector && typeof selector === \"string\" ) {\n\t\t\tmatched = jQuery.filter( selector, matched );\n\t\t}\n\n\t\tif ( this.length > 1 ) {\n\n\t\t\t// Remove duplicates\n\t\t\tif ( !guaranteedUnique[ name ] ) {\n\t\t\t\tjQuery.uniqueSort( matched );\n\t\t\t}\n\n\t\t\t// Reverse order for parents* and prev-derivatives\n\t\t\tif ( rparentsprev.test( name ) ) {\n\t\t\t\tmatched.reverse();\n\t\t\t}\n\t\t}\n\n\t\treturn this.pushStack( matched );\n\t};\n} );\nvar rnothtmlwhite = ( /[^\\x20\\t\\r\\n\\f]+/g );\n\n\n\n// Convert String-formatted options into Object-formatted ones\nfunction createOptions( options ) {\n\tvar object = {};\n\tjQuery.each( options.match( rnothtmlwhite ) || [], function( _, flag ) {\n\t\tobject[ flag ] = true;\n\t} );\n\treturn object;\n}\n\n/*\n * Create a callback list using the following parameters:\n *\n *\toptions: an optional list of space-separated options that will change how\n *\t\t\tthe callback list behaves or a more traditional option object\n *\n * By default a callback list will act like an event callback list and can be\n * \"fired\" multiple times.\n *\n * Possible options:\n *\n *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\n *\n *\tmemory:\t\t\twill keep track of previous values and will call any callback added\n *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\n *\t\t\t\t\tvalues (like a Deferred)\n *\n *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\n *\n *\tstopOnFalse:\tinterrupt callings when a callback returns false\n *\n */\njQuery.Callbacks = function( options ) {\n\n\t// Convert options from String-formatted to Object-formatted if needed\n\t// (we check in cache first)\n\toptions = typeof options === \"string\" ?\n\t\tcreateOptions( options ) :\n\t\tjQuery.extend( {}, options );\n\n\tvar // Flag to know if list is currently firing\n\t\tfiring,\n\n\t\t// Last fire value for non-forgettable lists\n\t\tmemory,\n\n\t\t// Flag to know if list was already fired\n\t\tfired,\n\n\t\t// Flag to prevent firing\n\t\tlocked,\n\n\t\t// Actual callback list\n\t\tlist = [],\n\n\t\t// Queue of execution data for repeatable lists\n\t\tqueue = [],\n\n\t\t// Index of currently firing callback (modified by add/remove as needed)\n\t\tfiringIndex = -1,\n\n\t\t// Fire callbacks\n\t\tfire = function() {\n\n\t\t\t// Enforce single-firing\n\t\t\tlocked = locked || options.once;\n\n\t\t\t// Execute callbacks for all pending executions,\n\t\t\t// respecting firingIndex overrides and runtime changes\n\t\t\tfired = firing = true;\n\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\n\t\t\t\tmemory = queue.shift();\n\t\t\t\twhile ( ++firingIndex < list.length ) {\n\n\t\t\t\t\t// Run callback and check for early termination\n\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\n\t\t\t\t\t\toptions.stopOnFalse ) {\n\n\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\n\t\t\t\t\t\tfiringIndex = list.length;\n\t\t\t\t\t\tmemory = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Forget the data if we're done with it\n\t\t\tif ( !options.memory ) {\n\t\t\t\tmemory = false;\n\t\t\t}\n\n\t\t\tfiring = false;\n\n\t\t\t// Clean up if we're done firing for good\n\t\t\tif ( locked ) {\n\n\t\t\t\t// Keep an empty list if we have data for future add calls\n\t\t\t\tif ( memory ) {\n\t\t\t\t\tlist = [];\n\n\t\t\t\t// Otherwise, this object is spent\n\t\t\t\t} else {\n\t\t\t\t\tlist = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t// Actual Callbacks object\n\t\tself = {\n\n\t\t\t// Add a callback or a collection of callbacks to the list\n\t\t\tadd: function() {\n\t\t\t\tif ( list ) {\n\n\t\t\t\t\t// If we have memory from a past run, we should fire after adding\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfiringIndex = list.length - 1;\n\t\t\t\t\t\tqueue.push( memory );\n\t\t\t\t\t}\n\n\t\t\t\t\t( function add( args ) {\n\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\n\t\t\t\t\t\t\tif ( isFunction( arg ) ) {\n\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\n\t\t\t\t\t\t\t\t\tlist.push( arg );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if ( arg && arg.length && toType( arg ) !== \"string\" ) {\n\n\t\t\t\t\t\t\t\t// Inspect recursively\n\t\t\t\t\t\t\t\tadd( arg );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t} )( arguments );\n\n\t\t\t\t\tif ( memory && !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Remove a callback from the list\n\t\t\tremove: function() {\n\t\t\t\tjQuery.each( arguments, function( _, arg ) {\n\t\t\t\t\tvar index;\n\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\n\t\t\t\t\t\tlist.splice( index, 1 );\n\n\t\t\t\t\t\t// Handle firing indexes\n\t\t\t\t\t\tif ( index <= firingIndex ) {\n\t\t\t\t\t\t\tfiringIndex--;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Check if a given callback is in the list.\n\t\t\t// If no argument is given, return whether or not list has callbacks attached.\n\t\t\thas: function( fn ) {\n\t\t\t\treturn fn ?\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\n\t\t\t\t\tlist.length > 0;\n\t\t\t},\n\n\t\t\t// Remove all callbacks from the list\n\t\t\tempty: function() {\n\t\t\t\tif ( list ) {\n\t\t\t\t\tlist = [];\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Disable .fire and .add\n\t\t\t// Abort any current/pending executions\n\t\t\t// Clear all callbacks and values\n\t\t\tdisable: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tlist = memory = \"\";\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tdisabled: function() {\n\t\t\t\treturn !list;\n\t\t\t},\n\n\t\t\t// Disable .fire\n\t\t\t// Also disable .add unless we have memory (since it would have no effect)\n\t\t\t// Abort any pending executions\n\t\t\tlock: function() {\n\t\t\t\tlocked = queue = [];\n\t\t\t\tif ( !memory && !firing ) {\n\t\t\t\t\tlist = memory = \"\";\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tlocked: function() {\n\t\t\t\treturn !!locked;\n\t\t\t},\n\n\t\t\t// Call all callbacks with the given context and arguments\n\t\t\tfireWith: function( context, args ) {\n\t\t\t\tif ( !locked ) {\n\t\t\t\t\targs = args || [];\n\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\n\t\t\t\t\tqueue.push( args );\n\t\t\t\t\tif ( !firing ) {\n\t\t\t\t\t\tfire();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// Call all the callbacks with the given arguments\n\t\t\tfire: function() {\n\t\t\t\tself.fireWith( this, arguments );\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\t// To know if the callbacks have already been called at least once\n\t\t\tfired: function() {\n\t\t\t\treturn !!fired;\n\t\t\t}\n\t\t};\n\n\treturn self;\n};\n\n\nfunction Identity( v ) {\n\treturn v;\n}\nfunction Thrower( ex ) {\n\tthrow ex;\n}\n\nfunction adoptValue( value, resolve, reject, noValue ) {\n\tvar method;\n\n\ttry {\n\n\t\t// Check for promise aspect first to privilege synchronous behavior\n\t\tif ( value && isFunction( ( method = value.promise ) ) ) {\n\t\t\tmethod.call( value ).done( resolve ).fail( reject );\n\n\t\t// Other thenables\n\t\t} else if ( value && isFunction( ( method = value.then ) ) ) {\n\t\t\tmethod.call( value, resolve, reject );\n\n\t\t// Other non-thenables\n\t\t} else {\n\n\t\t\t// Control `resolve` arguments by letting Array#slice cast boolean `noValue` to integer:\n\t\t\t// * false: [ value ].slice( 0 ) => resolve( value )\n\t\t\t// * true: [ value ].slice( 1 ) => resolve()\n\t\t\tresolve.apply( undefined, [ value ].slice( noValue ) );\n\t\t}\n\n\t// For Promises/A+, convert exceptions into rejections\n\t// Since jQuery.when doesn't unwrap thenables, we can skip the extra checks appearing in\n\t// Deferred#then to conditionally suppress rejection.\n\t} catch ( value ) {\n\n\t\t// Support: Android 4.0 only\n\t\t// Strict mode functions invoked without .call/.apply get global-object context\n\t\treject.apply( undefined, [ value ] );\n\t}\n}\n\njQuery.extend( {\n\n\tDeferred: function( func ) {\n\t\tvar tuples = [\n\n\t\t\t\t// action, add listener, callbacks,\n\t\t\t\t// ... .then handlers, argument index, [final state]\n\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"memory\" ), 2 ],\n\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 0, \"resolved\" ],\n\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ),\n\t\t\t\t\tjQuery.Callbacks( \"once memory\" ), 1, \"rejected\" ]\n\t\t\t],\n\t\t\tstate = \"pending\",\n\t\t\tpromise = {\n\t\t\t\tstate: function() {\n\t\t\t\t\treturn state;\n\t\t\t\t},\n\t\t\t\talways: function() {\n\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\t\"catch\": function( fn ) {\n\t\t\t\t\treturn promise.then( null, fn );\n\t\t\t\t},\n\n\t\t\t\t// Keep pipe for back-compat\n\t\t\t\tpipe: function( /* fnDone, fnFail, fnProgress */ ) {\n\t\t\t\t\tvar fns = arguments;\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\n\n\t\t\t\t\t\t\t// Map tuples (progress, done, fail) to arguments (done, fail, progress)\n\t\t\t\t\t\t\tvar fn = isFunction( fns[ tuple[ 4 ] ] ) && fns[ tuple[ 4 ] ];\n\n\t\t\t\t\t\t\t// deferred.progress(function() { bind to newDefer or newDefer.notify })\n\t\t\t\t\t\t\t// deferred.done(function() { bind to newDefer or newDefer.resolve })\n\t\t\t\t\t\t\t// deferred.fail(function() { bind to newDefer or newDefer.reject })\n\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\n\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\n\t\t\t\t\t\t\t\tif ( returned && isFunction( returned.promise ) ) {\n\t\t\t\t\t\t\t\t\treturned.promise()\n\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\n\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\n\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t} );\n\t\t\t\t\t\tfns = null;\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\t\t\t\tthen: function( onFulfilled, onRejected, onProgress ) {\n\t\t\t\t\tvar maxDepth = 0;\n\t\t\t\t\tfunction resolve( depth, deferred, handler, special ) {\n\t\t\t\t\t\treturn function() {\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\targs = arguments,\n\t\t\t\t\t\t\t\tmightThrow = function() {\n\t\t\t\t\t\t\t\t\tvar returned, then;\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.3\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-59\n\t\t\t\t\t\t\t\t\t// Ignore double-resolution attempts\n\t\t\t\t\t\t\t\t\tif ( depth < maxDepth ) {\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\treturned = handler.apply( that, args );\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.1\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-48\n\t\t\t\t\t\t\t\t\tif ( returned === deferred.promise() ) {\n\t\t\t\t\t\t\t\t\t\tthrow new TypeError( \"Thenable self-resolution\" );\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Support: Promises/A+ sections 2.3.3.1, 3.5\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-54\n\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-75\n\t\t\t\t\t\t\t\t\t// Retrieve `then` only once\n\t\t\t\t\t\t\t\t\tthen = returned &&\n\n\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.4\n\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-64\n\t\t\t\t\t\t\t\t\t\t// Only check objects and functions for thenability\n\t\t\t\t\t\t\t\t\t\t( typeof returned === \"object\" ||\n\t\t\t\t\t\t\t\t\t\t\ttypeof returned === \"function\" ) &&\n\t\t\t\t\t\t\t\t\t\treturned.then;\n\n\t\t\t\t\t\t\t\t\t// Handle a returned thenable\n\t\t\t\t\t\t\t\t\tif ( isFunction( then ) ) {\n\n\t\t\t\t\t\t\t\t\t\t// Special processors (notify) just wait for resolution\n\t\t\t\t\t\t\t\t\t\tif ( special ) {\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special )\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t// Normal processors (resolve) also hook into progress\n\t\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t\t// ...and disregard older resolution values\n\t\t\t\t\t\t\t\t\t\t\tmaxDepth++;\n\n\t\t\t\t\t\t\t\t\t\t\tthen.call(\n\t\t\t\t\t\t\t\t\t\t\t\treturned,\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Thrower, special ),\n\t\t\t\t\t\t\t\t\t\t\t\tresolve( maxDepth, deferred, Identity,\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeferred.notifyWith )\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Handle all other returned values\n\t\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\tif ( handler !== Identity ) {\n\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\targs = [ returned ];\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Process the value(s)\n\t\t\t\t\t\t\t\t\t\t// Default process is resolve\n\t\t\t\t\t\t\t\t\t\t( special || deferred.resolveWith )( that, args );\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t// Only normal processors (resolve) catch and reject exceptions\n\t\t\t\t\t\t\t\tprocess = special ?\n\t\t\t\t\t\t\t\t\tmightThrow :\n\t\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tmightThrow();\n\t\t\t\t\t\t\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t\t\t\t\t\t\tif ( jQuery.Deferred.exceptionHook ) {\n\t\t\t\t\t\t\t\t\t\t\t\tjQuery.Deferred.exceptionHook( e,\n\t\t\t\t\t\t\t\t\t\t\t\t\tprocess.stackTrace );\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.4.1\n\t\t\t\t\t\t\t\t\t\t\t// https://promisesaplus.com/#point-61\n\t\t\t\t\t\t\t\t\t\t\t// Ignore post-resolution exceptions\n\t\t\t\t\t\t\t\t\t\t\tif ( depth + 1 >= maxDepth ) {\n\n\t\t\t\t\t\t\t\t\t\t\t\t// Only substitute handlers pass on context\n\t\t\t\t\t\t\t\t\t\t\t\t// and multiple values (non-spec behavior)\n\t\t\t\t\t\t\t\t\t\t\t\tif ( handler !== Thrower ) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tthat = undefined;\n\t\t\t\t\t\t\t\t\t\t\t\t\targs = [ e ];\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tdeferred.rejectWith( that, args );\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t// Support: Promises/A+ section 2.3.3.3.1\n\t\t\t\t\t\t\t// https://promisesaplus.com/#point-57\n\t\t\t\t\t\t\t// Re-resolve promises immediately to dodge false rejection from\n\t\t\t\t\t\t\t// subsequent errors\n\t\t\t\t\t\t\tif ( depth ) {\n\t\t\t\t\t\t\t\tprocess();\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// Call an optional hook to record the stack, in case of exception\n\t\t\t\t\t\t\t\t// since it's otherwise lost when execution goes async\n\t\t\t\t\t\t\t\tif ( jQuery.Deferred.getStackHook ) {\n\t\t\t\t\t\t\t\t\tprocess.stackTrace = jQuery.Deferred.getStackHook();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twindow.setTimeout( process );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\n\n\t\t\t\t\t\t// progress_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 0 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onProgress ) ?\n\t\t\t\t\t\t\t\t\tonProgress :\n\t\t\t\t\t\t\t\t\tIdentity,\n\t\t\t\t\t\t\t\tnewDefer.notifyWith\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// fulfilled_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 1 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onFulfilled ) ?\n\t\t\t\t\t\t\t\t\tonFulfilled :\n\t\t\t\t\t\t\t\t\tIdentity\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\t// rejected_handlers.add( ... )\n\t\t\t\t\t\ttuples[ 2 ][ 3 ].add(\n\t\t\t\t\t\t\tresolve(\n\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\tnewDefer,\n\t\t\t\t\t\t\t\tisFunction( onRejected ) ?\n\t\t\t\t\t\t\t\t\tonRejected :\n\t\t\t\t\t\t\t\t\tThrower\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} ).promise();\n\t\t\t\t},\n\n\t\t\t\t// Get a promise for this deferred\n\t\t\t\t// If obj is provided, the promise aspect is added to the object\n\t\t\t\tpromise: function( obj ) {\n\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\n\t\t\t\t}\n\t\t\t},\n\t\t\tdeferred = {};\n\n\t\t// Add list-specific methods\n\t\tjQuery.each( tuples, function( i, tuple ) {\n\t\t\tvar list = tuple[ 2 ],\n\t\t\t\tstateString = tuple[ 5 ];\n\n\t\t\t// promise.progress = list.add\n\t\t\t// promise.done = list.add\n\t\t\t// promise.fail = list.add\n\t\t\tpromise[ tuple[ 1 ] ] = list.add;\n\n\t\t\t// Handle state\n\t\t\tif ( stateString ) {\n\t\t\t\tlist.add(\n\t\t\t\t\tfunction() {\n\n\t\t\t\t\t\t// state = \"resolved\" (i.e., fulfilled)\n\t\t\t\t\t\t// state = \"rejected\"\n\t\t\t\t\t\tstate = stateString;\n\t\t\t\t\t},\n\n\t\t\t\t\t// rejected_callbacks.disable\n\t\t\t\t\t// fulfilled_callbacks.disable\n\t\t\t\t\ttuples[ 3 - i ][ 2 ].disable,\n\n\t\t\t\t\t// rejected_handlers.disable\n\t\t\t\t\t// fulfilled_handlers.disable\n\t\t\t\t\ttuples[ 3 - i ][ 3 ].disable,\n\n\t\t\t\t\t// progress_callbacks.lock\n\t\t\t\t\ttuples[ 0 ][ 2 ].lock,\n\n\t\t\t\t\t// progress_handlers.lock\n\t\t\t\t\ttuples[ 0 ][ 3 ].lock\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// progress_handlers.fire\n\t\t\t// fulfilled_handlers.fire\n\t\t\t// rejected_handlers.fire\n\t\t\tlist.add( tuple[ 3 ].fire );\n\n\t\t\t// deferred.notify = function() { deferred.notifyWith(...) }\n\t\t\t// deferred.resolve = function() { deferred.resolveWith(...) }\n\t\t\t// deferred.reject = function() { deferred.rejectWith(...) }\n\t\t\tdeferred[ tuple[ 0 ] ] = function() {\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? undefined : this, arguments );\n\t\t\t\treturn this;\n\t\t\t};\n\n\t\t\t// deferred.notifyWith = list.fireWith\n\t\t\t// deferred.resolveWith = list.fireWith\n\t\t\t// deferred.rejectWith = list.fireWith\n\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\n\t\t} );\n\n\t\t// Make the deferred a promise\n\t\tpromise.promise( deferred );\n\n\t\t// Call given func if any\n\t\tif ( func ) {\n\t\t\tfunc.call( deferred, deferred );\n\t\t}\n\n\t\t// All done!\n\t\treturn deferred;\n\t},\n\n\t// Deferred helper\n\twhen: function( singleValue ) {\n\t\tvar\n\n\t\t\t// count of uncompleted subordinates\n\t\t\tremaining = arguments.length,\n\n\t\t\t// count of unprocessed arguments\n\t\t\ti = remaining,\n\n\t\t\t// subordinate fulfillment data\n\t\t\tresolveContexts = Array( i ),\n\t\t\tresolveValues = slice.call( arguments ),\n\n\t\t\t// the master Deferred\n\t\t\tmaster = jQuery.Deferred(),\n\n\t\t\t// subordinate callback factory\n\t\t\tupdateFunc = function( i ) {\n\t\t\t\treturn function( value ) {\n\t\t\t\t\tresolveContexts[ i ] = this;\n\t\t\t\t\tresolveValues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\n\t\t\t\t\tif ( !( --remaining ) ) {\n\t\t\t\t\t\tmaster.resolveWith( resolveContexts, resolveValues );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t};\n\n\t\t// Single- and empty arguments are adopted like Promise.resolve\n\t\tif ( remaining <= 1 ) {\n\t\t\tadoptValue( singleValue, master.done( updateFunc( i ) ).resolve, master.reject,\n\t\t\t\t!remaining );\n\n\t\t\t// Use .then() to unwrap secondary thenables (cf. gh-3000)\n\t\t\tif ( master.state() === \"pending\" ||\n\t\t\t\tisFunction( resolveValues[ i ] && resolveValues[ i ].then ) ) {\n\n\t\t\t\treturn master.then();\n\t\t\t}\n\t\t}\n\n\t\t// Multiple arguments are aggregated like Promise.all array elements\n\t\twhile ( i-- ) {\n\t\t\tadoptValue( resolveValues[ i ], updateFunc( i ), master.reject );\n\t\t}\n\n\t\treturn master.promise();\n\t}\n} );\n\n\n// These usually indicate a programmer mistake during development,\n// warn about them ASAP rather than swallowing them by default.\nvar rerrorNames = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;\n\njQuery.Deferred.exceptionHook = function( error, stack ) {\n\n\t// Support: IE 8 - 9 only\n\t// Console exists when dev tools are open, which can happen at any time\n\tif ( window.console && window.console.warn && error && rerrorNames.test( error.name ) ) {\n\t\twindow.console.warn( \"jQuery.Deferred exception: \" + error.message, error.stack, stack );\n\t}\n};\n\n\n\n\njQuery.readyException = function( error ) {\n\twindow.setTimeout( function() {\n\t\tthrow error;\n\t} );\n};\n\n\n\n\n// The deferred used on DOM ready\nvar readyList = jQuery.Deferred();\n\njQuery.fn.ready = function( fn ) {\n\n\treadyList\n\t\t.then( fn )\n\n\t\t// Wrap jQuery.readyException in a function so that the lookup\n\t\t// happens at the time of error handling instead of callback\n\t\t// registration.\n\t\t.catch( function( error ) {\n\t\t\tjQuery.readyException( error );\n\t\t} );\n\n\treturn this;\n};\n\njQuery.extend( {\n\n\t// Is the DOM ready to be used? Set to true once it occurs.\n\tisReady: false,\n\n\t// A counter to track how many items to wait for before\n\t// the ready event fires. See #6781\n\treadyWait: 1,\n\n\t// Handle when the DOM is ready\n\tready: function( wait ) {\n\n\t\t// Abort if there are pending holds or we're already ready\n\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Remember that the DOM is ready\n\t\tjQuery.isReady = true;\n\n\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\n\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// If there are functions bound, to execute\n\t\treadyList.resolveWith( document, [ jQuery ] );\n\t}\n} );\n\njQuery.ready.then = readyList.then;\n\n// The ready event handler and self cleanup method\nfunction completed() {\n\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\n\twindow.removeEventListener( \"load\", completed );\n\tjQuery.ready();\n}\n\n// Catch cases where $(document).ready() is called\n// after the browser event has already occurred.\n// Support: IE <=9 - 10 only\n// Older IE sometimes signals \"interactive\" too soon\nif ( document.readyState === \"complete\" ||\n\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\n\n\t// Handle it asynchronously to allow scripts the opportunity to delay ready\n\twindow.setTimeout( jQuery.ready );\n\n} else {\n\n\t// Use the handy event callback\n\tdocument.addEventListener( \"DOMContentLoaded\", completed );\n\n\t// A fallback to window.onload, that will always work\n\twindow.addEventListener( \"load\", completed );\n}\n\n\n\n\n// Multifunctional method to get and set values of a collection\n// The value/s can optionally be executed if it's a function\nvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\n\tvar i = 0,\n\t\tlen = elems.length,\n\t\tbulk = key == null;\n\n\t// Sets many values\n\tif ( toType( key ) === \"object\" ) {\n\t\tchainable = true;\n\t\tfor ( i in key ) {\n\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\n\t\t}\n\n\t// Sets one value\n\t} else if ( value !== undefined ) {\n\t\tchainable = true;\n\n\t\tif ( !isFunction( value ) ) {\n\t\t\traw = true;\n\t\t}\n\n\t\tif ( bulk ) {\n\n\t\t\t// Bulk operations run against the entire set\n\t\t\tif ( raw ) {\n\t\t\t\tfn.call( elems, value );\n\t\t\t\tfn = null;\n\n\t\t\t// ...except when executing function values\n\t\t\t} else {\n\t\t\t\tbulk = fn;\n\t\t\t\tfn = function( elem, key, value ) {\n\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif ( fn ) {\n\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\tfn(\n\t\t\t\t\telems[ i ], key, raw ?\n\t\t\t\t\tvalue :\n\t\t\t\t\tvalue.call( elems[ i ], i, fn( elems[ i ], key ) )\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( chainable ) {\n\t\treturn elems;\n\t}\n\n\t// Gets\n\tif ( bulk ) {\n\t\treturn fn.call( elems );\n\t}\n\n\treturn len ? fn( elems[ 0 ], key ) : emptyGet;\n};\n\n\n// Matches dashed string for camelizing\nvar rmsPrefix = /^-ms-/,\n\trdashAlpha = /-([a-z])/g;\n\n// Used by camelCase as callback to replace()\nfunction fcamelCase( all, letter ) {\n\treturn letter.toUpperCase();\n}\n\n// Convert dashed to camelCase; used by the css and data modules\n// Support: IE <=9 - 11, Edge 12 - 15\n// Microsoft forgot to hump their vendor prefix (#9572)\nfunction camelCase( string ) {\n\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\n}\nvar acceptData = function( owner ) {\n\n\t// Accepts only:\n\t//  - Node\n\t//    - Node.ELEMENT_NODE\n\t//    - Node.DOCUMENT_NODE\n\t//  - Object\n\t//    - Any\n\treturn owner.nodeType === 1 || owner.nodeType === 9 || !( +owner.nodeType );\n};\n\n\n\n\nfunction Data() {\n\tthis.expando = jQuery.expando + Data.uid++;\n}\n\nData.uid = 1;\n\nData.prototype = {\n\n\tcache: function( owner ) {\n\n\t\t// Check if the owner object already has a cache\n\t\tvar value = owner[ this.expando ];\n\n\t\t// If not, create one\n\t\tif ( !value ) {\n\t\t\tvalue = {};\n\n\t\t\t// We can accept data for non-element nodes in modern browsers,\n\t\t\t// but we should not, see #8335.\n\t\t\t// Always return an empty object.\n\t\t\tif ( acceptData( owner ) ) {\n\n\t\t\t\t// If it is a node unlikely to be stringify-ed or looped over\n\t\t\t\t// use plain assignment\n\t\t\t\tif ( owner.nodeType ) {\n\t\t\t\t\towner[ this.expando ] = value;\n\n\t\t\t\t// Otherwise secure it in a non-enumerable property\n\t\t\t\t// configurable must be true to allow the property to be\n\t\t\t\t// deleted when data is removed\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty( owner, this.expando, {\n\t\t\t\t\t\tvalue: value,\n\t\t\t\t\t\tconfigurable: true\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\tset: function( owner, data, value ) {\n\t\tvar prop,\n\t\t\tcache = this.cache( owner );\n\n\t\t// Handle: [ owner, key, value ] args\n\t\t// Always use camelCase key (gh-2257)\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tcache[ camelCase( data ) ] = value;\n\n\t\t// Handle: [ owner, { properties } ] args\n\t\t} else {\n\n\t\t\t// Copy the properties one-by-one to the cache object\n\t\t\tfor ( prop in data ) {\n\t\t\t\tcache[ camelCase( prop ) ] = data[ prop ];\n\t\t\t}\n\t\t}\n\t\treturn cache;\n\t},\n\tget: function( owner, key ) {\n\t\treturn key === undefined ?\n\t\t\tthis.cache( owner ) :\n\n\t\t\t// Always use camelCase key (gh-2257)\n\t\t\towner[ this.expando ] && owner[ this.expando ][ camelCase( key ) ];\n\t},\n\taccess: function( owner, key, value ) {\n\n\t\t// In cases where either:\n\t\t//\n\t\t//   1. No key was specified\n\t\t//   2. A string key was specified, but no value provided\n\t\t//\n\t\t// Take the \"read\" path and allow the get method to determine\n\t\t// which value to return, respectively either:\n\t\t//\n\t\t//   1. The entire cache object\n\t\t//   2. The data stored at the key\n\t\t//\n\t\tif ( key === undefined ||\n\t\t\t\t( ( key && typeof key === \"string\" ) && value === undefined ) ) {\n\n\t\t\treturn this.get( owner, key );\n\t\t}\n\n\t\t// When the key is not a string, or both a key and value\n\t\t// are specified, set or extend (existing objects) with either:\n\t\t//\n\t\t//   1. An object of properties\n\t\t//   2. A key and value\n\t\t//\n\t\tthis.set( owner, key, value );\n\n\t\t// Since the \"set\" path can have two possible entry points\n\t\t// return the expected data based on which path was taken[*]\n\t\treturn value !== undefined ? value : key;\n\t},\n\tremove: function( owner, key ) {\n\t\tvar i,\n\t\t\tcache = owner[ this.expando ];\n\n\t\tif ( cache === undefined ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( key !== undefined ) {\n\n\t\t\t// Support array or space separated string of keys\n\t\t\tif ( Array.isArray( key ) ) {\n\n\t\t\t\t// If key is an array of keys...\n\t\t\t\t// We always set camelCase keys, so remove that.\n\t\t\t\tkey = key.map( camelCase );\n\t\t\t} else {\n\t\t\t\tkey = camelCase( key );\n\n\t\t\t\t// If a key with the spaces exists, use it.\n\t\t\t\t// Otherwise, create an array by matching non-whitespace\n\t\t\t\tkey = key in cache ?\n\t\t\t\t\t[ key ] :\n\t\t\t\t\t( key.match( rnothtmlwhite ) || [] );\n\t\t\t}\n\n\t\t\ti = key.length;\n\n\t\t\twhile ( i-- ) {\n\t\t\t\tdelete cache[ key[ i ] ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove the expando if there's no more data\n\t\tif ( key === undefined || jQuery.isEmptyObject( cache ) ) {\n\n\t\t\t// Support: Chrome <=35 - 45\n\t\t\t// Webkit & Blink performance suffers when deleting properties\n\t\t\t// from DOM nodes, so set to undefined instead\n\t\t\t// https://bugs.chromium.org/p/chromium/issues/detail?id=378607 (bug restricted)\n\t\t\tif ( owner.nodeType ) {\n\t\t\t\towner[ this.expando ] = undefined;\n\t\t\t} else {\n\t\t\t\tdelete owner[ this.expando ];\n\t\t\t}\n\t\t}\n\t},\n\thasData: function( owner ) {\n\t\tvar cache = owner[ this.expando ];\n\t\treturn cache !== undefined && !jQuery.isEmptyObject( cache );\n\t}\n};\nvar dataPriv = new Data();\n\nvar dataUser = new Data();\n\n\n\n//\tImplementation Summary\n//\n//\t1. Enforce API surface and semantic compatibility with 1.9.x branch\n//\t2. Improve the module's maintainability by reducing the storage\n//\t\tpaths to a single mechanism.\n//\t3. Use the same single mechanism to support \"private\" and \"user\" data.\n//\t4. _Never_ expose \"private\" data to user code (TODO: Drop _data, _removeData)\n//\t5. Avoid exposing implementation details on user objects (eg. expando properties)\n//\t6. Provide a clear path for implementation upgrade to WeakMap in 2014\n\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\n\trmultiDash = /[A-Z]/g;\n\nfunction getData( data ) {\n\tif ( data === \"true\" ) {\n\t\treturn true;\n\t}\n\n\tif ( data === \"false\" ) {\n\t\treturn false;\n\t}\n\n\tif ( data === \"null\" ) {\n\t\treturn null;\n\t}\n\n\t// Only convert to a number if it doesn't change the string\n\tif ( data === +data + \"\" ) {\n\t\treturn +data;\n\t}\n\n\tif ( rbrace.test( data ) ) {\n\t\treturn JSON.parse( data );\n\t}\n\n\treturn data;\n}\n\nfunction dataAttr( elem, key, data ) {\n\tvar name;\n\n\t// If nothing was found internally, try to fetch any\n\t// data from the HTML5 data-* attribute\n\tif ( data === undefined && elem.nodeType === 1 ) {\n\t\tname = \"data-\" + key.replace( rmultiDash, \"-$&\" ).toLowerCase();\n\t\tdata = elem.getAttribute( name );\n\n\t\tif ( typeof data === \"string\" ) {\n\t\t\ttry {\n\t\t\t\tdata = getData( data );\n\t\t\t} catch ( e ) {}\n\n\t\t\t// Make sure we set the data so it isn't changed later\n\t\t\tdataUser.set( elem, key, data );\n\t\t} else {\n\t\t\tdata = undefined;\n\t\t}\n\t}\n\treturn data;\n}\n\njQuery.extend( {\n\thasData: function( elem ) {\n\t\treturn dataUser.hasData( elem ) || dataPriv.hasData( elem );\n\t},\n\n\tdata: function( elem, name, data ) {\n\t\treturn dataUser.access( elem, name, data );\n\t},\n\n\tremoveData: function( elem, name ) {\n\t\tdataUser.remove( elem, name );\n\t},\n\n\t// TODO: Now that all calls to _data and _removeData have been replaced\n\t// with direct calls to dataPriv methods, these can be deprecated.\n\t_data: function( elem, name, data ) {\n\t\treturn dataPriv.access( elem, name, data );\n\t},\n\n\t_removeData: function( elem, name ) {\n\t\tdataPriv.remove( elem, name );\n\t}\n} );\n\njQuery.fn.extend( {\n\tdata: function( key, value ) {\n\t\tvar i, name, data,\n\t\t\telem = this[ 0 ],\n\t\t\tattrs = elem && elem.attributes;\n\n\t\t// Gets all values\n\t\tif ( key === undefined ) {\n\t\t\tif ( this.length ) {\n\t\t\t\tdata = dataUser.get( elem );\n\n\t\t\t\tif ( elem.nodeType === 1 && !dataPriv.get( elem, \"hasDataAttrs\" ) ) {\n\t\t\t\t\ti = attrs.length;\n\t\t\t\t\twhile ( i-- ) {\n\n\t\t\t\t\t\t// Support: IE 11 only\n\t\t\t\t\t\t// The attrs elements can be null (#14894)\n\t\t\t\t\t\tif ( attrs[ i ] ) {\n\t\t\t\t\t\t\tname = attrs[ i ].name;\n\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\n\t\t\t\t\t\t\t\tname = camelCase( name.slice( 5 ) );\n\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdataPriv.set( elem, \"hasDataAttrs\", true );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\t// Sets multiple values\n\t\tif ( typeof key === \"object\" ) {\n\t\t\treturn this.each( function() {\n\t\t\t\tdataUser.set( this, key );\n\t\t\t} );\n\t\t}\n\n\t\treturn access( this, function( value ) {\n\t\t\tvar data;\n\n\t\t\t// The calling jQuery object (element matches) is not empty\n\t\t\t// (and therefore has an element appears at this[ 0 ]) and the\n\t\t\t// `value` parameter was not undefined. An empty jQuery object\n\t\t\t// will result in `undefined` for elem = this[ 0 ] which will\n\t\t\t// throw an exception if an attempt to read a data cache is made.\n\t\t\tif ( elem && value === undefined ) {\n\n\t\t\t\t// Attempt to get data from the cache\n\t\t\t\t// The key will always be camelCased in Data\n\t\t\t\tdata = dataUser.get( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// Attempt to \"discover\" the data in\n\t\t\t\t// HTML5 custom data-* attrs\n\t\t\t\tdata = dataAttr( elem, key );\n\t\t\t\tif ( data !== undefined ) {\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\n\t\t\t\t// We tried really hard, but the data doesn't exist.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Set the data...\n\t\t\tthis.each( function() {\n\n\t\t\t\t// We always store the camelCased key\n\t\t\t\tdataUser.set( this, key, value );\n\t\t\t} );\n\t\t}, null, value, arguments.length > 1, null, true );\n\t},\n\n\tremoveData: function( key ) {\n\t\treturn this.each( function() {\n\t\t\tdataUser.remove( this, key );\n\t\t} );\n\t}\n} );\n\n\njQuery.extend( {\n\tqueue: function( elem, type, data ) {\n\t\tvar queue;\n\n\t\tif ( elem ) {\n\t\t\ttype = ( type || \"fx\" ) + \"queue\";\n\t\t\tqueue = dataPriv.get( elem, type );\n\n\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\n\t\t\tif ( data ) {\n\t\t\t\tif ( !queue || Array.isArray( data ) ) {\n\t\t\t\t\tqueue = dataPriv.access( elem, type, jQuery.makeArray( data ) );\n\t\t\t\t} else {\n\t\t\t\t\tqueue.push( data );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn queue || [];\n\t\t}\n\t},\n\n\tdequeue: function( elem, type ) {\n\t\ttype = type || \"fx\";\n\n\t\tvar queue = jQuery.queue( elem, type ),\n\t\t\tstartLength = queue.length,\n\t\t\tfn = queue.shift(),\n\t\t\thooks = jQuery._queueHooks( elem, type ),\n\t\t\tnext = function() {\n\t\t\t\tjQuery.dequeue( elem, type );\n\t\t\t};\n\n\t\t// If the fx queue is dequeued, always remove the progress sentinel\n\t\tif ( fn === \"inprogress\" ) {\n\t\t\tfn = queue.shift();\n\t\t\tstartLength--;\n\t\t}\n\n\t\tif ( fn ) {\n\n\t\t\t// Add a progress sentinel to prevent the fx queue from being\n\t\t\t// automatically dequeued\n\t\t\tif ( type === \"fx\" ) {\n\t\t\t\tqueue.unshift( \"inprogress\" );\n\t\t\t}\n\n\t\t\t// Clear up the last queue stop function\n\t\t\tdelete hooks.stop;\n\t\t\tfn.call( elem, next, hooks );\n\t\t}\n\n\t\tif ( !startLength && hooks ) {\n\t\t\thooks.empty.fire();\n\t\t}\n\t},\n\n\t// Not public - generate a queueHooks object, or return the current one\n\t_queueHooks: function( elem, type ) {\n\t\tvar key = type + \"queueHooks\";\n\t\treturn dataPriv.get( elem, key ) || dataPriv.access( elem, key, {\n\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\n\t\t\t\tdataPriv.remove( elem, [ type + \"queue\", key ] );\n\t\t\t} )\n\t\t} );\n\t}\n} );\n\njQuery.fn.extend( {\n\tqueue: function( type, data ) {\n\t\tvar setter = 2;\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tdata = type;\n\t\t\ttype = \"fx\";\n\t\t\tsetter--;\n\t\t}\n\n\t\tif ( arguments.length < setter ) {\n\t\t\treturn jQuery.queue( this[ 0 ], type );\n\t\t}\n\n\t\treturn data === undefined ?\n\t\t\tthis :\n\t\t\tthis.each( function() {\n\t\t\t\tvar queue = jQuery.queue( this, type, data );\n\n\t\t\t\t// Ensure a hooks for this queue\n\t\t\t\tjQuery._queueHooks( this, type );\n\n\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\n\t\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t\t}\n\t\t\t} );\n\t},\n\tdequeue: function( type ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.dequeue( this, type );\n\t\t} );\n\t},\n\tclearQueue: function( type ) {\n\t\treturn this.queue( type || \"fx\", [] );\n\t},\n\n\t// Get a promise resolved when queues of a certain type\n\t// are emptied (fx is the type by default)\n\tpromise: function( type, obj ) {\n\t\tvar tmp,\n\t\t\tcount = 1,\n\t\t\tdefer = jQuery.Deferred(),\n\t\t\telements = this,\n\t\t\ti = this.length,\n\t\t\tresolve = function() {\n\t\t\t\tif ( !( --count ) ) {\n\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\n\t\t\t\t}\n\t\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tobj = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\ttype = type || \"fx\";\n\n\t\twhile ( i-- ) {\n\t\t\ttmp = dataPriv.get( elements[ i ], type + \"queueHooks\" );\n\t\t\tif ( tmp && tmp.empty ) {\n\t\t\t\tcount++;\n\t\t\t\ttmp.empty.add( resolve );\n\t\t\t}\n\t\t}\n\t\tresolve();\n\t\treturn defer.promise( obj );\n\t}\n} );\nvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\n\nvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\n\n\nvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\n\nvar documentElement = document.documentElement;\n\n\n\n\tvar isAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem );\n\t\t},\n\t\tcomposed = { composed: true };\n\n\t// Support: IE 9 - 11+, Edge 12 - 18+, iOS 10.0 - 10.2 only\n\t// Check attachment across shadow DOM boundaries when possible (gh-3504)\n\t// Support: iOS 10.0-10.2 only\n\t// Early iOS 10 versions support `attachShadow` but not `getRootNode`,\n\t// leading to errors. We need to check for `getRootNode`.\n\tif ( documentElement.getRootNode ) {\n\t\tisAttached = function( elem ) {\n\t\t\treturn jQuery.contains( elem.ownerDocument, elem ) ||\n\t\t\t\telem.getRootNode( composed ) === elem.ownerDocument;\n\t\t};\n\t}\nvar isHiddenWithinTree = function( elem, el ) {\n\n\t\t// isHiddenWithinTree might be called from jQuery#filter function;\n\t\t// in that case, element will be second argument\n\t\telem = el || elem;\n\n\t\t// Inline style trumps all\n\t\treturn elem.style.display === \"none\" ||\n\t\t\telem.style.display === \"\" &&\n\n\t\t\t// Otherwise, check computed style\n\t\t\t// Support: Firefox <=43 - 45\n\t\t\t// Disconnected elements can have computed display: none, so first confirm that elem is\n\t\t\t// in the document.\n\t\t\tisAttached( elem ) &&\n\n\t\t\tjQuery.css( elem, \"display\" ) === \"none\";\n\t};\n\nvar swap = function( elem, options, callback, args ) {\n\tvar ret, name,\n\t\told = {};\n\n\t// Remember the old values, and insert the new ones\n\tfor ( name in options ) {\n\t\told[ name ] = elem.style[ name ];\n\t\telem.style[ name ] = options[ name ];\n\t}\n\n\tret = callback.apply( elem, args || [] );\n\n\t// Revert the old values\n\tfor ( name in options ) {\n\t\telem.style[ name ] = old[ name ];\n\t}\n\n\treturn ret;\n};\n\n\n\n\nfunction adjustCSS( elem, prop, valueParts, tween ) {\n\tvar adjusted, scale,\n\t\tmaxIterations = 20,\n\t\tcurrentValue = tween ?\n\t\t\tfunction() {\n\t\t\t\treturn tween.cur();\n\t\t\t} :\n\t\t\tfunction() {\n\t\t\t\treturn jQuery.css( elem, prop, \"\" );\n\t\t\t},\n\t\tinitial = currentValue(),\n\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\n\n\t\t// Starting value computation is required for potential unit mismatches\n\t\tinitialInUnit = elem.nodeType &&\n\t\t\t( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\n\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\n\n\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\n\n\t\t// Support: Firefox <=54\n\t\t// Halve the iteration target value to prevent interference from CSS upper bounds (gh-2144)\n\t\tinitial = initial / 2;\n\n\t\t// Trust units reported by jQuery.css\n\t\tunit = unit || initialInUnit[ 3 ];\n\n\t\t// Iteratively approximate from a nonzero starting point\n\t\tinitialInUnit = +initial || 1;\n\n\t\twhile ( maxIterations-- ) {\n\n\t\t\t// Evaluate and update our best guess (doubling guesses that zero out).\n\t\t\t// Finish if the scale equals or crosses 1 (making the old*new product non-positive).\n\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\t\t\tif ( ( 1 - scale ) * ( 1 - ( scale = currentValue() / initial || 0.5 ) ) <= 0 ) {\n\t\t\t\tmaxIterations = 0;\n\t\t\t}\n\t\t\tinitialInUnit = initialInUnit / scale;\n\n\t\t}\n\n\t\tinitialInUnit = initialInUnit * 2;\n\t\tjQuery.style( elem, prop, initialInUnit + unit );\n\n\t\t// Make sure we update the tween properties later on\n\t\tvalueParts = valueParts || [];\n\t}\n\n\tif ( valueParts ) {\n\t\tinitialInUnit = +initialInUnit || +initial || 0;\n\n\t\t// Apply relative offset (+=/-=) if specified\n\t\tadjusted = valueParts[ 1 ] ?\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\n\t\t\t+valueParts[ 2 ];\n\t\tif ( tween ) {\n\t\t\ttween.unit = unit;\n\t\t\ttween.start = initialInUnit;\n\t\t\ttween.end = adjusted;\n\t\t}\n\t}\n\treturn adjusted;\n}\n\n\nvar defaultDisplayMap = {};\n\nfunction getDefaultDisplay( elem ) {\n\tvar temp,\n\t\tdoc = elem.ownerDocument,\n\t\tnodeName = elem.nodeName,\n\t\tdisplay = defaultDisplayMap[ nodeName ];\n\n\tif ( display ) {\n\t\treturn display;\n\t}\n\n\ttemp = doc.body.appendChild( doc.createElement( nodeName ) );\n\tdisplay = jQuery.css( temp, \"display\" );\n\n\ttemp.parentNode.removeChild( temp );\n\n\tif ( display === \"none\" ) {\n\t\tdisplay = \"block\";\n\t}\n\tdefaultDisplayMap[ nodeName ] = display;\n\n\treturn display;\n}\n\nfunction showHide( elements, show ) {\n\tvar display, elem,\n\t\tvalues = [],\n\t\tindex = 0,\n\t\tlength = elements.length;\n\n\t// Determine new display value for elements that need to change\n\tfor ( ; index < length; index++ ) {\n\t\telem = elements[ index ];\n\t\tif ( !elem.style ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tdisplay = elem.style.display;\n\t\tif ( show ) {\n\n\t\t\t// Since we force visibility upon cascade-hidden elements, an immediate (and slow)\n\t\t\t// check is required in this first loop unless we have a nonempty display value (either\n\t\t\t// inline or about-to-be-restored)\n\t\t\tif ( display === \"none\" ) {\n\t\t\t\tvalues[ index ] = dataPriv.get( elem, \"display\" ) || null;\n\t\t\t\tif ( !values[ index ] ) {\n\t\t\t\t\telem.style.display = \"\";\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( elem.style.display === \"\" && isHiddenWithinTree( elem ) ) {\n\t\t\t\tvalues[ index ] = getDefaultDisplay( elem );\n\t\t\t}\n\t\t} else {\n\t\t\tif ( display !== \"none\" ) {\n\t\t\t\tvalues[ index ] = \"none\";\n\n\t\t\t\t// Remember what we're overwriting\n\t\t\t\tdataPriv.set( elem, \"display\", display );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Set the display of the elements in a second loop to avoid constant reflow\n\tfor ( index = 0; index < length; index++ ) {\n\t\tif ( values[ index ] != null ) {\n\t\t\telements[ index ].style.display = values[ index ];\n\t\t}\n\t}\n\n\treturn elements;\n}\n\njQuery.fn.extend( {\n\tshow: function() {\n\t\treturn showHide( this, true );\n\t},\n\thide: function() {\n\t\treturn showHide( this );\n\t},\n\ttoggle: function( state ) {\n\t\tif ( typeof state === \"boolean\" ) {\n\t\t\treturn state ? this.show() : this.hide();\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tif ( isHiddenWithinTree( this ) ) {\n\t\t\t\tjQuery( this ).show();\n\t\t\t} else {\n\t\t\t\tjQuery( this ).hide();\n\t\t\t}\n\t\t} );\n\t}\n} );\nvar rcheckableType = ( /^(?:checkbox|radio)$/i );\n\nvar rtagName = ( /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i );\n\nvar rscriptType = ( /^$|^module$|\\/(?:java|ecma)script/i );\n\n\n\n// We have to close these tags to support XHTML (#13200)\nvar wrapMap = {\n\n\t// Support: IE <=9 only\n\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\n\n\t// XHTML parsers do not magically insert elements in the\n\t// same way that tag soup parsers do. So we cannot shorten\n\t// this by omitting <tbody> or other required elements.\n\tthead: [ 1, \"<table>\", \"</table>\" ],\n\tcol: [ 2, \"<table><colgroup>\", \"</colgroup></table>\" ],\n\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n\n\t_default: [ 0, \"\", \"\" ]\n};\n\n// Support: IE <=9 only\nwrapMap.optgroup = wrapMap.option;\n\nwrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\nwrapMap.th = wrapMap.td;\n\n\nfunction getAll( context, tag ) {\n\n\t// Support: IE <=9 - 11 only\n\t// Use typeof to avoid zero-argument method invocation on host objects (#15151)\n\tvar ret;\n\n\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\n\t\tret = context.getElementsByTagName( tag || \"*\" );\n\n\t} else if ( typeof context.querySelectorAll !== \"undefined\" ) {\n\t\tret = context.querySelectorAll( tag || \"*\" );\n\n\t} else {\n\t\tret = [];\n\t}\n\n\tif ( tag === undefined || tag && nodeName( context, tag ) ) {\n\t\treturn jQuery.merge( [ context ], ret );\n\t}\n\n\treturn ret;\n}\n\n\n// Mark scripts as having already been evaluated\nfunction setGlobalEval( elems, refElements ) {\n\tvar i = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\tdataPriv.set(\n\t\t\telems[ i ],\n\t\t\t\"globalEval\",\n\t\t\t!refElements || dataPriv.get( refElements[ i ], \"globalEval\" )\n\t\t);\n\t}\n}\n\n\nvar rhtml = /<|&#?\\w+;/;\n\nfunction buildFragment( elems, context, scripts, selection, ignored ) {\n\tvar elem, tmp, tag, wrap, attached, j,\n\t\tfragment = context.createDocumentFragment(),\n\t\tnodes = [],\n\t\ti = 0,\n\t\tl = elems.length;\n\n\tfor ( ; i < l; i++ ) {\n\t\telem = elems[ i ];\n\n\t\tif ( elem || elem === 0 ) {\n\n\t\t\t// Add nodes directly\n\t\t\tif ( toType( elem ) === \"object\" ) {\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\n\n\t\t\t// Convert non-html into a text node\n\t\t\t} else if ( !rhtml.test( elem ) ) {\n\t\t\t\tnodes.push( context.createTextNode( elem ) );\n\n\t\t\t// Convert html into DOM nodes\n\t\t\t} else {\n\t\t\t\ttmp = tmp || fragment.appendChild( context.createElement( \"div\" ) );\n\n\t\t\t\t// Deserialize a standard representation\n\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\n\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\n\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\n\n\t\t\t\t// Descend through wrappers to the right content\n\t\t\t\tj = wrap[ 0 ];\n\t\t\t\twhile ( j-- ) {\n\t\t\t\t\ttmp = tmp.lastChild;\n\t\t\t\t}\n\n\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\n\n\t\t\t\t// Remember the top-level container\n\t\t\t\ttmp = fragment.firstChild;\n\n\t\t\t\t// Ensure the created nodes are orphaned (#12392)\n\t\t\t\ttmp.textContent = \"\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// Remove wrapper from fragment\n\tfragment.textContent = \"\";\n\n\ti = 0;\n\twhile ( ( elem = nodes[ i++ ] ) ) {\n\n\t\t// Skip elements already in the context collection (trac-4087)\n\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\n\t\t\tif ( ignored ) {\n\t\t\t\tignored.push( elem );\n\t\t\t}\n\t\t\tcontinue;\n\t\t}\n\n\t\tattached = isAttached( elem );\n\n\t\t// Append to fragment\n\t\ttmp = getAll( fragment.appendChild( elem ), \"script\" );\n\n\t\t// Preserve script evaluation history\n\t\tif ( attached ) {\n\t\t\tsetGlobalEval( tmp );\n\t\t}\n\n\t\t// Capture executables\n\t\tif ( scripts ) {\n\t\t\tj = 0;\n\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\n\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\n\t\t\t\t\tscripts.push( elem );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn fragment;\n}\n\n\n( function() {\n\tvar fragment = document.createDocumentFragment(),\n\t\tdiv = fragment.appendChild( document.createElement( \"div\" ) ),\n\t\tinput = document.createElement( \"input\" );\n\n\t// Support: Android 4.0 - 4.3 only\n\t// Check state lost if the name is set (#11217)\n\t// Support: Windows Web Apps (WWA)\n\t// `name` and `type` must use .setAttribute for WWA (#14901)\n\tinput.setAttribute( \"type\", \"radio\" );\n\tinput.setAttribute( \"checked\", \"checked\" );\n\tinput.setAttribute( \"name\", \"t\" );\n\n\tdiv.appendChild( input );\n\n\t// Support: Android <=4.1 only\n\t// Older WebKit doesn't clone checked state correctly in fragments\n\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\n\n\t// Support: IE <=11 only\n\t// Make sure textarea (and checkbox) defaultValue is properly cloned\n\tdiv.innerHTML = \"<textarea>x</textarea>\";\n\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\n} )();\n\n\nvar\n\trkeyEvent = /^key/,\n\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\n\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\n\nfunction returnTrue() {\n\treturn true;\n}\n\nfunction returnFalse() {\n\treturn false;\n}\n\n// Support: IE <=9 - 11+\n// focus() and blur() are asynchronous, except when they are no-op.\n// So expect focus to be synchronous when the element is already active,\n// and blur to be synchronous when the element is not already active.\n// (focus and blur are always synchronous in other supported browsers,\n// this just defines when we can count on it).\nfunction expectSync( elem, type ) {\n\treturn ( elem === safeActiveElement() ) === ( type === \"focus\" );\n}\n\n// Support: IE <=9 only\n// Accessing document.activeElement can throw unexpectedly\n// https://bugs.jquery.com/ticket/13393\nfunction safeActiveElement() {\n\ttry {\n\t\treturn document.activeElement;\n\t} catch ( err ) { }\n}\n\nfunction on( elem, types, selector, data, fn, one ) {\n\tvar origFn, type;\n\n\t// Types can be a map of types/handlers\n\tif ( typeof types === \"object\" ) {\n\n\t\t// ( types-Object, selector, data )\n\t\tif ( typeof selector !== \"string\" ) {\n\n\t\t\t// ( types-Object, data )\n\t\t\tdata = data || selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tfor ( type in types ) {\n\t\t\ton( elem, type, selector, data, types[ type ], one );\n\t\t}\n\t\treturn elem;\n\t}\n\n\tif ( data == null && fn == null ) {\n\n\t\t// ( types, fn )\n\t\tfn = selector;\n\t\tdata = selector = undefined;\n\t} else if ( fn == null ) {\n\t\tif ( typeof selector === \"string\" ) {\n\n\t\t\t// ( types, selector, fn )\n\t\t\tfn = data;\n\t\t\tdata = undefined;\n\t\t} else {\n\n\t\t\t// ( types, data, fn )\n\t\t\tfn = data;\n\t\t\tdata = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t}\n\tif ( fn === false ) {\n\t\tfn = returnFalse;\n\t} else if ( !fn ) {\n\t\treturn elem;\n\t}\n\n\tif ( one === 1 ) {\n\t\torigFn = fn;\n\t\tfn = function( event ) {\n\n\t\t\t// Can use an empty set, since event contains the info\n\t\t\tjQuery().off( event );\n\t\t\treturn origFn.apply( this, arguments );\n\t\t};\n\n\t\t// Use same guid so caller can remove using origFn\n\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\n\t}\n\treturn elem.each( function() {\n\t\tjQuery.event.add( this, types, fn, data, selector );\n\t} );\n}\n\n/*\n * Helper functions for managing events -- not part of the public interface.\n * Props to Dean Edwards' addEvent library for many of the ideas.\n */\njQuery.event = {\n\n\tglobal: {},\n\n\tadd: function( elem, types, handler, data, selector ) {\n\n\t\tvar handleObjIn, eventHandle, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.get( elem );\n\n\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\n\t\tif ( !elemData ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Caller can pass in an object of custom data in lieu of the handler\n\t\tif ( handler.handler ) {\n\t\t\thandleObjIn = handler;\n\t\t\thandler = handleObjIn.handler;\n\t\t\tselector = handleObjIn.selector;\n\t\t}\n\n\t\t// Ensure that invalid selectors throw exceptions at attach time\n\t\t// Evaluate against documentElement in case elem is a non-element node (e.g., document)\n\t\tif ( selector ) {\n\t\t\tjQuery.find.matchesSelector( documentElement, selector );\n\t\t}\n\n\t\t// Make sure that the handler has a unique ID, used to find/remove it later\n\t\tif ( !handler.guid ) {\n\t\t\thandler.guid = jQuery.guid++;\n\t\t}\n\n\t\t// Init the element's event structure and main handler, if this is the first\n\t\tif ( !( events = elemData.events ) ) {\n\t\t\tevents = elemData.events = {};\n\t\t}\n\t\tif ( !( eventHandle = elemData.handle ) ) {\n\t\t\teventHandle = elemData.handle = function( e ) {\n\n\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\n\t\t\t\t// when an event is called after a page has unloaded\n\t\t\t\treturn typeof jQuery !== \"undefined\" && jQuery.event.triggered !== e.type ?\n\t\t\t\t\tjQuery.event.dispatch.apply( elem, arguments ) : undefined;\n\t\t\t};\n\t\t}\n\n\t\t// Handle multiple events separated by a space\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// There *must* be a type, no attaching namespace-only handlers\n\t\t\tif ( !type ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// If event changes its type, use the special event handlers for the changed type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// If selector defined, determine special event api type, otherwise given type\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\n\t\t\t// Update special based on newly reset type\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\n\t\t\t// handleObj is passed to all event handlers\n\t\t\thandleObj = jQuery.extend( {\n\t\t\t\ttype: type,\n\t\t\t\torigType: origType,\n\t\t\t\tdata: data,\n\t\t\t\thandler: handler,\n\t\t\t\tguid: handler.guid,\n\t\t\t\tselector: selector,\n\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\n\t\t\t\tnamespace: namespaces.join( \".\" )\n\t\t\t}, handleObjIn );\n\n\t\t\t// Init the event handler queue if we're the first\n\t\t\tif ( !( handlers = events[ type ] ) ) {\n\t\t\t\thandlers = events[ type ] = [];\n\t\t\t\thandlers.delegateCount = 0;\n\n\t\t\t\t// Only use addEventListener if the special events handler returns false\n\t\t\t\tif ( !special.setup ||\n\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\n\n\t\t\t\t\tif ( elem.addEventListener ) {\n\t\t\t\t\t\telem.addEventListener( type, eventHandle );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( special.add ) {\n\t\t\t\tspecial.add.call( elem, handleObj );\n\n\t\t\t\tif ( !handleObj.handler.guid ) {\n\t\t\t\t\thandleObj.handler.guid = handler.guid;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Add to the element's handler list, delegates in front\n\t\t\tif ( selector ) {\n\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\n\t\t\t} else {\n\t\t\t\thandlers.push( handleObj );\n\t\t\t}\n\n\t\t\t// Keep track of which events have ever been used, for event optimization\n\t\t\tjQuery.event.global[ type ] = true;\n\t\t}\n\n\t},\n\n\t// Detach an event or set of events from an element\n\tremove: function( elem, types, handler, selector, mappedTypes ) {\n\n\t\tvar j, origCount, tmp,\n\t\t\tevents, t, handleObj,\n\t\t\tspecial, handlers, type, namespaces, origType,\n\t\t\telemData = dataPriv.hasData( elem ) && dataPriv.get( elem );\n\n\t\tif ( !elemData || !( events = elemData.events ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Once for each type.namespace in types; type may be omitted\n\t\ttypes = ( types || \"\" ).match( rnothtmlwhite ) || [ \"\" ];\n\t\tt = types.length;\n\t\twhile ( t-- ) {\n\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\n\t\t\ttype = origType = tmp[ 1 ];\n\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\n\n\t\t\t// Unbind all events (on this namespace, if provided) for the element\n\t\t\tif ( !type ) {\n\t\t\t\tfor ( type in events ) {\n\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tspecial = jQuery.event.special[ type ] || {};\n\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\n\t\t\thandlers = events[ type ] || [];\n\t\t\ttmp = tmp[ 2 ] &&\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\n\n\t\t\t// Remove matching events\n\t\t\torigCount = j = handlers.length;\n\t\t\twhile ( j-- ) {\n\t\t\t\thandleObj = handlers[ j ];\n\n\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\n\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\n\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\n\t\t\t\t\t( !selector || selector === handleObj.selector ||\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\n\t\t\t\t\thandlers.splice( j, 1 );\n\n\t\t\t\t\tif ( handleObj.selector ) {\n\t\t\t\t\t\thandlers.delegateCount--;\n\t\t\t\t\t}\n\t\t\t\t\tif ( special.remove ) {\n\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Remove generic event handler if we removed something and no more handlers exist\n\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\n\t\t\tif ( origCount && !handlers.length ) {\n\t\t\t\tif ( !special.teardown ||\n\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\n\n\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\n\t\t\t\t}\n\n\t\t\t\tdelete events[ type ];\n\t\t\t}\n\t\t}\n\n\t\t// Remove data and the expando if it's no longer used\n\t\tif ( jQuery.isEmptyObject( events ) ) {\n\t\t\tdataPriv.remove( elem, \"handle events\" );\n\t\t}\n\t},\n\n\tdispatch: function( nativeEvent ) {\n\n\t\t// Make a writable jQuery.Event from the native event object\n\t\tvar event = jQuery.event.fix( nativeEvent );\n\n\t\tvar i, j, ret, matched, handleObj, handlerQueue,\n\t\t\targs = new Array( arguments.length ),\n\t\t\thandlers = ( dataPriv.get( this, \"events\" ) || {} )[ event.type ] || [],\n\t\t\tspecial = jQuery.event.special[ event.type ] || {};\n\n\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\n\t\targs[ 0 ] = event;\n\n\t\tfor ( i = 1; i < arguments.length; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tevent.delegateTarget = this;\n\n\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\n\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine handlers\n\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\n\n\t\t// Run delegates first; they may want to stop propagation beneath us\n\t\ti = 0;\n\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tevent.currentTarget = matched.elem;\n\n\t\t\tj = 0;\n\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\n\n\t\t\t\t// If the event is namespaced, then each handler is only invoked if it is\n\t\t\t\t// specially universal or its namespaces are a superset of the event's.\n\t\t\t\tif ( !event.rnamespace || handleObj.namespace === false ||\n\t\t\t\t\tevent.rnamespace.test( handleObj.namespace ) ) {\n\n\t\t\t\t\tevent.handleObj = handleObj;\n\t\t\t\t\tevent.data = handleObj.data;\n\n\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\n\n\t\t\t\t\tif ( ret !== undefined ) {\n\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Call the postDispatch hook for the mapped type\n\t\tif ( special.postDispatch ) {\n\t\t\tspecial.postDispatch.call( this, event );\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\thandlers: function( event, handlers ) {\n\t\tvar i, handleObj, sel, matchedHandlers, matchedSelectors,\n\t\t\thandlerQueue = [],\n\t\t\tdelegateCount = handlers.delegateCount,\n\t\t\tcur = event.target;\n\n\t\t// Find delegate handlers\n\t\tif ( delegateCount &&\n\n\t\t\t// Support: IE <=9\n\t\t\t// Black-hole SVG <use> instance trees (trac-13180)\n\t\t\tcur.nodeType &&\n\n\t\t\t// Support: Firefox <=42\n\t\t\t// Suppress spec-violating clicks indicating a non-primary pointer button (trac-3861)\n\t\t\t// https://www.w3.org/TR/DOM-Level-3-Events/#event-type-click\n\t\t\t// Support: IE 11 only\n\t\t\t// ...but not arrow key \"clicks\" of radio inputs, which can have `button` -1 (gh-2343)\n\t\t\t!( event.type === \"click\" && event.button >= 1 ) ) {\n\n\t\t\tfor ( ; cur !== this; cur = cur.parentNode || this ) {\n\n\t\t\t\t// Don't check non-elements (#13208)\n\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\n\t\t\t\tif ( cur.nodeType === 1 && !( event.type === \"click\" && cur.disabled === true ) ) {\n\t\t\t\t\tmatchedHandlers = [];\n\t\t\t\t\tmatchedSelectors = {};\n\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\n\t\t\t\t\t\thandleObj = handlers[ i ];\n\n\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\n\t\t\t\t\t\tsel = handleObj.selector + \" \";\n\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] === undefined ) {\n\t\t\t\t\t\t\tmatchedSelectors[ sel ] = handleObj.needsContext ?\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\n\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( matchedSelectors[ sel ] ) {\n\t\t\t\t\t\t\tmatchedHandlers.push( handleObj );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif ( matchedHandlers.length ) {\n\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matchedHandlers } );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Add the remaining (directly-bound) handlers\n\t\tcur = this;\n\t\tif ( delegateCount < handlers.length ) {\n\t\t\thandlerQueue.push( { elem: cur, handlers: handlers.slice( delegateCount ) } );\n\t\t}\n\n\t\treturn handlerQueue;\n\t},\n\n\taddProp: function( name, hook ) {\n\t\tObject.defineProperty( jQuery.Event.prototype, name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\n\t\t\tget: isFunction( hook ) ?\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn hook( this.originalEvent );\n\t\t\t\t\t}\n\t\t\t\t} :\n\t\t\t\tfunction() {\n\t\t\t\t\tif ( this.originalEvent ) {\n\t\t\t\t\t\t\treturn this.originalEvent[ name ];\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\tset: function( value ) {\n\t\t\t\tObject.defineProperty( this, name, {\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\tvalue: value\n\t\t\t\t} );\n\t\t\t}\n\t\t} );\n\t},\n\n\tfix: function( originalEvent ) {\n\t\treturn originalEvent[ jQuery.expando ] ?\n\t\t\toriginalEvent :\n\t\t\tnew jQuery.Event( originalEvent );\n\t},\n\n\tspecial: {\n\t\tload: {\n\n\t\t\t// Prevent triggered image.load events from bubbling to window.load\n\t\t\tnoBubble: true\n\t\t},\n\t\tclick: {\n\n\t\t\t// Utilize native event to ensure correct state for checkable inputs\n\t\t\tsetup: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Claim the first handler\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\t// dataPriv.set( el, \"click\", ... )\n\t\t\t\t\tleverageNative( el, \"click\", returnTrue );\n\t\t\t\t}\n\n\t\t\t\t// Return false to allow normal processing in the caller\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\ttrigger: function( data ) {\n\n\t\t\t\t// For mutual compressibility with _default, replace `this` access with a local var.\n\t\t\t\t// `|| data` is dead code meant only to preserve the variable through minification.\n\t\t\t\tvar el = this || data;\n\n\t\t\t\t// Force setup before triggering a click\n\t\t\t\tif ( rcheckableType.test( el.type ) &&\n\t\t\t\t\tel.click && nodeName( el, \"input\" ) ) {\n\n\t\t\t\t\tleverageNative( el, \"click\" );\n\t\t\t\t}\n\n\t\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\t// For cross-browser consistency, suppress native .click() on links\n\t\t\t// Also prevent it if we're currently inside a leveraged native-event stack\n\t\t\t_default: function( event ) {\n\t\t\t\tvar target = event.target;\n\t\t\t\treturn rcheckableType.test( target.type ) &&\n\t\t\t\t\ttarget.click && nodeName( target, \"input\" ) &&\n\t\t\t\t\tdataPriv.get( target, \"click\" ) ||\n\t\t\t\t\tnodeName( target, \"a\" );\n\t\t\t}\n\t\t},\n\n\t\tbeforeunload: {\n\t\t\tpostDispatch: function( event ) {\n\n\t\t\t\t// Support: Firefox 20+\n\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\n\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\n\t\t\t\t\tevent.originalEvent.returnValue = event.result;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Ensure the presence of an event listener that handles manually-triggered\n// synthetic events by interrupting progress until reinvoked in response to\n// *native* events that it fires directly, ensuring that state changes have\n// already occurred before other listeners are invoked.\nfunction leverageNative( el, type, expectSync ) {\n\n\t// Missing expectSync indicates a trigger call, which must force setup through jQuery.event.add\n\tif ( !expectSync ) {\n\t\tif ( dataPriv.get( el, type ) === undefined ) {\n\t\t\tjQuery.event.add( el, type, returnTrue );\n\t\t}\n\t\treturn;\n\t}\n\n\t// Register the controller as a special universal handler for all event namespaces\n\tdataPriv.set( el, type, false );\n\tjQuery.event.add( el, type, {\n\t\tnamespace: false,\n\t\thandler: function( event ) {\n\t\t\tvar notAsync, result,\n\t\t\t\tsaved = dataPriv.get( this, type );\n\n\t\t\tif ( ( event.isTrigger & 1 ) && this[ type ] ) {\n\n\t\t\t\t// Interrupt processing of the outer synthetic .trigger()ed event\n\t\t\t\t// Saved data should be false in such cases, but might be a leftover capture object\n\t\t\t\t// from an async native handler (gh-4350)\n\t\t\t\tif ( !saved.length ) {\n\n\t\t\t\t\t// Store arguments for use when handling the inner native event\n\t\t\t\t\t// There will always be at least one argument (an event object), so this array\n\t\t\t\t\t// will not be confused with a leftover capture object.\n\t\t\t\t\tsaved = slice.call( arguments );\n\t\t\t\t\tdataPriv.set( this, type, saved );\n\n\t\t\t\t\t// Trigger the native event and capture its result\n\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t// focus() and blur() are asynchronous\n\t\t\t\t\tnotAsync = expectSync( this, type );\n\t\t\t\t\tthis[ type ]();\n\t\t\t\t\tresult = dataPriv.get( this, type );\n\t\t\t\t\tif ( saved !== result || notAsync ) {\n\t\t\t\t\t\tdataPriv.set( this, type, false );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult = {};\n\t\t\t\t\t}\n\t\t\t\t\tif ( saved !== result ) {\n\n\t\t\t\t\t\t// Cancel the outer synthetic event\n\t\t\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\treturn result.value;\n\t\t\t\t\t}\n\n\t\t\t\t// If this is an inner synthetic event for an event with a bubbling surrogate\n\t\t\t\t// (focus or blur), assume that the surrogate already propagated from triggering the\n\t\t\t\t// native event and prevent that from happening again here.\n\t\t\t\t// This technically gets the ordering wrong w.r.t. to `.trigger()` (in which the\n\t\t\t\t// bubbling surrogate propagates *after* the non-bubbling base), but that seems\n\t\t\t\t// less bad than duplication.\n\t\t\t\t} else if ( ( jQuery.event.special[ type ] || {} ).delegateType ) {\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\n\t\t\t// If this is a native event triggered above, everything is now in order\n\t\t\t// Fire an inner synthetic event with the original arguments\n\t\t\t} else if ( saved.length ) {\n\n\t\t\t\t// ...and capture the result\n\t\t\t\tdataPriv.set( this, type, {\n\t\t\t\t\tvalue: jQuery.event.trigger(\n\n\t\t\t\t\t\t// Support: IE <=9 - 11+\n\t\t\t\t\t\t// Extend with the prototype to reset the above stopImmediatePropagation()\n\t\t\t\t\t\tjQuery.extend( saved[ 0 ], jQuery.Event.prototype ),\n\t\t\t\t\t\tsaved.slice( 1 ),\n\t\t\t\t\t\tthis\n\t\t\t\t\t)\n\t\t\t\t} );\n\n\t\t\t\t// Abort handling of the native event\n\t\t\t\tevent.stopImmediatePropagation();\n\t\t\t}\n\t\t}\n\t} );\n}\n\njQuery.removeEvent = function( elem, type, handle ) {\n\n\t// This \"if\" is needed for plain objects\n\tif ( elem.removeEventListener ) {\n\t\telem.removeEventListener( type, handle );\n\t}\n};\n\njQuery.Event = function( src, props ) {\n\n\t// Allow instantiation without the 'new' keyword\n\tif ( !( this instanceof jQuery.Event ) ) {\n\t\treturn new jQuery.Event( src, props );\n\t}\n\n\t// Event object\n\tif ( src && src.type ) {\n\t\tthis.originalEvent = src;\n\t\tthis.type = src.type;\n\n\t\t// Events bubbling up the document may have been marked as prevented\n\t\t// by a handler lower down the tree; reflect the correct value.\n\t\tthis.isDefaultPrevented = src.defaultPrevented ||\n\t\t\t\tsrc.defaultPrevented === undefined &&\n\n\t\t\t\t// Support: Android <=2.3 only\n\t\t\t\tsrc.returnValue === false ?\n\t\t\treturnTrue :\n\t\t\treturnFalse;\n\n\t\t// Create target properties\n\t\t// Support: Safari <=6 - 7 only\n\t\t// Target should not be a text node (#504, #13143)\n\t\tthis.target = ( src.target && src.target.nodeType === 3 ) ?\n\t\t\tsrc.target.parentNode :\n\t\t\tsrc.target;\n\n\t\tthis.currentTarget = src.currentTarget;\n\t\tthis.relatedTarget = src.relatedTarget;\n\n\t// Event type\n\t} else {\n\t\tthis.type = src;\n\t}\n\n\t// Put explicitly provided properties onto the event object\n\tif ( props ) {\n\t\tjQuery.extend( this, props );\n\t}\n\n\t// Create a timestamp if incoming event doesn't have one\n\tthis.timeStamp = src && src.timeStamp || Date.now();\n\n\t// Mark it as fixed\n\tthis[ jQuery.expando ] = true;\n};\n\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\n// https://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\njQuery.Event.prototype = {\n\tconstructor: jQuery.Event,\n\tisDefaultPrevented: returnFalse,\n\tisPropagationStopped: returnFalse,\n\tisImmediatePropagationStopped: returnFalse,\n\tisSimulated: false,\n\n\tpreventDefault: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isDefaultPrevented = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.preventDefault();\n\t\t}\n\t},\n\tstopPropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isPropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\tstopImmediatePropagation: function() {\n\t\tvar e = this.originalEvent;\n\n\t\tthis.isImmediatePropagationStopped = returnTrue;\n\n\t\tif ( e && !this.isSimulated ) {\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\n\t\tthis.stopPropagation();\n\t}\n};\n\n// Includes all common event props including KeyEvent and MouseEvent specific props\njQuery.each( {\n\taltKey: true,\n\tbubbles: true,\n\tcancelable: true,\n\tchangedTouches: true,\n\tctrlKey: true,\n\tdetail: true,\n\teventPhase: true,\n\tmetaKey: true,\n\tpageX: true,\n\tpageY: true,\n\tshiftKey: true,\n\tview: true,\n\t\"char\": true,\n\tcode: true,\n\tcharCode: true,\n\tkey: true,\n\tkeyCode: true,\n\tbutton: true,\n\tbuttons: true,\n\tclientX: true,\n\tclientY: true,\n\toffsetX: true,\n\toffsetY: true,\n\tpointerId: true,\n\tpointerType: true,\n\tscreenX: true,\n\tscreenY: true,\n\ttargetTouches: true,\n\ttoElement: true,\n\ttouches: true,\n\n\twhich: function( event ) {\n\t\tvar button = event.button;\n\n\t\t// Add which for key events\n\t\tif ( event.which == null && rkeyEvent.test( event.type ) ) {\n\t\t\treturn event.charCode != null ? event.charCode : event.keyCode;\n\t\t}\n\n\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\n\t\tif ( !event.which && button !== undefined && rmouseEvent.test( event.type ) ) {\n\t\t\tif ( button & 1 ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tif ( button & 2 ) {\n\t\t\t\treturn 3;\n\t\t\t}\n\n\t\t\tif ( button & 4 ) {\n\t\t\t\treturn 2;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn event.which;\n\t}\n}, jQuery.event.addProp );\n\njQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( type, delegateType ) {\n\tjQuery.event.special[ type ] = {\n\n\t\t// Utilize native event if possible so blur/focus sequence is correct\n\t\tsetup: function() {\n\n\t\t\t// Claim the first handler\n\t\t\t// dataPriv.set( this, \"focus\", ... )\n\t\t\t// dataPriv.set( this, \"blur\", ... )\n\t\t\tleverageNative( this, type, expectSync );\n\n\t\t\t// Return false to allow normal processing in the caller\n\t\t\treturn false;\n\t\t},\n\t\ttrigger: function() {\n\n\t\t\t// Force setup before trigger\n\t\t\tleverageNative( this, type );\n\n\t\t\t// Return non-false to allow normal event-path propagation\n\t\t\treturn true;\n\t\t},\n\n\t\tdelegateType: delegateType\n\t};\n} );\n\n// Create mouseenter/leave events using mouseover/out and event-time checks\n// so that event delegation works in jQuery.\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\n//\n// Support: Safari 7 only\n// Safari sends mouseenter too often; see:\n// https://bugs.chromium.org/p/chromium/issues/detail?id=470258\n// for the description of the bug (it existed in older Chrome versions as well).\njQuery.each( {\n\tmouseenter: \"mouseover\",\n\tmouseleave: \"mouseout\",\n\tpointerenter: \"pointerover\",\n\tpointerleave: \"pointerout\"\n}, function( orig, fix ) {\n\tjQuery.event.special[ orig ] = {\n\t\tdelegateType: fix,\n\t\tbindType: fix,\n\n\t\thandle: function( event ) {\n\t\t\tvar ret,\n\t\t\t\ttarget = this,\n\t\t\t\trelated = event.relatedTarget,\n\t\t\t\thandleObj = event.handleObj;\n\n\t\t\t// For mouseenter/leave call the handler if related is outside the target.\n\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\n\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\n\t\t\t\tevent.type = handleObj.origType;\n\t\t\t\tret = handleObj.handler.apply( this, arguments );\n\t\t\t\tevent.type = fix;\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\t};\n} );\n\njQuery.fn.extend( {\n\n\ton: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn );\n\t},\n\tone: function( types, selector, data, fn ) {\n\t\treturn on( this, types, selector, data, fn, 1 );\n\t},\n\toff: function( types, selector, fn ) {\n\t\tvar handleObj, type;\n\t\tif ( types && types.preventDefault && types.handleObj ) {\n\n\t\t\t// ( event )  dispatched jQuery.Event\n\t\t\thandleObj = types.handleObj;\n\t\t\tjQuery( types.delegateTarget ).off(\n\t\t\t\thandleObj.namespace ?\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\n\t\t\t\t\thandleObj.origType,\n\t\t\t\thandleObj.selector,\n\t\t\t\thandleObj.handler\n\t\t\t);\n\t\t\treturn this;\n\t\t}\n\t\tif ( typeof types === \"object\" ) {\n\n\t\t\t// ( types-object [, selector] )\n\t\t\tfor ( type in types ) {\n\t\t\t\tthis.off( type, selector, types[ type ] );\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\t\tif ( selector === false || typeof selector === \"function\" ) {\n\n\t\t\t// ( types [, fn] )\n\t\t\tfn = selector;\n\t\t\tselector = undefined;\n\t\t}\n\t\tif ( fn === false ) {\n\t\t\tfn = returnFalse;\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.remove( this, types, fn, selector );\n\t\t} );\n\t}\n} );\n\n\nvar\n\n\t/* eslint-disable max-len */\n\n\t// See https://github.com/eslint/eslint/issues/3229\n\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)[^>]*)\\/>/gi,\n\n\t/* eslint-enable */\n\n\t// Support: IE <=10 - 11, Edge 12 - 13 only\n\t// In IE/Edge using regex groups here causes severe slowdowns.\n\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\n\trnoInnerhtml = /<script|<style|<link/i,\n\n\t// checked=\"checked\" or checked\n\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\n\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g;\n\n// Prefer a tbody over its parent table for containing new rows\nfunction manipulationTarget( elem, content ) {\n\tif ( nodeName( elem, \"table\" ) &&\n\t\tnodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ) {\n\n\t\treturn jQuery( elem ).children( \"tbody\" )[ 0 ] || elem;\n\t}\n\n\treturn elem;\n}\n\n// Replace/restore the type attribute of script elements for safe DOM manipulation\nfunction disableScript( elem ) {\n\telem.type = ( elem.getAttribute( \"type\" ) !== null ) + \"/\" + elem.type;\n\treturn elem;\n}\nfunction restoreScript( elem ) {\n\tif ( ( elem.type || \"\" ).slice( 0, 5 ) === \"true/\" ) {\n\t\telem.type = elem.type.slice( 5 );\n\t} else {\n\t\telem.removeAttribute( \"type\" );\n\t}\n\n\treturn elem;\n}\n\nfunction cloneCopyEvent( src, dest ) {\n\tvar i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;\n\n\tif ( dest.nodeType !== 1 ) {\n\t\treturn;\n\t}\n\n\t// 1. Copy private data: events, handlers, etc.\n\tif ( dataPriv.hasData( src ) ) {\n\t\tpdataOld = dataPriv.access( src );\n\t\tpdataCur = dataPriv.set( dest, pdataOld );\n\t\tevents = pdataOld.events;\n\n\t\tif ( events ) {\n\t\t\tdelete pdataCur.handle;\n\t\t\tpdataCur.events = {};\n\n\t\t\tfor ( type in events ) {\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// 2. Copy user data\n\tif ( dataUser.hasData( src ) ) {\n\t\tudataOld = dataUser.access( src );\n\t\tudataCur = jQuery.extend( {}, udataOld );\n\n\t\tdataUser.set( dest, udataCur );\n\t}\n}\n\n// Fix IE bugs, see support tests\nfunction fixInput( src, dest ) {\n\tvar nodeName = dest.nodeName.toLowerCase();\n\n\t// Fails to persist the checked state of a cloned checkbox or radio button.\n\tif ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\n\t\tdest.checked = src.checked;\n\n\t// Fails to return the selected option to the default selected state when cloning options\n\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\n\t\tdest.defaultValue = src.defaultValue;\n\t}\n}\n\nfunction domManip( collection, args, callback, ignored ) {\n\n\t// Flatten any nested arrays\n\targs = concat.apply( [], args );\n\n\tvar fragment, first, scripts, hasScripts, node, doc,\n\t\ti = 0,\n\t\tl = collection.length,\n\t\tiNoClone = l - 1,\n\t\tvalue = args[ 0 ],\n\t\tvalueIsFunction = isFunction( value );\n\n\t// We can't cloneNode fragments that contain checked, in WebKit\n\tif ( valueIsFunction ||\n\t\t\t( l > 1 && typeof value === \"string\" &&\n\t\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\n\t\treturn collection.each( function( index ) {\n\t\t\tvar self = collection.eq( index );\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\n\t\t\t}\n\t\t\tdomManip( self, args, callback, ignored );\n\t\t} );\n\t}\n\n\tif ( l ) {\n\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\n\t\tfirst = fragment.firstChild;\n\n\t\tif ( fragment.childNodes.length === 1 ) {\n\t\t\tfragment = first;\n\t\t}\n\n\t\t// Require either new content or an interest in ignored elements to invoke the callback\n\t\tif ( first || ignored ) {\n\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\n\t\t\thasScripts = scripts.length;\n\n\t\t\t// Use the original fragment for the last item\n\t\t\t// instead of the first because it can end up\n\t\t\t// being emptied incorrectly in certain situations (#8070).\n\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\tnode = fragment;\n\n\t\t\t\tif ( i !== iNoClone ) {\n\t\t\t\t\tnode = jQuery.clone( node, true, true );\n\n\t\t\t\t\t// Keep references to cloned scripts for later restoration\n\t\t\t\t\tif ( hasScripts ) {\n\n\t\t\t\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\n\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcallback.call( collection[ i ], node, i );\n\t\t\t}\n\n\t\t\tif ( hasScripts ) {\n\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\n\n\t\t\t\t// Reenable scripts\n\t\t\t\tjQuery.map( scripts, restoreScript );\n\n\t\t\t\t// Evaluate executable scripts on first document insertion\n\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\n\t\t\t\t\tnode = scripts[ i ];\n\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\n\t\t\t\t\t\t!dataPriv.access( node, \"globalEval\" ) &&\n\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\n\n\t\t\t\t\t\tif ( node.src && ( node.type || \"\" ).toLowerCase()  !== \"module\" ) {\n\n\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\n\t\t\t\t\t\t\tif ( jQuery._evalUrl && !node.noModule ) {\n\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src, {\n\t\t\t\t\t\t\t\t\tnonce: node.nonce || node.getAttribute( \"nonce\" )\n\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tDOMEval( node.textContent.replace( rcleanScript, \"\" ), node, doc );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn collection;\n}\n\nfunction remove( elem, selector, keepData ) {\n\tvar node,\n\t\tnodes = selector ? jQuery.filter( selector, elem ) : elem,\n\t\ti = 0;\n\n\tfor ( ; ( node = nodes[ i ] ) != null; i++ ) {\n\t\tif ( !keepData && node.nodeType === 1 ) {\n\t\t\tjQuery.cleanData( getAll( node ) );\n\t\t}\n\n\t\tif ( node.parentNode ) {\n\t\t\tif ( keepData && isAttached( node ) ) {\n\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\n\t\t\t}\n\t\t\tnode.parentNode.removeChild( node );\n\t\t}\n\t}\n\n\treturn elem;\n}\n\njQuery.extend( {\n\thtmlPrefilter: function( html ) {\n\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\n\t},\n\n\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\n\t\tvar i, l, srcElements, destElements,\n\t\t\tclone = elem.cloneNode( true ),\n\t\t\tinPage = isAttached( elem );\n\n\t\t// Fix IE cloning issues\n\t\tif ( !support.noCloneChecked && ( elem.nodeType === 1 || elem.nodeType === 11 ) &&\n\t\t\t\t!jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// We eschew Sizzle here for performance reasons: https://jsperf.com/getall-vs-sizzle/2\n\t\t\tdestElements = getAll( clone );\n\t\t\tsrcElements = getAll( elem );\n\n\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\tfixInput( srcElements[ i ], destElements[ i ] );\n\t\t\t}\n\t\t}\n\n\t\t// Copy the events from the original to the clone\n\t\tif ( dataAndEvents ) {\n\t\t\tif ( deepDataAndEvents ) {\n\t\t\t\tsrcElements = srcElements || getAll( elem );\n\t\t\t\tdestElements = destElements || getAll( clone );\n\n\t\t\t\tfor ( i = 0, l = srcElements.length; i < l; i++ ) {\n\t\t\t\t\tcloneCopyEvent( srcElements[ i ], destElements[ i ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tcloneCopyEvent( elem, clone );\n\t\t\t}\n\t\t}\n\n\t\t// Preserve script evaluation history\n\t\tdestElements = getAll( clone, \"script\" );\n\t\tif ( destElements.length > 0 ) {\n\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\n\t\t}\n\n\t\t// Return the cloned set\n\t\treturn clone;\n\t},\n\n\tcleanData: function( elems ) {\n\t\tvar data, elem, type,\n\t\t\tspecial = jQuery.event.special,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = elems[ i ] ) !== undefined; i++ ) {\n\t\t\tif ( acceptData( elem ) ) {\n\t\t\t\tif ( ( data = elem[ dataPriv.expando ] ) ) {\n\t\t\t\t\tif ( data.events ) {\n\t\t\t\t\t\tfor ( type in data.events ) {\n\t\t\t\t\t\t\tif ( special[ type ] ) {\n\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\n\n\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataPriv.expando ] = undefined;\n\t\t\t\t}\n\t\t\t\tif ( elem[ dataUser.expando ] ) {\n\n\t\t\t\t\t// Support: Chrome <=35 - 45+\n\t\t\t\t\t// Assign undefined instead of using delete, see Data#remove\n\t\t\t\t\telem[ dataUser.expando ] = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n} );\n\njQuery.fn.extend( {\n\tdetach: function( selector ) {\n\t\treturn remove( this, selector, true );\n\t},\n\n\tremove: function( selector ) {\n\t\treturn remove( this, selector );\n\t},\n\n\ttext: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\treturn value === undefined ?\n\t\t\t\tjQuery.text( this ) :\n\t\t\t\tthis.empty().each( function() {\n\t\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\t\t\tthis.textContent = value;\n\t\t\t\t\t}\n\t\t\t\t} );\n\t\t}, null, value, arguments.length );\n\t},\n\n\tappend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.appendChild( elem );\n\t\t\t}\n\t\t} );\n\t},\n\n\tprepend: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\n\t\t\t\tvar target = manipulationTarget( this, elem );\n\t\t\t\ttarget.insertBefore( elem, target.firstChild );\n\t\t\t}\n\t\t} );\n\t},\n\n\tbefore: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this );\n\t\t\t}\n\t\t} );\n\t},\n\n\tafter: function() {\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tif ( this.parentNode ) {\n\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\n\t\t\t}\n\t\t} );\n\t},\n\n\tempty: function() {\n\t\tvar elem,\n\t\t\ti = 0;\n\n\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\n\t\t\tif ( elem.nodeType === 1 ) {\n\n\t\t\t\t// Prevent memory leaks\n\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\n\t\t\t\t// Remove any remaining nodes\n\t\t\t\telem.textContent = \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tclone: function( dataAndEvents, deepDataAndEvents ) {\n\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\n\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\n\n\t\treturn this.map( function() {\n\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\n\t\t} );\n\t},\n\n\thtml: function( value ) {\n\t\treturn access( this, function( value ) {\n\t\t\tvar elem = this[ 0 ] || {},\n\t\t\t\ti = 0,\n\t\t\t\tl = this.length;\n\n\t\t\tif ( value === undefined && elem.nodeType === 1 ) {\n\t\t\t\treturn elem.innerHTML;\n\t\t\t}\n\n\t\t\t// See if we can take a shortcut and just use innerHTML\n\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\n\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\n\n\t\t\t\tvalue = jQuery.htmlPrefilter( value );\n\n\t\t\t\ttry {\n\t\t\t\t\tfor ( ; i < l; i++ ) {\n\t\t\t\t\t\telem = this[ i ] || {};\n\n\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\n\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\n\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\n\t\t\t\t\t\t\telem.innerHTML = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\telem = 0;\n\n\t\t\t\t// If using innerHTML throws an exception, use the fallback method\n\t\t\t\t} catch ( e ) {}\n\t\t\t}\n\n\t\t\tif ( elem ) {\n\t\t\t\tthis.empty().append( value );\n\t\t\t}\n\t\t}, null, value, arguments.length );\n\t},\n\n\treplaceWith: function() {\n\t\tvar ignored = [];\n\n\t\t// Make the changes, replacing each non-ignored context element with the new content\n\t\treturn domManip( this, arguments, function( elem ) {\n\t\t\tvar parent = this.parentNode;\n\n\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\n\t\t\t\tjQuery.cleanData( getAll( this ) );\n\t\t\t\tif ( parent ) {\n\t\t\t\t\tparent.replaceChild( elem, this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t// Force callback invocation\n\t\t}, ignored );\n\t}\n} );\n\njQuery.each( {\n\tappendTo: \"append\",\n\tprependTo: \"prepend\",\n\tinsertBefore: \"before\",\n\tinsertAfter: \"after\",\n\treplaceAll: \"replaceWith\"\n}, function( name, original ) {\n\tjQuery.fn[ name ] = function( selector ) {\n\t\tvar elems,\n\t\t\tret = [],\n\t\t\tinsert = jQuery( selector ),\n\t\t\tlast = insert.length - 1,\n\t\t\ti = 0;\n\n\t\tfor ( ; i <= last; i++ ) {\n\t\t\telems = i === last ? this : this.clone( true );\n\t\t\tjQuery( insert[ i ] )[ original ]( elems );\n\n\t\t\t// Support: Android <=4.0 only, PhantomJS 1 only\n\t\t\t// .get() because push.apply(_, arraylike) throws on ancient WebKit\n\t\t\tpush.apply( ret, elems.get() );\n\t\t}\n\n\t\treturn this.pushStack( ret );\n\t};\n} );\nvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\n\nvar getStyles = function( elem ) {\n\n\t\t// Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n\t\t// IE throws on elements created in popups\n\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n\t\tvar view = elem.ownerDocument.defaultView;\n\n\t\tif ( !view || !view.opener ) {\n\t\t\tview = window;\n\t\t}\n\n\t\treturn view.getComputedStyle( elem );\n\t};\n\nvar rboxStyle = new RegExp( cssExpand.join( \"|\" ), \"i\" );\n\n\n\n( function() {\n\n\t// Executing both pixelPosition & boxSizingReliable tests require only one layout\n\t// so they're executed at the same time to save the second computation.\n\tfunction computeStyleTests() {\n\n\t\t// This is a singleton, we need to execute it only once\n\t\tif ( !div ) {\n\t\t\treturn;\n\t\t}\n\n\t\tcontainer.style.cssText = \"position:absolute;left:-11111px;width:60px;\" +\n\t\t\t\"margin-top:1px;padding:0;border:0\";\n\t\tdiv.style.cssText =\n\t\t\t\"position:relative;display:block;box-sizing:border-box;overflow:scroll;\" +\n\t\t\t\"margin:auto;border:1px;padding:1px;\" +\n\t\t\t\"width:60%;top:1%\";\n\t\tdocumentElement.appendChild( container ).appendChild( div );\n\n\t\tvar divStyle = window.getComputedStyle( div );\n\t\tpixelPositionVal = divStyle.top !== \"1%\";\n\n\t\t// Support: Android 4.0 - 4.3 only, Firefox <=3 - 44\n\t\treliableMarginLeftVal = roundPixelMeasures( divStyle.marginLeft ) === 12;\n\n\t\t// Support: Android 4.0 - 4.3 only, Safari <=9.1 - 10.1, iOS <=7.0 - 9.3\n\t\t// Some styles come back with percentage values, even though they shouldn't\n\t\tdiv.style.right = \"60%\";\n\t\tpixelBoxStylesVal = roundPixelMeasures( divStyle.right ) === 36;\n\n\t\t// Support: IE 9 - 11 only\n\t\t// Detect misreporting of content dimensions for box-sizing:border-box elements\n\t\tboxSizingReliableVal = roundPixelMeasures( divStyle.width ) === 36;\n\n\t\t// Support: IE 9 only\n\t\t// Detect overflow:scroll screwiness (gh-3699)\n\t\t// Support: Chrome <=64\n\t\t// Don't get tricked when zoom affects offsetWidth (gh-4029)\n\t\tdiv.style.position = \"absolute\";\n\t\tscrollboxSizeVal = roundPixelMeasures( div.offsetWidth / 3 ) === 12;\n\n\t\tdocumentElement.removeChild( container );\n\n\t\t// Nullify the div so it wouldn't be stored in the memory and\n\t\t// it will also be a sign that checks already performed\n\t\tdiv = null;\n\t}\n\n\tfunction roundPixelMeasures( measure ) {\n\t\treturn Math.round( parseFloat( measure ) );\n\t}\n\n\tvar pixelPositionVal, boxSizingReliableVal, scrollboxSizeVal, pixelBoxStylesVal,\n\t\treliableMarginLeftVal,\n\t\tcontainer = document.createElement( \"div\" ),\n\t\tdiv = document.createElement( \"div\" );\n\n\t// Finish early in limited (non-browser) environments\n\tif ( !div.style ) {\n\t\treturn;\n\t}\n\n\t// Support: IE <=9 - 11 only\n\t// Style of cloned element affects source element cloned (#8908)\n\tdiv.style.backgroundClip = \"content-box\";\n\tdiv.cloneNode( true ).style.backgroundClip = \"\";\n\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\n\n\tjQuery.extend( support, {\n\t\tboxSizingReliable: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn boxSizingReliableVal;\n\t\t},\n\t\tpixelBoxStyles: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelBoxStylesVal;\n\t\t},\n\t\tpixelPosition: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn pixelPositionVal;\n\t\t},\n\t\treliableMarginLeft: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn reliableMarginLeftVal;\n\t\t},\n\t\tscrollboxSize: function() {\n\t\t\tcomputeStyleTests();\n\t\t\treturn scrollboxSizeVal;\n\t\t}\n\t} );\n} )();\n\n\nfunction curCSS( elem, name, computed ) {\n\tvar width, minWidth, maxWidth, ret,\n\n\t\t// Support: Firefox 51+\n\t\t// Retrieving style before computed somehow\n\t\t// fixes an issue with getting wrong values\n\t\t// on detached elements\n\t\tstyle = elem.style;\n\n\tcomputed = computed || getStyles( elem );\n\n\t// getPropertyValue is needed for:\n\t//   .css('filter') (IE 9 only, #12537)\n\t//   .css('--customProperty) (#3144)\n\tif ( computed ) {\n\t\tret = computed.getPropertyValue( name ) || computed[ name ];\n\n\t\tif ( ret === \"\" && !isAttached( elem ) ) {\n\t\t\tret = jQuery.style( elem, name );\n\t\t}\n\n\t\t// A tribute to the \"awesome hack by Dean Edwards\"\n\t\t// Android Browser returns percentage for some values,\n\t\t// but width seems to be reliably pixels.\n\t\t// This is against the CSSOM draft spec:\n\t\t// https://drafts.csswg.org/cssom/#resolved-values\n\t\tif ( !support.pixelBoxStyles() && rnumnonpx.test( ret ) && rboxStyle.test( name ) ) {\n\n\t\t\t// Remember the original values\n\t\t\twidth = style.width;\n\t\t\tminWidth = style.minWidth;\n\t\t\tmaxWidth = style.maxWidth;\n\n\t\t\t// Put in the new values to get a computed value out\n\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\n\t\t\tret = computed.width;\n\n\t\t\t// Revert the changed values\n\t\t\tstyle.width = width;\n\t\t\tstyle.minWidth = minWidth;\n\t\t\tstyle.maxWidth = maxWidth;\n\t\t}\n\t}\n\n\treturn ret !== undefined ?\n\n\t\t// Support: IE <=9 - 11 only\n\t\t// IE returns zIndex value as an integer.\n\t\tret + \"\" :\n\t\tret;\n}\n\n\nfunction addGetHookIf( conditionFn, hookFn ) {\n\n\t// Define the hook, we'll check on the first run if it's really needed.\n\treturn {\n\t\tget: function() {\n\t\t\tif ( conditionFn() ) {\n\n\t\t\t\t// Hook not needed (or it's not possible to use it due\n\t\t\t\t// to missing dependency), remove it.\n\t\t\t\tdelete this.get;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Hook needed; redefine it so that the support test is not executed again.\n\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\n\t\t}\n\t};\n}\n\n\nvar cssPrefixes = [ \"Webkit\", \"Moz\", \"ms\" ],\n\temptyStyle = document.createElement( \"div\" ).style,\n\tvendorProps = {};\n\n// Return a vendor-prefixed property or undefined\nfunction vendorPropName( name ) {\n\n\t// Check for vendor prefixed names\n\tvar capName = name[ 0 ].toUpperCase() + name.slice( 1 ),\n\t\ti = cssPrefixes.length;\n\n\twhile ( i-- ) {\n\t\tname = cssPrefixes[ i ] + capName;\n\t\tif ( name in emptyStyle ) {\n\t\t\treturn name;\n\t\t}\n\t}\n}\n\n// Return a potentially-mapped jQuery.cssProps or vendor prefixed property\nfunction finalPropName( name ) {\n\tvar final = jQuery.cssProps[ name ] || vendorProps[ name ];\n\n\tif ( final ) {\n\t\treturn final;\n\t}\n\tif ( name in emptyStyle ) {\n\t\treturn name;\n\t}\n\treturn vendorProps[ name ] = vendorPropName( name ) || name;\n}\n\n\nvar\n\n\t// Swappable if display is none or starts with table\n\t// except \"table\", \"table-cell\", or \"table-caption\"\n\t// See here for display values: https://developer.mozilla.org/en-US/docs/CSS/display\n\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\n\trcustomProp = /^--/,\n\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\n\tcssNormalTransform = {\n\t\tletterSpacing: \"0\",\n\t\tfontWeight: \"400\"\n\t};\n\nfunction setPositiveNumber( elem, value, subtract ) {\n\n\t// Any relative (+/-) values have already been\n\t// normalized at this point\n\tvar matches = rcssNum.exec( value );\n\treturn matches ?\n\n\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\n\t\tMath.max( 0, matches[ 2 ] - ( subtract || 0 ) ) + ( matches[ 3 ] || \"px\" ) :\n\t\tvalue;\n}\n\nfunction boxModelAdjustment( elem, dimension, box, isBorderBox, styles, computedVal ) {\n\tvar i = dimension === \"width\" ? 1 : 0,\n\t\textra = 0,\n\t\tdelta = 0;\n\n\t// Adjustment may not be necessary\n\tif ( box === ( isBorderBox ? \"border\" : \"content\" ) ) {\n\t\treturn 0;\n\t}\n\n\tfor ( ; i < 4; i += 2 ) {\n\n\t\t// Both box models exclude margin\n\t\tif ( box === \"margin\" ) {\n\t\t\tdelta += jQuery.css( elem, box + cssExpand[ i ], true, styles );\n\t\t}\n\n\t\t// If we get here with a content-box, we're seeking \"padding\" or \"border\" or \"margin\"\n\t\tif ( !isBorderBox ) {\n\n\t\t\t// Add padding\n\t\t\tdelta += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\n\t\t\t// For \"border\" or \"margin\", add border\n\t\t\tif ( box !== \"padding\" ) {\n\t\t\t\tdelta += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\n\t\t\t// But still keep track of it otherwise\n\t\t\t} else {\n\t\t\t\textra += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\n\t\t// If we get here with a border-box (content + padding + border), we're seeking \"content\" or\n\t\t// \"padding\" or \"margin\"\n\t\t} else {\n\n\t\t\t// For \"content\", subtract padding\n\t\t\tif ( box === \"content\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\n\t\t\t}\n\n\t\t\t// For \"content\" or \"padding\", subtract border\n\t\t\tif ( box !== \"margin\" ) {\n\t\t\t\tdelta -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\n\t\t\t}\n\t\t}\n\t}\n\n\t// Account for positive content-box scroll gutter when requested by providing computedVal\n\tif ( !isBorderBox && computedVal >= 0 ) {\n\n\t\t// offsetWidth/offsetHeight is a rounded sum of content, padding, scroll gutter, and border\n\t\t// Assuming integer scroll gutter, subtract the rest and round down\n\t\tdelta += Math.max( 0, Math.ceil(\n\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\tcomputedVal -\n\t\t\tdelta -\n\t\t\textra -\n\t\t\t0.5\n\n\t\t// If offsetWidth/offsetHeight is unknown, then we can't determine content-box scroll gutter\n\t\t// Use an explicit zero to avoid NaN (gh-3964)\n\t\t) ) || 0;\n\t}\n\n\treturn delta;\n}\n\nfunction getWidthOrHeight( elem, dimension, extra ) {\n\n\t// Start with computed style\n\tvar styles = getStyles( elem ),\n\n\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-4322).\n\t\t// Fake content-box until we know it's needed to know the true value.\n\t\tboxSizingNeeded = !support.boxSizingReliable() || extra,\n\t\tisBorderBox = boxSizingNeeded &&\n\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\tvalueIsBorderBox = isBorderBox,\n\n\t\tval = curCSS( elem, dimension, styles ),\n\t\toffsetProp = \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 );\n\n\t// Support: Firefox <=54\n\t// Return a confounding non-pixel value or feign ignorance, as appropriate.\n\tif ( rnumnonpx.test( val ) ) {\n\t\tif ( !extra ) {\n\t\t\treturn val;\n\t\t}\n\t\tval = \"auto\";\n\t}\n\n\n\t// Fall back to offsetWidth/offsetHeight when value is \"auto\"\n\t// This happens for inline elements with no explicit setting (gh-3571)\n\t// Support: Android <=4.1 - 4.3 only\n\t// Also use offsetWidth/offsetHeight for misreported inline dimensions (gh-3602)\n\t// Support: IE 9-11 only\n\t// Also use offsetWidth/offsetHeight for when box sizing is unreliable\n\t// We use getClientRects() to check for hidden/disconnected.\n\t// In those cases, the computed value can be trusted to be border-box\n\tif ( ( !support.boxSizingReliable() && isBorderBox ||\n\t\tval === \"auto\" ||\n\t\t!parseFloat( val ) && jQuery.css( elem, \"display\", false, styles ) === \"inline\" ) &&\n\t\telem.getClientRects().length ) {\n\n\t\tisBorderBox = jQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\n\n\t\t// Where available, offsetWidth/offsetHeight approximate border box dimensions.\n\t\t// Where not available (e.g., SVG), assume unreliable box-sizing and interpret the\n\t\t// retrieved value as a content box dimension.\n\t\tvalueIsBorderBox = offsetProp in elem;\n\t\tif ( valueIsBorderBox ) {\n\t\t\tval = elem[ offsetProp ];\n\t\t}\n\t}\n\n\t// Normalize \"\" and auto\n\tval = parseFloat( val ) || 0;\n\n\t// Adjust for the element's box model\n\treturn ( val +\n\t\tboxModelAdjustment(\n\t\t\telem,\n\t\t\tdimension,\n\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\n\t\t\tvalueIsBorderBox,\n\t\t\tstyles,\n\n\t\t\t// Provide the current computed size to request scroll gutter calculation (gh-3589)\n\t\t\tval\n\t\t)\n\t) + \"px\";\n}\n\njQuery.extend( {\n\n\t// Add in style property hooks for overriding the default\n\t// behavior of getting and setting a style property\n\tcssHooks: {\n\t\topacity: {\n\t\t\tget: function( elem, computed ) {\n\t\t\t\tif ( computed ) {\n\n\t\t\t\t\t// We should always get a number back from opacity\n\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\n\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t// Don't automatically add \"px\" to these possibly-unitless properties\n\tcssNumber: {\n\t\t\"animationIterationCount\": true,\n\t\t\"columnCount\": true,\n\t\t\"fillOpacity\": true,\n\t\t\"flexGrow\": true,\n\t\t\"flexShrink\": true,\n\t\t\"fontWeight\": true,\n\t\t\"gridArea\": true,\n\t\t\"gridColumn\": true,\n\t\t\"gridColumnEnd\": true,\n\t\t\"gridColumnStart\": true,\n\t\t\"gridRow\": true,\n\t\t\"gridRowEnd\": true,\n\t\t\"gridRowStart\": true,\n\t\t\"lineHeight\": true,\n\t\t\"opacity\": true,\n\t\t\"order\": true,\n\t\t\"orphans\": true,\n\t\t\"widows\": true,\n\t\t\"zIndex\": true,\n\t\t\"zoom\": true\n\t},\n\n\t// Add in properties whose names you wish to fix before\n\t// setting or getting the value\n\tcssProps: {},\n\n\t// Get and set the style property on a DOM Node\n\tstyle: function( elem, name, value, extra ) {\n\n\t\t// Don't set styles on text and comment nodes\n\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Make sure that we're working with the right name\n\t\tvar ret, type, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name ),\n\t\t\tstyle = elem.style;\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to query the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Gets hook for the prefixed version, then unprefixed version\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// Check if we're setting a value\n\t\tif ( value !== undefined ) {\n\t\t\ttype = typeof value;\n\n\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\n\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\n\t\t\t\tvalue = adjustCSS( elem, name, ret );\n\n\t\t\t\t// Fixes bug #9237\n\t\t\t\ttype = \"number\";\n\t\t\t}\n\n\t\t\t// Make sure that null and NaN values aren't set (#7116)\n\t\t\tif ( value == null || value !== value ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\n\t\t\t// The isCustomProp check can be removed in jQuery 4.0 when we only auto-append\n\t\t\t// \"px\" to a few hardcoded values.\n\t\t\tif ( type === \"number\" && !isCustomProp ) {\n\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\n\t\t\t}\n\n\t\t\t// background-* props affect original clone's values\n\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\n\t\t\t\tstyle[ name ] = \"inherit\";\n\t\t\t}\n\n\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\n\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\n\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\n\n\t\t\t\tif ( isCustomProp ) {\n\t\t\t\t\tstyle.setProperty( name, value );\n\t\t\t\t} else {\n\t\t\t\t\tstyle[ name ] = value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// If a hook was provided get the non-computed value from there\n\t\t\tif ( hooks && \"get\" in hooks &&\n\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\n\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Otherwise just get the value from the style object\n\t\t\treturn style[ name ];\n\t\t}\n\t},\n\n\tcss: function( elem, name, extra, styles ) {\n\t\tvar val, num, hooks,\n\t\t\torigName = camelCase( name ),\n\t\t\tisCustomProp = rcustomProp.test( name );\n\n\t\t// Make sure that we're working with the right name. We don't\n\t\t// want to modify the value if it is a CSS custom property\n\t\t// since they are user-defined.\n\t\tif ( !isCustomProp ) {\n\t\t\tname = finalPropName( origName );\n\t\t}\n\n\t\t// Try prefixed name followed by the unprefixed name\n\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\n\n\t\t// If a hook was provided get the computed value from there\n\t\tif ( hooks && \"get\" in hooks ) {\n\t\t\tval = hooks.get( elem, true, extra );\n\t\t}\n\n\t\t// Otherwise, if a way to get the computed value exists, use that\n\t\tif ( val === undefined ) {\n\t\t\tval = curCSS( elem, name, styles );\n\t\t}\n\n\t\t// Convert \"normal\" to computed value\n\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\n\t\t\tval = cssNormalTransform[ name ];\n\t\t}\n\n\t\t// Make numeric if forced or a qualifier was provided and val looks numeric\n\t\tif ( extra === \"\" || extra ) {\n\t\t\tnum = parseFloat( val );\n\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\n\t\t}\n\n\t\treturn val;\n\t}\n} );\n\njQuery.each( [ \"height\", \"width\" ], function( i, dimension ) {\n\tjQuery.cssHooks[ dimension ] = {\n\t\tget: function( elem, computed, extra ) {\n\t\t\tif ( computed ) {\n\n\t\t\t\t// Certain elements can have dimension info if we invisibly show them\n\t\t\t\t// but it must have a current display style that would benefit\n\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\n\n\t\t\t\t\t// Support: Safari 8+\n\t\t\t\t\t// Table columns in Safari have non-zero offsetWidth & zero\n\t\t\t\t\t// getBoundingClientRect().width unless display is changed.\n\t\t\t\t\t// Support: IE <=11 only\n\t\t\t\t\t// Running getBoundingClientRect on a disconnected node\n\t\t\t\t\t// in IE throws an error.\n\t\t\t\t\t( !elem.getClientRects().length || !elem.getBoundingClientRect().width ) ?\n\t\t\t\t\t\tswap( elem, cssShow, function() {\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, dimension, extra );\n\t\t\t\t\t\t} ) :\n\t\t\t\t\t\tgetWidthOrHeight( elem, dimension, extra );\n\t\t\t}\n\t\t},\n\n\t\tset: function( elem, value, extra ) {\n\t\t\tvar matches,\n\t\t\t\tstyles = getStyles( elem ),\n\n\t\t\t\t// Only read styles.position if the test has a chance to fail\n\t\t\t\t// to avoid forcing a reflow.\n\t\t\t\tscrollboxSizeBuggy = !support.scrollboxSize() &&\n\t\t\t\t\tstyles.position === \"absolute\",\n\n\t\t\t\t// To avoid forcing a reflow, only fetch boxSizing if we need it (gh-3991)\n\t\t\t\tboxSizingNeeded = scrollboxSizeBuggy || extra,\n\t\t\t\tisBorderBox = boxSizingNeeded &&\n\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\n\t\t\t\tsubtract = extra ?\n\t\t\t\t\tboxModelAdjustment(\n\t\t\t\t\t\telem,\n\t\t\t\t\t\tdimension,\n\t\t\t\t\t\textra,\n\t\t\t\t\t\tisBorderBox,\n\t\t\t\t\t\tstyles\n\t\t\t\t\t) :\n\t\t\t\t\t0;\n\n\t\t\t// Account for unreliable border-box dimensions by comparing offset* to computed and\n\t\t\t// faking a content-box to get border and padding (gh-3699)\n\t\t\tif ( isBorderBox && scrollboxSizeBuggy ) {\n\t\t\t\tsubtract -= Math.ceil(\n\t\t\t\t\telem[ \"offset\" + dimension[ 0 ].toUpperCase() + dimension.slice( 1 ) ] -\n\t\t\t\t\tparseFloat( styles[ dimension ] ) -\n\t\t\t\t\tboxModelAdjustment( elem, dimension, \"border\", false, styles ) -\n\t\t\t\t\t0.5\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t// Convert to pixels if value adjustment is needed\n\t\t\tif ( subtract && ( matches = rcssNum.exec( value ) ) &&\n\t\t\t\t( matches[ 3 ] || \"px\" ) !== \"px\" ) {\n\n\t\t\t\telem.style[ dimension ] = value;\n\t\t\t\tvalue = jQuery.css( elem, dimension );\n\t\t\t}\n\n\t\t\treturn setPositiveNumber( elem, value, subtract );\n\t\t}\n\t};\n} );\n\njQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\n\tfunction( elem, computed ) {\n\t\tif ( computed ) {\n\t\t\treturn ( parseFloat( curCSS( elem, \"marginLeft\" ) ) ||\n\t\t\t\telem.getBoundingClientRect().left -\n\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\n\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\n\t\t\t\t\t} )\n\t\t\t\t) + \"px\";\n\t\t}\n\t}\n);\n\n// These hooks are used by animate to expand properties\njQuery.each( {\n\tmargin: \"\",\n\tpadding: \"\",\n\tborder: \"Width\"\n}, function( prefix, suffix ) {\n\tjQuery.cssHooks[ prefix + suffix ] = {\n\t\texpand: function( value ) {\n\t\t\tvar i = 0,\n\t\t\t\texpanded = {},\n\n\t\t\t\t// Assumes a single number if not a string\n\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\n\n\t\t\tfor ( ; i < 4; i++ ) {\n\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\n\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\n\t\t\t}\n\n\t\t\treturn expanded;\n\t\t}\n\t};\n\n\tif ( prefix !== \"margin\" ) {\n\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\n\t}\n} );\n\njQuery.fn.extend( {\n\tcss: function( name, value ) {\n\t\treturn access( this, function( elem, name, value ) {\n\t\t\tvar styles, len,\n\t\t\t\tmap = {},\n\t\t\t\ti = 0;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\t\t\t\tstyles = getStyles( elem );\n\t\t\t\tlen = name.length;\n\n\t\t\t\tfor ( ; i < len; i++ ) {\n\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\n\t\t\t\t}\n\n\t\t\t\treturn map;\n\t\t\t}\n\n\t\t\treturn value !== undefined ?\n\t\t\t\tjQuery.style( elem, name, value ) :\n\t\t\t\tjQuery.css( elem, name );\n\t\t}, name, value, arguments.length > 1 );\n\t}\n} );\n\n\nfunction Tween( elem, options, prop, end, easing ) {\n\treturn new Tween.prototype.init( elem, options, prop, end, easing );\n}\njQuery.Tween = Tween;\n\nTween.prototype = {\n\tconstructor: Tween,\n\tinit: function( elem, options, prop, end, easing, unit ) {\n\t\tthis.elem = elem;\n\t\tthis.prop = prop;\n\t\tthis.easing = easing || jQuery.easing._default;\n\t\tthis.options = options;\n\t\tthis.start = this.now = this.cur();\n\t\tthis.end = end;\n\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\n\t},\n\tcur: function() {\n\t\tvar hooks = Tween.propHooks[ this.prop ];\n\n\t\treturn hooks && hooks.get ?\n\t\t\thooks.get( this ) :\n\t\t\tTween.propHooks._default.get( this );\n\t},\n\trun: function( percent ) {\n\t\tvar eased,\n\t\t\thooks = Tween.propHooks[ this.prop ];\n\n\t\tif ( this.options.duration ) {\n\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\n\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\n\t\t\t);\n\t\t} else {\n\t\t\tthis.pos = eased = percent;\n\t\t}\n\t\tthis.now = ( this.end - this.start ) * eased + this.start;\n\n\t\tif ( this.options.step ) {\n\t\t\tthis.options.step.call( this.elem, this.now, this );\n\t\t}\n\n\t\tif ( hooks && hooks.set ) {\n\t\t\thooks.set( this );\n\t\t} else {\n\t\t\tTween.propHooks._default.set( this );\n\t\t}\n\t\treturn this;\n\t}\n};\n\nTween.prototype.init.prototype = Tween.prototype;\n\nTween.propHooks = {\n\t_default: {\n\t\tget: function( tween ) {\n\t\t\tvar result;\n\n\t\t\t// Use a property on the element directly when it is not a DOM element,\n\t\t\t// or when there is no matching style property that exists.\n\t\t\tif ( tween.elem.nodeType !== 1 ||\n\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\n\t\t\t\treturn tween.elem[ tween.prop ];\n\t\t\t}\n\n\t\t\t// Passing an empty string as a 3rd parameter to .css will automatically\n\t\t\t// attempt a parseFloat and fallback to a string if the parse fails.\n\t\t\t// Simple values such as \"10px\" are parsed to Float;\n\t\t\t// complex values such as \"rotate(1rad)\" are returned as-is.\n\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\n\n\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\n\t\t\treturn !result || result === \"auto\" ? 0 : result;\n\t\t},\n\t\tset: function( tween ) {\n\n\t\t\t// Use step hook for back compat.\n\t\t\t// Use cssHook if its there.\n\t\t\t// Use .style if available and use plain properties where available.\n\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\n\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\n\t\t\t} else if ( tween.elem.nodeType === 1 && (\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ||\n\t\t\t\t\ttween.elem.style[ finalPropName( tween.prop ) ] != null ) ) {\n\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\n\t\t\t} else {\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Support: IE <=9 only\n// Panic based approach to setting things on disconnected nodes\nTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\n\tset: function( tween ) {\n\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\n\t\t\ttween.elem[ tween.prop ] = tween.now;\n\t\t}\n\t}\n};\n\njQuery.easing = {\n\tlinear: function( p ) {\n\t\treturn p;\n\t},\n\tswing: function( p ) {\n\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\n\t},\n\t_default: \"swing\"\n};\n\njQuery.fx = Tween.prototype.init;\n\n// Back compat <1.8 extension point\njQuery.fx.step = {};\n\n\n\n\nvar\n\tfxNow, inProgress,\n\trfxtypes = /^(?:toggle|show|hide)$/,\n\trrun = /queueHooks$/;\n\nfunction schedule() {\n\tif ( inProgress ) {\n\t\tif ( document.hidden === false && window.requestAnimationFrame ) {\n\t\t\twindow.requestAnimationFrame( schedule );\n\t\t} else {\n\t\t\twindow.setTimeout( schedule, jQuery.fx.interval );\n\t\t}\n\n\t\tjQuery.fx.tick();\n\t}\n}\n\n// Animations created synchronously will run synchronously\nfunction createFxNow() {\n\twindow.setTimeout( function() {\n\t\tfxNow = undefined;\n\t} );\n\treturn ( fxNow = Date.now() );\n}\n\n// Generate parameters to create a standard animation\nfunction genFx( type, includeWidth ) {\n\tvar which,\n\t\ti = 0,\n\t\tattrs = { height: type };\n\n\t// If we include width, step value is 1 to do all cssExpand values,\n\t// otherwise step value is 2 to skip over Left and Right\n\tincludeWidth = includeWidth ? 1 : 0;\n\tfor ( ; i < 4; i += 2 - includeWidth ) {\n\t\twhich = cssExpand[ i ];\n\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\n\t}\n\n\tif ( includeWidth ) {\n\t\tattrs.opacity = attrs.width = type;\n\t}\n\n\treturn attrs;\n}\n\nfunction createTween( value, prop, animation ) {\n\tvar tween,\n\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\n\t\tindex = 0,\n\t\tlength = collection.length;\n\tfor ( ; index < length; index++ ) {\n\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\n\n\t\t\t// We're done with this property\n\t\t\treturn tween;\n\t\t}\n\t}\n}\n\nfunction defaultPrefilter( elem, props, opts ) {\n\tvar prop, value, toggle, hooks, oldfire, propTween, restoreDisplay, display,\n\t\tisBox = \"width\" in props || \"height\" in props,\n\t\tanim = this,\n\t\torig = {},\n\t\tstyle = elem.style,\n\t\thidden = elem.nodeType && isHiddenWithinTree( elem ),\n\t\tdataShow = dataPriv.get( elem, \"fxshow\" );\n\n\t// Queue-skipping animations hijack the fx hooks\n\tif ( !opts.queue ) {\n\t\thooks = jQuery._queueHooks( elem, \"fx\" );\n\t\tif ( hooks.unqueued == null ) {\n\t\t\thooks.unqueued = 0;\n\t\t\toldfire = hooks.empty.fire;\n\t\t\thooks.empty.fire = function() {\n\t\t\t\tif ( !hooks.unqueued ) {\n\t\t\t\t\toldfire();\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\thooks.unqueued++;\n\n\t\tanim.always( function() {\n\n\t\t\t// Ensure the complete handler is called before this completes\n\t\t\tanim.always( function() {\n\t\t\t\thooks.unqueued--;\n\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\n\t\t\t\t\thooks.empty.fire();\n\t\t\t\t}\n\t\t\t} );\n\t\t} );\n\t}\n\n\t// Detect show/hide animations\n\tfor ( prop in props ) {\n\t\tvalue = props[ prop ];\n\t\tif ( rfxtypes.test( value ) ) {\n\t\t\tdelete props[ prop ];\n\t\t\ttoggle = toggle || value === \"toggle\";\n\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\n\n\t\t\t\t// Pretend to be hidden if this is a \"show\" and\n\t\t\t\t// there is still data from a stopped show/hide\n\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\n\t\t\t\t\thidden = true;\n\n\t\t\t\t// Ignore all other no-op show/hide data\n\t\t\t\t} else {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\n\t\t}\n\t}\n\n\t// Bail out if this is a no-op like .hide().hide()\n\tpropTween = !jQuery.isEmptyObject( props );\n\tif ( !propTween && jQuery.isEmptyObject( orig ) ) {\n\t\treturn;\n\t}\n\n\t// Restrict \"overflow\" and \"display\" styles during box animations\n\tif ( isBox && elem.nodeType === 1 ) {\n\n\t\t// Support: IE <=9 - 11, Edge 12 - 15\n\t\t// Record all 3 overflow attributes because IE does not infer the shorthand\n\t\t// from identically-valued overflowX and overflowY and Edge just mirrors\n\t\t// the overflowX value there.\n\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\n\n\t\t// Identify a display type, preferring old show/hide data over the CSS cascade\n\t\trestoreDisplay = dataShow && dataShow.display;\n\t\tif ( restoreDisplay == null ) {\n\t\t\trestoreDisplay = dataPriv.get( elem, \"display\" );\n\t\t}\n\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\tif ( display === \"none\" ) {\n\t\t\tif ( restoreDisplay ) {\n\t\t\t\tdisplay = restoreDisplay;\n\t\t\t} else {\n\n\t\t\t\t// Get nonempty value(s) by temporarily forcing visibility\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t\trestoreDisplay = elem.style.display || restoreDisplay;\n\t\t\t\tdisplay = jQuery.css( elem, \"display\" );\n\t\t\t\tshowHide( [ elem ] );\n\t\t\t}\n\t\t}\n\n\t\t// Animate inline elements as inline-block\n\t\tif ( display === \"inline\" || display === \"inline-block\" && restoreDisplay != null ) {\n\t\t\tif ( jQuery.css( elem, \"float\" ) === \"none\" ) {\n\n\t\t\t\t// Restore the original display value at the end of pure show/hide animations\n\t\t\t\tif ( !propTween ) {\n\t\t\t\t\tanim.done( function() {\n\t\t\t\t\t\tstyle.display = restoreDisplay;\n\t\t\t\t\t} );\n\t\t\t\t\tif ( restoreDisplay == null ) {\n\t\t\t\t\t\tdisplay = style.display;\n\t\t\t\t\t\trestoreDisplay = display === \"none\" ? \"\" : display;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstyle.display = \"inline-block\";\n\t\t\t}\n\t\t}\n\t}\n\n\tif ( opts.overflow ) {\n\t\tstyle.overflow = \"hidden\";\n\t\tanim.always( function() {\n\t\t\tstyle.overflow = opts.overflow[ 0 ];\n\t\t\tstyle.overflowX = opts.overflow[ 1 ];\n\t\t\tstyle.overflowY = opts.overflow[ 2 ];\n\t\t} );\n\t}\n\n\t// Implement show/hide animations\n\tpropTween = false;\n\tfor ( prop in orig ) {\n\n\t\t// General show/hide setup for this element animation\n\t\tif ( !propTween ) {\n\t\t\tif ( dataShow ) {\n\t\t\t\tif ( \"hidden\" in dataShow ) {\n\t\t\t\t\thidden = dataShow.hidden;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdataShow = dataPriv.access( elem, \"fxshow\", { display: restoreDisplay } );\n\t\t\t}\n\n\t\t\t// Store hidden/visible for toggle so `.stop().toggle()` \"reverses\"\n\t\t\tif ( toggle ) {\n\t\t\t\tdataShow.hidden = !hidden;\n\t\t\t}\n\n\t\t\t// Show elements before animating them\n\t\t\tif ( hidden ) {\n\t\t\t\tshowHide( [ elem ], true );\n\t\t\t}\n\n\t\t\t/* eslint-disable no-loop-func */\n\n\t\t\tanim.done( function() {\n\n\t\t\t/* eslint-enable no-loop-func */\n\n\t\t\t\t// The final step of a \"hide\" animation is actually hiding the element\n\t\t\t\tif ( !hidden ) {\n\t\t\t\t\tshowHide( [ elem ] );\n\t\t\t\t}\n\t\t\t\tdataPriv.remove( elem, \"fxshow\" );\n\t\t\t\tfor ( prop in orig ) {\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\t// Per-property setup\n\t\tpropTween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\n\t\tif ( !( prop in dataShow ) ) {\n\t\t\tdataShow[ prop ] = propTween.start;\n\t\t\tif ( hidden ) {\n\t\t\t\tpropTween.end = propTween.start;\n\t\t\t\tpropTween.start = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction propFilter( props, specialEasing ) {\n\tvar index, name, easing, value, hooks;\n\n\t// camelCase, specialEasing and expand cssHook pass\n\tfor ( index in props ) {\n\t\tname = camelCase( index );\n\t\teasing = specialEasing[ name ];\n\t\tvalue = props[ index ];\n\t\tif ( Array.isArray( value ) ) {\n\t\t\teasing = value[ 1 ];\n\t\t\tvalue = props[ index ] = value[ 0 ];\n\t\t}\n\n\t\tif ( index !== name ) {\n\t\t\tprops[ name ] = value;\n\t\t\tdelete props[ index ];\n\t\t}\n\n\t\thooks = jQuery.cssHooks[ name ];\n\t\tif ( hooks && \"expand\" in hooks ) {\n\t\t\tvalue = hooks.expand( value );\n\t\t\tdelete props[ name ];\n\n\t\t\t// Not quite $.extend, this won't overwrite existing keys.\n\t\t\t// Reusing 'index' because we have the correct \"name\"\n\t\t\tfor ( index in value ) {\n\t\t\t\tif ( !( index in props ) ) {\n\t\t\t\t\tprops[ index ] = value[ index ];\n\t\t\t\t\tspecialEasing[ index ] = easing;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tspecialEasing[ name ] = easing;\n\t\t}\n\t}\n}\n\nfunction Animation( elem, properties, options ) {\n\tvar result,\n\t\tstopped,\n\t\tindex = 0,\n\t\tlength = Animation.prefilters.length,\n\t\tdeferred = jQuery.Deferred().always( function() {\n\n\t\t\t// Don't match elem in the :animated selector\n\t\t\tdelete tick.elem;\n\t\t} ),\n\t\ttick = function() {\n\t\t\tif ( stopped ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar currentTime = fxNow || createFxNow(),\n\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\n\n\t\t\t\t// Support: Android 2.3 only\n\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\n\t\t\t\ttemp = remaining / animation.duration || 0,\n\t\t\t\tpercent = 1 - temp,\n\t\t\t\tindex = 0,\n\t\t\t\tlength = animation.tweens.length;\n\n\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\tanimation.tweens[ index ].run( percent );\n\t\t\t}\n\n\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\n\n\t\t\t// If there's more to do, yield\n\t\t\tif ( percent < 1 && length ) {\n\t\t\t\treturn remaining;\n\t\t\t}\n\n\t\t\t// If this was an empty animation, synthesize a final progress notification\n\t\t\tif ( !length ) {\n\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t}\n\n\t\t\t// Resolve the animation and report its conclusion\n\t\t\tdeferred.resolveWith( elem, [ animation ] );\n\t\t\treturn false;\n\t\t},\n\t\tanimation = deferred.promise( {\n\t\t\telem: elem,\n\t\t\tprops: jQuery.extend( {}, properties ),\n\t\t\topts: jQuery.extend( true, {\n\t\t\t\tspecialEasing: {},\n\t\t\t\teasing: jQuery.easing._default\n\t\t\t}, options ),\n\t\t\toriginalProperties: properties,\n\t\t\toriginalOptions: options,\n\t\t\tstartTime: fxNow || createFxNow(),\n\t\t\tduration: options.duration,\n\t\t\ttweens: [],\n\t\t\tcreateTween: function( prop, end ) {\n\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\n\t\t\t\tanimation.tweens.push( tween );\n\t\t\t\treturn tween;\n\t\t\t},\n\t\t\tstop: function( gotoEnd ) {\n\t\t\t\tvar index = 0,\n\n\t\t\t\t\t// If we are going to the end, we want to run all the tweens\n\t\t\t\t\t// otherwise we skip this part\n\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\n\t\t\t\tif ( stopped ) {\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t\tstopped = true;\n\t\t\t\tfor ( ; index < length; index++ ) {\n\t\t\t\t\tanimation.tweens[ index ].run( 1 );\n\t\t\t\t}\n\n\t\t\t\t// Resolve when we played the last frame; otherwise, reject\n\t\t\t\tif ( gotoEnd ) {\n\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t} else {\n\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\n\t\t\t\t}\n\t\t\t\treturn this;\n\t\t\t}\n\t\t} ),\n\t\tprops = animation.props;\n\n\tpropFilter( props, animation.opts.specialEasing );\n\n\tfor ( ; index < length; index++ ) {\n\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\n\t\tif ( result ) {\n\t\t\tif ( isFunction( result.stop ) ) {\n\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\n\t\t\t\t\tresult.stop.bind( result );\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\t}\n\n\tjQuery.map( props, createTween, animation );\n\n\tif ( isFunction( animation.opts.start ) ) {\n\t\tanimation.opts.start.call( elem, animation );\n\t}\n\n\t// Attach callbacks from options\n\tanimation\n\t\t.progress( animation.opts.progress )\n\t\t.done( animation.opts.done, animation.opts.complete )\n\t\t.fail( animation.opts.fail )\n\t\t.always( animation.opts.always );\n\n\tjQuery.fx.timer(\n\t\tjQuery.extend( tick, {\n\t\t\telem: elem,\n\t\t\tanim: animation,\n\t\t\tqueue: animation.opts.queue\n\t\t} )\n\t);\n\n\treturn animation;\n}\n\njQuery.Animation = jQuery.extend( Animation, {\n\n\ttweeners: {\n\t\t\"*\": [ function( prop, value ) {\n\t\t\tvar tween = this.createTween( prop, value );\n\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\n\t\t\treturn tween;\n\t\t} ]\n\t},\n\n\ttweener: function( props, callback ) {\n\t\tif ( isFunction( props ) ) {\n\t\t\tcallback = props;\n\t\t\tprops = [ \"*\" ];\n\t\t} else {\n\t\t\tprops = props.match( rnothtmlwhite );\n\t\t}\n\n\t\tvar prop,\n\t\t\tindex = 0,\n\t\t\tlength = props.length;\n\n\t\tfor ( ; index < length; index++ ) {\n\t\t\tprop = props[ index ];\n\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\n\t\t\tAnimation.tweeners[ prop ].unshift( callback );\n\t\t}\n\t},\n\n\tprefilters: [ defaultPrefilter ],\n\n\tprefilter: function( callback, prepend ) {\n\t\tif ( prepend ) {\n\t\t\tAnimation.prefilters.unshift( callback );\n\t\t} else {\n\t\t\tAnimation.prefilters.push( callback );\n\t\t}\n\t}\n} );\n\njQuery.speed = function( speed, easing, fn ) {\n\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\n\t\tcomplete: fn || !fn && easing ||\n\t\t\tisFunction( speed ) && speed,\n\t\tduration: speed,\n\t\teasing: fn && easing || easing && !isFunction( easing ) && easing\n\t};\n\n\t// Go to the end state if fx are off\n\tif ( jQuery.fx.off ) {\n\t\topt.duration = 0;\n\n\t} else {\n\t\tif ( typeof opt.duration !== \"number\" ) {\n\t\t\tif ( opt.duration in jQuery.fx.speeds ) {\n\t\t\t\topt.duration = jQuery.fx.speeds[ opt.duration ];\n\n\t\t\t} else {\n\t\t\t\topt.duration = jQuery.fx.speeds._default;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Normalize opt.queue - true/undefined/null -> \"fx\"\n\tif ( opt.queue == null || opt.queue === true ) {\n\t\topt.queue = \"fx\";\n\t}\n\n\t// Queueing\n\topt.old = opt.complete;\n\n\topt.complete = function() {\n\t\tif ( isFunction( opt.old ) ) {\n\t\t\topt.old.call( this );\n\t\t}\n\n\t\tif ( opt.queue ) {\n\t\t\tjQuery.dequeue( this, opt.queue );\n\t\t}\n\t};\n\n\treturn opt;\n};\n\njQuery.fn.extend( {\n\tfadeTo: function( speed, to, easing, callback ) {\n\n\t\t// Show any hidden elements after setting opacity to 0\n\t\treturn this.filter( isHiddenWithinTree ).css( \"opacity\", 0 ).show()\n\n\t\t\t// Animate to the value specified\n\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\n\t},\n\tanimate: function( prop, speed, easing, callback ) {\n\t\tvar empty = jQuery.isEmptyObject( prop ),\n\t\t\toptall = jQuery.speed( speed, easing, callback ),\n\t\t\tdoAnimation = function() {\n\n\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\n\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\n\n\t\t\t\t// Empty animations, or finishing resolves immediately\n\t\t\t\tif ( empty || dataPriv.get( this, \"finish\" ) ) {\n\t\t\t\t\tanim.stop( true );\n\t\t\t\t}\n\t\t\t};\n\t\t\tdoAnimation.finish = doAnimation;\n\n\t\treturn empty || optall.queue === false ?\n\t\t\tthis.each( doAnimation ) :\n\t\t\tthis.queue( optall.queue, doAnimation );\n\t},\n\tstop: function( type, clearQueue, gotoEnd ) {\n\t\tvar stopQueue = function( hooks ) {\n\t\t\tvar stop = hooks.stop;\n\t\t\tdelete hooks.stop;\n\t\t\tstop( gotoEnd );\n\t\t};\n\n\t\tif ( typeof type !== \"string\" ) {\n\t\t\tgotoEnd = clearQueue;\n\t\t\tclearQueue = type;\n\t\t\ttype = undefined;\n\t\t}\n\t\tif ( clearQueue && type !== false ) {\n\t\t\tthis.queue( type || \"fx\", [] );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar dequeue = true,\n\t\t\t\tindex = type != null && type + \"queueHooks\",\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tdata = dataPriv.get( this );\n\n\t\t\tif ( index ) {\n\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\n\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor ( index in data ) {\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\n\t\t\t\t\t\tstopQueue( data[ index ] );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this &&\n\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\n\n\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\n\t\t\t\t\tdequeue = false;\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Start the next in the queue if the last step wasn't forced.\n\t\t\t// Timers currently will call their complete callbacks, which\n\t\t\t// will dequeue but only if they were gotoEnd.\n\t\t\tif ( dequeue || !gotoEnd ) {\n\t\t\t\tjQuery.dequeue( this, type );\n\t\t\t}\n\t\t} );\n\t},\n\tfinish: function( type ) {\n\t\tif ( type !== false ) {\n\t\t\ttype = type || \"fx\";\n\t\t}\n\t\treturn this.each( function() {\n\t\t\tvar index,\n\t\t\t\tdata = dataPriv.get( this ),\n\t\t\t\tqueue = data[ type + \"queue\" ],\n\t\t\t\thooks = data[ type + \"queueHooks\" ],\n\t\t\t\ttimers = jQuery.timers,\n\t\t\t\tlength = queue ? queue.length : 0;\n\n\t\t\t// Enable finishing flag on private data\n\t\t\tdata.finish = true;\n\n\t\t\t// Empty the queue first\n\t\t\tjQuery.queue( this, type, [] );\n\n\t\t\tif ( hooks && hooks.stop ) {\n\t\t\t\thooks.stop.call( this, true );\n\t\t\t}\n\n\t\t\t// Look for any active animations, and finish them\n\t\t\tfor ( index = timers.length; index--; ) {\n\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\n\t\t\t\t\ttimers[ index ].anim.stop( true );\n\t\t\t\t\ttimers.splice( index, 1 );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Look for any animations in the old queue and finish them\n\t\t\tfor ( index = 0; index < length; index++ ) {\n\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\n\t\t\t\t\tqueue[ index ].finish.call( this );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Turn off finishing flag\n\t\t\tdelete data.finish;\n\t\t} );\n\t}\n} );\n\njQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\n\tvar cssFn = jQuery.fn[ name ];\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn speed == null || typeof speed === \"boolean\" ?\n\t\t\tcssFn.apply( this, arguments ) :\n\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\n\t};\n} );\n\n// Generate shortcuts for custom animations\njQuery.each( {\n\tslideDown: genFx( \"show\" ),\n\tslideUp: genFx( \"hide\" ),\n\tslideToggle: genFx( \"toggle\" ),\n\tfadeIn: { opacity: \"show\" },\n\tfadeOut: { opacity: \"hide\" },\n\tfadeToggle: { opacity: \"toggle\" }\n}, function( name, props ) {\n\tjQuery.fn[ name ] = function( speed, easing, callback ) {\n\t\treturn this.animate( props, speed, easing, callback );\n\t};\n} );\n\njQuery.timers = [];\njQuery.fx.tick = function() {\n\tvar timer,\n\t\ti = 0,\n\t\ttimers = jQuery.timers;\n\n\tfxNow = Date.now();\n\n\tfor ( ; i < timers.length; i++ ) {\n\t\ttimer = timers[ i ];\n\n\t\t// Run the timer and safely remove it when done (allowing for external removal)\n\t\tif ( !timer() && timers[ i ] === timer ) {\n\t\t\ttimers.splice( i--, 1 );\n\t\t}\n\t}\n\n\tif ( !timers.length ) {\n\t\tjQuery.fx.stop();\n\t}\n\tfxNow = undefined;\n};\n\njQuery.fx.timer = function( timer ) {\n\tjQuery.timers.push( timer );\n\tjQuery.fx.start();\n};\n\njQuery.fx.interval = 13;\njQuery.fx.start = function() {\n\tif ( inProgress ) {\n\t\treturn;\n\t}\n\n\tinProgress = true;\n\tschedule();\n};\n\njQuery.fx.stop = function() {\n\tinProgress = null;\n};\n\njQuery.fx.speeds = {\n\tslow: 600,\n\tfast: 200,\n\n\t// Default speed\n\t_default: 400\n};\n\n\n// Based off of the plugin by Clint Helfers, with permission.\n// https://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\njQuery.fn.delay = function( time, type ) {\n\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\n\ttype = type || \"fx\";\n\n\treturn this.queue( type, function( next, hooks ) {\n\t\tvar timeout = window.setTimeout( next, time );\n\t\thooks.stop = function() {\n\t\t\twindow.clearTimeout( timeout );\n\t\t};\n\t} );\n};\n\n\n( function() {\n\tvar input = document.createElement( \"input\" ),\n\t\tselect = document.createElement( \"select\" ),\n\t\topt = select.appendChild( document.createElement( \"option\" ) );\n\n\tinput.type = \"checkbox\";\n\n\t// Support: Android <=4.3 only\n\t// Default value for a checkbox should be \"on\"\n\tsupport.checkOn = input.value !== \"\";\n\n\t// Support: IE <=11 only\n\t// Must access selectedIndex to make default options select\n\tsupport.optSelected = opt.selected;\n\n\t// Support: IE <=11 only\n\t// An input loses its value after becoming a radio\n\tinput = document.createElement( \"input\" );\n\tinput.value = \"t\";\n\tinput.type = \"radio\";\n\tsupport.radioValue = input.value === \"t\";\n} )();\n\n\nvar boolHook,\n\tattrHandle = jQuery.expr.attrHandle;\n\njQuery.fn.extend( {\n\tattr: function( name, value ) {\n\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\n\t},\n\n\tremoveAttr: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.removeAttr( this, name );\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tattr: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set attributes on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Fallback to prop when attributes are not supported\n\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\n\t\t\treturn jQuery.prop( elem, name, value );\n\t\t}\n\n\t\t// Attribute hooks are determined by the lowercase version\n\t\t// Grab necessary hook if one is defined\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\t\t\thooks = jQuery.attrHooks[ name.toLowerCase() ] ||\n\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : undefined );\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( value === null ) {\n\t\t\t\tjQuery.removeAttr( elem, name );\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\telem.setAttribute( name, value + \"\" );\n\t\t\treturn value;\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\tret = jQuery.find.attr( elem, name );\n\n\t\t// Non-existent attributes return null, we normalize to undefined\n\t\treturn ret == null ? undefined : ret;\n\t},\n\n\tattrHooks: {\n\t\ttype: {\n\t\t\tset: function( elem, value ) {\n\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\n\t\t\t\t\tnodeName( elem, \"input\" ) ) {\n\t\t\t\t\tvar val = elem.value;\n\t\t\t\t\telem.setAttribute( \"type\", value );\n\t\t\t\t\tif ( val ) {\n\t\t\t\t\t\telem.value = val;\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremoveAttr: function( elem, value ) {\n\t\tvar name,\n\t\t\ti = 0,\n\n\t\t\t// Attribute names can contain non-HTML whitespace characters\n\t\t\t// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n\t\t\tattrNames = value && value.match( rnothtmlwhite );\n\n\t\tif ( attrNames && elem.nodeType === 1 ) {\n\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\n\t\t\t\telem.removeAttribute( name );\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Hooks for boolean attributes\nboolHook = {\n\tset: function( elem, value, name ) {\n\t\tif ( value === false ) {\n\n\t\t\t// Remove boolean attributes when set to false\n\t\t\tjQuery.removeAttr( elem, name );\n\t\t} else {\n\t\t\telem.setAttribute( name, name );\n\t\t}\n\t\treturn name;\n\t}\n};\n\njQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\n\tvar getter = attrHandle[ name ] || jQuery.find.attr;\n\n\tattrHandle[ name ] = function( elem, name, isXML ) {\n\t\tvar ret, handle,\n\t\t\tlowercaseName = name.toLowerCase();\n\n\t\tif ( !isXML ) {\n\n\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\n\t\t\thandle = attrHandle[ lowercaseName ];\n\t\t\tattrHandle[ lowercaseName ] = ret;\n\t\t\tret = getter( elem, name, isXML ) != null ?\n\t\t\t\tlowercaseName :\n\t\t\t\tnull;\n\t\t\tattrHandle[ lowercaseName ] = handle;\n\t\t}\n\t\treturn ret;\n\t};\n} );\n\n\n\n\nvar rfocusable = /^(?:input|select|textarea|button)$/i,\n\trclickable = /^(?:a|area)$/i;\n\njQuery.fn.extend( {\n\tprop: function( name, value ) {\n\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\n\t},\n\n\tremoveProp: function( name ) {\n\t\treturn this.each( function() {\n\t\t\tdelete this[ jQuery.propFix[ name ] || name ];\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tprop: function( elem, name, value ) {\n\t\tvar ret, hooks,\n\t\t\tnType = elem.nodeType;\n\n\t\t// Don't get/set properties on text, comment and attribute nodes\n\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\n\n\t\t\t// Fix name and attach hooks\n\t\t\tname = jQuery.propFix[ name ] || name;\n\t\t\thooks = jQuery.propHooks[ name ];\n\t\t}\n\n\t\tif ( value !== undefined ) {\n\t\t\tif ( hooks && \"set\" in hooks &&\n\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn ( elem[ name ] = value );\n\t\t}\n\n\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn elem[ name ];\n\t},\n\n\tpropHooks: {\n\t\ttabIndex: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\t// Support: IE <=9 - 11 only\n\t\t\t\t// elem.tabIndex doesn't always return the\n\t\t\t\t// correct value when it hasn't been explicitly set\n\t\t\t\t// https://web.archive.org/web/20141116233347/http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\n\t\t\t\t// Use proper attribute retrieval(#12072)\n\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\n\n\t\t\t\tif ( tabindex ) {\n\t\t\t\t\treturn parseInt( tabindex, 10 );\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\trfocusable.test( elem.nodeName ) ||\n\t\t\t\t\trclickable.test( elem.nodeName ) &&\n\t\t\t\t\telem.href\n\t\t\t\t) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}\n\t},\n\n\tpropFix: {\n\t\t\"for\": \"htmlFor\",\n\t\t\"class\": \"className\"\n\t}\n} );\n\n// Support: IE <=11 only\n// Accessing the selectedIndex property\n// forces the browser to respect setting selected\n// on the option\n// The getter ensures a default option is selected\n// when in an optgroup\n// eslint rule \"no-unused-expressions\" is disabled for this code\n// since it considers such accessions noop\nif ( !support.optSelected ) {\n\tjQuery.propHooks.selected = {\n\t\tget: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent && parent.parentNode ) {\n\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t}\n\t\t\treturn null;\n\t\t},\n\t\tset: function( elem ) {\n\n\t\t\t/* eslint no-unused-expressions: \"off\" */\n\n\t\t\tvar parent = elem.parentNode;\n\t\t\tif ( parent ) {\n\t\t\t\tparent.selectedIndex;\n\n\t\t\t\tif ( parent.parentNode ) {\n\t\t\t\t\tparent.parentNode.selectedIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\njQuery.each( [\n\t\"tabIndex\",\n\t\"readOnly\",\n\t\"maxLength\",\n\t\"cellSpacing\",\n\t\"cellPadding\",\n\t\"rowSpan\",\n\t\"colSpan\",\n\t\"useMap\",\n\t\"frameBorder\",\n\t\"contentEditable\"\n], function() {\n\tjQuery.propFix[ this.toLowerCase() ] = this;\n} );\n\n\n\n\n\t// Strip and collapse whitespace according to HTML spec\n\t// https://infra.spec.whatwg.org/#strip-and-collapse-ascii-whitespace\n\tfunction stripAndCollapse( value ) {\n\t\tvar tokens = value.match( rnothtmlwhite ) || [];\n\t\treturn tokens.join( \" \" );\n\t}\n\n\nfunction getClass( elem ) {\n\treturn elem.getAttribute && elem.getAttribute( \"class\" ) || \"\";\n}\n\nfunction classesToArray( value ) {\n\tif ( Array.isArray( value ) ) {\n\t\treturn value;\n\t}\n\tif ( typeof value === \"string\" ) {\n\t\treturn value.match( rnothtmlwhite ) || [];\n\t}\n\treturn [];\n}\n\njQuery.fn.extend( {\n\taddClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\n\t\t\t\t\t\t\tcur += clazz + \" \";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tremoveClass: function( value ) {\n\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\n\t\t\ti = 0;\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( j ) {\n\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\n\t\t\t} );\n\t\t}\n\n\t\tif ( !arguments.length ) {\n\t\t\treturn this.attr( \"class\", \"\" );\n\t\t}\n\n\t\tclasses = classesToArray( value );\n\n\t\tif ( classes.length ) {\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\t\tcurValue = getClass( elem );\n\n\t\t\t\t// This expression is here for better compressibility (see addClass)\n\t\t\t\tcur = elem.nodeType === 1 && ( \" \" + stripAndCollapse( curValue ) + \" \" );\n\n\t\t\t\tif ( cur ) {\n\t\t\t\t\tj = 0;\n\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\n\n\t\t\t\t\t\t// Remove *all* instances\n\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\n\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\n\t\t\t\t\tfinalValue = stripAndCollapse( cur );\n\t\t\t\t\tif ( curValue !== finalValue ) {\n\t\t\t\t\t\telem.setAttribute( \"class\", finalValue );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\ttoggleClass: function( value, stateVal ) {\n\t\tvar type = typeof value,\n\t\t\tisValidValue = type === \"string\" || Array.isArray( value );\n\n\t\tif ( typeof stateVal === \"boolean\" && isValidValue ) {\n\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\n\t\t}\n\n\t\tif ( isFunction( value ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).toggleClass(\n\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\n\t\t\t\t\tstateVal\n\t\t\t\t);\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar className, i, self, classNames;\n\n\t\t\tif ( isValidValue ) {\n\n\t\t\t\t// Toggle individual class names\n\t\t\t\ti = 0;\n\t\t\t\tself = jQuery( this );\n\t\t\t\tclassNames = classesToArray( value );\n\n\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\n\n\t\t\t\t\t// Check each className given, space separated list\n\t\t\t\t\tif ( self.hasClass( className ) ) {\n\t\t\t\t\t\tself.removeClass( className );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.addClass( className );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// Toggle whole class name\n\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\n\t\t\t\tclassName = getClass( this );\n\t\t\t\tif ( className ) {\n\n\t\t\t\t\t// Store className if set\n\t\t\t\t\tdataPriv.set( this, \"__className__\", className );\n\t\t\t\t}\n\n\t\t\t\t// If the element has a class name or if we're passed `false`,\n\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\n\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\n\t\t\t\t// falling back to the empty string if nothing was stored.\n\t\t\t\tif ( this.setAttribute ) {\n\t\t\t\t\tthis.setAttribute( \"class\",\n\t\t\t\t\t\tclassName || value === false ?\n\t\t\t\t\t\t\"\" :\n\t\t\t\t\t\tdataPriv.get( this, \"__className__\" ) || \"\"\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t},\n\n\thasClass: function( selector ) {\n\t\tvar className, elem,\n\t\t\ti = 0;\n\n\t\tclassName = \" \" + selector + \" \";\n\t\twhile ( ( elem = this[ i++ ] ) ) {\n\t\t\tif ( elem.nodeType === 1 &&\n\t\t\t\t( \" \" + stripAndCollapse( getClass( elem ) ) + \" \" ).indexOf( className ) > -1 ) {\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n} );\n\n\n\n\nvar rreturn = /\\r/g;\n\njQuery.fn.extend( {\n\tval: function( value ) {\n\t\tvar hooks, ret, valueIsFunction,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !arguments.length ) {\n\t\t\tif ( elem ) {\n\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\n\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\n\n\t\t\t\tif ( hooks &&\n\t\t\t\t\t\"get\" in hooks &&\n\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\n\t\t\t\t) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\n\t\t\t\tret = elem.value;\n\n\t\t\t\t// Handle most common string cases\n\t\t\t\tif ( typeof ret === \"string\" ) {\n\t\t\t\t\treturn ret.replace( rreturn, \"\" );\n\t\t\t\t}\n\n\t\t\t\t// Handle cases where value is null/undef or number\n\t\t\t\treturn ret == null ? \"\" : ret;\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvalueIsFunction = isFunction( value );\n\n\t\treturn this.each( function( i ) {\n\t\t\tvar val;\n\n\t\t\tif ( this.nodeType !== 1 ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ( valueIsFunction ) {\n\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\n\t\t\t} else {\n\t\t\t\tval = value;\n\t\t\t}\n\n\t\t\t// Treat null/undefined as \"\"; convert numbers to string\n\t\t\tif ( val == null ) {\n\t\t\t\tval = \"\";\n\n\t\t\t} else if ( typeof val === \"number\" ) {\n\t\t\t\tval += \"\";\n\n\t\t\t} else if ( Array.isArray( val ) ) {\n\t\t\t\tval = jQuery.map( val, function( value ) {\n\t\t\t\t\treturn value == null ? \"\" : value + \"\";\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\n\n\t\t\t// If set returns undefined, fall back to normal setting\n\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\n\t\t\t\tthis.value = val;\n\t\t\t}\n\t\t} );\n\t}\n} );\n\njQuery.extend( {\n\tvalHooks: {\n\t\toption: {\n\t\t\tget: function( elem ) {\n\n\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\n\t\t\t\treturn val != null ?\n\t\t\t\t\tval :\n\n\t\t\t\t\t// Support: IE <=10 - 11 only\n\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\n\t\t\t\t\t// Strip and collapse whitespace\n\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\n\t\t\t\t\tstripAndCollapse( jQuery.text( elem ) );\n\t\t\t}\n\t\t},\n\t\tselect: {\n\t\t\tget: function( elem ) {\n\t\t\t\tvar value, option, i,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tindex = elem.selectedIndex,\n\t\t\t\t\tone = elem.type === \"select-one\",\n\t\t\t\t\tvalues = one ? null : [],\n\t\t\t\t\tmax = one ? index + 1 : options.length;\n\n\t\t\t\tif ( index < 0 ) {\n\t\t\t\t\ti = max;\n\n\t\t\t\t} else {\n\t\t\t\t\ti = one ? index : 0;\n\t\t\t\t}\n\n\t\t\t\t// Loop through all the selected options\n\t\t\t\tfor ( ; i < max; i++ ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t// IE8-9 doesn't update selected after form reset (#2551)\n\t\t\t\t\tif ( ( option.selected || i === index ) &&\n\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\n\t\t\t\t\t\t\t!option.disabled &&\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\n\t\t\t\t\t\t\t\t!nodeName( option.parentNode, \"optgroup\" ) ) ) {\n\n\t\t\t\t\t\t// Get the specific value for the option\n\t\t\t\t\t\tvalue = jQuery( option ).val();\n\n\t\t\t\t\t\t// We don't need an array for one selects\n\t\t\t\t\t\tif ( one ) {\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Multi-Selects return an array\n\t\t\t\t\t\tvalues.push( value );\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn values;\n\t\t\t},\n\n\t\t\tset: function( elem, value ) {\n\t\t\t\tvar optionSet, option,\n\t\t\t\t\toptions = elem.options,\n\t\t\t\t\tvalues = jQuery.makeArray( value ),\n\t\t\t\t\ti = options.length;\n\n\t\t\t\twhile ( i-- ) {\n\t\t\t\t\toption = options[ i ];\n\n\t\t\t\t\t/* eslint-disable no-cond-assign */\n\n\t\t\t\t\tif ( option.selected =\n\t\t\t\t\t\tjQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\toptionSet = true;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-enable no-cond-assign */\n\t\t\t\t}\n\n\t\t\t\t// Force browsers to behave consistently when non-matching value is set\n\t\t\t\tif ( !optionSet ) {\n\t\t\t\t\telem.selectedIndex = -1;\n\t\t\t\t}\n\t\t\t\treturn values;\n\t\t\t}\n\t\t}\n\t}\n} );\n\n// Radios and checkboxes getter/setter\njQuery.each( [ \"radio\", \"checkbox\" ], function() {\n\tjQuery.valHooks[ this ] = {\n\t\tset: function( elem, value ) {\n\t\t\tif ( Array.isArray( value ) ) {\n\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\n\t\t\t}\n\t\t}\n\t};\n\tif ( !support.checkOn ) {\n\t\tjQuery.valHooks[ this ].get = function( elem ) {\n\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\n\t\t};\n\t}\n} );\n\n\n\n\n// Return jQuery for attributes-only inclusion\n\n\nsupport.focusin = \"onfocusin\" in window;\n\n\nvar rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\n\tstopPropagationCallback = function( e ) {\n\t\te.stopPropagation();\n\t};\n\njQuery.extend( jQuery.event, {\n\n\ttrigger: function( event, data, elem, onlyHandlers ) {\n\n\t\tvar i, cur, tmp, bubbleType, ontype, handle, special, lastElement,\n\t\t\teventPath = [ elem || document ],\n\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\n\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\n\n\t\tcur = lastElement = tmp = elem = elem || document;\n\n\t\t// Don't do events on text and comment nodes\n\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\n\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( type.indexOf( \".\" ) > -1 ) {\n\n\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\n\t\t\tnamespaces = type.split( \".\" );\n\t\t\ttype = namespaces.shift();\n\t\t\tnamespaces.sort();\n\t\t}\n\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\n\n\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\n\t\tevent = event[ jQuery.expando ] ?\n\t\t\tevent :\n\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\n\n\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\n\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\n\t\tevent.namespace = namespaces.join( \".\" );\n\t\tevent.rnamespace = event.namespace ?\n\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\n\t\t\tnull;\n\n\t\t// Clean up the event in case it is being reused\n\t\tevent.result = undefined;\n\t\tif ( !event.target ) {\n\t\t\tevent.target = elem;\n\t\t}\n\n\t\t// Clone any incoming data and prepend the event, creating the handler arg list\n\t\tdata = data == null ?\n\t\t\t[ event ] :\n\t\t\tjQuery.makeArray( data, [ event ] );\n\n\t\t// Allow special events to draw outside the lines\n\t\tspecial = jQuery.event.special[ type ] || {};\n\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\n\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\n\t\tif ( !onlyHandlers && !special.noBubble && !isWindow( elem ) ) {\n\n\t\t\tbubbleType = special.delegateType || type;\n\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\n\t\t\t\tcur = cur.parentNode;\n\t\t\t}\n\t\t\tfor ( ; cur; cur = cur.parentNode ) {\n\t\t\t\teventPath.push( cur );\n\t\t\t\ttmp = cur;\n\t\t\t}\n\n\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\n\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\n\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\n\t\t\t}\n\t\t}\n\n\t\t// Fire handlers on the event path\n\t\ti = 0;\n\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\n\t\t\tlastElement = cur;\n\t\t\tevent.type = i > 1 ?\n\t\t\t\tbubbleType :\n\t\t\t\tspecial.bindType || type;\n\n\t\t\t// jQuery handler\n\t\t\thandle = ( dataPriv.get( cur, \"events\" ) || {} )[ event.type ] &&\n\t\t\t\tdataPriv.get( cur, \"handle\" );\n\t\t\tif ( handle ) {\n\t\t\t\thandle.apply( cur, data );\n\t\t\t}\n\n\t\t\t// Native handler\n\t\t\thandle = ontype && cur[ ontype ];\n\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\n\t\t\t\tevent.result = handle.apply( cur, data );\n\t\t\t\tif ( event.result === false ) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tevent.type = type;\n\n\t\t// If nobody prevented the default action, do it now\n\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\n\n\t\t\tif ( ( !special._default ||\n\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false ) &&\n\t\t\t\tacceptData( elem ) ) {\n\n\t\t\t\t// Call a native DOM method on the target with the same name as the event.\n\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\n\t\t\t\tif ( ontype && isFunction( elem[ type ] ) && !isWindow( elem ) ) {\n\n\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\n\t\t\t\t\ttmp = elem[ ontype ];\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = null;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\n\t\t\t\t\tjQuery.event.triggered = type;\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.addEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\telem[ type ]();\n\n\t\t\t\t\tif ( event.isPropagationStopped() ) {\n\t\t\t\t\t\tlastElement.removeEventListener( type, stopPropagationCallback );\n\t\t\t\t\t}\n\n\t\t\t\t\tjQuery.event.triggered = undefined;\n\n\t\t\t\t\tif ( tmp ) {\n\t\t\t\t\t\telem[ ontype ] = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn event.result;\n\t},\n\n\t// Piggyback on a donor event to simulate a different one\n\t// Used only for `focus(in | out)` events\n\tsimulate: function( type, elem, event ) {\n\t\tvar e = jQuery.extend(\n\t\t\tnew jQuery.Event(),\n\t\t\tevent,\n\t\t\t{\n\t\t\t\ttype: type,\n\t\t\t\tisSimulated: true\n\t\t\t}\n\t\t);\n\n\t\tjQuery.event.trigger( e, null, elem );\n\t}\n\n} );\n\njQuery.fn.extend( {\n\n\ttrigger: function( type, data ) {\n\t\treturn this.each( function() {\n\t\t\tjQuery.event.trigger( type, data, this );\n\t\t} );\n\t},\n\ttriggerHandler: function( type, data ) {\n\t\tvar elem = this[ 0 ];\n\t\tif ( elem ) {\n\t\t\treturn jQuery.event.trigger( type, data, elem, true );\n\t\t}\n\t}\n} );\n\n\n// Support: Firefox <=44\n// Firefox doesn't have focus(in | out) events\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\n//\n// Support: Chrome <=48 - 49, Safari <=9.0 - 9.1\n// focus(in | out) events fire after focus & blur events,\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\n// Related ticket - https://bugs.chromium.org/p/chromium/issues/detail?id=449857\nif ( !support.focusin ) {\n\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\n\n\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\n\t\tvar handler = function( event ) {\n\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\n\t\t};\n\n\t\tjQuery.event.special[ fix ] = {\n\t\t\tsetup: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix );\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.addEventListener( orig, handler, true );\n\t\t\t\t}\n\t\t\t\tdataPriv.access( doc, fix, ( attaches || 0 ) + 1 );\n\t\t\t},\n\t\t\tteardown: function() {\n\t\t\t\tvar doc = this.ownerDocument || this,\n\t\t\t\t\tattaches = dataPriv.access( doc, fix ) - 1;\n\n\t\t\t\tif ( !attaches ) {\n\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\n\t\t\t\t\tdataPriv.remove( doc, fix );\n\n\t\t\t\t} else {\n\t\t\t\t\tdataPriv.access( doc, fix, attaches );\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t} );\n}\nvar location = window.location;\n\nvar nonce = Date.now();\n\nvar rquery = ( /\\?/ );\n\n\n\n// Cross-browser xml parsing\njQuery.parseXML = function( data ) {\n\tvar xml;\n\tif ( !data || typeof data !== \"string\" ) {\n\t\treturn null;\n\t}\n\n\t// Support: IE 9 - 11 only\n\t// IE throws on parseFromString with invalid input.\n\ttry {\n\t\txml = ( new window.DOMParser() ).parseFromString( data, \"text/xml\" );\n\t} catch ( e ) {\n\t\txml = undefined;\n\t}\n\n\tif ( !xml || xml.getElementsByTagName( \"parsererror\" ).length ) {\n\t\tjQuery.error( \"Invalid XML: \" + data );\n\t}\n\treturn xml;\n};\n\n\nvar\n\trbracket = /\\[\\]$/,\n\trCRLF = /\\r?\\n/g,\n\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\n\trsubmittable = /^(?:input|select|textarea|keygen)/i;\n\nfunction buildParams( prefix, obj, traditional, add ) {\n\tvar name;\n\n\tif ( Array.isArray( obj ) ) {\n\n\t\t// Serialize array item.\n\t\tjQuery.each( obj, function( i, v ) {\n\t\t\tif ( traditional || rbracket.test( prefix ) ) {\n\n\t\t\t\t// Treat each array item as a scalar.\n\t\t\t\tadd( prefix, v );\n\n\t\t\t} else {\n\n\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\n\t\t\t\tbuildParams(\n\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\n\t\t\t\t\tv,\n\t\t\t\t\ttraditional,\n\t\t\t\t\tadd\n\t\t\t\t);\n\t\t\t}\n\t\t} );\n\n\t} else if ( !traditional && toType( obj ) === \"object\" ) {\n\n\t\t// Serialize object item.\n\t\tfor ( name in obj ) {\n\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\n\t\t}\n\n\t} else {\n\n\t\t// Serialize scalar item.\n\t\tadd( prefix, obj );\n\t}\n}\n\n// Serialize an array of form elements or a set of\n// key/values into a query string\njQuery.param = function( a, traditional ) {\n\tvar prefix,\n\t\ts = [],\n\t\tadd = function( key, valueOrFunction ) {\n\n\t\t\t// If value is a function, invoke it and use its return value\n\t\t\tvar value = isFunction( valueOrFunction ) ?\n\t\t\t\tvalueOrFunction() :\n\t\t\t\tvalueOrFunction;\n\n\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" +\n\t\t\t\tencodeURIComponent( value == null ? \"\" : value );\n\t\t};\n\n\tif ( a == null ) {\n\t\treturn \"\";\n\t}\n\n\t// If an array was passed in, assume that it is an array of form elements.\n\tif ( Array.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\n\n\t\t// Serialize the form elements\n\t\tjQuery.each( a, function() {\n\t\t\tadd( this.name, this.value );\n\t\t} );\n\n\t} else {\n\n\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\n\t\t// did it), otherwise encode params recursively.\n\t\tfor ( prefix in a ) {\n\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\n\t\t}\n\t}\n\n\t// Return the resulting serialization\n\treturn s.join( \"&\" );\n};\n\njQuery.fn.extend( {\n\tserialize: function() {\n\t\treturn jQuery.param( this.serializeArray() );\n\t},\n\tserializeArray: function() {\n\t\treturn this.map( function() {\n\n\t\t\t// Can add propHook for \"elements\" to filter or add form elements\n\t\t\tvar elements = jQuery.prop( this, \"elements\" );\n\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\n\t\t} )\n\t\t.filter( function() {\n\t\t\tvar type = this.type;\n\n\t\t\t// Use .is( \":disabled\" ) so that fieldset[disabled] works\n\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\n\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\n\t\t\t\t( this.checked || !rcheckableType.test( type ) );\n\t\t} )\n\t\t.map( function( i, elem ) {\n\t\t\tvar val = jQuery( this ).val();\n\n\t\t\tif ( val == null ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tif ( Array.isArray( val ) ) {\n\t\t\t\treturn jQuery.map( val, function( val ) {\n\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t\t\t} );\n\t\t\t}\n\n\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\n\t\t} ).get();\n\t}\n} );\n\n\nvar\n\tr20 = /%20/g,\n\trhash = /#.*$/,\n\trantiCache = /([?&])_=[^&]*/,\n\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)$/mg,\n\n\t// #7653, #8125, #8152: local protocol detection\n\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\n\trnoContent = /^(?:GET|HEAD)$/,\n\trprotocol = /^\\/\\//,\n\n\t/* Prefilters\n\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\n\t * 2) These are called:\n\t *    - BEFORE asking for a transport\n\t *    - AFTER param serialization (s.data is a string if s.processData is true)\n\t * 3) key is the dataType\n\t * 4) the catchall symbol \"*\" can be used\n\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\n\t */\n\tprefilters = {},\n\n\t/* Transports bindings\n\t * 1) key is the dataType\n\t * 2) the catchall symbol \"*\" can be used\n\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\n\t */\n\ttransports = {},\n\n\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\n\tallTypes = \"*/\".concat( \"*\" ),\n\n\t// Anchor tag for parsing the document origin\n\toriginAnchor = document.createElement( \"a\" );\n\toriginAnchor.href = location.href;\n\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\nfunction addToPrefiltersOrTransports( structure ) {\n\n\t// dataTypeExpression is optional and defaults to \"*\"\n\treturn function( dataTypeExpression, func ) {\n\n\t\tif ( typeof dataTypeExpression !== \"string\" ) {\n\t\t\tfunc = dataTypeExpression;\n\t\t\tdataTypeExpression = \"*\";\n\t\t}\n\n\t\tvar dataType,\n\t\t\ti = 0,\n\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnothtmlwhite ) || [];\n\n\t\tif ( isFunction( func ) ) {\n\n\t\t\t// For each dataType in the dataTypeExpression\n\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\n\n\t\t\t\t// Prepend if requested\n\t\t\t\tif ( dataType[ 0 ] === \"+\" ) {\n\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\n\n\t\t\t\t// Otherwise append\n\t\t\t\t} else {\n\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n}\n\n// Base inspection function for prefilters and transports\nfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\n\n\tvar inspected = {},\n\t\tseekingTransport = ( structure === transports );\n\n\tfunction inspect( dataType ) {\n\t\tvar selected;\n\t\tinspected[ dataType ] = true;\n\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\n\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\n\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\n\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\n\n\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\n\t\t\t\tinspect( dataTypeOrTransport );\n\t\t\t\treturn false;\n\t\t\t} else if ( seekingTransport ) {\n\t\t\t\treturn !( selected = dataTypeOrTransport );\n\t\t\t}\n\t\t} );\n\t\treturn selected;\n\t}\n\n\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\n}\n\n// A special extend for ajax options\n// that takes \"flat\" options (not to be deep extended)\n// Fixes #9887\nfunction ajaxExtend( target, src ) {\n\tvar key, deep,\n\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\n\n\tfor ( key in src ) {\n\t\tif ( src[ key ] !== undefined ) {\n\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\n\t\t}\n\t}\n\tif ( deep ) {\n\t\tjQuery.extend( true, target, deep );\n\t}\n\n\treturn target;\n}\n\n/* Handles responses to an ajax request:\n * - finds the right dataType (mediates between content-type and expected dataType)\n * - returns the corresponding response\n */\nfunction ajaxHandleResponses( s, jqXHR, responses ) {\n\n\tvar ct, type, finalDataType, firstDataType,\n\t\tcontents = s.contents,\n\t\tdataTypes = s.dataTypes;\n\n\t// Remove auto dataType and get content-type in the process\n\twhile ( dataTypes[ 0 ] === \"*\" ) {\n\t\tdataTypes.shift();\n\t\tif ( ct === undefined ) {\n\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\n\t\t}\n\t}\n\n\t// Check if we're dealing with a known content-type\n\tif ( ct ) {\n\t\tfor ( type in contents ) {\n\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\n\t\t\t\tdataTypes.unshift( type );\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t// Check to see if we have a response for the expected dataType\n\tif ( dataTypes[ 0 ] in responses ) {\n\t\tfinalDataType = dataTypes[ 0 ];\n\t} else {\n\n\t\t// Try convertible dataTypes\n\t\tfor ( type in responses ) {\n\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\n\t\t\t\tfinalDataType = type;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif ( !firstDataType ) {\n\t\t\t\tfirstDataType = type;\n\t\t\t}\n\t\t}\n\n\t\t// Or just use first one\n\t\tfinalDataType = finalDataType || firstDataType;\n\t}\n\n\t// If we found a dataType\n\t// We add the dataType to the list if needed\n\t// and return the corresponding response\n\tif ( finalDataType ) {\n\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\n\t\t\tdataTypes.unshift( finalDataType );\n\t\t}\n\t\treturn responses[ finalDataType ];\n\t}\n}\n\n/* Chain conversions given the request and the original response\n * Also sets the responseXXX fields on the jqXHR instance\n */\nfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\n\tvar conv2, current, conv, tmp, prev,\n\t\tconverters = {},\n\n\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\n\t\tdataTypes = s.dataTypes.slice();\n\n\t// Create converters map with lowercased keys\n\tif ( dataTypes[ 1 ] ) {\n\t\tfor ( conv in s.converters ) {\n\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\n\t\t}\n\t}\n\n\tcurrent = dataTypes.shift();\n\n\t// Convert to each sequential dataType\n\twhile ( current ) {\n\n\t\tif ( s.responseFields[ current ] ) {\n\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\n\t\t}\n\n\t\t// Apply the dataFilter if provided\n\t\tif ( !prev && isSuccess && s.dataFilter ) {\n\t\t\tresponse = s.dataFilter( response, s.dataType );\n\t\t}\n\n\t\tprev = current;\n\t\tcurrent = dataTypes.shift();\n\n\t\tif ( current ) {\n\n\t\t\t// There's only work to do if current dataType is non-auto\n\t\t\tif ( current === \"*\" ) {\n\n\t\t\t\tcurrent = prev;\n\n\t\t\t// Convert response if prev dataType is non-auto and differs from current\n\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\n\n\t\t\t\t// Seek a direct converter\n\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\n\n\t\t\t\t// If none found, seek a pair\n\t\t\t\tif ( !conv ) {\n\t\t\t\t\tfor ( conv2 in converters ) {\n\n\t\t\t\t\t\t// If conv2 outputs current\n\t\t\t\t\t\ttmp = conv2.split( \" \" );\n\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\n\n\t\t\t\t\t\t\t// If prev can be converted to accepted input\n\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\n\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\n\t\t\t\t\t\t\tif ( conv ) {\n\n\t\t\t\t\t\t\t\t// Condense equivalence converters\n\t\t\t\t\t\t\t\tif ( conv === true ) {\n\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\n\n\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\n\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\n\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\n\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Apply converter (if not an equivalence)\n\t\t\t\tif ( conv !== true ) {\n\n\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\n\t\t\t\t\tif ( conv && s.throws ) {\n\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tresponse = conv( response );\n\t\t\t\t\t\t} catch ( e ) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstate: \"parsererror\",\n\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { state: \"success\", data: response };\n}\n\njQuery.extend( {\n\n\t// Counter for holding the number of active queries\n\tactive: 0,\n\n\t// Last-Modified header cache for next request\n\tlastModified: {},\n\tetag: {},\n\n\tajaxSettings: {\n\t\turl: location.href,\n\t\ttype: \"GET\",\n\t\tisLocal: rlocalProtocol.test( location.protocol ),\n\t\tglobal: true,\n\t\tprocessData: true,\n\t\tasync: true,\n\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\n\n\t\t/*\n\t\ttimeout: 0,\n\t\tdata: null,\n\t\tdataType: null,\n\t\tusername: null,\n\t\tpassword: null,\n\t\tcache: null,\n\t\tthrows: false,\n\t\ttraditional: false,\n\t\theaders: {},\n\t\t*/\n\n\t\taccepts: {\n\t\t\t\"*\": allTypes,\n\t\t\ttext: \"text/plain\",\n\t\t\thtml: \"text/html\",\n\t\t\txml: \"application/xml, text/xml\",\n\t\t\tjson: \"application/json, text/javascript\"\n\t\t},\n\n\t\tcontents: {\n\t\t\txml: /\\bxml\\b/,\n\t\t\thtml: /\\bhtml/,\n\t\t\tjson: /\\bjson\\b/\n\t\t},\n\n\t\tresponseFields: {\n\t\t\txml: \"responseXML\",\n\t\t\ttext: \"responseText\",\n\t\t\tjson: \"responseJSON\"\n\t\t},\n\n\t\t// Data converters\n\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\n\t\tconverters: {\n\n\t\t\t// Convert anything to text\n\t\t\t\"* text\": String,\n\n\t\t\t// Text to html (true = no transformation)\n\t\t\t\"text html\": true,\n\n\t\t\t// Evaluate text as a json expression\n\t\t\t\"text json\": JSON.parse,\n\n\t\t\t// Parse text as xml\n\t\t\t\"text xml\": jQuery.parseXML\n\t\t},\n\n\t\t// For options that shouldn't be deep extended:\n\t\t// you can add your own custom options here if\n\t\t// and when you create one that shouldn't be\n\t\t// deep extended (see ajaxExtend)\n\t\tflatOptions: {\n\t\t\turl: true,\n\t\t\tcontext: true\n\t\t}\n\t},\n\n\t// Creates a full fledged settings object into target\n\t// with both ajaxSettings and settings fields.\n\t// If target is omitted, writes into ajaxSettings.\n\tajaxSetup: function( target, settings ) {\n\t\treturn settings ?\n\n\t\t\t// Building a settings object\n\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\n\n\t\t\t// Extending ajaxSettings\n\t\t\tajaxExtend( jQuery.ajaxSettings, target );\n\t},\n\n\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\n\tajaxTransport: addToPrefiltersOrTransports( transports ),\n\n\t// Main method\n\tajax: function( url, options ) {\n\n\t\t// If url is an object, simulate pre-1.5 signature\n\t\tif ( typeof url === \"object\" ) {\n\t\t\toptions = url;\n\t\t\turl = undefined;\n\t\t}\n\n\t\t// Force options to be an object\n\t\toptions = options || {};\n\n\t\tvar transport,\n\n\t\t\t// URL without anti-cache param\n\t\t\tcacheURL,\n\n\t\t\t// Response headers\n\t\t\tresponseHeadersString,\n\t\t\tresponseHeaders,\n\n\t\t\t// timeout handle\n\t\t\ttimeoutTimer,\n\n\t\t\t// Url cleanup var\n\t\t\turlAnchor,\n\n\t\t\t// Request state (becomes false upon send and true upon completion)\n\t\t\tcompleted,\n\n\t\t\t// To know if global events are to be dispatched\n\t\t\tfireGlobals,\n\n\t\t\t// Loop variable\n\t\t\ti,\n\n\t\t\t// uncached part of the url\n\t\t\tuncached,\n\n\t\t\t// Create the final options object\n\t\t\ts = jQuery.ajaxSetup( {}, options ),\n\n\t\t\t// Callbacks context\n\t\t\tcallbackContext = s.context || s,\n\n\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\n\t\t\tglobalEventContext = s.context &&\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\n\t\t\t\t\tjQuery( callbackContext ) :\n\t\t\t\t\tjQuery.event,\n\n\t\t\t// Deferreds\n\t\t\tdeferred = jQuery.Deferred(),\n\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\n\n\t\t\t// Status-dependent callbacks\n\t\t\tstatusCode = s.statusCode || {},\n\n\t\t\t// Headers (they are sent all at once)\n\t\t\trequestHeaders = {},\n\t\t\trequestHeadersNames = {},\n\n\t\t\t// Default abort message\n\t\t\tstrAbort = \"canceled\",\n\n\t\t\t// Fake xhr\n\t\t\tjqXHR = {\n\t\t\t\treadyState: 0,\n\n\t\t\t\t// Builds headers hashtable if needed\n\t\t\t\tgetResponseHeader: function( key ) {\n\t\t\t\t\tvar match;\n\t\t\t\t\tif ( completed ) {\n\t\t\t\t\t\tif ( !responseHeaders ) {\n\t\t\t\t\t\t\tresponseHeaders = {};\n\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\n\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() + \" \" ] =\n\t\t\t\t\t\t\t\t\t( responseHeaders[ match[ 1 ].toLowerCase() + \" \" ] || [] )\n\t\t\t\t\t\t\t\t\t\t.concat( match[ 2 ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() + \" \" ];\n\t\t\t\t\t}\n\t\t\t\t\treturn match == null ? null : match.join( \", \" );\n\t\t\t\t},\n\n\t\t\t\t// Raw string\n\t\t\t\tgetAllResponseHeaders: function() {\n\t\t\t\t\treturn completed ? responseHeadersString : null;\n\t\t\t\t},\n\n\t\t\t\t// Caches the header\n\t\t\t\tsetRequestHeader: function( name, value ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\tname = requestHeadersNames[ name.toLowerCase() ] =\n\t\t\t\t\t\t\trequestHeadersNames[ name.toLowerCase() ] || name;\n\t\t\t\t\t\trequestHeaders[ name ] = value;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Overrides response content-type header\n\t\t\t\toverrideMimeType: function( type ) {\n\t\t\t\t\tif ( completed == null ) {\n\t\t\t\t\t\ts.mimeType = type;\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Status-dependent callbacks\n\t\t\t\tstatusCode: function( map ) {\n\t\t\t\t\tvar code;\n\t\t\t\t\tif ( map ) {\n\t\t\t\t\t\tif ( completed ) {\n\n\t\t\t\t\t\t\t// Execute the appropriate callbacks\n\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t// Lazy-add the new callbacks in a way that preserves old ones\n\t\t\t\t\t\t\tfor ( code in map ) {\n\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\n\t\t\t\t// Cancel the request\n\t\t\t\tabort: function( statusText ) {\n\t\t\t\t\tvar finalText = statusText || strAbort;\n\t\t\t\t\tif ( transport ) {\n\t\t\t\t\t\ttransport.abort( finalText );\n\t\t\t\t\t}\n\t\t\t\t\tdone( 0, finalText );\n\t\t\t\t\treturn this;\n\t\t\t\t}\n\t\t\t};\n\n\t\t// Attach deferreds\n\t\tdeferred.promise( jqXHR );\n\n\t\t// Add protocol if not provided (prefilters might expect it)\n\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\n\t\t// We also use the url parameter if available\n\t\ts.url = ( ( url || s.url || location.href ) + \"\" )\n\t\t\t.replace( rprotocol, location.protocol + \"//\" );\n\n\t\t// Alias method option to type as per ticket #12004\n\t\ts.type = options.method || options.type || s.method || s.type;\n\n\t\t// Extract dataTypes list\n\t\ts.dataTypes = ( s.dataType || \"*\" ).toLowerCase().match( rnothtmlwhite ) || [ \"\" ];\n\n\t\t// A cross-domain request is in order when the origin doesn't match the current origin.\n\t\tif ( s.crossDomain == null ) {\n\t\t\turlAnchor = document.createElement( \"a\" );\n\n\t\t\t// Support: IE <=8 - 11, Edge 12 - 15\n\t\t\t// IE throws exception on accessing the href property if url is malformed,\n\t\t\t// e.g. http://example.com:80x/\n\t\t\ttry {\n\t\t\t\turlAnchor.href = s.url;\n\n\t\t\t\t// Support: IE <=8 - 11 only\n\t\t\t\t// Anchor's host property isn't correctly set when s.url is relative\n\t\t\t\turlAnchor.href = urlAnchor.href;\n\t\t\t\ts.crossDomain = originAnchor.protocol + \"//\" + originAnchor.host !==\n\t\t\t\t\turlAnchor.protocol + \"//\" + urlAnchor.host;\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// If there is an error parsing the URL, assume it is crossDomain,\n\t\t\t\t// it can be rejected by the transport if it is invalid\n\t\t\t\ts.crossDomain = true;\n\t\t\t}\n\t\t}\n\n\t\t// Convert data if not already a string\n\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\n\t\t\ts.data = jQuery.param( s.data, s.traditional );\n\t\t}\n\n\t\t// Apply prefilters\n\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\n\n\t\t// If request was aborted inside a prefilter, stop there\n\t\tif ( completed ) {\n\t\t\treturn jqXHR;\n\t\t}\n\n\t\t// We can fire global events as of now if asked to\n\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\n\t\tfireGlobals = jQuery.event && s.global;\n\n\t\t// Watch for a new set of requests\n\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\n\t\t\tjQuery.event.trigger( \"ajaxStart\" );\n\t\t}\n\n\t\t// Uppercase the type\n\t\ts.type = s.type.toUpperCase();\n\n\t\t// Determine if request has content\n\t\ts.hasContent = !rnoContent.test( s.type );\n\n\t\t// Save the URL in case we're toying with the If-Modified-Since\n\t\t// and/or If-None-Match header later on\n\t\t// Remove hash to simplify url manipulation\n\t\tcacheURL = s.url.replace( rhash, \"\" );\n\n\t\t// More options handling for requests with no content\n\t\tif ( !s.hasContent ) {\n\n\t\t\t// Remember the hash so we can put it back\n\t\t\tuncached = s.url.slice( cacheURL.length );\n\n\t\t\t// If data is available and should be processed, append data to url\n\t\t\tif ( s.data && ( s.processData || typeof s.data === \"string\" ) ) {\n\t\t\t\tcacheURL += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data;\n\n\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\n\t\t\t\tdelete s.data;\n\t\t\t}\n\n\t\t\t// Add or update anti-cache param if needed\n\t\t\tif ( s.cache === false ) {\n\t\t\t\tcacheURL = cacheURL.replace( rantiCache, \"$1\" );\n\t\t\t\tuncached = ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + ( nonce++ ) + uncached;\n\t\t\t}\n\n\t\t\t// Put hash and anti-cache on the URL that will be requested (gh-1732)\n\t\t\ts.url = cacheURL + uncached;\n\n\t\t// Change '%20' to '+' if this is encoded form body content (gh-2658)\n\t\t} else if ( s.data && s.processData &&\n\t\t\t( s.contentType || \"\" ).indexOf( \"application/x-www-form-urlencoded\" ) === 0 ) {\n\t\t\ts.data = s.data.replace( r20, \"+\" );\n\t\t}\n\n\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\tif ( s.ifModified ) {\n\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\n\t\t\t}\n\t\t\tif ( jQuery.etag[ cacheURL ] ) {\n\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\n\t\t\t}\n\t\t}\n\n\t\t// Set the correct header, if data is being sent\n\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\n\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\n\t\t}\n\n\t\t// Set the Accepts header for the server, depending on the dataType\n\t\tjqXHR.setRequestHeader(\n\t\t\t\"Accept\",\n\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\n\t\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\n\t\t\t\ts.accepts[ \"*\" ]\n\t\t);\n\n\t\t// Check for headers option\n\t\tfor ( i in s.headers ) {\n\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\n\t\t}\n\n\t\t// Allow custom headers/mimetypes and early abort\n\t\tif ( s.beforeSend &&\n\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || completed ) ) {\n\n\t\t\t// Abort if not done already and return\n\t\t\treturn jqXHR.abort();\n\t\t}\n\n\t\t// Aborting is no longer a cancellation\n\t\tstrAbort = \"abort\";\n\n\t\t// Install callbacks on deferreds\n\t\tcompleteDeferred.add( s.complete );\n\t\tjqXHR.done( s.success );\n\t\tjqXHR.fail( s.error );\n\n\t\t// Get transport\n\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\n\n\t\t// If no transport, we auto-abort\n\t\tif ( !transport ) {\n\t\t\tdone( -1, \"No Transport\" );\n\t\t} else {\n\t\t\tjqXHR.readyState = 1;\n\n\t\t\t// Send global event\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\n\t\t\t}\n\n\t\t\t// If request was aborted inside ajaxSend, stop there\n\t\t\tif ( completed ) {\n\t\t\t\treturn jqXHR;\n\t\t\t}\n\n\t\t\t// Timeout\n\t\t\tif ( s.async && s.timeout > 0 ) {\n\t\t\t\ttimeoutTimer = window.setTimeout( function() {\n\t\t\t\t\tjqXHR.abort( \"timeout\" );\n\t\t\t\t}, s.timeout );\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tcompleted = false;\n\t\t\t\ttransport.send( requestHeaders, done );\n\t\t\t} catch ( e ) {\n\n\t\t\t\t// Rethrow post-completion exceptions\n\t\t\t\tif ( completed ) {\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\n\t\t\t\t// Propagate others as results\n\t\t\t\tdone( -1, e );\n\t\t\t}\n\t\t}\n\n\t\t// Callback for when everything is done\n\t\tfunction done( status, nativeStatusText, responses, headers ) {\n\t\t\tvar isSuccess, success, error, response, modified,\n\t\t\t\tstatusText = nativeStatusText;\n\n\t\t\t// Ignore repeat invocations\n\t\t\tif ( completed ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcompleted = true;\n\n\t\t\t// Clear timeout if it exists\n\t\t\tif ( timeoutTimer ) {\n\t\t\t\twindow.clearTimeout( timeoutTimer );\n\t\t\t}\n\n\t\t\t// Dereference transport for early garbage collection\n\t\t\t// (no matter how long the jqXHR object will be used)\n\t\t\ttransport = undefined;\n\n\t\t\t// Cache response headers\n\t\t\tresponseHeadersString = headers || \"\";\n\n\t\t\t// Set readyState\n\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\n\n\t\t\t// Determine if successful\n\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\n\n\t\t\t// Get response data\n\t\t\tif ( responses ) {\n\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\n\t\t\t}\n\n\t\t\t// Convert no matter what (that way responseXXX fields are always set)\n\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\n\n\t\t\t// If successful, handle type chaining\n\t\t\tif ( isSuccess ) {\n\n\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\n\t\t\t\tif ( s.ifModified ) {\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\n\t\t\t\t\tif ( modified ) {\n\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// if no content\n\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\n\t\t\t\t\tstatusText = \"nocontent\";\n\n\t\t\t\t// if not modified\n\t\t\t\t} else if ( status === 304 ) {\n\t\t\t\t\tstatusText = \"notmodified\";\n\n\t\t\t\t// If we have data, let's convert it\n\t\t\t\t} else {\n\t\t\t\t\tstatusText = response.state;\n\t\t\t\t\tsuccess = response.data;\n\t\t\t\t\terror = response.error;\n\t\t\t\t\tisSuccess = !error;\n\t\t\t\t}\n\t\t\t} else {\n\n\t\t\t\t// Extract error from statusText and normalize for non-aborts\n\t\t\t\terror = statusText;\n\t\t\t\tif ( status || !statusText ) {\n\t\t\t\t\tstatusText = \"error\";\n\t\t\t\t\tif ( status < 0 ) {\n\t\t\t\t\t\tstatus = 0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Set data for the fake xhr object\n\t\t\tjqXHR.status = status;\n\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\n\n\t\t\t// Success/Error\n\t\t\tif ( isSuccess ) {\n\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\n\t\t\t} else {\n\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\n\t\t\t}\n\n\t\t\t// Status-dependent callbacks\n\t\t\tjqXHR.statusCode( statusCode );\n\t\t\tstatusCode = undefined;\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\n\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\n\t\t\t}\n\n\t\t\t// Complete\n\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\n\n\t\t\tif ( fireGlobals ) {\n\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\n\n\t\t\t\t// Handle the global AJAX counter\n\t\t\t\tif ( !( --jQuery.active ) ) {\n\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn jqXHR;\n\t},\n\n\tgetJSON: function( url, data, callback ) {\n\t\treturn jQuery.get( url, data, callback, \"json\" );\n\t},\n\n\tgetScript: function( url, callback ) {\n\t\treturn jQuery.get( url, undefined, callback, \"script\" );\n\t}\n} );\n\njQuery.each( [ \"get\", \"post\" ], function( i, method ) {\n\tjQuery[ method ] = function( url, data, callback, type ) {\n\n\t\t// Shift arguments if data argument was omitted\n\t\tif ( isFunction( data ) ) {\n\t\t\ttype = type || callback;\n\t\t\tcallback = data;\n\t\t\tdata = undefined;\n\t\t}\n\n\t\t// The url can be an options object (which then must have .url)\n\t\treturn jQuery.ajax( jQuery.extend( {\n\t\t\turl: url,\n\t\t\ttype: method,\n\t\t\tdataType: type,\n\t\t\tdata: data,\n\t\t\tsuccess: callback\n\t\t}, jQuery.isPlainObject( url ) && url ) );\n\t};\n} );\n\n\njQuery._evalUrl = function( url, options ) {\n\treturn jQuery.ajax( {\n\t\turl: url,\n\n\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\n\t\ttype: \"GET\",\n\t\tdataType: \"script\",\n\t\tcache: true,\n\t\tasync: false,\n\t\tglobal: false,\n\n\t\t// Only evaluate the response if it is successful (gh-4126)\n\t\t// dataFilter is not invoked for failure responses, so using it instead\n\t\t// of the default converter is kludgy but it works.\n\t\tconverters: {\n\t\t\t\"text script\": function() {}\n\t\t},\n\t\tdataFilter: function( response ) {\n\t\t\tjQuery.globalEval( response, options );\n\t\t}\n\t} );\n};\n\n\njQuery.fn.extend( {\n\twrapAll: function( html ) {\n\t\tvar wrap;\n\n\t\tif ( this[ 0 ] ) {\n\t\t\tif ( isFunction( html ) ) {\n\t\t\t\thtml = html.call( this[ 0 ] );\n\t\t\t}\n\n\t\t\t// The elements to wrap the target around\n\t\t\twrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\n\n\t\t\tif ( this[ 0 ].parentNode ) {\n\t\t\t\twrap.insertBefore( this[ 0 ] );\n\t\t\t}\n\n\t\t\twrap.map( function() {\n\t\t\t\tvar elem = this;\n\n\t\t\t\twhile ( elem.firstElementChild ) {\n\t\t\t\t\telem = elem.firstElementChild;\n\t\t\t\t}\n\n\t\t\t\treturn elem;\n\t\t\t} ).append( this );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\twrapInner: function( html ) {\n\t\tif ( isFunction( html ) ) {\n\t\t\treturn this.each( function( i ) {\n\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\n\t\t\t} );\n\t\t}\n\n\t\treturn this.each( function() {\n\t\t\tvar self = jQuery( this ),\n\t\t\t\tcontents = self.contents();\n\n\t\t\tif ( contents.length ) {\n\t\t\t\tcontents.wrapAll( html );\n\n\t\t\t} else {\n\t\t\t\tself.append( html );\n\t\t\t}\n\t\t} );\n\t},\n\n\twrap: function( html ) {\n\t\tvar htmlIsFunction = isFunction( html );\n\n\t\treturn this.each( function( i ) {\n\t\t\tjQuery( this ).wrapAll( htmlIsFunction ? html.call( this, i ) : html );\n\t\t} );\n\t},\n\n\tunwrap: function( selector ) {\n\t\tthis.parent( selector ).not( \"body\" ).each( function() {\n\t\t\tjQuery( this ).replaceWith( this.childNodes );\n\t\t} );\n\t\treturn this;\n\t}\n} );\n\n\njQuery.expr.pseudos.hidden = function( elem ) {\n\treturn !jQuery.expr.pseudos.visible( elem );\n};\njQuery.expr.pseudos.visible = function( elem ) {\n\treturn !!( elem.offsetWidth || elem.offsetHeight || elem.getClientRects().length );\n};\n\n\n\n\njQuery.ajaxSettings.xhr = function() {\n\ttry {\n\t\treturn new window.XMLHttpRequest();\n\t} catch ( e ) {}\n};\n\nvar xhrSuccessStatus = {\n\n\t\t// File protocol always yields status code 0, assume 200\n\t\t0: 200,\n\n\t\t// Support: IE <=9 only\n\t\t// #1450: sometimes IE returns 1223 when it should be 204\n\t\t1223: 204\n\t},\n\txhrSupported = jQuery.ajaxSettings.xhr();\n\nsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\nsupport.ajax = xhrSupported = !!xhrSupported;\n\njQuery.ajaxTransport( function( options ) {\n\tvar callback, errorCallback;\n\n\t// Cross domain only allowed if supported through XMLHttpRequest\n\tif ( support.cors || xhrSupported && !options.crossDomain ) {\n\t\treturn {\n\t\t\tsend: function( headers, complete ) {\n\t\t\t\tvar i,\n\t\t\t\t\txhr = options.xhr();\n\n\t\t\t\txhr.open(\n\t\t\t\t\toptions.type,\n\t\t\t\t\toptions.url,\n\t\t\t\t\toptions.async,\n\t\t\t\t\toptions.username,\n\t\t\t\t\toptions.password\n\t\t\t\t);\n\n\t\t\t\t// Apply custom fields if provided\n\t\t\t\tif ( options.xhrFields ) {\n\t\t\t\t\tfor ( i in options.xhrFields ) {\n\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Override mime type if needed\n\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\n\t\t\t\t\txhr.overrideMimeType( options.mimeType );\n\t\t\t\t}\n\n\t\t\t\t// X-Requested-With header\n\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\n\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\n\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\n\t\t\t\t// For same-domain requests, won't change header if already provided.\n\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\n\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\n\t\t\t\t}\n\n\t\t\t\t// Set headers\n\t\t\t\tfor ( i in headers ) {\n\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] );\n\t\t\t\t}\n\n\t\t\t\t// Callback\n\t\t\t\tcallback = function( type ) {\n\t\t\t\t\treturn function() {\n\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\tcallback = errorCallback = xhr.onload =\n\t\t\t\t\t\t\t\txhr.onerror = xhr.onabort = xhr.ontimeout =\n\t\t\t\t\t\t\t\t\txhr.onreadystatechange = null;\n\n\t\t\t\t\t\t\tif ( type === \"abort\" ) {\n\t\t\t\t\t\t\t\txhr.abort();\n\t\t\t\t\t\t\t} else if ( type === \"error\" ) {\n\n\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t// On a manual native abort, IE9 throws\n\t\t\t\t\t\t\t\t// errors on any property access that is not readyState\n\t\t\t\t\t\t\t\tif ( typeof xhr.status !== \"number\" ) {\n\t\t\t\t\t\t\t\t\tcomplete( 0, \"error\" );\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcomplete(\n\n\t\t\t\t\t\t\t\t\t\t// File: protocol always yields status 0; see #8605, #14207\n\t\t\t\t\t\t\t\t\t\txhr.status,\n\t\t\t\t\t\t\t\t\t\txhr.statusText\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tcomplete(\n\t\t\t\t\t\t\t\t\txhrSuccessStatus[ xhr.status ] || xhr.status,\n\t\t\t\t\t\t\t\t\txhr.statusText,\n\n\t\t\t\t\t\t\t\t\t// Support: IE <=9 only\n\t\t\t\t\t\t\t\t\t// IE9 has no XHR2 but throws on binary (trac-11426)\n\t\t\t\t\t\t\t\t\t// For XHR2 non-text, let the caller handle it (gh-2498)\n\t\t\t\t\t\t\t\t\t( xhr.responseType || \"text\" ) !== \"text\"  ||\n\t\t\t\t\t\t\t\t\ttypeof xhr.responseText !== \"string\" ?\n\t\t\t\t\t\t\t\t\t\t{ binary: xhr.response } :\n\t\t\t\t\t\t\t\t\t\t{ text: xhr.responseText },\n\t\t\t\t\t\t\t\t\txhr.getAllResponseHeaders()\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t};\n\n\t\t\t\t// Listen to events\n\t\t\t\txhr.onload = callback();\n\t\t\t\terrorCallback = xhr.onerror = xhr.ontimeout = callback( \"error\" );\n\n\t\t\t\t// Support: IE 9 only\n\t\t\t\t// Use onreadystatechange to replace onabort\n\t\t\t\t// to handle uncaught aborts\n\t\t\t\tif ( xhr.onabort !== undefined ) {\n\t\t\t\t\txhr.onabort = errorCallback;\n\t\t\t\t} else {\n\t\t\t\t\txhr.onreadystatechange = function() {\n\n\t\t\t\t\t\t// Check readyState before timeout as it changes\n\t\t\t\t\t\tif ( xhr.readyState === 4 ) {\n\n\t\t\t\t\t\t\t// Allow onerror to be called first,\n\t\t\t\t\t\t\t// but that will not handle a native abort\n\t\t\t\t\t\t\t// Also, save errorCallback to a variable\n\t\t\t\t\t\t\t// as xhr.onerror cannot be accessed\n\t\t\t\t\t\t\twindow.setTimeout( function() {\n\t\t\t\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\t\t\t\terrorCallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Create the abort callback\n\t\t\t\tcallback = callback( \"abort\" );\n\n\t\t\t\ttry {\n\n\t\t\t\t\t// Do send the request (this may raise an exception)\n\t\t\t\t\txhr.send( options.hasContent && options.data || null );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// #14683: Only rethrow if this hasn't been notified as an error yet\n\t\t\t\t\tif ( callback ) {\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\n// Prevent auto-execution of scripts when no explicit dataType was provided (See gh-2432)\njQuery.ajaxPrefilter( function( s ) {\n\tif ( s.crossDomain ) {\n\t\ts.contents.script = false;\n\t}\n} );\n\n// Install script dataType\njQuery.ajaxSetup( {\n\taccepts: {\n\t\tscript: \"text/javascript, application/javascript, \" +\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\n\t},\n\tcontents: {\n\t\tscript: /\\b(?:java|ecma)script\\b/\n\t},\n\tconverters: {\n\t\t\"text script\": function( text ) {\n\t\t\tjQuery.globalEval( text );\n\t\t\treturn text;\n\t\t}\n\t}\n} );\n\n// Handle cache's special case and crossDomain\njQuery.ajaxPrefilter( \"script\", function( s ) {\n\tif ( s.cache === undefined ) {\n\t\ts.cache = false;\n\t}\n\tif ( s.crossDomain ) {\n\t\ts.type = \"GET\";\n\t}\n} );\n\n// Bind script tag hack transport\njQuery.ajaxTransport( \"script\", function( s ) {\n\n\t// This transport only deals with cross domain or forced-by-attrs requests\n\tif ( s.crossDomain || s.scriptAttrs ) {\n\t\tvar script, callback;\n\t\treturn {\n\t\t\tsend: function( _, complete ) {\n\t\t\t\tscript = jQuery( \"<script>\" )\n\t\t\t\t\t.attr( s.scriptAttrs || {} )\n\t\t\t\t\t.prop( { charset: s.scriptCharset, src: s.url } )\n\t\t\t\t\t.on( \"load error\", callback = function( evt ) {\n\t\t\t\t\t\tscript.remove();\n\t\t\t\t\t\tcallback = null;\n\t\t\t\t\t\tif ( evt ) {\n\t\t\t\t\t\t\tcomplete( evt.type === \"error\" ? 404 : 200, evt.type );\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\n\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\n\t\t\t\tdocument.head.appendChild( script[ 0 ] );\n\t\t\t},\n\t\t\tabort: function() {\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n} );\n\n\n\n\nvar oldCallbacks = [],\n\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\n\n// Default jsonp settings\njQuery.ajaxSetup( {\n\tjsonp: \"callback\",\n\tjsonpCallback: function() {\n\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\n\t\tthis[ callback ] = true;\n\t\treturn callback;\n\t}\n} );\n\n// Detect, normalize options and install callbacks for jsonp requests\njQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\n\n\tvar callbackName, overwritten, responseContainer,\n\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\n\t\t\t\"url\" :\n\t\t\ttypeof s.data === \"string\" &&\n\t\t\t\t( s.contentType || \"\" )\n\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\n\t\t\t\trjsonp.test( s.data ) && \"data\"\n\t\t);\n\n\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\n\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\n\n\t\t// Get callback name, remembering preexisting value associated with it\n\t\tcallbackName = s.jsonpCallback = isFunction( s.jsonpCallback ) ?\n\t\t\ts.jsonpCallback() :\n\t\t\ts.jsonpCallback;\n\n\t\t// Insert callback into url or form data\n\t\tif ( jsonProp ) {\n\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\n\t\t} else if ( s.jsonp !== false ) {\n\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\n\t\t}\n\n\t\t// Use data converter to retrieve json after script execution\n\t\ts.converters[ \"script json\" ] = function() {\n\t\t\tif ( !responseContainer ) {\n\t\t\t\tjQuery.error( callbackName + \" was not called\" );\n\t\t\t}\n\t\t\treturn responseContainer[ 0 ];\n\t\t};\n\n\t\t// Force json dataType\n\t\ts.dataTypes[ 0 ] = \"json\";\n\n\t\t// Install callback\n\t\toverwritten = window[ callbackName ];\n\t\twindow[ callbackName ] = function() {\n\t\t\tresponseContainer = arguments;\n\t\t};\n\n\t\t// Clean-up function (fires after converters)\n\t\tjqXHR.always( function() {\n\n\t\t\t// If previous value didn't exist - remove it\n\t\t\tif ( overwritten === undefined ) {\n\t\t\t\tjQuery( window ).removeProp( callbackName );\n\n\t\t\t// Otherwise restore preexisting value\n\t\t\t} else {\n\t\t\t\twindow[ callbackName ] = overwritten;\n\t\t\t}\n\n\t\t\t// Save back as free\n\t\t\tif ( s[ callbackName ] ) {\n\n\t\t\t\t// Make sure that re-using the options doesn't screw things around\n\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\n\n\t\t\t\t// Save the callback name for future use\n\t\t\t\toldCallbacks.push( callbackName );\n\t\t\t}\n\n\t\t\t// Call if it was a function and we have a response\n\t\t\tif ( responseContainer && isFunction( overwritten ) ) {\n\t\t\t\toverwritten( responseContainer[ 0 ] );\n\t\t\t}\n\n\t\t\tresponseContainer = overwritten = undefined;\n\t\t} );\n\n\t\t// Delegate to script\n\t\treturn \"script\";\n\t}\n} );\n\n\n\n\n// Support: Safari 8 only\n// In Safari 8 documents created via document.implementation.createHTMLDocument\n// collapse sibling forms: the second one becomes a child of the first one.\n// Because of that, this security measure has to be disabled in Safari 8.\n// https://bugs.webkit.org/show_bug.cgi?id=137337\nsupport.createHTMLDocument = ( function() {\n\tvar body = document.implementation.createHTMLDocument( \"\" ).body;\n\tbody.innerHTML = \"<form></form><form></form>\";\n\treturn body.childNodes.length === 2;\n} )();\n\n\n// Argument \"data\" should be string of html\n// context (optional): If specified, the fragment will be created in this context,\n// defaults to document\n// keepScripts (optional): If true, will include scripts passed in the html string\njQuery.parseHTML = function( data, context, keepScripts ) {\n\tif ( typeof data !== \"string\" ) {\n\t\treturn [];\n\t}\n\tif ( typeof context === \"boolean\" ) {\n\t\tkeepScripts = context;\n\t\tcontext = false;\n\t}\n\n\tvar base, parsed, scripts;\n\n\tif ( !context ) {\n\n\t\t// Stop scripts or inline event handlers from being executed immediately\n\t\t// by using document.implementation\n\t\tif ( support.createHTMLDocument ) {\n\t\t\tcontext = document.implementation.createHTMLDocument( \"\" );\n\n\t\t\t// Set the base href for the created document\n\t\t\t// so any parsed elements with URLs\n\t\t\t// are based on the document's URL (gh-2965)\n\t\t\tbase = context.createElement( \"base\" );\n\t\t\tbase.href = document.location.href;\n\t\t\tcontext.head.appendChild( base );\n\t\t} else {\n\t\t\tcontext = document;\n\t\t}\n\t}\n\n\tparsed = rsingleTag.exec( data );\n\tscripts = !keepScripts && [];\n\n\t// Single tag\n\tif ( parsed ) {\n\t\treturn [ context.createElement( parsed[ 1 ] ) ];\n\t}\n\n\tparsed = buildFragment( [ data ], context, scripts );\n\n\tif ( scripts && scripts.length ) {\n\t\tjQuery( scripts ).remove();\n\t}\n\n\treturn jQuery.merge( [], parsed.childNodes );\n};\n\n\n/**\n * Load a url into a page\n */\njQuery.fn.load = function( url, params, callback ) {\n\tvar selector, type, response,\n\t\tself = this,\n\t\toff = url.indexOf( \" \" );\n\n\tif ( off > -1 ) {\n\t\tselector = stripAndCollapse( url.slice( off ) );\n\t\turl = url.slice( 0, off );\n\t}\n\n\t// If it's a function\n\tif ( isFunction( params ) ) {\n\n\t\t// We assume that it's the callback\n\t\tcallback = params;\n\t\tparams = undefined;\n\n\t// Otherwise, build a param string\n\t} else if ( params && typeof params === \"object\" ) {\n\t\ttype = \"POST\";\n\t}\n\n\t// If we have elements to modify, make the request\n\tif ( self.length > 0 ) {\n\t\tjQuery.ajax( {\n\t\t\turl: url,\n\n\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\n\t\t\t// Make value of this field explicit since\n\t\t\t// user can override it through ajaxSetup method\n\t\t\ttype: type || \"GET\",\n\t\t\tdataType: \"html\",\n\t\t\tdata: params\n\t\t} ).done( function( responseText ) {\n\n\t\t\t// Save response for use in complete callback\n\t\t\tresponse = arguments;\n\n\t\t\tself.html( selector ?\n\n\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\n\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\n\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\n\n\t\t\t\t// Otherwise use the full result\n\t\t\t\tresponseText );\n\n\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\n\t\t// but they are ignored because response was set above.\n\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\n\t\t} ).always( callback && function( jqXHR, status ) {\n\t\t\tself.each( function() {\n\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\n\t\t\t} );\n\t\t} );\n\t}\n\n\treturn this;\n};\n\n\n\n\n// Attach a bunch of functions for handling common AJAX events\njQuery.each( [\n\t\"ajaxStart\",\n\t\"ajaxStop\",\n\t\"ajaxComplete\",\n\t\"ajaxError\",\n\t\"ajaxSuccess\",\n\t\"ajaxSend\"\n], function( i, type ) {\n\tjQuery.fn[ type ] = function( fn ) {\n\t\treturn this.on( type, fn );\n\t};\n} );\n\n\n\n\njQuery.expr.pseudos.animated = function( elem ) {\n\treturn jQuery.grep( jQuery.timers, function( fn ) {\n\t\treturn elem === fn.elem;\n\t} ).length;\n};\n\n\n\n\njQuery.offset = {\n\tsetOffset: function( elem, options, i ) {\n\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\n\t\t\tposition = jQuery.css( elem, \"position\" ),\n\t\t\tcurElem = jQuery( elem ),\n\t\t\tprops = {};\n\n\t\t// Set position first, in-case top/left are set even on static elem\n\t\tif ( position === \"static\" ) {\n\t\t\telem.style.position = \"relative\";\n\t\t}\n\n\t\tcurOffset = curElem.offset();\n\t\tcurCSSTop = jQuery.css( elem, \"top\" );\n\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\n\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\n\t\t\t( curCSSTop + curCSSLeft ).indexOf( \"auto\" ) > -1;\n\n\t\t// Need to be able to calculate position if either\n\t\t// top or left is auto and position is either absolute or fixed\n\t\tif ( calculatePosition ) {\n\t\t\tcurPosition = curElem.position();\n\t\t\tcurTop = curPosition.top;\n\t\t\tcurLeft = curPosition.left;\n\n\t\t} else {\n\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\n\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\n\t\t}\n\n\t\tif ( isFunction( options ) ) {\n\n\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\n\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\n\t\t}\n\n\t\tif ( options.top != null ) {\n\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\n\t\t}\n\t\tif ( options.left != null ) {\n\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\n\t\t}\n\n\t\tif ( \"using\" in options ) {\n\t\t\toptions.using.call( elem, props );\n\n\t\t} else {\n\t\t\tcurElem.css( props );\n\t\t}\n\t}\n};\n\njQuery.fn.extend( {\n\n\t// offset() relates an element's border box to the document origin\n\toffset: function( options ) {\n\n\t\t// Preserve chaining for setter\n\t\tif ( arguments.length ) {\n\t\t\treturn options === undefined ?\n\t\t\t\tthis :\n\t\t\t\tthis.each( function( i ) {\n\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\n\t\t\t\t} );\n\t\t}\n\n\t\tvar rect, win,\n\t\t\telem = this[ 0 ];\n\n\t\tif ( !elem ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n\t\t// Support: IE <=11 only\n\t\t// Running getBoundingClientRect on a\n\t\t// disconnected node in IE throws an error\n\t\tif ( !elem.getClientRects().length ) {\n\t\t\treturn { top: 0, left: 0 };\n\t\t}\n\n\t\t// Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\t\trect = elem.getBoundingClientRect();\n\t\twin = elem.ownerDocument.defaultView;\n\t\treturn {\n\t\t\ttop: rect.top + win.pageYOffset,\n\t\t\tleft: rect.left + win.pageXOffset\n\t\t};\n\t},\n\n\t// position() relates an element's margin box to its offset parent's padding box\n\t// This corresponds to the behavior of CSS absolute positioning\n\tposition: function() {\n\t\tif ( !this[ 0 ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar offsetParent, offset, doc,\n\t\t\telem = this[ 0 ],\n\t\t\tparentOffset = { top: 0, left: 0 };\n\n\t\t// position:fixed elements are offset from the viewport, which itself always has zero offset\n\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\n\n\t\t\t// Assume position:fixed implies availability of getBoundingClientRect\n\t\t\toffset = elem.getBoundingClientRect();\n\n\t\t} else {\n\t\t\toffset = this.offset();\n\n\t\t\t// Account for the *real* offset parent, which can be the document or its root element\n\t\t\t// when a statically positioned element is identified\n\t\t\tdoc = elem.ownerDocument;\n\t\t\toffsetParent = elem.offsetParent || doc.documentElement;\n\t\t\twhile ( offsetParent &&\n\t\t\t\t( offsetParent === doc.body || offsetParent === doc.documentElement ) &&\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\n\t\t\t\toffsetParent = offsetParent.parentNode;\n\t\t\t}\n\t\t\tif ( offsetParent && offsetParent !== elem && offsetParent.nodeType === 1 ) {\n\n\t\t\t\t// Incorporate borders into its offset, since they are outside its content origin\n\t\t\t\tparentOffset = jQuery( offsetParent ).offset();\n\t\t\t\tparentOffset.top += jQuery.css( offsetParent, \"borderTopWidth\", true );\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent, \"borderLeftWidth\", true );\n\t\t\t}\n\t\t}\n\n\t\t// Subtract parent offsets and element margins\n\t\treturn {\n\t\t\ttop: offset.top - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\n\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\n\t\t};\n\t},\n\n\t// This method will return documentElement in the following cases:\n\t// 1) For the element inside the iframe without offsetParent, this method will return\n\t//    documentElement of the parent window\n\t// 2) For the hidden or detached element\n\t// 3) For body or html element, i.e. in case of the html node - it will return itself\n\t//\n\t// but those exceptions were never presented as a real life use-cases\n\t// and might be considered as more preferable results.\n\t//\n\t// This logic, however, is not guaranteed and can change at any point in the future\n\toffsetParent: function() {\n\t\treturn this.map( function() {\n\t\t\tvar offsetParent = this.offsetParent;\n\n\t\t\twhile ( offsetParent && jQuery.css( offsetParent, \"position\" ) === \"static\" ) {\n\t\t\t\toffsetParent = offsetParent.offsetParent;\n\t\t\t}\n\n\t\t\treturn offsetParent || documentElement;\n\t\t} );\n\t}\n} );\n\n// Create scrollLeft and scrollTop methods\njQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\n\tvar top = \"pageYOffset\" === prop;\n\n\tjQuery.fn[ method ] = function( val ) {\n\t\treturn access( this, function( elem, method, val ) {\n\n\t\t\t// Coalesce documents and windows\n\t\t\tvar win;\n\t\t\tif ( isWindow( elem ) ) {\n\t\t\t\twin = elem;\n\t\t\t} else if ( elem.nodeType === 9 ) {\n\t\t\t\twin = elem.defaultView;\n\t\t\t}\n\n\t\t\tif ( val === undefined ) {\n\t\t\t\treturn win ? win[ prop ] : elem[ method ];\n\t\t\t}\n\n\t\t\tif ( win ) {\n\t\t\t\twin.scrollTo(\n\t\t\t\t\t!top ? val : win.pageXOffset,\n\t\t\t\t\ttop ? val : win.pageYOffset\n\t\t\t\t);\n\n\t\t\t} else {\n\t\t\t\telem[ method ] = val;\n\t\t\t}\n\t\t}, method, val, arguments.length );\n\t};\n} );\n\n// Support: Safari <=7 - 9.1, Chrome <=37 - 49\n// Add the top/left cssHooks using jQuery.fn.position\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\n// Blink bug: https://bugs.chromium.org/p/chromium/issues/detail?id=589347\n// getComputedStyle returns percent when specified for top/left/bottom/right;\n// rather than make the css module depend on the offset module, just check for it here\njQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\n\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\n\t\tfunction( elem, computed ) {\n\t\t\tif ( computed ) {\n\t\t\t\tcomputed = curCSS( elem, prop );\n\n\t\t\t\t// If curCSS returns percentage, fallback to offset\n\t\t\t\treturn rnumnonpx.test( computed ) ?\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\n\t\t\t\t\tcomputed;\n\t\t\t}\n\t\t}\n\t);\n} );\n\n\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\njQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\n\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\n\t\tfunction( defaultExtra, funcName ) {\n\n\t\t// Margin is only for outerHeight, outerWidth\n\t\tjQuery.fn[ funcName ] = function( margin, value ) {\n\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\n\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\n\n\t\t\treturn access( this, function( elem, type, value ) {\n\t\t\t\tvar doc;\n\n\t\t\t\tif ( isWindow( elem ) ) {\n\n\t\t\t\t\t// $( window ).outerWidth/Height return w/h including scrollbars (gh-1729)\n\t\t\t\t\treturn funcName.indexOf( \"outer\" ) === 0 ?\n\t\t\t\t\t\telem[ \"inner\" + name ] :\n\t\t\t\t\t\telem.document.documentElement[ \"client\" + name ];\n\t\t\t\t}\n\n\t\t\t\t// Get document width or height\n\t\t\t\tif ( elem.nodeType === 9 ) {\n\t\t\t\t\tdoc = elem.documentElement;\n\n\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\n\t\t\t\t\t// whichever is greatest\n\t\t\t\t\treturn Math.max(\n\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\n\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\n\t\t\t\t\t\tdoc[ \"client\" + name ]\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn value === undefined ?\n\n\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\n\t\t\t\t\tjQuery.css( elem, type, extra ) :\n\n\t\t\t\t\t// Set width or height on the element\n\t\t\t\t\tjQuery.style( elem, type, value, extra );\n\t\t\t}, type, chainable ? margin : undefined, chainable );\n\t\t};\n\t} );\n} );\n\n\njQuery.each( ( \"blur focus focusin focusout resize scroll click dblclick \" +\n\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\n\t\"change select submit keydown keypress keyup contextmenu\" ).split( \" \" ),\n\tfunction( i, name ) {\n\n\t// Handle event binding\n\tjQuery.fn[ name ] = function( data, fn ) {\n\t\treturn arguments.length > 0 ?\n\t\t\tthis.on( name, null, data, fn ) :\n\t\t\tthis.trigger( name );\n\t};\n} );\n\njQuery.fn.extend( {\n\thover: function( fnOver, fnOut ) {\n\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\n\t}\n} );\n\n\n\n\njQuery.fn.extend( {\n\n\tbind: function( types, data, fn ) {\n\t\treturn this.on( types, null, data, fn );\n\t},\n\tunbind: function( types, fn ) {\n\t\treturn this.off( types, null, fn );\n\t},\n\n\tdelegate: function( selector, types, data, fn ) {\n\t\treturn this.on( types, selector, data, fn );\n\t},\n\tundelegate: function( selector, types, fn ) {\n\n\t\t// ( namespace ) or ( selector, types [, fn] )\n\t\treturn arguments.length === 1 ?\n\t\t\tthis.off( selector, \"**\" ) :\n\t\t\tthis.off( types, selector || \"**\", fn );\n\t}\n} );\n\n// Bind a function to a context, optionally partially applying any\n// arguments.\n// jQuery.proxy is deprecated to promote standards (specifically Function#bind)\n// However, it is not slated for removal any time soon\njQuery.proxy = function( fn, context ) {\n\tvar tmp, args, proxy;\n\n\tif ( typeof context === \"string\" ) {\n\t\ttmp = fn[ context ];\n\t\tcontext = fn;\n\t\tfn = tmp;\n\t}\n\n\t// Quick check to determine if target is callable, in the spec\n\t// this throws a TypeError, but we will just return undefined.\n\tif ( !isFunction( fn ) ) {\n\t\treturn undefined;\n\t}\n\n\t// Simulated bind\n\targs = slice.call( arguments, 2 );\n\tproxy = function() {\n\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\n\t};\n\n\t// Set the guid of unique handler to the same of original handler, so it can be removed\n\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\n\n\treturn proxy;\n};\n\njQuery.holdReady = function( hold ) {\n\tif ( hold ) {\n\t\tjQuery.readyWait++;\n\t} else {\n\t\tjQuery.ready( true );\n\t}\n};\njQuery.isArray = Array.isArray;\njQuery.parseJSON = JSON.parse;\njQuery.nodeName = nodeName;\njQuery.isFunction = isFunction;\njQuery.isWindow = isWindow;\njQuery.camelCase = camelCase;\njQuery.type = toType;\n\njQuery.now = Date.now;\n\njQuery.isNumeric = function( obj ) {\n\n\t// As of jQuery 3.0, isNumeric is limited to\n\t// strings and numbers (primitives or objects)\n\t// that can be coerced to finite numbers (gh-2662)\n\tvar type = jQuery.type( obj );\n\treturn ( type === \"number\" || type === \"string\" ) &&\n\n\t\t// parseFloat NaNs numeric-cast false positives (\"\")\n\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n\t\t// subtraction forces infinities to NaN\n\t\t!isNaN( obj - parseFloat( obj ) );\n};\n\n\n\n\n// Register as a named AMD module, since jQuery can be concatenated with other\n// files that may use define, but not via a proper concatenation script that\n// understands anonymous AMD modules. A named AMD is safest and most robust\n// way to register. Lowercase jquery is used because AMD module names are\n// derived from file names, and jQuery is normally delivered in a lowercase\n// file name. Do this after creating the global so that if an AMD module wants\n// to call noConflict to hide this version of jQuery, it will work.\n\n// Note that for maximum portability, libraries that are not jQuery should\n// declare themselves as anonymous modules, and avoid setting a global if an\n// AMD loader is present. jQuery is a special case. For more information, see\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\n\nif ( typeof define === \"function\" && define.amd ) {\n\tdefine( \"jquery\", [], function() {\n\t\treturn jQuery;\n\t} );\n}\n\n\n\n\nvar\n\n\t// Map over jQuery in case of overwrite\n\t_jQuery = window.jQuery,\n\n\t// Map over the $ in case of overwrite\n\t_$ = window.$;\n\njQuery.noConflict = function( deep ) {\n\tif ( window.$ === jQuery ) {\n\t\twindow.$ = _$;\n\t}\n\n\tif ( deep && window.jQuery === jQuery ) {\n\t\twindow.jQuery = _jQuery;\n\t}\n\n\treturn jQuery;\n};\n\n// Expose jQuery and $ identifiers, even in AMD\n// (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\n// and CommonJS for browser emulators (#13566)\nif ( !noGlobal ) {\n\twindow.jQuery = window.$ = jQuery;\n}\n\n\n\n\nreturn jQuery;\n} );\n","/* @flow */\n\nexport { data as context } from './foreground/context';\nexport { addURLToHistory, isURLVisited } from './foreground/history';\nexport { ajax } from './foreground/ajax';\nexport { download } from './foreground/download';\nexport { getExtensionId, getURL, isOptionsPage, getOptionsURL } from './foreground/id';\nexport { locale, i18n, _loadI18n } from './foreground/i18n';\nexport { isPrivateBrowsing } from './foreground/privateBrowsing';\nexport { launchAuthFlow } from './foreground/auth';\nexport { multicast } from './foreground/multicast';\nexport { openNewTab, openNewTabs } from './foreground/tabs';\nexport * as PageAction from './foreground/pageAction';\nexport * as Permissions from './foreground/permissions';\nexport * as Session from './foreground/session';\nexport * as Storage from './foreground/storage';\nexport * as XhrCache from './foreground/xhrCache';\n","var before = require('./before');\n\n/**\n * Creates a function that is restricted to invoking `func` once. Repeat calls\n * to the function return the value of the first invocation. The `func` is\n * invoked with the `this` binding and arguments of the created function.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * var initialize = _.once(createApplication);\n * initialize();\n * initialize();\n * // => `createApplication` is invoked once\n */\nfunction once(func) {\n  return before(2, func);\n}\n\nmodule.exports = once;\n","/* @flow */\n\nimport _ from 'lodash';\nimport { downcast } from './flow';\n\nexport function waitForEvent(ele: EventTarget, ...events: string[]): Promise<Event> {\n\treturn Promise.race(events.map(event =>\n\t\tnew Promise(resolve => ele.addEventListener(event, function fire(e) {\n\t\t\tele.removeEventListener(event, fire);\n\t\t\tresolve(e);\n\t\t}))\n\t));\n}\n\nexport function waitForChild(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = Array.from(ele.children).find(child => child.matches(selector));\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\tresolve(downcast(node, HTMLElement));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true });\n\t});\n}\n\nexport function watchForChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tfor (const child of Array.from(ele.children).filter(child => child.matches(selector))) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureChildren(ele, selector, callback);\n}\n\nexport function watchForFutureChildren(ele: Element, selector: string, callback: (ele: HTMLElement) => any): void {\n\tnew MutationObserver(mutations => {\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE && (node: any).matches(selector)) {\n\t\t\t\t\tcallback(downcast(node, HTMLElement));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}).observe(ele, { childList: true });\n}\n\nexport function waitForDescendant(ele: Element, selector: string): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst child = ele.querySelector(selector);\n\t\tif (child) {\n\t\t\tresolve(child);\n\t\t\treturn;\n\t\t}\n\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForFutureDescendant(ele: Element, selector: string, { added = false, removed = false }: {| added?: boolean, removed?: boolean |} = { added: true, removed: false }): Promise<HTMLElement> {\n\treturn new Promise(resolve => {\n\t\tconst observer = new MutationObserver(mutations => {\n\t\t\tfor (const mutation of mutations) {\n\t\t\t\tfor (const node of [...(added ? mutation.addedNodes : []), ...(removed ? mutation.removedNodes : [])]) {\n\t\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t\t// the desired node may a descendant of an added node,\n\t\t\t\t\t\t// so scanning through addedNodes is not sufficient\n\t\t\t\t\t\tconst child = ele.querySelector(selector);\n\t\t\t\t\t\tif (child) {\n\t\t\t\t\t\t\tobserver.disconnect();\n\t\t\t\t\t\t\tresolve(child);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// stop iteration now, since we've already run querySelector over all children\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tobserver.observe(ele, { childList: true, subtree: true });\n\t});\n}\n\nexport function waitForAttach(parent: HTMLElement, el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\tif (parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function waitForDetach(el: HTMLElement, cancel?: Promise<*>): Promise<void> {\n\t// Use `document.documentElement` as parent since using other closer element may not detect removal\n\tconst parent = document.documentElement;\n\n\tif (!parent.contains(el)) return Promise.resolve();\n\n\treturn new Promise((resolve, reject) => {\n\t\tconst observer = new MutationObserver(() => {\n\t\t\tif (!parent.contains(el)) resolve();\n\t\t});\n\n\t\tobserver.observe(parent, { subtree: true, childList: true });\n\t\tif (cancel) cancel.then(() => { observer.disconnect(); reject(new Error('Canceled')); });\n\t});\n}\n\nexport function watchForDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tfor (const child of ele.querySelectorAll(selector)) {\n\t\tcallback(child);\n\t}\n\n\twatchForFutureDescendants(ele, selector, callback, ignoreChildrenIfAddedNodeMatches);\n}\n\nexport function watchForFutureDescendants(ele: Element, selector: string, callback: (ele: HTMLElement) => any, ignoreChildrenIfAddedNodeMatches: boolean = false): void {\n\tnew MutationObserver(mutations => {\n\t\t// avoid calling the callback twice if streamed-in children match the same selectors as their parents\n\t\t// i.e. nested comments that are rendered at pageload\n\t\tconst children = new Set();\n\t\tfor (const mutation of mutations) {\n\t\t\tfor (const node of mutation.addedNodes) {\n\t\t\t\tif (node.nodeType === Node.ELEMENT_NODE) {\n\t\t\t\t\t// the node itself may match...\n\t\t\t\t\tif ((node: any).matches(selector)) {\n\t\t\t\t\t\tchildren.add(node);\n\t\t\t\t\t\tif (ignoreChildrenIfAddedNodeMatches) continue;\n\t\t\t\t\t}\n\t\t\t\t\t// ...or some of its children may match\n\t\t\t\t\tfor (const child of (node: any).querySelectorAll(selector)) {\n\t\t\t\t\t\tchildren.add(child);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tfor (const child of children) {\n\t\t\tcallback(downcast(child, HTMLElement));\n\t\t}\n\t}).observe(ele, { childList: true, subtree: true });\n}\n\nexport function empty<T: Element>(parent: T): T {\n\twhile (parent.lastChild) parent.removeChild(parent.lastChild);\n\treturn parent;\n}\n\nexport function click(obj: EventTarget, button: number = 0): void {\n\tobj.dispatchEvent(new MouseEvent('click', {\n\t\tbubbles: true,\n\t\tcancelable: true,\n\t\tdetail: 0,\n\t\tscreenX: 1,\n\t\tscreenY: 1,\n\t\tclientX: 1,\n\t\tclientY: 1,\n\t\tbutton,\n\t}));\n}\n\nclick.isProgrammaticEvent = (e: MouseEvent): boolean => e.clientX === 1 && e.clientY === 1;\n\nexport const getViewportSize = _.memoize((): { width: number, height: number } => {\n\twaitForEvent(window, 'resize').then(() => { getViewportSize.cache.clear(); });\n\n\tlet visualViewport;\n\n\tif (window.visualViewport) {\n\t\tvisualViewport = window.visualViewport;\n\t} else {\n\t\tconst viewportSizedElement = document.createElement('div');\n\t\tviewportSizedElement.style.width = viewportSizedElement.style.height = '100%';\n\t\tviewportSizedElement.style.position = 'fixed';\n\t\tdocument.body.appendChild(viewportSizedElement);\n\t\tvisualViewport = viewportSizedElement.getBoundingClientRect();\n\t\tviewportSizedElement.remove();\n\t}\n\n\treturn _.pick(visualViewport, ['height', 'width']);\n});\n\nexport function elementInViewport(ele: HTMLElement): boolean {\n\tif (!ele || !ele.offsetParent) return false;\n\n\tconst { top, left, bottom, right } = ele.getBoundingClientRect();\n\n\treturn (\n\t\ttop >= 0 &&\n\t\tleft >= 0 &&\n\t\tbottom <= getViewportSize().height &&\n\t\tright <= getViewportSize().width\n\t);\n}\n\nfunction getViewportDimensions() {\n\tconst headerOffset = getHeaderOffset();\n\tconst left = window.pageXOffset;\n\tconst top = window.pageYOffset + headerOffset;\n\tconst width = getViewportSize().width;\n\tconst height = getViewportSize().height - headerOffset;\n\n\treturn {\n\t\tyOffset: headerOffset,\n\t\tleft,\n\t\ttop,\n\t\tbottom: top + height,\n\t\tright: left + width,\n\t\twidth,\n\t\theight,\n\t};\n}\n\n// Returns percentage of the element that is within the viewport along the y-axis\n// Note that it doesn't matter where the element is on the x-axis, it can be totally invisible to the user\n// and this function might still return 1!\nexport function getPercentageVisibleYAxis(obj: Element): number {\n\tconst rect = obj.getBoundingClientRect();\n\tconst top = Math.max(0, rect.bottom - rect.height);\n\tconst bottom = Math.min(getViewportSize().height, rect.bottom);\n\tif (rect.height === 0) {\n\t\treturn 0;\n\t}\n\treturn Math.max(0, (bottom - top) / rect.height);\n}\n\nconst padBottom = _.once(() => {\n\tconst element = document.createElement('div');\n\telement.style.clear = 'both';\n\tconst extraPadding = 50; // In case the body's height reduces\n\treturn (scrollTop, viewportHeight) => {\n\t\tconst currentPadding = element.clientHeight;\n\t\tconst paddingRequired = extraPadding +\n\t\t\t-(document.documentElement.scrollHeight - scrollTop - viewportHeight - currentPadding);\n\t\tif (paddingRequired > 0) document.body.append(element);\n\t\telse element.remove();\n\t\telement.style.height = `${paddingRequired}px`;\n\t};\n});\n\nlet recentScroll = false;\nlet scrollInvokationToken;\n\nexport type ScrollStyle = 'none' | 'top' | 'adopt' | 'middle' | 'page' | 'legacy' | 'directional';\ntype Direction = 'up' | 'down';\ntype Anchor = {| to: number, from?: number |};\n\nexport function scrollToElement(to: HTMLElement, from: ?HTMLElement, {\n\tscrollStyle,\n\trestrictDirectionTo,\n\tdirection: selectedDirection,\n\tanchor,\n\twaitTillVisible,\n}: {|\n\tscrollStyle: ScrollStyle,\n\trestrictDirectionTo?: Direction,\n\tdirection?: Direction,\n\tanchor?: Anchor,\n\twaitTillVisible?: boolean,\n|}): void | Promise<void> {\n\tconst _scrollInvokationToken = scrollInvokationToken = {}; // Unique object in order to check whether invokation with `waitTillVisible` has been superseded\n\n\tif (waitTillVisible && !to.offsetParent) {\n\t\t// Try again next frame\n\t\treturn new Promise(res => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tif (scrollInvokationToken !== _scrollInvokationToken) return;\n\t\t\t\t(scrollToElement(...arguments) || Promise.resolve()).then(res); // eslint-disable-line prefer-rest-params\n\t\t\t});\n\t\t});\n\t}\n\n\tif (scrollStyle === 'none' && !anchor) {\n\t\treturn;\n\t}\n\n\tif (!to.offsetParent) {\n\t\tconsole.error('Element is not visible.');\n\t\treturn;\n\t}\n\n\tif (scrollStyle === 'none' && anchor) {\n\t\tconst diff = to.getBoundingClientRect().top - anchor.to;\n\t\tif (diff) window.scrollBy(0, diff);\n\t}\n\n\tconst viewport = getViewportDimensions();\n\n\tconst target = _.assignIn({}, to.getBoundingClientRect()); // top, right, bottom, left are relative to viewport\n\ttarget.top -= viewport.yOffset;\n\ttarget.bottom -= viewport.yOffset;\n\n\tconst top = viewport.top + target.top - 5; /* offset */\n\n\tif (scrollStyle === 'middle' && target.height >= viewport.height) {\n\t\tscrollStyle = 'top';\n\t}\n\n\tlet compensateHeader = true;\n\tlet scrollY;\n\n\tif (scrollStyle === 'top') {\n\t\t// Always scroll element to top of page; pad bottom if necessary\n\t\tpadBottom()(top, viewport.height);\n\t\tscrollY = top;\n\t} else if (from && scrollStyle === 'adopt') {\n\t\t// Replace the viewport position of `from` with `element`\n\t\tconst fromTop = anchor && typeof anchor.from === 'number' ?\n\t\t\tanchor.from :\n\t\t\tfrom.getBoundingClientRect().top;\n\t\tlet diff = to.getBoundingClientRect().top - fromTop;\n\n\t\tif (fromTop < 0) {\n\t\t\t// Compensate to show top when it is above viewport\n\t\t\tdiff += fromTop;\n\t\t} else if (fromTop > viewport.height - 60) {\n\t\t\t// Always show at minimum the top 60px of the element\n\t\t\tdiff += fromTop - viewport.height + 60;\n\t\t}\n\n\t\tscrollY = window.scrollY + diff;\n\t\tcompensateHeader = false;\n\t} else if (scrollStyle === 'middle') {\n\t\tconst buffer = (viewport.height - target.height) / 2;\n\t\tconst newScrollY = top - buffer;\n\n\t\tif (elementInViewport(to)) {\n\t\t\tconst viewportDirection = newScrollY >= window.scrollY ? 'down' : 'up';\n\t\t\t// Having these go in opposite directions is jarring\n\t\t\tif (viewportDirection !== selectedDirection) return;\n\t\t}\n\n\t\tscrollY = newScrollY;\n\t} else if (target.top >= 0 && target.bottom <= viewport.height) {\n\t\t// Element is already completely inside viewport\n\t\t// (remember, top and bottom are relative to viewport)\n\t\t// do nothing\n\t} else if (scrollStyle === 'legacy') {\n\t\t// Element not completely in viewport, so scroll to top\n\t\tscrollY = top;\n\t} else if (target.top < viewport.yOffset) {\n\t\t// Element starts above viewport\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t} else if (viewport.height < target.bottom &&\n\t\ttarget.height < viewport.height) {\n\t\t// Visible part of element starts or extends below viewport\n\t\tif (scrollStyle === 'page') {\n\t\t\tscrollY = top;\n\t\t} else {\n\t\t\t// So, align bottom of target to bottom of viewport\n\t\t\tscrollY = viewport.top + target.bottom - viewport.height;\n\t\t}\n\t} else {\n\t\t// Visible part of element below the viewport but it'll fill the viewport, or fallback\n\t\t// So, align top of element to top of viewport\n\t\tscrollY = top;\n\t}\n\n\tif (scrollY !== undefined) {\n\t\tif (compensateHeader) scrollY -= getHeaderOffset();\n\t\tconst scollDirection = scrollY > viewport.top ? 'down' : 'up';\n\t\tif (viewport.top === scrollY || (restrictDirectionTo && restrictDirectionTo !== scollDirection)) return;\n\t\twindow.scrollTo(0, scrollY);\n\t\trecentScroll = true;\n\t\twaitForEvent(window, 'scroll').then(() => { recentScroll = false; });\n\t}\n}\n\nscrollToElement.isProgrammaticEvent = (): boolean => recentScroll;\n\nconst headerIds = { fullWidth: [], partialWidth: [] };\n\nexport function _addHeaderId(elementId: string, partialWidth: boolean = false) {\n\theaderIds[partialWidth ? 'partialWidth' : 'fullWidth'].push(elementId);\n}\n\nexport const getHeaderOffset = _.memoize((includePartialWidthHeaders?: boolean = false): number => {\n\tconst headers = [\n\t\t...headerIds.fullWidth,\n\t\t...(includePartialWidthHeaders ? headerIds.partialWidth : []),\n\t];\n\n\treturn headers\n\t\t.map(id => document.getElementById(id))\n\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n});\n\nexport const getD2xBodyOffset = _.memoize(() => {\n\ttry {\n\t\treturn document.getElementById('2x-container').offsetTop;\n\t} catch (e) {\n\t\treturn 65;\n\t}\n});\n\nexport function addCSS(css: string) {\n\tlet style = addStyle(css);\n\treturn {\n\t\tremove() {\n\t\t\tif (!style) return;\n\t\t\tstyle.remove();\n\t\t\tstyle.textContent = '';\n\t\t\tstyle = undefined;\n\t\t},\n\t};\n}\n\nfunction addStyle(css) {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\n\t(document.head || document.documentElement).appendChild(style);\n\n\treturn style;\n}\n\n// r2 Reddit clone certain elements, e.g. when replying or editing a post\n// This will remove elements that have a specific attribute, but have not been registered\nexport const preventCloning = (() => {\n\t// Prevent breaking ava test\n\tif (typeof window === 'undefined') return (e: *) => e;\n\n\tconst attribute = `res-prevent-cloning-${Date.now()}`; // Prevent the attribute being used in a selector\n\tconst elements = new WeakSet();\n\n\t// Delay adding the observer a little, to not slow down init\n\twaitForEvent(window, 'DOMContentLoaded', 'load').then(() => {\n\t\twatchForFutureDescendants(document.body, `[${attribute}]`, e => {\n\t\t\tif (!elements.has(e)) e.remove();\n\t\t});\n\t});\n\n\treturn (element: HTMLElement) => {\n\t\telement.setAttribute(attribute, '');\n\t\telements.add(element);\n\t\treturn element;\n\t};\n})();\n","/* @flow */\n\ntype MessagePayload = {|\n\ttype: string,\n\tdata?: mixed,\n|};\n\ntype ResponsePayload = {|\n\tdata?: mixed,\n\terror?: {| message: string, stack: string |},\n|};\n\ntype InternalMessageSender<MsgCtx> = (msg: MessagePayload, context: MsgCtx) => Promise<ResponsePayload>;\n\ntype InternalMessageHandler<ListenerCtx> = (msg: MessagePayload, sendResponse: (response: ResponsePayload) => void, context: ListenerCtx) => boolean;\n\nexport type MessageSender<MsgCtx> = (type: string, data: mixed, context: MsgCtx) => Promise<any>;\n\nexport type AddListener<Ctx> = (type: string, callback: ListenerCallback<Ctx>) => void;\n\ntype ListenerCallback<Ctx> = (data: any, context: Ctx) => Promise<mixed> | mixed;\n\nclass MessageHandlerError extends Error {\n\tconstructor(message, stack) {\n\t\tsuper();\n\t\tthis.message = message;\n\t\tthis.stack = stack;\n\t}\n}\n\nexport function createMessageHandler<MsgCtx, ListenerCtx>(_sendMessage: InternalMessageSender<MsgCtx>, errorOnUnrecognizedTypes: boolean = false): {|\n\t_handleMessage: InternalMessageHandler<ListenerCtx>,\n\tsendMessage: MessageSender<MsgCtx>,\n\taddListener: AddListener<ListenerCtx>,\n|} {\n\tconst listeners = new Map();\n\n\tfunction addListener(type, callback) {\n\t\tif (listeners.has(type)) {\n\t\t\tthrow new Error(`Listener for \"${type}\" already exists.`);\n\t\t}\n\t\tlisteners.set(type, callback);\n\t}\n\n\tasync function sendMessage(type, data, context) {\n\t\tconst { data: newData, error } = await _sendMessage({ type, data }, context);\n\t\tif (error) {\n\t\t\tthrow new MessageHandlerError(error.message, `${error.stack}\\n    at target's \"${type}\" handler`);\n\t\t} else {\n\t\t\treturn newData;\n\t\t}\n\t}\n\n\tfunction _handleMessage({ type, data }, sendResponse, context) {\n\t\tconst listener = listeners.get(type);\n\t\tif (!listener) {\n\t\t\tif (errorOnUnrecognizedTypes) {\n\t\t\t\tsendResponse({ error: { message: `Unrecognised message type: ${type}`, stack: '' } });\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tlet response;\n\n\t\ttry {\n\t\t\tresponse = listener(data, context);\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\treturn false;\n\t\t}\n\n\t\tif (response instanceof Promise) {\n\t\t\tresponse\n\t\t\t\t.then(\n\t\t\t\t\tdata => sendResponse({ data }),\n\t\t\t\t\te => {\n\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\tsendResponse({ error: { message: e.message, stack: e.stack } });\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t// true = response will be handled asynchronously (needed for Chrome)\n\t\t\treturn true;\n\t\t} else {\n\t\t\tsendResponse({ data: response });\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn {\n\t\t_handleMessage,\n\t\tsendMessage,\n\t\taddListener,\n\t};\n}\n","/* @flow */\n\nimport { createMessageHandler } from '../utils/messaging';\nimport { apiToPromise } from '../utils/api';\n\nconst _sendMessage = apiToPromise(chrome.runtime.sendMessage);\n\nconst {\n\t_handleMessage,\n\tsendMessage,\n\taddListener,\n} = createMessageHandler(obj => _sendMessage(obj));\n\nchrome.runtime.onMessage.addListener((obj, sender, sendResponse) => _handleMessage(obj, sendResponse));\n\nexport {\n\tsendMessage,\n\taddListener,\n};\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/* @flow */\n\nimport _ from 'lodash';\nimport { zip } from './generator';\n\nexport function waitFor<T>(callback: () => ?T, interval?: number = 1): Promise<T> {\n\treturn new Promise(resolve => {\n\t\t(function repeat() {\n\t\t\tconst val = callback();\n\t\t\tif (!val) {\n\t\t\t\tsetTimeout(repeat, interval);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresolve(val);\n\t\t})();\n\t});\n}\n\n/*\n Iterate through an array in chunks, executing a callback on each element.\n Each chunk is handled asynchronously from the others with a delay betwen each batch.\n This will change the timeout dynamically based on current screen performance in an effort\n to work as fast as possibly without blocking the screen.\n */\n\nexport const forEachChunked = (() => {\n\tconst framerate = 30;\n\tconst frameTime = 1000 / framerate;\n\n\tconst queues = [];\n\n\tconst run = frameThrottle(() => {\n\t\tconst start = performance.now();\n\t\tdo {\n\t\t\t_.remove(queues, ({ generator, callback, resolve, reject }): boolean | void => {\n\t\t\t\tconst { value, done } = generator.next();\n\n\t\t\t\tif (done) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tcallback(value);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tif (generator.return) generator.return();\n\t\t\t\t\treject(e);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// stop if there are no queues left\n\t\t\tif (!queues.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} while (performance.now() - start < frameTime);\n\t\trun();\n\t});\n\n\treturn _.curryRight(<T>(collection: Iterable<T>, callback: (x: T) => void) =>\n\t\tnew Promise((resolve, reject) => {\n\t\t\tconst iterable = (Symbol.iterator in collection) ? collection : Array.from(collection); // eslint-disable-line no-restricted-syntax\n\t\t\t// $FlowIssue https://github.com/facebook/flow/issues/1163, https://github.com/facebook/flow/issues/1015\n\t\t\tqueues.push({ generator: iterable[Symbol.iterator](), callback, resolve, reject });\n\t\t\trun();\n\t\t})\n\t);\n})();\n\n/*\n * Will accumulate values until `size` elements are accumulated or `delay` milliseconds pass.\n * `callback` accepts an array of batched values and should return an array of results **in the same order**.\n * If it throws, all promises will be rejected with the same error.\n * If one of the results is an instance of `Error`, the corresponding promise will be rejected with that error.\n */\nexport function batch<T, V>(callback: (xs: T[]) => Promise<Iterable<Error | Promise<V> | V> | void> | void, { size = 100, delay = 50, flushBeforeUnload = false }: {| size?: number, delay?: number, flushBeforeUnload?: boolean |} = {}): (x: T) => Promise<V> {\n\tlet invoke;\n\n\tfunction* batchAccumulator() {\n\t\tconst entries = [];\n\t\tconst promises = [];\n\n\t\tfunction addPromise(): Promise<V> {\n\t\t\tif (entries.length) {\n\t\t\t\treturn new Promise((resolve, reject) => { promises.push({ resolve, reject }); });\n\t\t\t} else {\n\t\t\t\treturn (undefined: any); // dummy - never observed\n\t\t\t}\n\t\t}\n\n\t\tinvoke = _.once(async () => {\n\t\t\tstartNewBatch();\n\t\t\tif (!entries.length) return;\n\t\t\ttry {\n\t\t\t\tconst results = await callback(entries) || [];\n\t\t\t\tfor (const [{ resolve, reject }, result] of zip(promises, results)) {\n\t\t\t\t\tif (result instanceof Error) reject(result);\n\t\t\t\t\telse resolve(result);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tfor (const { reject } of promises) {\n\t\t\t\t\treject(e);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tconst timeout = delay ? _.debounce(invoke, delay) : throttle(invoke);\n\n\t\twhile (entries.length < size) {\n\t\t\tconst entry = yield addPromise();\n\t\t\tif (entry === undefined) throw new Error('undefined passed into batch generator');\n\t\t\tentries.push(entry);\n\t\t\ttimeout();\n\t\t}\n\n\t\tconst lastPromise = addPromise();\n\t\tinvoke();\n\t\tyield lastPromise;\n\t}\n\n\tlet currentBatch;\n\n\tfunction startNewBatch() {\n\t\tcurrentBatch = batchAccumulator();\n\t\tcurrentBatch.next(); // prime the generator, so the first `.next(value)` isn't lost\n\t}\n\n\tstartNewBatch();\n\n\tif (flushBeforeUnload) window.addEventListener('beforeunload', () => { invoke(); }, true);\n\n\treturn entry => {\n\t\tconst { value } = currentBatch.next(entry);\n\t\tif (value === undefined) throw new Error('Batch generator was not replaced after completion');\n\t\treturn value;\n\t};\n}\n\nfunction always<T>(promise: Promise<T>, callback: (x: T) => Promise<void> | void): Promise<void> {\n\treturn promise.then(callback, callback);\n}\n\n// Like _asyncToGenerator, but calls back into the generator synchronously if the value is not a promise\n// unless you're certain that you need to avoid asynchronicity at all costs, just use an async function\nexport function fastAsync<A, B, C, D, E, F, G, R>(\n\tcallback: (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => Generator<any, R, any>\n): (a: A, b: B, c: C, d: D, e: E, f: F, g: G) => R | Promise<R> {\n\treturn function(...args) {\n\t\treturn (function next(generator, arg, throwing) {\n\t\t\tconst { value, done } = !throwing ? generator.next(arg) : generator.throw(arg);\n\n\t\t\tif (done) {\n\t\t\t\treturn value;\n\t\t\t} else if (!(value instanceof Promise)) {\n\t\t\t\treturn next(generator, value, false);\n\t\t\t} else {\n\t\t\t\treturn value.then(\n\t\t\t\t\tval => next(generator, val, false),\n\t\t\t\t\terr => next(generator, err, true)\n\t\t\t\t);\n\t\t\t}\n\t\t})(Reflect.apply(callback, this, args), undefined, false);\n\t};\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function asyncFlow<A1, A2, A3, A4, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | RB>\n\t(f1: F1): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<RA> | RB>\n\t(f1: F1, f2: F2): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\ndeclare function asyncFlow<A1, A2, A3, A4, B, C, D, E, F, RA, RB, F1: (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<B> | B, F2: (b: B) => Promise<C> | C, F3: (c: C) => Promise<D> | D, F4: (d: D) => Promise<E> | E, F5: (e: E) => Promise<F> | F, F6: (f: F) => Promise<RA> | RB>\n\t(f1: F1, f2: F2, f3: F3, f4: F4, f5: F5, f6: F6): (a1: A1, a2: A2, a3: A3, a4: A4) => Promise<RA> | Promise<RB> | RB;\n\nexport function asyncFlow(firstFn, ...fns) {\n\treturn fastAsync(function*(...args) {\n\t\tlet accum = firstFn(...args);\n\t\tfor (const fn of fns) {\n\t\t\taccum = fn(yield accum);\n\t\t}\n\t\treturn accum;\n\t});\n}\n\n// once the promise has resolved, its value is available synchronously\n// intended for use with fastAsync\nexport function reifyPromise<T>(promise: Promise<T>): { get(): T | Promise<T> } {\n\tlet val = promise;\n\tpromise.then(x => { val = x; });\n\treturn { get: () => val };\n}\n\nexport function keyedMutex<V, T:(...args: any) => Promise<V> | V>(\n\tcallback: T,\n\tkeyResolver?: (...args: any) => mixed = x => x\n): T {\n\tconst queues = new Map();\n\n\treturn (function(...args) {\n\t\tconst key = keyResolver(...args);\n\n\t\t// https://github.com/facebook/flow/issues/34\n\t\tconst tail = queues.has(key) ?\n\t\t\talways(queues.get(key) /*:: || Promise.resolve() */, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueues.set(key, tail);\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queues.get(key) === tail) queues.delete(key);\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\nexport function mutex<V, T:(...args: any) => Promise<V> | V>(callback: T): T {\n\tlet queue;\n\n\treturn (function(...args) {\n\t\tconst tail = queue ?\n\t\t\talways(queue, () => Reflect.apply(callback, this, args)) :\n\t\t\tReflect.apply(callback, this, args);\n\n\t\tif (tail instanceof Promise) {\n\t\t\tqueue = tail;\n\n\t\t\talways(tail, () => {\n\t\t\t\tif (queue === tail) queue = undefined;\n\t\t\t});\n\t\t}\n\n\t\treturn tail;\n\t}: any);\n}\n\n// `callback` is invoked when the micro task queue is emptied\n// returns a promise that resolves when callback resolves\nexport function throttle(callback: () => void | Promise<void>): () => Promise<void> {\n\tlet promise: ?Promise<*>;\n\n\treturn () => {\n\t\tpromise = promise || Promise.resolve().then(() => {\n\t\t\tpromise = null;\n\t\t\tcallback();\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n// Invokes callback after the returned function has not been invoked for `debounce` number of frames\nexport function frameDebounce(callback: () => any, debounce: number = 1): () => void {\n\tlet remaining: number;\n\n\tconst update = frameThrottle(() => {\n\t\tif (remaining) requestAnimationFrame(() => { update(); });\n\t\telse callback();\n\t\tremaining -= 1;\n\t});\n\n\treturn () => {\n\t\tremaining = debounce;\n\t\trequestAnimationFrame(() => { update(); });\n\t};\n}\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will invoke `callback` at most once per frame.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function frameThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n\n/*\n * Similar to throttle, but callbacks are ordered:\n * When the returned wrapper function is invoked, `callback` will be placed last in the execution queue\n */\nexport const throttleQueuePositionReset = (() => {\n\tlet queues = [];\n\n\tconst run = throttle(() => {\n\t\tfor (const fn of queues) {\n\t\t\ttry {\n\t\t\t\tfn();\n\t\t\t} catch (e) { /* empty */ }\n\t\t}\n\t\tqueues = [];\n\t});\n\n\treturn function(callback: () => void) {\n\t\tlet args = [];\n\t\tlet queued = false;\n\n\t\tfunction runCallback() {\n\t\t\tqueued = false;\n\t\t\tcallback();\n\t\t}\n\n\t\treturn (...a: Array<*>) => {\n\t\t\targs = a;\n\n\t\t\tif (queued) {\n\t\t\t\t_.pull(queues, callback);\n\t\t\t} else {\n\t\t\t\tqueued = true;\n\t\t\t}\n\n\t\t\tqueues.push(callback);\n\t\t\trun();\n\t\t};\n\t};\n})();\n\n/**\n * Returns a wrapper function, similar to _.throttle, that will only invoke the latest `callback` in the next upcoming idle period.\n * `callback` will be invoked with the arguments provided to the most recent call of the wrapper function.\n */\nexport function idleThrottle<V>(callback: (...args: any) => V): (...args: any) => Promise<V> {\n\tlet args = [];\n\tlet promise;\n\n\treturn (...a) => {\n\t\targs = a;\n\t\tpromise = promise || new Promise((res, rej) => {\n\t\t\trequestIdleCallback(() => {\n\t\t\t\tpromise = null;\n\t\t\t\ttry {\n\t\t\t\t\tres(callback(...args));\n\t\t\t\t} catch (e) {\n\t\t\t\t\trej(e);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\treturn promise;\n\t};\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { waitForEvent } from './dom';\n\nexport function matchesPageLocation(includes: Array<PageType | AppType | RegExp>, excludes: Array<PageType | AppType | RegExp> = []): boolean {\n\tconst [includeStrings, includeRegExps]: any = _.partition(includes, (x: string | RegExp): boolean => typeof x === 'string');\n\tconst [excludeStrings, excludeRegExps]: any = _.partition(excludes, (x: string | RegExp): boolean => typeof x === 'string');\n\n\treturn (\n\t\t!excludes.length ||\n\t\t!(isPageType(...excludeStrings) || isAppType(...excludeStrings) || matchesPageRegex(...excludeRegExps))\n\t) && (\n\t\t!includes.length ||\n\t\t(isPageType(...includeStrings) || isAppType(...includeStrings) || matchesPageRegex(...includeRegExps))\n\t);\n}\n\n/* eslint-disable key-spacing */\nexport const regexes: { [string]: RegExp } = {\n\tfrontpage:        /^\\/(?:hot|new|rising|controversial|top)?(?:\\/|$)/i,\n\tcomments:         /^\\/(?:r\\/([\\w\\.]+)\\/|(u(?:ser)?\\/[\\w-]+)\\/)?comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tcommentsLinklist: /^\\/(r\\/[\\w\\.\\+]+\\/|u(?:ser)?\\/[\\w-]+\\/)?comments\\/?$/i,\n\tinbox:            /^\\/(?:r\\/([\\w\\.]+)\\/)?message(?:\\/|$)/i,\n\tprofile:          /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofile2x:        /^\\/user\\/([\\w\\-]+)(?:\\/(?:(?!m\\/)(\\w+)))?\\/?$/i,\n\tprofileCommentsPage: /^\\/user\\/([\\w\\-]+)\\/comments\\/([a-z0-9]+)(?:\\/|$)/i,\n\tsubmit:           /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?submit(?:\\/|$)/i,\n\tprefs:            /^\\/prefs(?:\\/|$)/i,\n\taccount:          /^\\/account-activity(?:\\/|$)/i,\n\twiki:             /^\\/(?:r\\/([\\w\\.]+)\\/)?wiki(?:\\/|$)/i,\n\tstylesheet:       /^\\/(?:r\\/([\\w\\.]+)\\/)about\\/stylesheet(?:\\/|$)/i,\n\tsearch:           /^\\/(?:r\\/[\\w\\.\\+]+\\/|(?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+\\/|domain\\/[^\\/]+\\/)?search(?:\\/|$)/i,\n\tcommentPermalink: /^\\/(?:r\\/([\\w\\.]+)\\/)?comments\\/([a-z0-9]+)\\/[^\\/]*\\/([a-z0-9]+)(?:\\/|$)/i,\n\tduplicates:       /^\\/r\\/[\\w\\.\\+]+\\/duplicates\\/([a-z0-9]+)/i,\n\tsubreddit:        /^\\/r\\/([\\w\\.\\+]+)(?:\\/|$)/i,\n\tsubredditAbout:   /^\\/r\\/([\\w\\.]+)\\/about(?:\\/(?!modqueue|reports|spam|unmoderated|edited)|$)/i,\n\tmodqueue:         /^\\/(?:r|me\\/f)\\/([\\w\\.\\+]+)\\/about\\/(?:modqueue|reports|spam|unmoderated|edited)(?:\\/|$)/i,\n\tmultireddit:      /^\\/((?:me|user\\/[\\w\\-]+)\\/[mf]\\/[\\w\\.\\+]+)(?:\\/|$)/i,\n\tdomain:           /^\\/domain\\/([\\w\\.]+)(?:\\/|$)/i,\n\tcomposeMessage:   /^\\/(?:r\\/([\\w\\.\\+]+)\\/)?message\\/compose(?:\\/|$)/i,\n\tliveThread:       /^\\/live\\/(?!create(?:\\/|$))([a-z0-9]+)(?:\\/|$)/i,\n};\n/* eslint-enable key-spacing */\n\nexport const execRegexes: { [string]: (path: string) => ?string[] } = {\n\tcomments: path => {\n\t\tconst match = regexes.comments.exec(path);\n\t\tif (!match) return match;\n\t\tmatch.splice(1, 2, match[1] || match[2] && match[2].replace(/^u.*\\//, 'u_'));\n\t\treturn match;\n\t},\n};\n\nexport type PageType = 'wiki' | 'search' | 'profile' | 'profile2x' | 'profileCommentsPage' | 'stylesheet' | 'modqueue' | 'subredditAbout' | 'comments' | 'commentsLinklist' | 'liveThread' | 'inbox' | 'submit' | 'account' | 'prefs' | 'linklist';\nexport type AppType = 'r2' | 'd2x' | 'options';\n\nexport const appType = _.once((): AppType => {\n\tif (document.documentElement.hasAttribute('res-options')) {\n\t\treturn 'options';\n\t}\n\tif (document.documentElement.getAttribute('xmlns')) {\n\t\treturn 'r2';\n\t}\n\treturn 'd2x';\n});\n\nexport function isAppType(...types: AppType[]): boolean {\n\tconst thisApp = appType();\n\treturn types.some(type => type === thisApp);\n}\n\nconst appPageTypes: { [AppType]: {| default?: PageType, pageTypes: PageType[] |} } = {\n\tr2: {\n\t\tdefault: 'linklist',\n\t\tpageTypes: ['wiki', 'search', 'stylesheet', 'modqueue', 'subredditAbout', 'comments', 'commentsLinklist', 'profile', 'liveThread', 'inbox', 'submit', 'account', 'prefs'],\n\t},\n\td2x: {\n\t\tpageTypes: ['profile2x', 'profileCommentsPage', 'submit'],\n\t},\n\toptions: {\n\t\tpageTypes: [],\n\t},\n};\n\nexport const pageType = _.memoize((): ?PageType => {\n\twaitForEvent(document, 'reddit.urlChanged').then(() => {\n\t\tpageType.cache.clear();\n\t});\n\tconst spec = appPageTypes[appType()];\n\treturn spec.pageTypes.find(pageType => regexes[pageType].test(location.pathname)) || spec.default;\n});\n\nexport function isPageType(...types: PageType[]): boolean {\n\tconst thisPage = pageType();\n\treturn types.some(type => type === thisPage);\n}\n\nexport function matchesPageRegex(...regexps: RegExp[]): boolean {\n\treturn regexps.some(regex => regex.test(location.pathname));\n}\n\nexport const currentSubreddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.subreddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentSubreddit(...subreddits: string[]): boolean {\n\tconst sub = (currentSubreddit() || '').toLowerCase();\n\tif (!sub) return false;\n\treturn subreddits.some(v => v.toLowerCase() === sub);\n}\n\nexport const currentMultireddit = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.multireddit);\n\tif (match) return match[1];\n});\n\nexport function isCurrentMultireddit(...multireddits: string[]): boolean {\n\tconst multi = (currentMultireddit() || '').toLowerCase();\n\tif (!multi) return false;\n\treturn multireddits.some(v => v.toLowerCase() === multi);\n}\n\nexport const currentDomain = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.domain);\n\tif (match) return match[1];\n});\n\nexport const currentUserProfile = _.once((): string | void => {\n\tconst match = location.pathname.match(regexes.profile);\n\tif (match) return match[1];\n});\n\nexport const fullLocation = (pathname: string = location.pathname) => {\n\tconst regex = Object.keys(regexes).find(key => pathname.match(regexes[key]));\n\tif (!regex) return pathname.toLowerCase();\n\n\t// examples: domain-youtube.com, user-gueor, subreddit-enhancement+resissues\n\treturn [\n\t\tregex,\n\t\t...(pathname.match(regexes[regex]) || []).slice(1), // ignore matched string\n\t]\n\t\t.filter(v => v)\n\t\t.join('-')\n\t\t.toLowerCase();\n};\n\n// A link is a comment code if all these conditions are true:\n// * It has no content (i.e. content.length === 0)\n// * Its href is of the form \"/code\" or \"#code\"\n//\n// In case it's not clear, here is a list of some common comment\n// codes on a specific subreddit:\n// https://www.reddit.com/r/metarage/comments/p3eqe/full_updated_list_of_comment_faces_wcodes/\n// also for CSS hacks to do special formatting, like /r/CSSlibrary\n\nconst COMMENT_CODE_REGEX = /^[\\/#].+$/;\n\nexport function isCommentCode(link: HTMLAnchorElement): boolean {\n\t// don't add annotations for hidden links - these are used as CSS\n\t// hacks on subreddits to do special formatting, etc.\n\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\n\tconst emptyText = link.textContent.length === 0;\n\tconst isCommentCode = COMMENT_CODE_REGEX.test(href);\n\n\treturn emptyText && isCommentCode;\n}\n\nexport function isEmptyLink(link: HTMLAnchorElement): boolean {\n\t// Note that link.href will return the full href (which includes the\n\t// reddit.com domain). We don't want that.\n\tconst href = link.getAttribute('href');\n\treturn typeof href !== 'string' || href.startsWith('javascript:') || href === '#'; // eslint-disable-line no-script-url\n}\n\nexport const inQuarantinedSubreddit = _.once(() => document.body.classList.contains('quarantine'));\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow } from 'lodash/fp';\nimport levenshtein from 'fast-levenshtein';\nimport { downcast } from './flow';\nimport { escapeHTML } from './html';\nimport type { Iteratee } from './array';\n\ntype StringTagFunction<V, Out> = (s: string[], ...values: V[]) => Out;\n\nfunction stringTagFunction<T>(valueTransform: Iteratee<T, string | void>): StringTagFunction<T, string> {\n\treturn (strings, ...values) =>\n\t\t_.zipWith(\n\t\t\tstrings,\n\t\t\tvalues.map(valueTransform),\n\t\t\t(s, v) => `${s}${v === undefined ? '' : v}`\n\t\t).join('');\n}\n\nexport const encode: StringTagFunction<string, string> = stringTagFunction(encodeURIComponent);\n\nexport const escape: StringTagFunction<string, string> = stringTagFunction(escapeHTML);\n\ntype OpaqueSafeString = {| __safe__: string |};\n\nexport function safe(str: string): OpaqueSafeString {\n\treturn { __safe__: str };\n}\n\nconst MAX_DISTANCE_RATIO = 0.05;\n\nexport function areSimilar(a: string, b: string): boolean {\n\treturn levenshtein.get(a, b) <= MAX_DISTANCE_RATIO * Math.max(a.length, b.length);\n}\n\nexport const regexRegex = /^\\/(.*)\\/([gimu]+)?$/;\n\nconst htmlTagFunction: StringTagFunction<?false | string | number | OpaqueSafeString | OpaqueSafeString[], string> = stringTagFunction(x => {\n\t// avoid treating 0 as falsy and rendering nothing\n\tif (typeof x === 'number') return String(x);\n\t// falsy values not rendered\n\tif (!x) return '';\n\t// bare strings/numbers are escaped\n\tif (typeof x === 'string') return escapeHTML(x);\n\t// arrays of safe strings\n\tif (Array.isArray(x)) return x.map(s => s.__safe__).join('');\n\t// safe strings\n\tif (x.hasOwnProperty('__safe__')) return x.__safe__;\n\tthrow new TypeError(`Invalid html template interpolation: ${String(x)}`);\n});\n\n/**\n * Intended for mustache-like HTML templates:\n * - falsy values are not rendered\n * - arrays are joined with the empty string\n * - strings are html-escaped, single element string tuples are not\n */\nexport const html = flow(\n\thtmlTagFunction,\n\tmarkup => {\n\t\t// <template> elements allow out-of-place elements e.g. <tr> without a <table>\n\t\t// but they cause weird issues in Firefox (#4222), and it's unlikely that you'll need\n\t\t// to use <tr>, except embedded in another template with string._html`<tr>...</tr>`,\n\t\t// which doesn't have this limitation.\n\t\tconst template = document.createElement('div');\n\t\ttemplate.innerHTML = markup;\n\t\tif (template.childElementCount !== 1) {\n\t\t\tthrow new Error(`Html template should have exactly one root node, but had ${template.childElementCount}`);\n\t\t}\n\t\tconst child = downcast(template.firstElementChild, HTMLElement);\n\t\tchild.remove();\n\t\treturn child;\n\t}\n);\n\n/**\n * Intended for nested arrays or optional values in HTML templates.\n */\nexport const _html = flow(\n\thtmlTagFunction,\n\tsafe\n);\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/* @flow */\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function downcast<From, To: From>(val: From, ty: Class<To>): To;\ndeclare function downcast(val: mixed, ty: 'boolean'): boolean;\ndeclare function downcast(val: mixed, ty: 'number'): number;\ndeclare function downcast(val: mixed, ty: 'string'): string;\n/* eslint-enable no-unused-vars */\n\nexport function downcast(val, ty) {\n\tif (\n\t\t// only perform the check in dev mode, but hide this from Flow\n\t\t/*:: ` */ process.env.NODE_ENV !== 'development' || /*:: ` && */\n\t\t(typeof ty === 'string' ? typeof val === ty : val instanceof ty) // eslint-disable-line valid-typeof\n\t) {\n\t\treturn val;\n\t}\n\n\tthrow new TypeError(`Expected ${val} to be instance of ${ty}.`);\n}\n/* eslint-enable no-redeclare */\n","/* @flow */\n\nimport _ from 'lodash';\nimport { ajax } from '../environment';\nimport type { CurrentRedditUser, RedditAccount } from '../types/reddit';\nimport { MINUTE } from './time';\nimport { isAppType, regexes } from './location';\nimport * as string from './string';\n\nexport const isLoggedIn = _.once(() => {\n\tif (loggedInUser()) {\n\t\treturn true;\n\t} else if (document.querySelector('header a[href^=\"/message/inbox\"]')) {\n\t\treturn true;\n\t}\n});\n\nexport const loggedInUser = _.once((): string | void => documentLoggedInUser(document));\n\nexport const documentLoggedInUser = (document: Document | Element): string | void => {\n\tif (isAppType('d2x')) {\n\t\t// The first text node in the user button contains the username\n\t\tconst findFirstTextNode = e => [...e.childNodes].filter(v => v.nodeType === 3).concat(...[...e.children].map(findFirstTextNode));\n\t\tconst button = document.querySelector('#USER_DROPDOWN_ID > *');\n\t\tconst username = button && findFirstTextNode(button)[0];\n\t\treturn username && username.textContent;\n\t}\n\n\tconst link: ?HTMLAnchorElement = (document.querySelector('#header-bottom-right > span.user > a'): any);\n\tif (!link || link.classList.contains('login-required')) return;\n\tconst profile = regexes.profile.exec(link.pathname);\n\tif (profile) {\n\t\treturn profile[1];\n\t}\n};\n\nexport const isModeratorAnywhere = _.once((): boolean => !!document.getElementById('modmail'));\n\nexport const loggedInUserHash = _.once(async (): Promise<?string> => {\n\tconst hashEle = document.querySelector('[name=uh]');\n\tif (hashEle instanceof HTMLInputElement) {\n\t\treturn hashEle.value;\n\t}\n\n\tconst userInfo = await loggedInUserInfo();\n\treturn userInfo && userInfo.data && userInfo.data.modhash;\n});\n\nexport const loggedInUserInfo = _.once((): Promise<CurrentRedditUser | void> =>\n\t!isLoggedIn() ? Promise.resolve() : ajax({ url: '/api/me.json', type: 'json' })\n\t\t.then(data => data.data && data.data.modhash ? data : undefined));\n\nconst usernameRE = /(?:u|user)\\/([\\w\\-]{3,20}(?![\\w\\-]))/;\n\nexport const usernameSelector = [\n\t'.contents .author',\n\t'p.tagline a.author',\n\t'#friend-table span.user a',\n\t'.sidecontentbox .author',\n\t'div.md a[href^=\"/u/\"]:not([href*=\"/m/\"])',\n\t'div.md a[href*=\"reddit.com/u/\"]:not([href*=\"/m/\"])',\n\t'.usertable a.author',\n\t'.parent > a.author',\n\t'.usertable span.user a',\n\t'div.wiki-page-content .author',\n\t'.Post__authorLink', // Newish profile page\n].join(', ');\n\nexport function getUsernameFromLink(element: HTMLElement): ?string {\n\tif (!(element instanceof HTMLAnchorElement)) return;\n\n\tconst { href, origin } = element;\n\n\t// The link should refer to this site\n\tif (!location.origin.endsWith(origin.split('.').slice(-2).join('.'))) return;\n\n\tconst [, username] = href.match(usernameRE) || [];\n\tif (username) return username;\n}\n\nexport function getUserInfo(username: ?string = loggedInUser()): Promise<RedditAccount> {\n\tif (!username) {\n\t\treturn Promise.reject(new Error('getUserInfo: null/undefined username'));\n\t}\n\n\treturn ajax({\n\t\turl: string.encode`/user/${username}/about.json`,\n\t\ttype: 'json',\n\t\tcacheFor: 10 * MINUTE,\n\t});\n}\n","var convert = require('./convert'),\n    func = convert('flow', require('../flow'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseRest = require('./_baseRest'),\n    pullAll = require('./pullAll');\n\n/**\n * Removes all given values from `array` using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n * to remove elements from an array by predicate.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {...*} [values] The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pull(array, 'a', 'c');\n * console.log(array);\n * // => ['b', 'b']\n */\nvar pull = baseRest(pullAll);\n\nmodule.exports = pull;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/* @flow */\n\nexport const MINUTE = 1000 * 60;\nexport const HOUR = 60 * MINUTE;\nexport const DAY = 24 * HOUR;\nexport const WEEK = 7 * DAY;\n\nexport function fromSecondsToTime(timeInSeconds: number) {\n\tconst seconds = timeInSeconds % 60;\n\tconst minutes = Math.floor(timeInSeconds / 60) % 60;\n\tconst hours = Math.floor(timeInSeconds / 3600);\n\n\tconst time = [minutes, seconds];\n\tif (hours > 0) {\n\t\ttime.unshift(hours);\n\t}\n\n\treturn time.map(part => String(part).padStart(2, '0')).join(':');\n}\n","var baseFlatten = require('./_baseFlatten'),\n    baseOrderBy = require('./_baseOrderBy'),\n    baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates an array of elements, sorted in ascending order by the results of\n * running each element in a collection thru each iteratee. This method\n * performs a stable sort, that is, it preserves the original sort order of\n * equal elements. The iteratees are invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {...(Function|Function[])} [iteratees=[_.identity]]\n *  The iteratees to sort by.\n * @returns {Array} Returns the new sorted array.\n * @example\n *\n * var users = [\n *   { 'user': 'fred',   'age': 48 },\n *   { 'user': 'barney', 'age': 36 },\n *   { 'user': 'fred',   'age': 40 },\n *   { 'user': 'barney', 'age': 34 }\n * ];\n *\n * _.sortBy(users, [function(o) { return o.user; }]);\n * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n *\n * _.sortBy(users, ['user', 'age']);\n * // => objects for [['barney', 34], ['barney', 36], ['fred', 40], ['fred', 48]]\n */\nvar sortBy = baseRest(function(collection, iteratees) {\n  if (collection == null) {\n    return [];\n  }\n  var length = iteratees.length;\n  if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n    iteratees = [];\n  } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n    iteratees = [iteratees[0]];\n  }\n  return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n});\n\nmodule.exports = sortBy;\n","/* @flow */\n\nexport const CACHED_LANG_KEY = 'RES.i18nCachedLang';\nexport const CACHED_MESSAGES_KEY = 'RES.i18nCachedMessages';\nexport const CACHED_MESSAGES_TOKEN_KEY = 'RES.i18nCachedMessagesToken';\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,h:r,m:e,s:n,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",o)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,a){var h=this,f=!!D.u(a)||a,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case o:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,a){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[o]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(a-this.$W):a;if(f===u||f===o){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,a){var h,f=this;t=Number(t);var c=D.p(a),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.valueOf()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:D.s(a+1,2,\"0\"),MMM:c(i.monthsShort,a,h,3),MMMM:h[a]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,o,2),ddd:c(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[o]=y/12,c[u]=y,c[a]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone();return e.$L=M(t,n,!0),e},d.clone=function(){return D.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","/* @flow */\n\nexport function getExtensionId(): string {\n\treturn chrome.runtime.id;\n}\n\nexport const getURL = chrome.runtime.getURL;\n\nexport const getOptionsURL = (hash: string = '') => new URL(hash, getURL('options.html'));\nexport const isOptionsPage = () => location.origin === getOptionsURL().origin;\n","/* @flow */\n\nexport function* range(start: number, end: number): Iterable<number> {\n\tfor (let i = start; i < end; ++i) { // eslint-disable-line no-restricted-syntax\n\t\tyield i;\n\t}\n}\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function zip<A>(a: Iterable<A>): Iterable<[A]>;\ndeclare function zip<A, B>(a: Iterable<A>, b: Iterable<B>): Iterable<[A, B]>;\ndeclare function zip<A, B, C>(a: Iterable<A>, b: Iterable<B>, c: Iterable<C>): Iterable<[A, B, C]>;\n/* eslint-enable no-unused-vars */\n\nexport function* zip(...iterables) {\n\tconst generators = iterables.map(it => it[Symbol.iterator]());\n\tlet results;\n\n\twhile ((results = generators.map(gen => gen.next())).some(r => !r.done)) {\n\t\tyield results.map(r => r.value);\n\t}\n}\n/* eslint-enable no-redeclare */\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var convert = require('./convert'),\n    func = convert('map', require('../map'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseKeys = require('./_baseKeys'),\n    getTag = require('./_getTag'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLike = require('./isArrayLike'),\n    isBuffer = require('./isBuffer'),\n    isPrototype = require('./_isPrototype'),\n    isTypedArray = require('./isTypedArray');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    setTag = '[object Set]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if `value` is an empty object, collection, map, or set.\n *\n * Objects are considered empty if they have no own enumerable string keyed\n * properties.\n *\n * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n * jQuery-like collections are considered empty if they have a `length` of `0`.\n * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty(null);\n * // => true\n *\n * _.isEmpty(true);\n * // => true\n *\n * _.isEmpty(1);\n * // => true\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({ 'a': 1 });\n * // => false\n */\nfunction isEmpty(value) {\n  if (value == null) {\n    return true;\n  }\n  if (isArrayLike(value) &&\n      (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n        isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n    return !value.length;\n  }\n  var tag = getTag(value);\n  if (tag == mapTag || tag == setTag) {\n    return !value.size;\n  }\n  if (isPrototype(value)) {\n    return !baseKeys(value).length;\n  }\n  for (var key in value) {\n    if (hasOwnProperty.call(value, key)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nmodule.exports = isEmpty;\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('XHRCache', ['set', key, value]);\n}\n\nexport function check(key: string, maxAge?: number /* milliseconds */): Promise<any | void> {\n\treturn sendMessage('XHRCache', ['check', key, maxAge]);\n}\n\nfunction delete_(key: string) {\n\treturn sendMessage('XHRCache', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function clear() {\n\treturn sendMessage('XHRCache', ['clear']);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { mutex } from '../../utils/async';\nimport { sendMessage } from './messaging';\n\ntype Perms = Array<string>;\n\nfunction filterPerms(perms) {\n\tconst permissions = perms.filter(p => !p.includes('://') && p !== '<all_urls>');\n\tconst origins = perms.filter(p => p.includes('://') || p === '<all_urls>');\n\treturn { permissions, origins };\n}\n\n/**\n * @param {Array<string>} perms Permissions to check if granted\n * @returns {Promise<boolean>}\n */\nexport const has = _.memoize(\n\t(perms: Perms) => sendMessage('permissions', { operation: 'contains', ...filterPerms(perms) }),\n\tperms => perms.join(',')\n);\n\n/**\n * @param {Array<string>} perms Optional Chrome permissions to request.\n * @param {string} perms Name of site to request permission for\n * @returns {Promise<void, *>} Resolves if the permissions are granted, rejects otherwise.\n */\nexport const request = mutex(async (perms: Perms) => {\n\tif (await has(perms)) return;\n\n\tconst { permissions, origins } = filterPerms(perms);\n\n\tconst granted = await sendMessage('permissions', { operation: 'request', permissions, origins });\n\tif (granted) {\n\t\thas.cache.set(perms.join(','), true);\n\t} else {\n\t\tthrow new Error(`Permission not granted for: ${perms.join(', ')}`);\n\t}\n});\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var baseConvert = require('./_baseConvert'),\n    util = require('./_util');\n\n/**\n * Converts `func` of `name` to an immutable auto-curried iteratee-first data-last\n * version with conversion `options` applied. If `name` is an object its methods\n * will be converted.\n *\n * @param {string} name The name of the function to wrap.\n * @param {Function} [func] The function to wrap.\n * @param {Object} [options] The options object. See `baseConvert` for more details.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction convert(name, func, options) {\n  return baseConvert(util, name, func, options);\n}\n\nmodule.exports = convert;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    basePickBy = require('./_basePickBy'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/**\n * Creates an object composed of the `object` properties `predicate` returns\n * truthy for. The predicate is invoked with two arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pickBy(object, _.isNumber);\n * // => { 'a': 1, 'c': 3 }\n */\nfunction pickBy(object, predicate) {\n  if (object == null) {\n    return {};\n  }\n  var props = arrayMap(getAllKeysIn(object), function(prop) {\n    return [prop];\n  });\n  predicate = baseIteratee(predicate);\n  return basePickBy(object, props, function(value, path) {\n    return predicate(value, path[0]);\n  });\n}\n\nmodule.exports = pickBy;\n","/* @flow */\n\nexport function apiToPromise(func: (...args: mixed[]) => void): (...args: mixed[]) => Promise<any> {\n\treturn (...args) =>\n\t\tnew Promise((resolve, reject) =>\n\t\t\tfunc(...args, (...results) => {\n\t\t\t\tif (chrome.runtime.lastError) {\n\t\t\t\t\treject(new Error(chrome.runtime.lastError.message));\n\t\t\t\t} else {\n\t\t\t\t\tresolve(results.length > 1 ? results : results[0]);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n}\n","(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.DOMPurify = factory());\n}(this, (function () { 'use strict';\n\nvar freeze$1 = Object.freeze || function (x) {\n  return x;\n};\n\nvar html = freeze$1(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\n\n// SVG\nvar svg = freeze$1(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'audio', 'canvas', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'video', 'view', 'vkern']);\n\nvar svgFilters = freeze$1(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n\nvar mathMl = freeze$1(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']);\n\nvar text = freeze$1(['#text']);\n\nvar freeze$2 = Object.freeze || function (x) {\n  return x;\n};\n\nvar html$1 = freeze$2(['accept', 'action', 'align', 'alt', 'autocomplete', 'background', 'bgcolor', 'border', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'coords', 'crossorigin', 'datetime', 'default', 'dir', 'disabled', 'download', 'enctype', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'integrity', 'ismap', 'label', 'lang', 'list', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'name', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns']);\n\nvar svg$1 = freeze$2(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'tabindex', 'targetx', 'targety', 'transform', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n\nvar mathMl$1 = freeze$2(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n\nvar xml = freeze$2(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\nvar hasOwnProperty = Object.hasOwnProperty;\nvar setPrototypeOf = Object.setPrototypeOf;\n\nvar _ref$1 = typeof Reflect !== 'undefined' && Reflect;\nvar apply$1 = _ref$1.apply;\n\nif (!apply$1) {\n  apply$1 = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\n/* Add properties to a lookup table */\nfunction addToSet(set, array) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  var l = array.length;\n  while (l--) {\n    var element = array[l];\n    if (typeof element === 'string') {\n      var lcElement = element.toLowerCase();\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!Object.isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/* Shallow clone an object */\nfunction clone(object) {\n  var newObject = {};\n\n  var property = void 0;\n  for (property in object) {\n    if (apply$1(hasOwnProperty, object, [property])) {\n      newObject[property] = object[property];\n    }\n  }\n\n  return newObject;\n}\n\nvar seal = Object.seal || function (x) {\n  return x;\n};\n\nvar MUSTACHE_EXPR = seal(/\\{\\{[\\s\\S]*|[\\s\\S]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nvar ERB_EXPR = seal(/<%[\\s\\S]*|[\\s\\S]*%>/gm);\nvar DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nvar ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nvar IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nvar IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nvar ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205f\\u3000]/g // eslint-disable-line no-control-regex\n);\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _ref = typeof Reflect !== 'undefined' && Reflect;\nvar apply = _ref.apply;\n\nvar arraySlice = Array.prototype.slice;\nvar freeze = Object.freeze;\n\nvar getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {Document} document The document object (to determine policy name suffix)\n * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported).\n */\nvar _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n  if ((typeof trustedTypes === 'undefined' ? 'undefined' : _typeof(trustedTypes)) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  var suffix = null;\n  var ATTR_NAME = 'data-tt-policy-suffix';\n  if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n    suffix = document.currentScript.getAttribute(ATTR_NAME);\n  }\n\n  var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML: function createHTML(html$$1) {\n        return html$$1;\n      }\n    });\n  } catch (error) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\n\nfunction createDOMPurify() {\n  var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n  var DOMPurify = function DOMPurify(root) {\n    return createDOMPurify(root);\n  };\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = '2.0.6';\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (!window || !window.document || window.document.nodeType !== 9) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  var originalDocument = window.document;\n  var useDOMParser = false;\n  var removeTitle = false;\n\n  var document = window.document;\n  var DocumentFragment = window.DocumentFragment,\n      HTMLTemplateElement = window.HTMLTemplateElement,\n      Node = window.Node,\n      NodeFilter = window.NodeFilter,\n      _window$NamedNodeMap = window.NamedNodeMap,\n      NamedNodeMap = _window$NamedNodeMap === undefined ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n      Text = window.Text,\n      Comment = window.Comment,\n      DOMParser = window.DOMParser,\n      TrustedTypes = window.TrustedTypes;\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n\n  if (typeof HTMLTemplateElement === 'function') {\n    var template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  var trustedTypesPolicy = _createTrustedTypesPolicy(TrustedTypes, originalDocument);\n  var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n\n  var _document = document,\n      implementation = _document.implementation,\n      createNodeIterator = _document.createNodeIterator,\n      getElementsByTagName = _document.getElementsByTagName,\n      createDocumentFragment = _document.createDocumentFragment;\n  var importNode = originalDocument.importNode;\n\n\n  var hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = implementation && typeof implementation.createHTMLDocument !== 'undefined' && document.documentMode !== 9;\n\n  var MUSTACHE_EXPR$$1 = MUSTACHE_EXPR,\n      ERB_EXPR$$1 = ERB_EXPR,\n      DATA_ATTR$$1 = DATA_ATTR,\n      ARIA_ATTR$$1 = ARIA_ATTR,\n      IS_SCRIPT_OR_DATA$$1 = IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE$$1 = ATTR_WHITESPACE;\n  var IS_ALLOWED_URI$$1 = IS_ALLOWED_URI;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n\n  var ALLOWED_TAGS = null;\n  var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(svgFilters), _toConsumableArray(mathMl), _toConsumableArray(text)));\n\n  /* Allowed attribute names */\n  var ALLOWED_ATTR = null;\n  var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(mathMl$1), _toConsumableArray(xml)));\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  var FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  var FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  var ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  var ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  var ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Output should be safe for jQuery's $() factory? */\n  var SAFE_FOR_JQUERY = false;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  var SAFE_FOR_TEMPLATES = false;\n\n  /* Decide if document with <html>... should be returned */\n  var WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  var SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  var FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  var RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  var RETURN_DOM_FRAGMENT = false;\n\n  /* If `RETURN_DOM` or `RETURN_DOM_FRAGMENT` is enabled, decide if the returned DOM\n   * `Node` is imported into the current `Document`. If this flag is not enabled the\n   * `Node` will belong (its ownerDocument) to a fresh `HTMLDocument`, created by\n   * DOMPurify. */\n  var RETURN_DOM_IMPORT = false;\n\n  /* Try to return a Trusted Type object instead of a string, retrun a string in\n   * case Trusted Types are not supported  */\n  var RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks? */\n  var SANITIZE_DOM = true;\n\n  /* Keep element content when removing element? */\n  var KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  var IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  var USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  var FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'script', 'style', 'template', 'thead', 'title', 'svg', 'video']);\n\n  /* Tags that are safe for data: URIs */\n  var DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image']);\n\n  /* Attributes safe for values like \"javascript:\" */\n  var URI_SAFE_ATTRIBUTES = null;\n  var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'summary', 'title', 'value', 'style', 'xmlns']);\n\n  /* Keep a reference to config to pass to hooks */\n  var CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  var formElement = document.createElement('form');\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  var _parseConfig = function _parseConfig(cfg) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || (typeof cfg === 'undefined' ? 'undefined' : _typeof(cfg)) !== 'object') {\n      cfg = {};\n    }\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n    URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n    FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n    USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    SAFE_FOR_JQUERY = cfg.SAFE_FOR_JQUERY || false; // Default false\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_DOM_IMPORT = cfg.RETURN_DOM_IMPORT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n    IS_ALLOWED_URI$$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$$1;\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(text)));\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html);\n        addToSet(ALLOWED_ATTR, html$1);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg);\n        addToSet(ALLOWED_ATTR, svg$1);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg$1);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl);\n        addToSet(ALLOWED_ATTR, mathMl$1);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  var _forceRemove = function _forceRemove(node) {\n    DOMPurify.removed.push({ element: node });\n    try {\n      node.parentNode.removeChild(node);\n    } catch (error) {\n      node.outerHTML = emptyHTML;\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  var _removeAttribute = function _removeAttribute(name, node) {\n    try {\n      DOMPurify.removed.push({\n        attribute: node.getAttributeNode(name),\n        from: node\n      });\n    } catch (error) {\n      DOMPurify.removed.push({\n        attribute: null,\n        from: node\n      });\n    }\n\n    node.removeAttribute(name);\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  var _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    var doc = void 0;\n    var leadingWhitespace = void 0;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      var matches = dirty.match(/^[\\s]+/);\n      leadingWhitespace = matches && matches[0];\n      if (leadingWhitespace) {\n        dirty = dirty.slice(leadingWhitespace.length);\n      }\n    }\n\n    /* Use DOMParser to workaround Firefox bug (see comment below) */\n    if (useDOMParser) {\n      try {\n        doc = new DOMParser().parseFromString(dirty, 'text/html');\n      } catch (error) {}\n    }\n\n    /* Remove title to fix a mXSS bug in older MS Edge */\n    if (removeTitle) {\n      addToSet(FORBID_TAGS, ['title']);\n    }\n\n    /* Otherwise use createHTMLDocument, because DOMParser is unsafe in\n    Safari (see comment below) */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createHTMLDocument('');\n      var _doc = doc,\n          body = _doc.body;\n\n      body.parentNode.removeChild(body.parentNode.firstElementChild);\n      body.outerHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    }\n\n    if (leadingWhitespace) {\n      doc.body.insertBefore(document.createTextNode(leadingWhitespace), doc.body.childNodes[0] || null);\n    }\n\n    /* Work on whole document or just its body */\n    return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n  };\n\n  // Firefox uses a different parser for innerHTML rather than\n  // DOMParser (see https://bugzilla.mozilla.org/show_bug.cgi?id=1205631)\n  // which means that you *must* use DOMParser, otherwise the output may\n  // not be safe if used in a document.write context later.\n  //\n  // So we feature detect the Firefox bug and use the DOMParser if necessary.\n  //\n  // Chrome 77 and other versions ship an mXSS bug that caused a bypass to\n  // happen. We now check for the mXSS trigger and react accordingly.\n  if (DOMPurify.isSupported) {\n    (function () {\n      try {\n        var doc = _initDocument('<svg><p><textarea><img src=\"</textarea><img src=x abc=1//\">');\n        if (doc.querySelector('svg img')) {\n          useDOMParser = true;\n        }\n      } catch (error) {}\n    })();\n\n    (function () {\n      try {\n        var doc = _initDocument('<x/><title>&lt;/title&gt;&lt;img&gt;');\n        if (/<\\/title/.test(doc.querySelector('title').innerHTML)) {\n          removeTitle = true;\n        }\n      } catch (error) {}\n    })();\n  }\n\n  /**\n   * _createIterator\n   *\n   * @param  {Document} root document/fragment to create iterator for\n   * @return {Iterator} iterator instance\n   */\n  var _createIterator = function _createIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, function () {\n      return NodeFilter.FILTER_ACCEPT;\n    }, false);\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  var _isClobbered = function _isClobbered(elm) {\n    if (elm instanceof Text || elm instanceof Comment) {\n      return false;\n    }\n\n    if (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string') {\n      return true;\n    }\n\n    return false;\n  };\n\n  /**\n   * _isNode\n   *\n   * @param  {Node} obj object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  var _isNode = function _isNode(obj) {\n    return (typeof Node === 'undefined' ? 'undefined' : _typeof(Node)) === 'object' ? obj instanceof Node : obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && typeof obj.nodeType === 'number' && typeof obj.nodeName === 'string';\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    hooks[entryPoint].forEach(function (hook) {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  // eslint-disable-next-line complexity\n  var _sanitizeElements = function _sanitizeElements(currentNode) {\n    var content = void 0;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    var tagName = currentNode.nodeName.toLowerCase();\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName: tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n\n    /* Take care of an mXSS pattern using p, br inside svg, math */\n    if ((tagName === 'svg' || tagName === 'math') && currentNode.querySelectorAll('p, br').length !== 0) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Keep content except for black-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName] && typeof currentNode.insertAdjacentHTML === 'function') {\n        try {\n          var htmlToInsert = currentNode.innerHTML;\n          currentNode.insertAdjacentHTML('AfterEnd', trustedTypesPolicy ? trustedTypesPolicy.createHTML(htmlToInsert) : htmlToInsert);\n        } catch (error) {}\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove in case a noscript/noembed XSS is suspected */\n    if (tagName === 'noscript' && /<\\/noscript/i.test(currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    if (tagName === 'noembed' && /<\\/noembed/i.test(currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Convert markup to cover jQuery behavior */\n    if (SAFE_FOR_JQUERY && !currentNode.firstElementChild && (!currentNode.content || !currentNode.content.firstElementChild) && /</g.test(currentNode.textContent)) {\n      DOMPurify.removed.push({ element: currentNode.cloneNode() });\n      if (currentNode.innerHTML) {\n        currentNode.innerHTML = currentNode.innerHTML.replace(/</g, '&lt;');\n      } else {\n        currentNode.innerHTML = currentNode.textContent.replace(/</g, '&lt;');\n      }\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      content = content.replace(MUSTACHE_EXPR$$1, ' ');\n      content = content.replace(ERB_EXPR$$1, ' ');\n      if (currentNode.textContent !== content) {\n        DOMPurify.removed.push({ element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && DATA_ATTR$$1.test(lcName)) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && ARIA_ATTR$$1.test(lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      return false;\n\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (IS_ALLOWED_URI$$1.test(value.replace(ATTR_WHITESPACE$$1, ''))) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && value.indexOf('data:') === 0 && DATA_URI_TAGS[lcTag]) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (ALLOW_UNKNOWN_PROTOCOLS && !IS_SCRIPT_OR_DATA$$1.test(value.replace(ATTR_WHITESPACE$$1, ''))) {\n      // This attribute is safe\n      /* Check for binary attributes */\n      // eslint-disable-next-line no-negated-condition\n    } else if (!value) {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    } else {\n      return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    var attr = void 0;\n    var value = void 0;\n    var lcName = void 0;\n    var idAttr = void 0;\n    var l = void 0;\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    var attributes = currentNode.attributes;\n\n    /* Check if we have attributes; if not we might have a text node */\n\n    if (!attributes) {\n      return;\n    }\n\n    var hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR\n    };\n    l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      attr = attributes[l];\n      var _attr = attr,\n          name = _attr.name,\n          namespaceURI = _attr.namespaceURI;\n\n      value = attr.value.trim();\n      lcName = name.toLowerCase();\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Remove attribute */\n      // Safari (iOS + Mac), last tested v8.0.5, crashes if you try to\n      // remove a \"name\" attribute from an <img> tag that has an \"id\"\n      // attribute at the time.\n      if (lcName === 'name' && currentNode.nodeName === 'IMG' && attributes.id) {\n        idAttr = attributes.id;\n        attributes = apply(arraySlice, attributes, []);\n        _removeAttribute('id', currentNode);\n        _removeAttribute(name, currentNode);\n        if (attributes.indexOf(idAttr) > l) {\n          currentNode.setAttribute('id', idAttr.value);\n        }\n      } else if (\n      // This works around a bug in Safari, where input[type=file]\n      // cannot be dynamically set after type has been removed\n      currentNode.nodeName === 'INPUT' && lcName === 'type' && value === 'file' && hookEvent.keepAttr && (ALLOWED_ATTR[lcName] || !FORBID_ATTR[lcName])) {\n        continue;\n      } else {\n        // This avoids a crash in Safari v9.0 with double-ids.\n        // The trick is to first set the id to be empty and then to\n        // remove the attribute\n        if (name === 'id') {\n          currentNode.setAttribute(name, '');\n        }\n\n        _removeAttribute(name, currentNode);\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        value = value.replace(MUSTACHE_EXPR$$1, ' ');\n        value = value.replace(ERB_EXPR$$1, ' ');\n      }\n\n      /* Is `value` valid for this attribute? */\n      var lcTag = currentNode.nodeName.toLowerCase();\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        DOMPurify.removed.pop();\n      } catch (error) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    var shadowNode = void 0;\n    var shadowIterator = _createIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} configuration object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg) {\n    var body = void 0;\n    var importedNode = void 0;\n    var currentNode = void 0;\n    var oldNode = void 0;\n    var returnNode = void 0;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    if (!dirty) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      // eslint-disable-next-line no-negated-condition\n      if (typeof dirty.toString !== 'function') {\n        throw new TypeError('toString is not a function');\n      } else {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw new TypeError('dirty is not a string, aborting');\n        }\n      }\n    }\n\n    /* Check we can run. Otherwise fall back or ignore */\n    if (!DOMPurify.isSupported) {\n      if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n        if (typeof dirty === 'string') {\n          return window.toStaticHTML(dirty);\n        }\n\n        if (_isNode(dirty)) {\n          return window.toStaticHTML(dirty.outerHTML);\n        }\n      }\n\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    if (IN_PLACE) {\n      /* No special handling necessary for in-place sanitization */\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!-->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && RETURN_TRUSTED_TYPE && dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : emptyHTML;\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Fix IE's strange behavior with manipulated textNodes #89 */\n      if (currentNode.nodeType === 3 && currentNode === oldNode) {\n        continue;\n      }\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n\n      oldNode = currentNode;\n    }\n\n    oldNode = null;\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (RETURN_DOM_IMPORT) {\n        /* AdoptNode() is not used because internal state is not reset\n               (e.g. the past names map of a HTMLFormElement), this is safe\n               in theory but we would rather not risk another attack vector.\n               The state that is cloned by importNode() is explicitly defined\n               by the specs. */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      serializedHTML = serializedHTML.replace(MUSTACHE_EXPR$$1, ' ');\n      serializedHTML = serializedHTML.replace(ERB_EXPR$$1, ' ');\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {string} tag Tag name of containing element.\n   * @param  {string} attr Attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    var lcTag = tag.toLowerCase();\n    var lcName = attr.toLowerCase();\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    hooks[entryPoint].push(hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint].pop();\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   *\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nvar purify = createDOMPurify();\n\nreturn purify;\n\n})));\n//# sourceMappingURL=purify.js.map\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","export default \"4244730073440075\";","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../../constants/localStorage';\nimport { sendMessage } from './messaging';\nimport buildToken from 'exec-loader!../../../build/buildToken'; // eslint-disable-line import/no-extraneous-dependencies\n\nconst REDDIT_LANGUAGES = new Set(['en', 'af', 'ar', 'be', 'bg', 'bn-IN', 'bn-bd', 'bs', 'ca', 'cs', 'cy', 'da', 'de', 'el', 'en-au', 'en-ca', 'en-gb', 'en-us', 'eo', 'es', 'es-ar', 'es-mx', 'et', 'eu', 'fa', 'fi', 'fil', 'fr', 'fr-ca', 'fy-NL', 'ga-ie', 'gd', 'gl', 'he', 'hi', 'hr', 'hu', 'hy', 'id', 'is', 'it', 'ja', 'kn_IN', 'ko', 'la', 'leet', 'lol', 'lt', 'lv', 'ms', 'mt-MT', 'nl', 'nn', 'no', 'pir', 'pl', 'pt', 'pt-pt', 'pt_BR', 'ro', 'ru', 'sk', 'sl', 'sr', 'sr-la', 'sv', 'ta', 'th', 'tr', 'uk', 'vi', 'zh', 'zh-cn']);\n// reddit languages which are not valid browser languages\nconst SPECIAL_LANGUAGES = new Set(['leet', 'lol', 'pir']);\n\nexport let locale = navigator.language || 'en'; // May be changed depending on Reddit language\n\nfunction isValidLocale(localeString) {\n\t// there doesn't appear to be a proper way to check if a language tag is valid, so we have to do this\n\ttry {\n\t\treturn typeof (0).toLocaleString(localeString) === 'string';\n\t} catch (e) {\n\t\treturn false;\n\t}\n}\n\nfunction getRedditLocale() {\n\tconst redditLocale = typeof document !== 'undefined' && document.documentElement.getAttribute('lang');\n\tif (redditLocale && (REDDIT_LANGUAGES.has(redditLocale))) {\n\t\t// `pt_BR` -> `pt-br`\n\t\tconst locale = redditLocale.toLowerCase().replace('_', '-');\n\t\tif (isValidLocale(locale)) {\n\t\t\trequestIdleCallback(() => { sendMessage('setLastRedditLocale', locale); });\n\t\t\treturn locale;\n\t\t}\n\t}\n\n\treturn sendMessage('getLastRedditLocale');\n}\n\nlet messages;\n\nexport async function _loadI18n(): Promise<void> {\n\tconst redditLocale = await getRedditLocale();\n\tif (redditLocale && !SPECIAL_LANGUAGES.has(redditLocale)) locale = redditLocale;\n\n\t// fast path: i18n dictionary is cached\n\t// should be hit almost every time\n\tif (\n\t\tlocalStorage.getItem(CACHED_LANG_KEY) === redditLocale &&\n\t\tlocalStorage.getItem(CACHED_MESSAGES_TOKEN_KEY) === buildToken\n\t) {\n\t\ttry {\n\t\t\t// eslint-disable-next-line require-atomic-updates\n\t\t\tmessages = JSON.parse(localStorage.getItem(CACHED_MESSAGES_KEY) || '');\n\t\t\treturn;\n\t\t} catch (e) {\n\t\t\tconsole.error('Failed to parse cached i18n', e);\n\t\t}\n\t}\n\n\t// slow path: wait for background page to send new locales\n\t// will be hit the first (ever) pageload on a new domain\n\t// or after clearing localStorage\n\tmessages = await sendMessage('i18n', redditLocale);\n\n\ttry { // Fails if remaining localStorage space is insufficient\n\t\tlocalStorage.setItem(CACHED_MESSAGES_KEY, JSON.stringify(messages));\n\t\tlocalStorage.setItem(CACHED_LANG_KEY, redditLocale);\n\t\tlocalStorage.setItem(CACHED_MESSAGES_TOKEN_KEY, buildToken);\n\t} catch (e) {\n\t\tconsole.error('Could not cache i18n - RES will load VERY slowly', e);\n\t\t// XXX: reddit has a habit of filling up these localstorage keys, so speculatively delete them\n\t\tlocalStorage.removeItem('ads.adserverDownvotePixel');\n\t\tlocalStorage.removeItem('ads.adserverUpvotePixel');\n\t}\n}\n\n// Behaves like https://developer.chrome.com/extensions/i18n#method-getMessage\nexport function i18n(messageName: string, ...substitutions: Array<string | number>): string {\n\tif (!messageName) return '';\n\n\tif (!messages) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tthrow new Error(`i18n called too early! key: ${messageName}`);\n\t\t} else {\n\t\t\tconsole.error('i18n called too early! key:', messageName);\n\t\t\treturn messageName;\n\t\t}\n\t}\n\n\tconst message = messages[messageName];\n\n\tif (!message) return messageName;\n\n\t// Fast path: avoid running regex when there are no substitutions\n\tif (substitutions.length === 0) return message;\n\n\t// Replace direct references to substitutions, e.g. `First substitution: $1`\n\t// Maximum of 9 substitutions allowed, i.e. only one number after the `$`\n\treturn message.replace(/\\$(\\d)\\b(?!\\$)/g, (match, number) => substitutions[number - 1]);\n\n\t// Chrome also supports named placeholders, e.g. `Error: $error_message$`\n\t// but Transifex does not create the `placeholders` field in exported JSON\n\t// https://developer.chrome.com/extensions/i18n#examples-getMessage\n}\n","/* @flow */\n\nimport {\n\tloggedInUser,\n\tloggedInUserHash,\n} from '../../utils/user';\nimport { waitForEvent } from '../../utils/dom';\n\nexport const data: {|\n\tuserHash: ?string,\n\tusername: ?string,\n\torigin: string,\n|} = {\n\tuserHash: null,\n\tusername: null,\n\torigin: 'https://www.reddit.com',\n};\n\nexport function establish(contentStart: *) {\n\tif (!location.protocol.startsWith('http')) return;\n\n\tdata.origin = location.origin;\n\n\tcontentStart.then(() => {\n\t\tdata.username = loggedInUser();\n\t\tloggedInUserHash().then(hash => { data.userHash = hash; });\n\t});\n}\n\nexport function retrieveFromParent() {\n\tif (window === window.parent) return Promise.resolve();\n\n\treturn waitForEvent(window, 'message').then(({ data: { context } }: any) => {\n\t\tObject.assign(data, context);\n\t});\n}\n","/* @flow */\n\nexport function isPrivateBrowsing(): boolean {\n\treturn chrome.extension.inIncognitoContext;\n}\n","var baseRest = require('./_baseRest'),\n    unzipWith = require('./unzipWith');\n\n/**\n * This method is like `_.zip` except that it accepts `iteratee` to specify\n * how grouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  grouped values.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n *   return a + b + c;\n * });\n * // => [111, 222]\n */\nvar zipWith = baseRest(function(arrays) {\n  var length = arrays.length,\n      iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n  iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n  return unzipWith(arrays, iteratee);\n});\n\nmodule.exports = zipWith;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The order of grouped values\n * is determined by the order they occur in `collection`. The corresponding\n * value of each key is an array of elements responsible for generating the\n * key. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n * // => { '4': [4.2], '6': [6.1, 6.3] }\n *\n * // The `_.property` iteratee shorthand.\n * _.groupBy(['one', 'two', 'three'], 'length');\n * // => { '3': ['one', 'two'], '5': ['three'] }\n */\nvar groupBy = createAggregator(function(result, value, key) {\n  if (hasOwnProperty.call(result, key)) {\n    result[key].push(value);\n  } else {\n    baseAssignValue(result, key, [value]);\n  }\n});\n\nmodule.exports = groupBy;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var convert = require('./convert'),\n    func = convert('keyBy', require('../keyBy'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseClamp = require('./_baseClamp'),\n    toNumber = require('./toNumber');\n\n/**\n * Clamps `number` within the inclusive `lower` and `upper` bounds.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Number\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n * @example\n *\n * _.clamp(-10, -5, 5);\n * // => -5\n *\n * _.clamp(10, -5, 5);\n * // => 5\n */\nfunction clamp(number, lower, upper) {\n  if (upper === undefined) {\n    upper = lower;\n    lower = undefined;\n  }\n  if (upper !== undefined) {\n    upper = toNumber(upper);\n    upper = upper === upper ? upper : 0;\n  }\n  if (lower !== undefined) {\n    lower = toNumber(lower);\n    lower = lower === lower ? lower : 0;\n  }\n  return baseClamp(toNumber(number), lower, upper);\n}\n\nmodule.exports = clamp;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport { isPrivateBrowsing } from './privateBrowsing';\n\nexport async function addURLToHistory(url: string): Promise<void> {\n\tif (isPrivateBrowsing()) return;\n\n\tawait sendMessage('addURLToHistory', url);\n}\n\nexport function isURLVisited(url: string): Promise<boolean> {\n\treturn sendMessage('isURLVisited', url);\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function openNewTab(url: string, focus?: boolean = true) {\n\treturn openNewTabs(focus, url);\n}\n\ntype Focus = 'first' | 'last' | 'none' | boolean;\n\nexport function openNewTabs(focus: Focus, ...urls: string[]) {\n\tlet focusIndex;\n\n\tif (typeof focus !== 'string') focus = !!focus;\n\n\tswitch (focus) {\n\t\tcase 'first':\n\t\t\tfocusIndex = 0;\n\t\t\tbreak;\n\t\tcase true:\n\t\tcase 'last':\n\t\t\tfocusIndex = urls.length - 1;\n\t\t\tbreak;\n\t\tcase false:\n\t\tcase 'none':\n\t\t\tfocusIndex = -1;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid focus specified: ${focus}`);\n\t}\n\n\t// Expand relative URLs\n\turls = urls.map(url => new URL(url, location.href).href);\n\n\treturn sendMessage('openNewTabs', { urls, focusIndex });\n}\n","/* @flow */\n\nconst escapeLookups = {\n\t'&': '&amp;',\n\t'\"': '&quot;',\n\t\"'\": '&apos;', // eslint-disable-line quotes\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'/': '&#47;',\n};\n\nexport function escapeHTML(str: ?string): string {\n\treturn str ?\n\t\tstr.toString().replace(/[&\"'<>\\/]/g, m => escapeLookups[m]) :\n\t\t'';\n}\n","var baseSetData = require('./_baseSetData'),\n    createBind = require('./_createBind'),\n    createCurry = require('./_createCurry'),\n    createHybrid = require('./_createHybrid'),\n    createPartial = require('./_createPartial'),\n    getData = require('./_getData'),\n    mergeData = require('./_mergeData'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString'),\n    toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates a function that either curries or invokes `func` with optional\n * `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags.\n *    1 - `_.bind`\n *    2 - `_.bindKey`\n *    4 - `_.curry` or `_.curryRight` of a bound function\n *    8 - `_.curry`\n *   16 - `_.curryRight`\n *   32 - `_.partial`\n *   64 - `_.partialRight`\n *  128 - `_.rearg`\n *  256 - `_.ary`\n *  512 - `_.flip`\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to be partially applied.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n  var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n  if (!isBindKey && typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var length = partials ? partials.length : 0;\n  if (!length) {\n    bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n    partials = holders = undefined;\n  }\n  ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n  arity = arity === undefined ? arity : toInteger(arity);\n  length -= holders ? holders.length : 0;\n\n  if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n    var partialsRight = partials,\n        holdersRight = holders;\n\n    partials = holders = undefined;\n  }\n  var data = isBindKey ? undefined : getData(func);\n\n  var newData = [\n    func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n    argPos, ary, arity\n  ];\n\n  if (data) {\n    mergeData(newData, data);\n  }\n  func = newData[0];\n  bitmask = newData[1];\n  thisArg = newData[2];\n  partials = newData[3];\n  holders = newData[4];\n  arity = newData[9] = newData[9] === undefined\n    ? (isBindKey ? 0 : func.length)\n    : nativeMax(newData[9] - length, 0);\n\n  if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n    bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n  }\n  if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n    var result = createBind(func, bitmask, thisArg);\n  } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n    result = createCurry(func, bitmask, arity);\n  } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n    result = createPartial(func, bitmask, thisArg, partials);\n  } else {\n    result = createHybrid.apply(undefined, newData);\n  }\n  var setter = data ? baseSetData : setData;\n  return setWrapToString(setter(result, newData), func, bitmask);\n}\n\nmodule.exports = createWrap;\n","var baseCreate = require('./_baseCreate'),\n    isObject = require('./isObject');\n\n/**\n * Creates a function that produces an instance of `Ctor` regardless of\n * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n *\n * @private\n * @param {Function} Ctor The constructor to wrap.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCtor(Ctor) {\n  return function() {\n    // Use a `switch` statement to work with class constructors. See\n    // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n    // for more details.\n    var args = arguments;\n    switch (args.length) {\n      case 0: return new Ctor;\n      case 1: return new Ctor(args[0]);\n      case 2: return new Ctor(args[0], args[1]);\n      case 3: return new Ctor(args[0], args[1], args[2]);\n      case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n      case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n      case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n      case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n    }\n    var thisBinding = baseCreate(Ctor.prototype),\n        result = Ctor.apply(thisBinding, args);\n\n    // Mimic the constructor's `return` behavior.\n    // See https://es5.github.io/#x13.2.2 for more details.\n    return isObject(result) ? result : thisBinding;\n  };\n}\n\nmodule.exports = createCtor;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/* @flow */\n\nimport _ from 'lodash';\nimport { context } from '../../environment';\nimport { sendMessage } from './messaging';\nimport * as XhrCache from './xhrCache';\n\ntype ResponseType = 'text' | 'json' | 'raw';\ntype MethodType = 'GET' | 'HEAD' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n\ntype AjaxOptions<Ty: ResponseType | void> = {|\n\tmethod?: MethodType,\n\turl: string,\n\tquery?: { [string]: string | number | boolean },\n\theaders?: { [string]: string },\n\tdata?: string | { [string]: string },\n\ttype?: Ty,\n\tcacheFor?: number,\n\tcredentials?: 'include' | 'omit',\n|};\n\nclass FetchError extends Error {\n\tstatus: number;\n\n\tconstructor(url, status) {\n\t\tsuper(`${url} failed with status ${status}`);\n\t\tthis.status = status;\n\t}\n}\n\n/* eslint-disable no-redeclare */\ndeclare function ajax(opt: AjaxOptions<void>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'text'>): Promise<string>;\ndeclare function ajax(opt: AjaxOptions<'json'>): Promise<{ [string | number]: any }>;\ndeclare function ajax(opt: AjaxOptions<'raw'>): Promise<{\n\tok: boolean,\n\tstatus: number,\n\theaders: { [string]: string },\n\ttext: string,\n}>;\n\n/**\n * Send a fetch request.\n *\n * `method`, `url`, and `headers` behave in the obvious way.\n * `query` adds query params to `url`.\n * `data` objects will be sent as application/x-www-form-urlencoded.\n * `data` strings will be sent as-is.\n * `type` affects the return type, either 'text' or 'json'.\n * `cacheFor` is a TTL, in milliseconds.\n */\nexport async function ajax(options: AjaxOptions<*>) {\n\tconst { method, url, headers, data, type, cacheFor, sameOrigin, credentials } = buildRequestParams(options);\n\n\tif (cacheFor) {\n\t\tconst cached = await XhrCache.check(url, cacheFor);\n\t\tif (cached) {\n\t\t\treturn processResponse(cached, type);\n\t\t}\n\t}\n\n\tconst response = await (sameOrigin ?\n\t\tfetch(url, {\n\t\t\tmethod,\n\t\t\theaders,\n\t\t\tcredentials,\n\t\t\tbody: data,\n\t\t}).then(async r => ({\n\t\t\tok: r.ok,\n\t\t\tstatus: r.status,\n\t\t\theaders: _.fromPairs(Array.from(r.headers.entries())),\n\t\t\ttext: await r.text(),\n\t\t})) :\n\t\tsendMessage('ajax', { method, url, headers, data, credentials })\n\t);\n\n\tif (!response.ok) {\n\t\tthrow new FetchError(url, response.status);\n\t}\n\n\tif (cacheFor) {\n\t\tXhrCache.set(url, response);\n\t}\n\n\treturn processResponse(response, type);\n}\n/* eslint-enable no-redeclare */\n\najax.invalidate = (options: AjaxOptions<*>) =>\n\tXhrCache.delete(buildRequestParams(options).url);\n\nfunction buildRequestParams({ method = 'GET', url, query = {}, headers = {}, data, type = 'text', credentials, cacheFor = 0 }): {|\n\tmethod: MethodType,\n\turl: string,\n\theaders: { [string]: string },\n\tdata: string | void,\n\ttype: ResponseType,\n\tcacheFor: number,\n\tsameOrigin: boolean,\n\tcredentials: 'omit' | 'include',\n|} {\n\tconst siteOrigin = new URL(context.origin);\n\n\t// Expand relative URLs\n\tconst requestURL = new URL(url, siteOrigin);\n\n\t// Append query string to URL\n\tfor (const [key, val] of Object.entries(query)) {\n\t\trequestURL.searchParams.set(key, String(val));\n\t}\n\n\tconst sameSite = requestURL.hostname.split('.').slice(-2).join('.') === siteOrigin.hostname.split('.').slice(-2).join('.');\n\tif (sameSite) {\n\t\t// Add `app=res` to same-origin request URLs\n\t\trequestURL.searchParams.set('app', 'res');\n\n\t\t// include cookies for same-origin requests (to load correct posts, etc.)\n\t\tif (!credentials) credentials = 'include';\n\n\t\tif (method !== 'GET' && method !== 'HEAD') {\n\t\t\t// Send modhash for same-origin non-GET requests\n\t\t\tif (context.userHash) headers['X-Modhash'] = context.userHash;\n\t\t}\n\n\t\t// new.reddit.com specifically selects the reddit desktop web frontend service.\n\t\t// AJAX requests should be sent to www.reddit.com, which will select the correct\n\t\t// service based on the path.\n\t\trequestURL.hostname = requestURL.hostname.replace(/new\\./, 'www.');\n\t}\n\n\tconst sameOrigin = siteOrigin.origin === requestURL.origin;\n\n\t// Convert plain data objects to application/x-www-form-urlencoded\n\tif (typeof data === 'object') {\n\t\theaders['Content-Type'] = 'application/x-www-form-urlencoded';\n\t\t// this needs to be a string because Edge doesn't support sending URlSearchParams\n\t\t// (the fetch polyfill passes it through to XHR, which is correct behaviour)\n\t\tdata = new URLSearchParams(data).toString();\n\t}\n\n\treturn {\n\t\tmethod,\n\t\turl: requestURL.href,\n\t\theaders,\n\t\tdata,\n\t\ttype,\n\t\tcacheFor,\n\t\tcredentials: credentials || 'omit',\n\t\tsameOrigin,\n\t};\n}\n\nfunction processResponse(response, type: ResponseType) {\n\tswitch (type) {\n\t\tcase 'text':\n\t\t\treturn response.text;\n\t\tcase 'json':\n\t\t\treturn JSON.parse(response.text);\n\t\tcase 'raw':\n\t\t\treturn response;\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t}\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function download(url: string, filename?: string) {\n\t// Firefox and Chrome <a download> is same-origin only\n\tsendMessage('download', {\n\t\t// resolve relative URLs\n\t\turl: new URL(url, location.href).href,\n\t\tfilename,\n\t});\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\nimport * as Permissions from './permissions';\n\nexport async function launchAuthFlow({\n\tdomain,\n\tclientId,\n\tscope = '',\n\tpermissions,\n}: {|\n\tdomain: string,\n\tclientId: string,\n\tscope?: string,\n\tpermissions: Array<string>,\n|}, warnUserInteraction: (message: string) => Promise<void>): Promise<string> {\n\tif (permissions.length && !await Permissions.has(permissions)) {\n\t\tconst resAuth = 'https://redditenhancementsuite.com/oauth';\n\t\t// Firefox can use `launchWebAuthFlow` and doesn't need to redirect to our domain\n\t\tif (process.env.BUILD_TARGET !== 'firefox' && !await Permissions.has([resAuth])) {\n\t\t\tpermissions.push(resAuth);\n\t\t}\n\n\t\tawait warnUserInteraction(permissions.includes(resAuth) ? 'You may be redirected to redditenhancementsuite.com to complete the login process.' : '');\n\n\t\tawait Permissions.request(permissions);\n\t}\n\n\tlet responseUrl;\n\ttry {\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: false });\n\t} catch (e) {\n\t\tconsole.error('Noninteractive auth failed:', e);\n\n\t\tresponseUrl = await sendMessage('authFlow', { domain, clientId, scope, interactive: true });\n\t}\n\n\tconst hash = new URL(responseUrl).hash.slice(1);\n\tconst token = new URLSearchParams(hash).get('access_token');\n\n\tif (!token) throw new Error('No token found in response.');\n\n\treturn token;\n}\n","/* @flow */\n\nimport { addListener, sendMessage } from './messaging';\n\nconst callbacks = new Map();\n\naddListener('multicast', ({ name, args }) => {\n\tconst callback = callbacks.get(name);\n\t// Not every foreground pages subscribes to every multicast\n\tif (callback) return callback(...args);\n});\n\n/*\n * Creates a wrapper function that will invoke `callback` in all other tabs.\n */\nexport function multicast<T:(...args: any) => any>(callback: T, { name, local = true, crossContext = true }: {| name: string, local?: boolean, crossContext?: boolean |}): T {\n\tif (callbacks.has(name)) {\n\t\tthrow new Error(`Multicast handler with name \"${name}\" exists.`);\n\t}\n\n\tcallbacks.set(name, callback);\n\n\tfunction localOnly(...args) {\n\t\tcallback(...args);\n\t}\n\n\tconst invoke: any = (...args) => {\n\t\tsendMessage('multicast', { name, args, crossContext });\n\n\t\tif (local) {\n\t\t\tlocalOnly(...args);\n\t\t}\n\t};\n\n\tinvoke.local = localOnly;\n\n\treturn invoke;\n}\n","/* @flow */\n\nimport { frameThrottle } from '../../utils/async';\nimport { addListener, sendMessage } from './messaging';\n\nconst clickListeners = [];\n\nexport function onClick(callback: () => void) {\n\tclickListeners.push(callback);\n}\n\naddListener('pageActionClick', () => { for (const fn of clickListeners) fn(); });\n\n// Don't update before page is visible, as Firefox (buggily?) ignores pageAction updates to hidden pages\nconst update = frameThrottle(value => sendMessage('pageAction', value));\n\nexport function show(state?: boolean = false) {\n\treturn update({ operation: 'show', state });\n}\n\nexport function hide() {\n\treturn update({ operation: 'hide' });\n}\n","/* @flow */\n\nimport { sendMessage } from './messaging';\n\nexport function get(key: string): Promise<any | void> {\n\treturn sendMessage('session', ['get', key]);\n}\n\nexport function set(key: string, value: mixed) {\n\treturn sendMessage('session', ['set', key, value]);\n}\n\nexport function delete_(key: string) {\n\treturn sendMessage('session', ['delete', key]);\n}\nexport { delete_ as delete };\n\nexport function has(key: string): Promise<boolean> {\n\treturn sendMessage('session', ['has', key]);\n}\n\nexport function clear() {\n\treturn sendMessage('session', ['clear']);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { extendDeep } from '../../utils/object';\nimport { batch, keyedMutex } from '../../utils/async';\nimport { apiToPromise } from '../utils/api';\nimport { sendMessage } from './messaging';\n\nconst __set = apiToPromise((items, callback) => chrome.storage.local.set(items, callback));\nconst _set = (key, value) => __set({ [key]: value });\nconst __get = apiToPromise((keys, callback) => chrome.storage.local.get(keys, callback));\nconst _get = async (key, defaultValue = null) => (await __get({ [key]: defaultValue }))[key];\nconst _delete = apiToPromise((keys, callback) => chrome.storage.local.remove(keys, callback));\nconst _clear = apiToPromise(callback => chrome.storage.local.clear(callback));\n\nconst withLockOn = keyedMutex(<T>(key: string, fn: () => T): T => fn());\n\nexport function get(key: string): Promise<any | null> {\n\treturn withLockOn(key, () => _get(key, null));\n}\n\nexport function getAll(): Promise<{ [string]: mixed }> {\n\treturn __get(null);\n}\n\nexport function getMultiple<T: string>(keys: T[]): Promise<{ [T]: any | null }> {\n\tconst defaults = {};\n\tfor (const k of keys) {\n\t\tdefaults[k] = null;\n\t}\n\treturn __get(defaults);\n}\n\nexport function set(key: string, value: mixed): Promise<void> {\n\treturn withLockOn(key, () => _set(key, value));\n}\n\nexport function setMultiple(valueMap: { +[string]: mixed }): Promise<void> {\n\treturn __set(valueMap);\n}\n\nfunction compareAndSet(key: string, defaultValue: mixed, oldValue: mixed, newValue: mixed): Promise<boolean> {\n\t// Redirect to the background instance as it allows for a common mutex,\n\t// preventing race conditions when several tabs invokes this function around the same time\n\treturn sendMessage('storage-cas', [key, defaultValue, oldValue, newValue]);\n}\n\n/*\n * Deeply patches an object in storage, like extendDeep().\n */\nfunction patch(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = extendDeep(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Shallowly patches an object in storage, like Object.assign().\n */\nfunction patchShallow(key: string, value: { [string]: mixed }): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst extended = Object.assign(await _get(key) || {}, value);\n\t\treturn _set(key, extended);\n\t});\n}\n\n/*\n * Deletes a property on a value in storage.\n * i.e. `deletePath('userTaggerStorageKey', 'username', 'tag')`\n * will `delete userTaggerStoredValue.username.tag`\n */\nfunction deletePaths(key: string, paths: string[][]): Promise<void> {\n\treturn withLockOn(key, async () => {\n\t\tconst stored = await _get(key);\n\t\tif (!stored) return;\n\t\tfor (const path of paths) {\n\t\t\tpath.reduce((obj, key, i, { length }) => {\n\t\t\t\tif (!obj) return;\n\t\t\t\tif (i < length - 1) return obj[key];\n\t\t\t\tdelete obj[key];\n\t\t\t}, stored);\n\t\t}\n\t\treturn _set(key, stored);\n\t});\n}\n\nfunction delete_(key: string): Promise<void> {\n\treturn withLockOn(key, () => _delete(key));\n}\nexport { delete_ as delete };\n\nexport function deleteMultiple(keys: string[]): Promise<void> {\n\treturn _delete(keys);\n}\n\nexport function has(key: string): Promise<boolean> {\n\treturn withLockOn(key, async () => {\n\t\tconst sentinel = Math.random();\n\t\treturn (await _get(key, sentinel)) !== sentinel;\n\t});\n}\n\nexport async function keys(): Promise<string[]> {\n\treturn Object.keys(await __get(null));\n}\n\nexport function clear(): Promise<void> {\n\treturn _clear();\n}\n\nclass Wrapper<T> {\n\t_key: () => string;\n\t_default: T;\n\n\tconstructor(key: $PropertyType<this, '_key'>, def: T) {\n\t\tthis._key = key;\n\t\tthis._default = def;\n\t}\n\n\tget(): Promise<T> {\n\t\treturn get(this._key()).then(val => (val === null ? this._default : val));\n\t}\n\n\tset(value: T): Promise<void> {\n\t\treturn set(this._key(), value);\n\t}\n\n\tpatch(value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._key(), (value: any));\n\t}\n\n\tcompareAndSet(oldValue: T, newValue: T): Promise<boolean> {\n\t\treturn compareAndSet(this._key(), this._default, oldValue, newValue);\n\t}\n\n\tdeletePath(...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._key(), [path]);\n\t}\n\n\tdelete(): Promise<void> {\n\t\treturn delete_(this._key());\n\t}\n\n\thas(): Promise<boolean> {\n\t\treturn has(this._key());\n\t}\n}\n\nexport function wrap<T>(key: string | () => string /* pure */, defaultValue: T): Wrapper<T> {\n\tconst keyGenerator = typeof key === 'string' ? () => key : _.once(key);\n\t// $FlowIssue\n\treturn new Wrapper(keyGenerator, defaultValue);\n}\n\nclass PrefixWrapper<T> {\n\t_prefix: string;\n\t_keyMapper: (key: string) => string;\n\t_default: () => T;\n\t_get: *;\n\n\tconstructor(prefix: string, def: () => T, keyMapper: (key: string) => string, batching: boolean) {\n\t\tthis._prefix = prefix;\n\t\tthis._default = def;\n\t\tthis._keyMapper = keyMapper;\n\n\t\tif (batching) {\n\t\t\tthis._get = batch(async keys => {\n\t\t\t\tconst v = await this.getMultipleNullable(keys);\n\t\t\t\treturn keys.map(key => v[this._keyMapper(key)]);\n\t\t\t}, { size: Infinity, delay: 0 });\n\t\t} else {\n\t\t\tthis._get = key => get(this._keyGen(key));\n\t\t}\n\t}\n\n\t_keyGen(key: string): string {\n\t\treturn this._prefix + this._keyMapper(key);\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn this._get(key).then(val => (val === null ? this._default() : val));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn this._get(key);\n\t}\n\n\tasync getAll(): Promise<{ [string]: T }> {\n\t\tconst everything = await getAll();\n\t\treturn _.transform(everything, (acc, v, k) => {\n\t\t\tif (k.startsWith(this._prefix)) {\n\t\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t\t}\n\t\t}, {});\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = (v === null ? this._default() : v);\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = await getMultiple(keys.map(k => this._keyGen(k)));\n\t\treturn _.transform(rawValues, (acc, v, k) => {\n\t\t\tacc[k.slice(this._prefix.length)] = v;\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn set(this._keyGen(key), value);\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._keyGen(key), (value: any));\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._keyGen(key), [path]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn delete_(this._keyGen(key));\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deleteMultiple(keys.map(k => this._keyGen(k)));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn has(this._keyGen(key));\n\t}\n}\n\nexport function wrapPrefix<T>(prefix: string, defaultValue: () => T, destructiveKeyMapper: (key: string) => string = x => x, batching: boolean = false): PrefixWrapper<T> {\n\treturn new PrefixWrapper(prefix, defaultValue, destructiveKeyMapper, batching);\n}\n\nclass BlobWrapper<T> {\n\t_rootKey: string;\n\t_default: () => T;\n\n\tconstructor(rootKey: string, def: () => T) {\n\t\tthis._rootKey = rootKey;\n\t\tthis._default = def;\n\t}\n\n\tget(key: string): Promise<T> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? this._default() : val[key]\n\t\t));\n\t}\n\n\tgetNullable(key: string): Promise<T | null> {\n\t\treturn get(this._rootKey).then(val => (\n\t\t\t(val === null || val[key] === undefined) ? null : val[key]\n\t\t));\n\t}\n\n\tgetAll(): Promise<{ [string]: T }> {\n\t\treturn get(this._rootKey).then(val => (val === null ? {} : val));\n\t}\n\n\tasync getMultiple(keys: string[]): Promise<{ [string]: T }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? this._default() : rawValues[key];\n\t\t}, {});\n\t}\n\n\tasync getMultipleNullable(keys: string[]): Promise<{ [string]: T | null }> {\n\t\tconst rawValues = (await get(this._rootKey)) || {};\n\t\treturn _.transform(keys, (acc, key) => {\n\t\t\tacc[key] = rawValues[key] === undefined ? null : rawValues[key];\n\t\t}, {});\n\t}\n\n\tset(key: string, value: T): Promise<void> {\n\t\treturn patchShallow(this._rootKey, { [key]: value });\n\t}\n\n\tpatch(key: string, value: $Shape<T>): Promise<void> {\n\t\treturn patch(this._rootKey, { [key]: value });\n\t}\n\n\tdeletePath(key: string, ...path: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key, ...path]]);\n\t}\n\n\tdelete(key: string): Promise<void> {\n\t\treturn deletePaths(this._rootKey, [[key]]);\n\t}\n\n\tdeleteMultiple(keys: string[]): Promise<void> {\n\t\treturn deletePaths(this._rootKey, keys.map(k => [k]));\n\t}\n\n\thas(key: string): Promise<boolean> {\n\t\treturn get(this._rootKey).then(val => (val !== null && val[key] !== undefined));\n\t}\n\n\tclear(): Promise<void> {\n\t\treturn delete_(this._rootKey);\n\t}\n}\n\nexport function wrapBlob<T>(rootKey: string, defaultValue: () => T): BlobWrapper<T> {\n\treturn new BlobWrapper(rootKey, defaultValue);\n}\n","/* @flow */\n\n/*\n * Roughly equivalent to `$.extend(true, target, source)`\n * Unfortunately lodash does not seem to offer any function that does this:\n * _.assign/_.extend/Object.assign are not recursive\n * _.merge and _.defaultsDeep ignore undefined values\n */\nexport function extendDeep(target: { [string]: mixed }, source: { [string]: mixed }): { [string]: mixed } {\n\tfor (const key of Object.keys(source)) {\n\t\tif (\n\t\t\ttarget[key] && source[key] &&\n\t\t\ttypeof target[key] === 'object' && typeof source[key] === 'object' &&\n\t\t\t!Array.isArray(source[key]) && !Array.isArray(target[key])\n\t\t) {\n\t\t\textendDeep(target[key], source[key]);\n\t\t} else {\n\t\t\ttarget[key] = source[key];\n\t\t}\n\t}\n\treturn target;\n}\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_RIGHT_FLAG = 16;\n\n/**\n * This method is like `_.curry` except that arguments are applied to `func`\n * in the manner of `_.partialRight` instead of `_.partial`.\n *\n * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n * builds, may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curryRight(abc);\n *\n * curried(3)(2)(1);\n * // => [1, 2, 3]\n *\n * curried(2, 3)(1);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(3)(1, _)(2);\n * // => [1, 2, 3]\n */\nfunction curryRight(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curryRight.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurryRight.placeholder = {};\n\nmodule.exports = curryRight;\n","var baseIteratee = require('./_baseIteratee'),\n    basePullAt = require('./_basePullAt');\n\n/**\n * Removes all elements from `array` that `predicate` returns truthy for\n * and returns an array of the removed elements. The predicate is invoked\n * with three arguments: (value, index, array).\n *\n * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n * to pull elements from an array by value.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new array of removed elements.\n * @example\n *\n * var array = [1, 2, 3, 4];\n * var evens = _.remove(array, function(n) {\n *   return n % 2 == 0;\n * });\n *\n * console.log(array);\n * // => [1, 3]\n *\n * console.log(evens);\n * // => [2, 4]\n */\nfunction remove(array, predicate) {\n  var result = [];\n  if (!(array && array.length)) {\n    return result;\n  }\n  var index = -1,\n      indexes = [],\n      length = array.length;\n\n  predicate = baseIteratee(predicate, 3);\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result.push(value);\n      indexes.push(index);\n    }\n  }\n  basePullAt(array, indexes);\n  return result;\n}\n\nmodule.exports = remove;\n","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var convert = require('./convert'),\n    func = convert('filter', require('../filter'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseIteratee = require('./_baseIteratee'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * This method is like `_.uniq` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * uniqueness is computed. The order of result values is determined by the\n * order they occur in the array. The iteratee is invoked with one argument:\n * (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n * // => [2.1, 1.2]\n *\n * // The `_.property` iteratee shorthand.\n * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n * // => [{ 'x': 1 }, { 'x': 2 }]\n */\nfunction uniqBy(array, iteratee) {\n  return (array && array.length) ? baseUniq(array, baseIteratee(iteratee, 2)) : [];\n}\n\nmodule.exports = uniqBy;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n","var arrayAggregator = require('./_arrayAggregator'),\n    baseAggregator = require('./_baseAggregator'),\n    baseIteratee = require('./_baseIteratee'),\n    isArray = require('./isArray');\n\n/**\n * Creates a function like `_.groupBy`.\n *\n * @private\n * @param {Function} setter The function to set accumulator values.\n * @param {Function} [initializer] The accumulator object initializer.\n * @returns {Function} Returns the new aggregator function.\n */\nfunction createAggregator(setter, initializer) {\n  return function(collection, iteratee) {\n    var func = isArray(collection) ? arrayAggregator : baseAggregator,\n        accumulator = initializer ? initializer() : {};\n\n    return func(collection, setter, baseIteratee(iteratee, 2), accumulator);\n  };\n}\n\nmodule.exports = createAggregator;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseAssignValue = require('./_baseAssignValue'),\n    createAggregator = require('./_createAggregator');\n\n/**\n * Creates an object composed of keys generated from the results of running\n * each element of `collection` thru `iteratee`. The corresponding value of\n * each key is the last element responsible for generating the key. The\n * iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n * @returns {Object} Returns the composed aggregate object.\n * @example\n *\n * var array = [\n *   { 'dir': 'left', 'code': 97 },\n *   { 'dir': 'right', 'code': 100 }\n * ];\n *\n * _.keyBy(array, function(o) {\n *   return String.fromCharCode(o.code);\n * });\n * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n *\n * _.keyBy(array, 'dir');\n * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n */\nvar keyBy = createAggregator(function(result, value, key) {\n  baseAssignValue(result, key, value);\n});\n\nmodule.exports = keyBy;\n","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var createAggregator = require('./_createAggregator');\n\n/**\n * Creates an array of elements split into two groups, the first of which\n * contains elements `predicate` returns truthy for, the second of which\n * contains elements `predicate` returns falsey for. The predicate is\n * invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of grouped elements.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'age': 36, 'active': false },\n *   { 'user': 'fred',    'age': 40, 'active': true },\n *   { 'user': 'pebbles', 'age': 1,  'active': false }\n * ];\n *\n * _.partition(users, function(o) { return o.active; });\n * // => objects for [['fred'], ['barney', 'pebbles']]\n *\n * // The `_.matches` iteratee shorthand.\n * _.partition(users, { 'age': 1, 'active': false });\n * // => objects for [['pebbles'], ['barney', 'fred']]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.partition(users, ['active', false]);\n * // => objects for [['barney', 'pebbles'], ['fred']]\n *\n * // The `_.property` iteratee shorthand.\n * _.partition(users, 'active');\n * // => objects for [['fred'], ['barney', 'pebbles']]\n */\nvar partition = createAggregator(function(result, value, key) {\n  result[key ? 0 : 1].push(value);\n}, function() { return [[], []]; });\n\nmodule.exports = partition;\n","// TinyColor v1.4.1\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\n(function(Math) {\n\nvar trimLeft = /^\\s+/,\n    trimRight = /\\s+$/,\n    tinyCounter = 0,\n    mathRound = Math.round,\n    mathMin = Math.min,\n    mathMax = Math.max,\n    mathRandom = Math.random;\n\nfunction tinycolor (color, opts) {\n\n    color = (color) ? color : '';\n    opts = opts || { };\n\n    // If input is already a tinycolor, return itself\n    if (color instanceof tinycolor) {\n       return color;\n    }\n    // If we are called as a function, call using new instead\n    if (!(this instanceof tinycolor)) {\n        return new tinycolor(color, opts);\n    }\n\n    var rgb = inputToRGB(color);\n    this._originalInput = color,\n    this._r = rgb.r,\n    this._g = rgb.g,\n    this._b = rgb.b,\n    this._a = rgb.a,\n    this._roundA = mathRound(100*this._a) / 100,\n    this._format = opts.format || rgb.format;\n    this._gradientType = opts.gradientType;\n\n    // Don't let the range of [0,255] come back in [0,1].\n    // Potentially lose a little bit of precision here, but will fix issues where\n    // .5 gets interpreted as half of the total, instead of half of 1\n    // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n    if (this._r < 1) { this._r = mathRound(this._r); }\n    if (this._g < 1) { this._g = mathRound(this._g); }\n    if (this._b < 1) { this._b = mathRound(this._b); }\n\n    this._ok = rgb.ok;\n    this._tc_id = tinyCounter++;\n}\n\ntinycolor.prototype = {\n    isDark: function() {\n        return this.getBrightness() < 128;\n    },\n    isLight: function() {\n        return !this.isDark();\n    },\n    isValid: function() {\n        return this._ok;\n    },\n    getOriginalInput: function() {\n      return this._originalInput;\n    },\n    getFormat: function() {\n        return this._format;\n    },\n    getAlpha: function() {\n        return this._a;\n    },\n    getBrightness: function() {\n        //http://www.w3.org/TR/AERT#color-contrast\n        var rgb = this.toRgb();\n        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n    },\n    getLuminance: function() {\n        //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n        var rgb = this.toRgb();\n        var RsRGB, GsRGB, BsRGB, R, G, B;\n        RsRGB = rgb.r/255;\n        GsRGB = rgb.g/255;\n        BsRGB = rgb.b/255;\n\n        if (RsRGB <= 0.03928) {R = RsRGB / 12.92;} else {R = Math.pow(((RsRGB + 0.055) / 1.055), 2.4);}\n        if (GsRGB <= 0.03928) {G = GsRGB / 12.92;} else {G = Math.pow(((GsRGB + 0.055) / 1.055), 2.4);}\n        if (BsRGB <= 0.03928) {B = BsRGB / 12.92;} else {B = Math.pow(((BsRGB + 0.055) / 1.055), 2.4);}\n        return (0.2126 * R) + (0.7152 * G) + (0.0722 * B);\n    },\n    setAlpha: function(value) {\n        this._a = boundAlpha(value);\n        this._roundA = mathRound(100*this._a) / 100;\n        return this;\n    },\n    toHsv: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this._a };\n    },\n    toHsvString: function() {\n        var hsv = rgbToHsv(this._r, this._g, this._b);\n        var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n        return (this._a == 1) ?\n          \"hsv(\"  + h + \", \" + s + \"%, \" + v + \"%)\" :\n          \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \"+ this._roundA + \")\";\n    },\n    toHsl: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this._a };\n    },\n    toHslString: function() {\n        var hsl = rgbToHsl(this._r, this._g, this._b);\n        var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n        return (this._a == 1) ?\n          \"hsl(\"  + h + \", \" + s + \"%, \" + l + \"%)\" :\n          \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \"+ this._roundA + \")\";\n    },\n    toHex: function(allow3Char) {\n        return rgbToHex(this._r, this._g, this._b, allow3Char);\n    },\n    toHexString: function(allow3Char) {\n        return '#' + this.toHex(allow3Char);\n    },\n    toHex8: function(allow4Char) {\n        return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n    },\n    toHex8String: function(allow4Char) {\n        return '#' + this.toHex8(allow4Char);\n    },\n    toRgb: function() {\n        return { r: mathRound(this._r), g: mathRound(this._g), b: mathRound(this._b), a: this._a };\n    },\n    toRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \")\" :\n          \"rgba(\" + mathRound(this._r) + \", \" + mathRound(this._g) + \", \" + mathRound(this._b) + \", \" + this._roundA + \")\";\n    },\n    toPercentageRgb: function() {\n        return { r: mathRound(bound01(this._r, 255) * 100) + \"%\", g: mathRound(bound01(this._g, 255) * 100) + \"%\", b: mathRound(bound01(this._b, 255) * 100) + \"%\", a: this._a };\n    },\n    toPercentageRgbString: function() {\n        return (this._a == 1) ?\n          \"rgb(\"  + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%)\" :\n          \"rgba(\" + mathRound(bound01(this._r, 255) * 100) + \"%, \" + mathRound(bound01(this._g, 255) * 100) + \"%, \" + mathRound(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n    },\n    toName: function() {\n        if (this._a === 0) {\n            return \"transparent\";\n        }\n\n        if (this._a < 1) {\n            return false;\n        }\n\n        return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n    },\n    toFilter: function(secondColor) {\n        var hex8String = '#' + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n        var secondHex8String = hex8String;\n        var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n\n        if (secondColor) {\n            var s = tinycolor(secondColor);\n            secondHex8String = '#' + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n        }\n\n        return \"progid:DXImageTransform.Microsoft.gradient(\"+gradientType+\"startColorstr=\"+hex8String+\",endColorstr=\"+secondHex8String+\")\";\n    },\n    toString: function(format) {\n        var formatSet = !!format;\n        format = format || this._format;\n\n        var formattedString = false;\n        var hasAlpha = this._a < 1 && this._a >= 0;\n        var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n\n        if (needsAlphaFormat) {\n            // Special case for \"transparent\", all other non-alpha formats\n            // will return rgba when there is transparency.\n            if (format === \"name\" && this._a === 0) {\n                return this.toName();\n            }\n            return this.toRgbString();\n        }\n        if (format === \"rgb\") {\n            formattedString = this.toRgbString();\n        }\n        if (format === \"prgb\") {\n            formattedString = this.toPercentageRgbString();\n        }\n        if (format === \"hex\" || format === \"hex6\") {\n            formattedString = this.toHexString();\n        }\n        if (format === \"hex3\") {\n            formattedString = this.toHexString(true);\n        }\n        if (format === \"hex4\") {\n            formattedString = this.toHex8String(true);\n        }\n        if (format === \"hex8\") {\n            formattedString = this.toHex8String();\n        }\n        if (format === \"name\") {\n            formattedString = this.toName();\n        }\n        if (format === \"hsl\") {\n            formattedString = this.toHslString();\n        }\n        if (format === \"hsv\") {\n            formattedString = this.toHsvString();\n        }\n\n        return formattedString || this.toHexString();\n    },\n    clone: function() {\n        return tinycolor(this.toString());\n    },\n\n    _applyModification: function(fn, args) {\n        var color = fn.apply(null, [this].concat([].slice.call(args)));\n        this._r = color._r;\n        this._g = color._g;\n        this._b = color._b;\n        this.setAlpha(color._a);\n        return this;\n    },\n    lighten: function() {\n        return this._applyModification(lighten, arguments);\n    },\n    brighten: function() {\n        return this._applyModification(brighten, arguments);\n    },\n    darken: function() {\n        return this._applyModification(darken, arguments);\n    },\n    desaturate: function() {\n        return this._applyModification(desaturate, arguments);\n    },\n    saturate: function() {\n        return this._applyModification(saturate, arguments);\n    },\n    greyscale: function() {\n        return this._applyModification(greyscale, arguments);\n    },\n    spin: function() {\n        return this._applyModification(spin, arguments);\n    },\n\n    _applyCombination: function(fn, args) {\n        return fn.apply(null, [this].concat([].slice.call(args)));\n    },\n    analogous: function() {\n        return this._applyCombination(analogous, arguments);\n    },\n    complement: function() {\n        return this._applyCombination(complement, arguments);\n    },\n    monochromatic: function() {\n        return this._applyCombination(monochromatic, arguments);\n    },\n    splitcomplement: function() {\n        return this._applyCombination(splitcomplement, arguments);\n    },\n    triad: function() {\n        return this._applyCombination(triad, arguments);\n    },\n    tetrad: function() {\n        return this._applyCombination(tetrad, arguments);\n    }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function(color, opts) {\n    if (typeof color == \"object\") {\n        var newColor = {};\n        for (var i in color) {\n            if (color.hasOwnProperty(i)) {\n                if (i === \"a\") {\n                    newColor[i] = color[i];\n                }\n                else {\n                    newColor[i] = convertToPercentage(color[i]);\n                }\n            }\n        }\n        color = newColor;\n    }\n\n    return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n\n    var rgb = { r: 0, g: 0, b: 0 };\n    var a = 1;\n    var s = null;\n    var v = null;\n    var l = null;\n    var ok = false;\n    var format = false;\n\n    if (typeof color == \"string\") {\n        color = stringInputToObject(color);\n    }\n\n    if (typeof color == \"object\") {\n        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n            rgb = rgbToRgb(color.r, color.g, color.b);\n            ok = true;\n            format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n            s = convertToPercentage(color.s);\n            v = convertToPercentage(color.v);\n            rgb = hsvToRgb(color.h, s, v);\n            ok = true;\n            format = \"hsv\";\n        }\n        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n            s = convertToPercentage(color.s);\n            l = convertToPercentage(color.l);\n            rgb = hslToRgb(color.h, s, l);\n            ok = true;\n            format = \"hsl\";\n        }\n\n        if (color.hasOwnProperty(\"a\")) {\n            a = color.a;\n        }\n    }\n\n    a = boundAlpha(a);\n\n    return {\n        ok: ok,\n        format: color.format || format,\n        r: mathMin(255, mathMax(rgb.r, 0)),\n        g: mathMin(255, mathMax(rgb.g, 0)),\n        b: mathMin(255, mathMax(rgb.b, 0)),\n        a: a\n    };\n}\n\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b){\n    return {\n        r: bound01(r, 255) * 255,\n        g: bound01(g, 255) * 255,\n        b: bound01(b, 255) * 255\n    };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if(max == min) {\n        h = s = 0; // achromatic\n    }\n    else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n\n        h /= 6;\n    }\n\n    return { h: h, s: s, l: l };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n    var r, g, b;\n\n    h = bound01(h, 360);\n    s = bound01(s, 100);\n    l = bound01(l, 100);\n\n    function hue2rgb(p, q, t) {\n        if(t < 0) t += 1;\n        if(t > 1) t -= 1;\n        if(t < 1/6) return p + (q - p) * 6 * t;\n        if(t < 1/2) return q;\n        if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n        return p;\n    }\n\n    if(s === 0) {\n        r = g = b = l; // achromatic\n    }\n    else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1/3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1/3);\n    }\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n\n    r = bound01(r, 255);\n    g = bound01(g, 255);\n    b = bound01(b, 255);\n\n    var max = mathMax(r, g, b), min = mathMin(r, g, b);\n    var h, s, v = max;\n\n    var d = max - min;\n    s = max === 0 ? 0 : d / max;\n\n    if(max == min) {\n        h = 0; // achromatic\n    }\n    else {\n        switch(max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n    return { h: h, s: s, v: v };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\n function hsvToRgb(h, s, v) {\n\n    h = bound01(h, 360) * 6;\n    s = bound01(s, 100);\n    v = bound01(v, 100);\n\n    var i = Math.floor(h),\n        f = h - i,\n        p = v * (1 - s),\n        q = v * (1 - f * s),\n        t = v * (1 - (1 - f) * s),\n        mod = i % 6,\n        r = [v, q, p, p, t, v][mod],\n        g = [t, v, v, q, p, p][mod],\n        b = [p, p, t, v, v, q][mod];\n\n    return { r: r * 255, g: g * 255, b: b * 255 };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    // Return a 3 character hex if possible\n    if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n\n    var hex = [\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16)),\n        pad2(convertDecimalToHex(a))\n    ];\n\n    // Return a 4 character hex if possible\n    if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n    }\n\n    return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n\n    var hex = [\n        pad2(convertDecimalToHex(a)),\n        pad2(mathRound(r).toString(16)),\n        pad2(mathRound(g).toString(16)),\n        pad2(mathRound(b).toString(16))\n    ];\n\n    return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n    if (!color1 || !color2) { return false; }\n    return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\n\ntinycolor.random = function() {\n    return tinycolor.fromRatio({\n        r: mathRandom(),\n        g: mathRandom(),\n        b: mathRandom()\n    });\n};\n\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction desaturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s -= amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction saturate(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.s += amount / 100;\n    hsl.s = clamp01(hsl.s);\n    return tinycolor(hsl);\n}\n\nfunction greyscale(color) {\n    return tinycolor(color).desaturate(100);\n}\n\nfunction lighten (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l += amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\nfunction brighten(color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var rgb = tinycolor(color).toRgb();\n    rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * - (amount / 100))));\n    rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * - (amount / 100))));\n    rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * - (amount / 100))));\n    return tinycolor(rgb);\n}\n\nfunction darken (color, amount) {\n    amount = (amount === 0) ? 0 : (amount || 10);\n    var hsl = tinycolor(color).toHsl();\n    hsl.l -= amount / 100;\n    hsl.l = clamp01(hsl.l);\n    return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction spin(color, amount) {\n    var hsl = tinycolor(color).toHsl();\n    var hue = (hsl.h + amount) % 360;\n    hsl.h = hue < 0 ? 360 + hue : hue;\n    return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction complement(color) {\n    var hsl = tinycolor(color).toHsl();\n    hsl.h = (hsl.h + 180) % 360;\n    return tinycolor(hsl);\n}\n\nfunction triad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 120) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 240) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction tetrad(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 90) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 180) % 360, s: hsl.s, l: hsl.l }),\n        tinycolor({ h: (h + 270) % 360, s: hsl.s, l: hsl.l })\n    ];\n}\n\nfunction splitcomplement(color) {\n    var hsl = tinycolor(color).toHsl();\n    var h = hsl.h;\n    return [\n        tinycolor(color),\n        tinycolor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l}),\n        tinycolor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l})\n    ];\n}\n\nfunction analogous(color, results, slices) {\n    results = results || 6;\n    slices = slices || 30;\n\n    var hsl = tinycolor(color).toHsl();\n    var part = 360 / slices;\n    var ret = [tinycolor(color)];\n\n    for (hsl.h = ((hsl.h - (part * results >> 1)) + 720) % 360; --results; ) {\n        hsl.h = (hsl.h + part) % 360;\n        ret.push(tinycolor(hsl));\n    }\n    return ret;\n}\n\nfunction monochromatic(color, results) {\n    results = results || 6;\n    var hsv = tinycolor(color).toHsv();\n    var h = hsv.h, s = hsv.s, v = hsv.v;\n    var ret = [];\n    var modification = 1 / results;\n\n    while (results--) {\n        ret.push(tinycolor({ h: h, s: s, v: v}));\n        v = (v + modification) % 1;\n    }\n\n    return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function(color1, color2, amount) {\n    amount = (amount === 0) ? 0 : (amount || 50);\n\n    var rgb1 = tinycolor(color1).toRgb();\n    var rgb2 = tinycolor(color2).toRgb();\n\n    var p = amount / 100;\n\n    var rgba = {\n        r: ((rgb2.r - rgb1.r) * p) + rgb1.r,\n        g: ((rgb2.g - rgb1.g) * p) + rgb1.g,\n        b: ((rgb2.b - rgb1.b) * p) + rgb1.b,\n        a: ((rgb2.a - rgb1.a) * p) + rgb1.a\n    };\n\n    return tinycolor(rgba);\n};\n\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function(color1, color2) {\n    var c1 = tinycolor(color1);\n    var c2 = tinycolor(color2);\n    return (Math.max(c1.getLuminance(),c2.getLuminance())+0.05) / (Math.min(c1.getLuminance(),c2.getLuminance())+0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function(color1, color2, wcag2) {\n    var readability = tinycolor.readability(color1, color2);\n    var wcag2Parms, out;\n\n    out = false;\n\n    wcag2Parms = validateWCAG2Parms(wcag2);\n    switch (wcag2Parms.level + wcag2Parms.size) {\n        case \"AAsmall\":\n        case \"AAAlarge\":\n            out = readability >= 4.5;\n            break;\n        case \"AAlarge\":\n            out = readability >= 3;\n            break;\n        case \"AAAsmall\":\n            out = readability >= 7;\n            break;\n    }\n    return out;\n\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function(baseColor, colorList, args) {\n    var bestColor = null;\n    var bestScore = 0;\n    var readability;\n    var includeFallbackColors, level, size ;\n    args = args || {};\n    includeFallbackColors = args.includeFallbackColors ;\n    level = args.level;\n    size = args.size;\n\n    for (var i= 0; i < colorList.length ; i++) {\n        readability = tinycolor.readability(baseColor, colorList[i]);\n        if (readability > bestScore) {\n            bestScore = readability;\n            bestColor = tinycolor(colorList[i]);\n        }\n    }\n\n    if (tinycolor.isReadable(baseColor, bestColor, {\"level\":level,\"size\":size}) || !includeFallbackColors) {\n        return bestColor;\n    }\n    else {\n        args.includeFallbackColors=false;\n        return tinycolor.mostReadable(baseColor,[\"#fff\", \"#000\"],args);\n    }\n};\n\n\n// Big List of Colors\n// ------------------\n// <http://www.w3.org/TR/css3-color/#svg-color>\nvar names = tinycolor.names = {\n    aliceblue: \"f0f8ff\",\n    antiquewhite: \"faebd7\",\n    aqua: \"0ff\",\n    aquamarine: \"7fffd4\",\n    azure: \"f0ffff\",\n    beige: \"f5f5dc\",\n    bisque: \"ffe4c4\",\n    black: \"000\",\n    blanchedalmond: \"ffebcd\",\n    blue: \"00f\",\n    blueviolet: \"8a2be2\",\n    brown: \"a52a2a\",\n    burlywood: \"deb887\",\n    burntsienna: \"ea7e5d\",\n    cadetblue: \"5f9ea0\",\n    chartreuse: \"7fff00\",\n    chocolate: \"d2691e\",\n    coral: \"ff7f50\",\n    cornflowerblue: \"6495ed\",\n    cornsilk: \"fff8dc\",\n    crimson: \"dc143c\",\n    cyan: \"0ff\",\n    darkblue: \"00008b\",\n    darkcyan: \"008b8b\",\n    darkgoldenrod: \"b8860b\",\n    darkgray: \"a9a9a9\",\n    darkgreen: \"006400\",\n    darkgrey: \"a9a9a9\",\n    darkkhaki: \"bdb76b\",\n    darkmagenta: \"8b008b\",\n    darkolivegreen: \"556b2f\",\n    darkorange: \"ff8c00\",\n    darkorchid: \"9932cc\",\n    darkred: \"8b0000\",\n    darksalmon: \"e9967a\",\n    darkseagreen: \"8fbc8f\",\n    darkslateblue: \"483d8b\",\n    darkslategray: \"2f4f4f\",\n    darkslategrey: \"2f4f4f\",\n    darkturquoise: \"00ced1\",\n    darkviolet: \"9400d3\",\n    deeppink: \"ff1493\",\n    deepskyblue: \"00bfff\",\n    dimgray: \"696969\",\n    dimgrey: \"696969\",\n    dodgerblue: \"1e90ff\",\n    firebrick: \"b22222\",\n    floralwhite: \"fffaf0\",\n    forestgreen: \"228b22\",\n    fuchsia: \"f0f\",\n    gainsboro: \"dcdcdc\",\n    ghostwhite: \"f8f8ff\",\n    gold: \"ffd700\",\n    goldenrod: \"daa520\",\n    gray: \"808080\",\n    green: \"008000\",\n    greenyellow: \"adff2f\",\n    grey: \"808080\",\n    honeydew: \"f0fff0\",\n    hotpink: \"ff69b4\",\n    indianred: \"cd5c5c\",\n    indigo: \"4b0082\",\n    ivory: \"fffff0\",\n    khaki: \"f0e68c\",\n    lavender: \"e6e6fa\",\n    lavenderblush: \"fff0f5\",\n    lawngreen: \"7cfc00\",\n    lemonchiffon: \"fffacd\",\n    lightblue: \"add8e6\",\n    lightcoral: \"f08080\",\n    lightcyan: \"e0ffff\",\n    lightgoldenrodyellow: \"fafad2\",\n    lightgray: \"d3d3d3\",\n    lightgreen: \"90ee90\",\n    lightgrey: \"d3d3d3\",\n    lightpink: \"ffb6c1\",\n    lightsalmon: \"ffa07a\",\n    lightseagreen: \"20b2aa\",\n    lightskyblue: \"87cefa\",\n    lightslategray: \"789\",\n    lightslategrey: \"789\",\n    lightsteelblue: \"b0c4de\",\n    lightyellow: \"ffffe0\",\n    lime: \"0f0\",\n    limegreen: \"32cd32\",\n    linen: \"faf0e6\",\n    magenta: \"f0f\",\n    maroon: \"800000\",\n    mediumaquamarine: \"66cdaa\",\n    mediumblue: \"0000cd\",\n    mediumorchid: \"ba55d3\",\n    mediumpurple: \"9370db\",\n    mediumseagreen: \"3cb371\",\n    mediumslateblue: \"7b68ee\",\n    mediumspringgreen: \"00fa9a\",\n    mediumturquoise: \"48d1cc\",\n    mediumvioletred: \"c71585\",\n    midnightblue: \"191970\",\n    mintcream: \"f5fffa\",\n    mistyrose: \"ffe4e1\",\n    moccasin: \"ffe4b5\",\n    navajowhite: \"ffdead\",\n    navy: \"000080\",\n    oldlace: \"fdf5e6\",\n    olive: \"808000\",\n    olivedrab: \"6b8e23\",\n    orange: \"ffa500\",\n    orangered: \"ff4500\",\n    orchid: \"da70d6\",\n    palegoldenrod: \"eee8aa\",\n    palegreen: \"98fb98\",\n    paleturquoise: \"afeeee\",\n    palevioletred: \"db7093\",\n    papayawhip: \"ffefd5\",\n    peachpuff: \"ffdab9\",\n    peru: \"cd853f\",\n    pink: \"ffc0cb\",\n    plum: \"dda0dd\",\n    powderblue: \"b0e0e6\",\n    purple: \"800080\",\n    rebeccapurple: \"663399\",\n    red: \"f00\",\n    rosybrown: \"bc8f8f\",\n    royalblue: \"4169e1\",\n    saddlebrown: \"8b4513\",\n    salmon: \"fa8072\",\n    sandybrown: \"f4a460\",\n    seagreen: \"2e8b57\",\n    seashell: \"fff5ee\",\n    sienna: \"a0522d\",\n    silver: \"c0c0c0\",\n    skyblue: \"87ceeb\",\n    slateblue: \"6a5acd\",\n    slategray: \"708090\",\n    slategrey: \"708090\",\n    snow: \"fffafa\",\n    springgreen: \"00ff7f\",\n    steelblue: \"4682b4\",\n    tan: \"d2b48c\",\n    teal: \"008080\",\n    thistle: \"d8bfd8\",\n    tomato: \"ff6347\",\n    turquoise: \"40e0d0\",\n    violet: \"ee82ee\",\n    wheat: \"f5deb3\",\n    white: \"fff\",\n    whitesmoke: \"f5f5f5\",\n    yellow: \"ff0\",\n    yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n    var flipped = { };\n    for (var i in o) {\n        if (o.hasOwnProperty(i)) {\n            flipped[o[i]] = i;\n        }\n    }\n    return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n    a = parseFloat(a);\n\n    if (isNaN(a) || a < 0 || a > 1) {\n        a = 1;\n    }\n\n    return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n    if (isOnePointZero(n)) { n = \"100%\"; }\n\n    var processPercent = isPercentage(n);\n    n = mathMin(max, mathMax(0, parseFloat(n)));\n\n    // Automatically convert percentage into number\n    if (processPercent) {\n        n = parseInt(n * max, 10) / 100;\n    }\n\n    // Handle floating point rounding errors\n    if ((Math.abs(n - max) < 0.000001)) {\n        return 1;\n    }\n\n    // Convert into [0, 1] range if it isn't already\n    return (n % max) / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n    return mathMin(1, mathMax(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n    return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n    return typeof n == \"string\" && n.indexOf('.') != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n    return typeof n === \"string\" && n.indexOf('%') != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n    return c.length == 1 ? '0' + c : '' + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n    if (n <= 1) {\n        n = (n * 100) + \"%\";\n    }\n\n    return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n    return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n    return (parseIntFromHex(h) / 255);\n}\n\nvar matchers = (function() {\n\n    // <http://www.w3.org/TR/css3-values/#integers>\n    var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n    // <http://www.w3.org/TR/css3-values/#number-value>\n    var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n    // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n    var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n    // Actual matching.\n    // Parentheses and commas are optional, but not required.\n    // Whitespace can take the place of commas or opening paren\n    var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n    var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n\n    return {\n        CSS_UNIT: new RegExp(CSS_UNIT),\n        rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n        rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n        hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n        hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n        hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n        hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n        hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n        hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n        hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n    };\n})();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n    return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n\n    color = color.replace(trimLeft,'').replace(trimRight, '').toLowerCase();\n    var named = false;\n    if (names[color]) {\n        color = names[color];\n        named = true;\n    }\n    else if (color == 'transparent') {\n        return { r: 0, g: 0, b: 0, a: 0, format: \"name\" };\n    }\n\n    // Try to match string input using regular expressions.\n    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n    // Just return an object and let the conversion functions handle that.\n    // This way the result will be the same whether the tinycolor is initialized with string or object.\n    var match;\n    if ((match = matchers.rgb.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3] };\n    }\n    if ((match = matchers.rgba.exec(color))) {\n        return { r: match[1], g: match[2], b: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsl.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3] };\n    }\n    if ((match = matchers.hsla.exec(color))) {\n        return { h: match[1], s: match[2], l: match[3], a: match[4] };\n    }\n    if ((match = matchers.hsv.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3] };\n    }\n    if ((match = matchers.hsva.exec(color))) {\n        return { h: match[1], s: match[2], v: match[3], a: match[4] };\n    }\n    if ((match = matchers.hex8.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            a: convertHexToDecimal(match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex6.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1]),\n            g: parseIntFromHex(match[2]),\n            b: parseIntFromHex(match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n    if ((match = matchers.hex4.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            a: convertHexToDecimal(match[4] + '' + match[4]),\n            format: named ? \"name\" : \"hex8\"\n        };\n    }\n    if ((match = matchers.hex3.exec(color))) {\n        return {\n            r: parseIntFromHex(match[1] + '' + match[1]),\n            g: parseIntFromHex(match[2] + '' + match[2]),\n            b: parseIntFromHex(match[3] + '' + match[3]),\n            format: named ? \"name\" : \"hex\"\n        };\n    }\n\n    return false;\n}\n\nfunction validateWCAG2Parms(parms) {\n    // return valid WCAG2 parms for isReadable.\n    // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n    var level, size;\n    parms = parms || {\"level\":\"AA\", \"size\":\"small\"};\n    level = (parms.level || \"AA\").toUpperCase();\n    size = (parms.size || \"small\").toLowerCase();\n    if (level !== \"AA\" && level !== \"AAA\") {\n        level = \"AA\";\n    }\n    if (size !== \"small\" && size !== \"large\") {\n        size = \"small\";\n    }\n    return {\"level\":level, \"size\":size};\n}\n\n// Node: Export function\nif (typeof module !== \"undefined\" && module.exports) {\n    module.exports = tinycolor;\n}\n// AMD/requirejs: Define the module\nelse if (typeof define === 'function' && define.amd) {\n    define(function () {return tinycolor;});\n}\n// Browser: Expose to window\nelse {\n    window.tinycolor = tinycolor;\n}\n\n})(Math);\n","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n","var toString = require('./toString');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n    reHasRegExpChar = RegExp(reRegExpChar.source);\n\n/**\n * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to escape.\n * @returns {string} Returns the escaped string.\n * @example\n *\n * _.escapeRegExp('[lodash](https://lodash.com/)');\n * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n */\nfunction escapeRegExp(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string))\n    ? string.replace(reRegExpChar, '\\\\$&')\n    : string;\n}\n\nmodule.exports = escapeRegExp;\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar t = exports.tokens = {}\nvar R = 0\n\nfunction tok (n) {\n  t[n] = R++\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ntok('NUMERICIDENTIFIER')\nsrc[t.NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\ntok('NUMERICIDENTIFIERLOOSE')\nsrc[t.NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ntok('NONNUMERICIDENTIFIER')\nsrc[t.NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ntok('MAINVERSION')\nsrc[t.MAINVERSION] = '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[t.NUMERICIDENTIFIER] + ')'\n\ntok('MAINVERSIONLOOSE')\nsrc[t.MAINVERSIONLOOSE] = '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[t.NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ntok('PRERELEASEIDENTIFIER')\nsrc[t.PRERELEASEIDENTIFIER] = '(?:' + src[t.NUMERICIDENTIFIER] +\n                            '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\ntok('PRERELEASEIDENTIFIERLOOSE')\nsrc[t.PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[t.NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[t.NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ntok('PRERELEASE')\nsrc[t.PRERELEASE] = '(?:-(' + src[t.PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[t.PRERELEASEIDENTIFIER] + ')*))'\n\ntok('PRERELEASELOOSE')\nsrc[t.PRERELEASELOOSE] = '(?:-?(' + src[t.PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[t.PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ntok('BUILDIDENTIFIER')\nsrc[t.BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ntok('BUILD')\nsrc[t.BUILD] = '(?:\\\\+(' + src[t.BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[t.BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ntok('FULL')\ntok('FULLPLAIN')\nsrc[t.FULLPLAIN] = 'v?' + src[t.MAINVERSION] +\n                  src[t.PRERELEASE] + '?' +\n                  src[t.BUILD] + '?'\n\nsrc[t.FULL] = '^' + src[t.FULLPLAIN] + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ntok('LOOSEPLAIN')\nsrc[t.LOOSEPLAIN] = '[v=\\\\s]*' + src[t.MAINVERSIONLOOSE] +\n                  src[t.PRERELEASELOOSE] + '?' +\n                  src[t.BUILD] + '?'\n\ntok('LOOSE')\nsrc[t.LOOSE] = '^' + src[t.LOOSEPLAIN] + '$'\n\ntok('GTLT')\nsrc[t.GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ntok('XRANGEIDENTIFIERLOOSE')\nsrc[t.XRANGEIDENTIFIERLOOSE] = src[t.NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\ntok('XRANGEIDENTIFIER')\nsrc[t.XRANGEIDENTIFIER] = src[t.NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\ntok('XRANGEPLAIN')\nsrc[t.XRANGEPLAIN] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[t.XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[t.PRERELEASE] + ')?' +\n                   src[t.BUILD] + '?' +\n                   ')?)?'\n\ntok('XRANGEPLAINLOOSE')\nsrc[t.XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[t.XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[t.PRERELEASELOOSE] + ')?' +\n                        src[t.BUILD] + '?' +\n                        ')?)?'\n\ntok('XRANGE')\nsrc[t.XRANGE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAIN] + '$'\ntok('XRANGELOOSE')\nsrc[t.XRANGELOOSE] = '^' + src[t.GTLT] + '\\\\s*' + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ntok('COERCE')\nsrc[t.COERCE] = '(^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\ntok('COERCERTL')\nre[t.COERCERTL] = new RegExp(src[t.COERCE], 'g')\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ntok('LONETILDE')\nsrc[t.LONETILDE] = '(?:~>?)'\n\ntok('TILDETRIM')\nsrc[t.TILDETRIM] = '(\\\\s*)' + src[t.LONETILDE] + '\\\\s+'\nre[t.TILDETRIM] = new RegExp(src[t.TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\ntok('TILDE')\nsrc[t.TILDE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAIN] + '$'\ntok('TILDELOOSE')\nsrc[t.TILDELOOSE] = '^' + src[t.LONETILDE] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ntok('LONECARET')\nsrc[t.LONECARET] = '(?:\\\\^)'\n\ntok('CARETTRIM')\nsrc[t.CARETTRIM] = '(\\\\s*)' + src[t.LONECARET] + '\\\\s+'\nre[t.CARETTRIM] = new RegExp(src[t.CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\ntok('CARET')\nsrc[t.CARET] = '^' + src[t.LONECARET] + src[t.XRANGEPLAIN] + '$'\ntok('CARETLOOSE')\nsrc[t.CARETLOOSE] = '^' + src[t.LONECARET] + src[t.XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ntok('COMPARATORLOOSE')\nsrc[t.COMPARATORLOOSE] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.LOOSEPLAIN] + ')$|^$'\ntok('COMPARATOR')\nsrc[t.COMPARATOR] = '^' + src[t.GTLT] + '\\\\s*(' + src[t.FULLPLAIN] + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ntok('COMPARATORTRIM')\nsrc[t.COMPARATORTRIM] = '(\\\\s*)' + src[t.GTLT] +\n                      '\\\\s*(' + src[t.LOOSEPLAIN] + '|' + src[t.XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[t.COMPARATORTRIM] = new RegExp(src[t.COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ntok('HYPHENRANGE')\nsrc[t.HYPHENRANGE] = '^\\\\s*(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[t.XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\ntok('HYPHENRANGELOOSE')\nsrc[t.HYPHENRANGELOOSE] = '^\\\\s*(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[t.XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\ntok('STAR')\nsrc[t.STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\nSemVer.prototype.compareBuild = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  var i = 0\n  do {\n    var a = this.build[i]\n    var b = other.build[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.compareBuild = compareBuild\nfunction compareBuild (a, b, loose) {\n  var versionA = new SemVer(a, loose)\n  var versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compareBuild(b, a, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1] !== undefined ? m[1] : ''\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY || version === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    if (this.value === '') {\n      return true\n    }\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    if (comp.value === '') {\n      return true\n    }\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return (\n      isSatisfiable(thisComparators, options) &&\n      range.set.some(function (rangeComparators) {\n        return (\n          isSatisfiable(rangeComparators, options) &&\n          thisComparators.every(function (thisComparator) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options)\n            })\n          })\n        )\n      })\n    )\n  })\n}\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nfunction isSatisfiable (comparators, options) {\n  var result = true\n  var remainingComparators = comparators.slice()\n  var testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every(function (otherComparator) {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p + pr\n    } else if (xm) {\n      ret = '>=' + M + '.0.0' + pr + ' <' + (+M + 1) + '.0.0' + pr\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0' + pr +\n        ' <' + M + '.' + (+m + 1) + '.0' + pr\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    try {\n      version = new SemVer(version, this.options)\n    } catch (er) {\n      return false\n    }\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version, options) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  var match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    var next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n      (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n          next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  return parse(match[2] +\n    '.' + (match[3] || '0') +\n    '.' + (match[4] || '0'), options)\n}\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var composeArgs = require('./_composeArgs'),\n    composeArgsRight = require('./_composeArgsRight'),\n    countHolders = require('./_countHolders'),\n    createCtor = require('./_createCtor'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    reorder = require('./_reorder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_CURRY_RIGHT_FLAG = 16,\n    WRAP_ARY_FLAG = 128,\n    WRAP_FLIP_FLAG = 512;\n\n/**\n * Creates a function that wraps `func` to invoke it with optional `this`\n * binding of `thisArg`, partial application, and currying.\n *\n * @private\n * @param {Function|string} func The function or method name to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [partialsRight] The arguments to append to those provided\n *  to the new function.\n * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n  var isAry = bitmask & WRAP_ARY_FLAG,\n      isBind = bitmask & WRAP_BIND_FLAG,\n      isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n      isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n      isFlip = bitmask & WRAP_FLIP_FLAG,\n      Ctor = isBindKey ? undefined : createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length;\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    if (isCurried) {\n      var placeholder = getHolder(wrapper),\n          holdersCount = countHolders(args, placeholder);\n    }\n    if (partials) {\n      args = composeArgs(args, partials, holders, isCurried);\n    }\n    if (partialsRight) {\n      args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n    }\n    length -= holdersCount;\n    if (isCurried && length < arity) {\n      var newHolders = replaceHolders(args, placeholder);\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n        args, newHolders, argPos, ary, arity - length\n      );\n    }\n    var thisBinding = isBind ? thisArg : this,\n        fn = isBindKey ? thisBinding[func] : func;\n\n    length = args.length;\n    if (argPos) {\n      args = reorder(args, argPos);\n    } else if (isFlip && length > 1) {\n      args.reverse();\n    }\n    if (isAry && ary < length) {\n      args.length = ary;\n    }\n    if (this && this !== root && this instanceof wrapper) {\n      fn = Ctor || createCtor(fn);\n    }\n    return fn.apply(thisBinding, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createHybrid;\n","var isLaziable = require('./_isLaziable'),\n    setData = require('./_setData'),\n    setWrapToString = require('./_setWrapToString');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1,\n    WRAP_BIND_KEY_FLAG = 2,\n    WRAP_CURRY_BOUND_FLAG = 4,\n    WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_PARTIAL_RIGHT_FLAG = 64;\n\n/**\n * Creates a function that wraps `func` to continue currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {Function} wrapFunc The function to create the `func` wrapper.\n * @param {*} placeholder The placeholder value.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {Array} [partials] The arguments to prepend to those provided to\n *  the new function.\n * @param {Array} [holders] The `partials` placeholder indexes.\n * @param {Array} [argPos] The argument positions of the new function.\n * @param {number} [ary] The arity cap of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n  var isCurry = bitmask & WRAP_CURRY_FLAG,\n      newHolders = isCurry ? holders : undefined,\n      newHoldersRight = isCurry ? undefined : holders,\n      newPartials = isCurry ? partials : undefined,\n      newPartialsRight = isCurry ? undefined : partials;\n\n  bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n  bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n  if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n    bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n  }\n  var newData = [\n    func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n    newHoldersRight, argPos, ary, arity\n  ];\n\n  var result = wrapFunc.apply(undefined, newData);\n  if (isLaziable(func)) {\n    setData(result, newData);\n  }\n  result.placeholder = placeholder;\n  return setWrapToString(result, func, bitmask);\n}\n\nmodule.exports = createRecurry;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var arrayFilter = require('./_arrayFilter'),\n    arrayMap = require('./_arrayMap'),\n    baseProperty = require('./_baseProperty'),\n    baseTimes = require('./_baseTimes'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nmodule.exports = unzip;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","var convert = require('./convert'),\n    func = convert('once', require('../once'), require('./_falseOptions'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assign` except that it iterates over own and\n * inherited source properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extend\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.assign\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * function Bar() {\n *   this.c = 3;\n * }\n *\n * Foo.prototype.b = 2;\n * Bar.prototype.d = 4;\n *\n * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n */\nvar assignIn = createAssigner(function(object, source) {\n  copyObject(source, keysIn(source), object);\n});\n\nmodule.exports = assignIn;\n","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n","(function() {\n  'use strict';\n  \n  var collator;\n  try {\n    collator = (typeof Intl !== \"undefined\" && typeof Intl.Collator !== \"undefined\") ? Intl.Collator(\"generic\", { sensitivity: \"base\" }) : null;\n  } catch (err){\n    console.log(\"Collator could not be initialized and wouldn't be used\");\n  }\n  // arrays to re-use\n  var prevRow = [],\n    str2Char = [];\n  \n  /**\n   * Based on the algorithm at http://en.wikipedia.org/wiki/Levenshtein_distance.\n   */\n  var Levenshtein = {\n    /**\n     * Calculate levenshtein distance of the two strings.\n     *\n     * @param str1 String the first string.\n     * @param str2 String the second string.\n     * @param [options] Additional options.\n     * @param [options.useCollator] Use `Intl.Collator` for locale-sensitive string comparison.\n     * @return Integer the levenshtein distance (0 and above).\n     */\n    get: function(str1, str2, options) {\n      var useCollator = (options && collator && options.useCollator);\n      \n      var str1Len = str1.length,\n        str2Len = str2.length;\n      \n      // base cases\n      if (str1Len === 0) return str2Len;\n      if (str2Len === 0) return str1Len;\n\n      // two rows\n      var curCol, nextCol, i, j, tmp;\n\n      // initialise previous row\n      for (i=0; i<str2Len; ++i) {\n        prevRow[i] = i;\n        str2Char[i] = str2.charCodeAt(i);\n      }\n      prevRow[str2Len] = str2Len;\n\n      var strCmp;\n      if (useCollator) {\n        // calculate current row distance from previous row using collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = 0 === collator.compare(str1.charAt(i), String.fromCharCode(str2Char[j]));\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      else {\n        // calculate current row distance from previous row without collator\n        for (i = 0; i < str1Len; ++i) {\n          nextCol = i + 1;\n\n          for (j = 0; j < str2Len; ++j) {\n            curCol = nextCol;\n\n            // substution\n            strCmp = str1.charCodeAt(i) === str2Char[j];\n\n            nextCol = prevRow[j] + (strCmp ? 0 : 1);\n\n            // insertion\n            tmp = curCol + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n            // deletion\n            tmp = prevRow[j + 1] + 1;\n            if (nextCol > tmp) {\n              nextCol = tmp;\n            }\n\n            // copy current col value into previous (in preparation for next iteration)\n            prevRow[j] = curCol;\n          }\n\n          // copy last col value into previous (in preparation for next iteration)\n          prevRow[j] = nextCol;\n        }\n      }\n      return nextCol;\n    }\n\n  };\n\n  // amd\n  if (typeof define !== \"undefined\" && define !== null && define.amd) {\n    define(function() {\n      return Levenshtein;\n    });\n  }\n  // commonjs\n  else if (typeof module !== \"undefined\" && module !== null && typeof exports !== \"undefined\" && module.exports === exports) {\n    module.exports = Levenshtein;\n  }\n  // web worker\n  else if (typeof self !== \"undefined\" && typeof self.postMessage === 'function' && typeof self.importScripts === 'function') {\n    self.Levenshtein = Levenshtein;\n  }\n  // browser main thread\n  else if (typeof window !== \"undefined\" && window !== null) {\n    window.Levenshtein = Levenshtein;\n  }\n}());\n\n","/**\n * The inverse of `_.toPairs`; this method returns an object composed\n * from key-value `pairs`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} pairs The key-value pairs.\n * @returns {Object} Returns the new object.\n * @example\n *\n * _.fromPairs([['a', 1], ['b', 2]]);\n * // => { 'a': 1, 'b': 2 }\n */\nfunction fromPairs(pairs) {\n  var index = -1,\n      length = pairs == null ? 0 : pairs.length,\n      result = {};\n\n  while (++index < length) {\n    var pair = pairs[index];\n    result[pair[0]] = pair[1];\n  }\n  return result;\n}\n\nmodule.exports = fromPairs;\n","var baseRandom = require('./_baseRandom'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toFinite = require('./toFinite');\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseFloat = parseFloat;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min,\n    nativeRandom = Math.random;\n\n/**\n * Produces a random number between the inclusive `lower` and `upper` bounds.\n * If only one argument is provided a number between `0` and the given number\n * is returned. If `floating` is `true`, or either `lower` or `upper` are\n * floats, a floating-point number is returned instead of an integer.\n *\n * **Note:** JavaScript follows the IEEE-754 standard for resolving\n * floating-point values which can produce unexpected results.\n *\n * @static\n * @memberOf _\n * @since 0.7.0\n * @category Number\n * @param {number} [lower=0] The lower bound.\n * @param {number} [upper=1] The upper bound.\n * @param {boolean} [floating] Specify returning a floating-point number.\n * @returns {number} Returns the random number.\n * @example\n *\n * _.random(0, 5);\n * // => an integer between 0 and 5\n *\n * _.random(5);\n * // => also an integer between 0 and 5\n *\n * _.random(5, true);\n * // => a floating-point number between 0 and 5\n *\n * _.random(1.2, 5.2);\n * // => a floating-point number between 1.2 and 5.2\n */\nfunction random(lower, upper, floating) {\n  if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n    upper = floating = undefined;\n  }\n  if (floating === undefined) {\n    if (typeof upper == 'boolean') {\n      floating = upper;\n      upper = undefined;\n    }\n    else if (typeof lower == 'boolean') {\n      floating = lower;\n      lower = undefined;\n    }\n  }\n  if (lower === undefined && upper === undefined) {\n    lower = 0;\n    upper = 1;\n  }\n  else {\n    lower = toFinite(lower);\n    if (upper === undefined) {\n      upper = lower;\n      lower = 0;\n    } else {\n      upper = toFinite(upper);\n    }\n  }\n  if (lower > upper) {\n    var temp = lower;\n    lower = upper;\n    upper = temp;\n  }\n  if (floating || lower % 1 || upper % 1) {\n    var rand = nativeRandom();\n    return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n  }\n  return baseRandom(lower, upper);\n}\n\nmodule.exports = random;\n","var baseIteratee = require('./_baseIteratee'),\n    negate = require('./negate'),\n    pickBy = require('./pickBy');\n\n/**\n * The opposite of `_.pickBy`; this method creates an object composed of\n * the own and inherited enumerable string keyed properties of `object` that\n * `predicate` doesn't return truthy for. The predicate is invoked with two\n * arguments: (value, key).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The source object.\n * @param {Function} [predicate=_.identity] The function invoked per property.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omitBy(object, _.isNumber);\n * // => { 'b': '2' }\n */\nfunction omitBy(object, predicate) {\n  return pickBy(object, negate(baseIteratee(predicate)));\n}\n\nmodule.exports = omitBy;\n","module.exports = \"data:image/png;base64,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\"","var baseIteratee = require('./_baseIteratee'),\n    baseWhile = require('./_baseWhile');\n\n/**\n * Creates a slice of `array` excluding elements dropped from the beginning.\n * Elements are dropped until `predicate` returns falsey. The predicate is\n * invoked with three arguments: (value, index, array).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to query.\n * @param {Function} [predicate=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the slice of `array`.\n * @example\n *\n * var users = [\n *   { 'user': 'barney',  'active': false },\n *   { 'user': 'fred',    'active': false },\n *   { 'user': 'pebbles', 'active': true }\n * ];\n *\n * _.dropWhile(users, function(o) { return !o.active; });\n * // => objects for ['pebbles']\n *\n * // The `_.matches` iteratee shorthand.\n * _.dropWhile(users, { 'user': 'barney', 'active': false });\n * // => objects for ['fred', 'pebbles']\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.dropWhile(users, ['active', false]);\n * // => objects for ['pebbles']\n *\n * // The `_.property` iteratee shorthand.\n * _.dropWhile(users, 'active');\n * // => objects for ['barney', 'fred', 'pebbles']\n */\nfunction dropWhile(array, predicate) {\n  return (array && array.length)\n    ? baseWhile(array, baseIteratee(predicate, 3), true)\n    : [];\n}\n\nmodule.exports = dropWhile;\n","var convert = require('./convert'),\n    func = convert('slice', require('../slice'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var convert = require('./convert'),\n    func = convert('mapValues', require('../mapValues'));\n\nfunc.placeholder = require('./placeholder');\nmodule.exports = func;\n","var baseRest = require('./_baseRest'),\n    unzip = require('./unzip');\n\n/**\n * Creates an array of grouped elements, the first of which contains the\n * first elements of the given arrays, the second of which contains the\n * second elements of the given arrays, and so on.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n */\nvar zip = baseRest(unzip);\n\nmodule.exports = zip;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n","var baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    baseUniq = require('./_baseUniq'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values, in order, from all given arrays using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of combined values.\n * @example\n *\n * _.union([2], [1, 2]);\n * // => [2, 1]\n */\nvar union = baseRest(function(arrays) {\n  return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n});\n\nmodule.exports = union;\n","/*\n (c) 2011-2015, Vladimir Agafonkin\n SunCalc is a JavaScript library for calculating sun/moon position and light phases.\n https://github.com/mourner/suncalc\n*/\n\n(function () { 'use strict';\n\n// shortcuts for easier to read formulas\n\nvar PI   = Math.PI,\n    sin  = Math.sin,\n    cos  = Math.cos,\n    tan  = Math.tan,\n    asin = Math.asin,\n    atan = Math.atan2,\n    acos = Math.acos,\n    rad  = PI / 180;\n\n// sun calculations are based on http://aa.quae.nl/en/reken/zonpositie.html formulas\n\n\n// date/time constants and conversions\n\nvar dayMs = 1000 * 60 * 60 * 24,\n    J1970 = 2440588,\n    J2000 = 2451545;\n\nfunction toJulian(date) { return date.valueOf() / dayMs - 0.5 + J1970; }\nfunction fromJulian(j)  { return new Date((j + 0.5 - J1970) * dayMs); }\nfunction toDays(date)   { return toJulian(date) - J2000; }\n\n\n// general calculations for position\n\nvar e = rad * 23.4397; // obliquity of the Earth\n\nfunction rightAscension(l, b) { return atan(sin(l) * cos(e) - tan(b) * sin(e), cos(l)); }\nfunction declination(l, b)    { return asin(sin(b) * cos(e) + cos(b) * sin(e) * sin(l)); }\n\nfunction azimuth(H, phi, dec)  { return atan(sin(H), cos(H) * sin(phi) - tan(dec) * cos(phi)); }\nfunction altitude(H, phi, dec) { return asin(sin(phi) * sin(dec) + cos(phi) * cos(dec) * cos(H)); }\n\nfunction siderealTime(d, lw) { return rad * (280.16 + 360.9856235 * d) - lw; }\n\nfunction astroRefraction(h) {\n    if (h < 0) // the following formula works for positive altitudes only.\n        h = 0; // if h = -0.08901179 a div/0 would occur.\n\n    // formula 16.4 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n    // 1.02 / tan(h + 10.26 / (h + 5.10)) h in degrees, result in arc minutes -> converted to rad:\n    return 0.0002967 / Math.tan(h + 0.00312536 / (h + 0.08901179));\n}\n\n// general sun calculations\n\nfunction solarMeanAnomaly(d) { return rad * (357.5291 + 0.98560028 * d); }\n\nfunction eclipticLongitude(M) {\n\n    var C = rad * (1.9148 * sin(M) + 0.02 * sin(2 * M) + 0.0003 * sin(3 * M)), // equation of center\n        P = rad * 102.9372; // perihelion of the Earth\n\n    return M + C + P + PI;\n}\n\nfunction sunCoords(d) {\n\n    var M = solarMeanAnomaly(d),\n        L = eclipticLongitude(M);\n\n    return {\n        dec: declination(L, 0),\n        ra: rightAscension(L, 0)\n    };\n}\n\n\nvar SunCalc = {};\n\n\n// calculates sun position for a given date and latitude/longitude\n\nSunCalc.getPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c  = sunCoords(d),\n        H  = siderealTime(d, lw) - c.ra;\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: altitude(H, phi, c.dec)\n    };\n};\n\n\n// sun times configuration (angle, morning name, evening name)\n\nvar times = SunCalc.times = [\n    [-0.833, 'sunrise',       'sunset'      ],\n    [  -0.3, 'sunriseEnd',    'sunsetStart' ],\n    [    -6, 'dawn',          'dusk'        ],\n    [   -12, 'nauticalDawn',  'nauticalDusk'],\n    [   -18, 'nightEnd',      'night'       ],\n    [     6, 'goldenHourEnd', 'goldenHour'  ]\n];\n\n// adds a custom time to the times config\n\nSunCalc.addTime = function (angle, riseName, setName) {\n    times.push([angle, riseName, setName]);\n};\n\n\n// calculations for sun times\n\nvar J0 = 0.0009;\n\nfunction julianCycle(d, lw) { return Math.round(d - J0 - lw / (2 * PI)); }\n\nfunction approxTransit(Ht, lw, n) { return J0 + (Ht + lw) / (2 * PI) + n; }\nfunction solarTransitJ(ds, M, L)  { return J2000 + ds + 0.0053 * sin(M) - 0.0069 * sin(2 * L); }\n\nfunction hourAngle(h, phi, d) { return acos((sin(h) - sin(phi) * sin(d)) / (cos(phi) * cos(d))); }\n\n// returns set time for the given sun altitude\nfunction getSetJ(h, lw, phi, dec, n, M, L) {\n\n    var w = hourAngle(h, phi, dec),\n        a = approxTransit(w, lw, n);\n    return solarTransitJ(a, M, L);\n}\n\n\n// calculates sun times for a given date and latitude/longitude\n\nSunCalc.getTimes = function (date, lat, lng) {\n\n    var lw = rad * -lng,\n        phi = rad * lat,\n\n        d = toDays(date),\n        n = julianCycle(d, lw),\n        ds = approxTransit(0, lw, n),\n\n        M = solarMeanAnomaly(ds),\n        L = eclipticLongitude(M),\n        dec = declination(L, 0),\n\n        Jnoon = solarTransitJ(ds, M, L),\n\n        i, len, time, Jset, Jrise;\n\n\n    var result = {\n        solarNoon: fromJulian(Jnoon),\n        nadir: fromJulian(Jnoon - 0.5)\n    };\n\n    for (i = 0, len = times.length; i < len; i += 1) {\n        time = times[i];\n\n        Jset = getSetJ(time[0] * rad, lw, phi, dec, n, M, L);\n        Jrise = Jnoon - (Jset - Jnoon);\n\n        result[time[1]] = fromJulian(Jrise);\n        result[time[2]] = fromJulian(Jset);\n    }\n\n    return result;\n};\n\n\n// moon calculations, based on http://aa.quae.nl/en/reken/hemelpositie.html formulas\n\nfunction moonCoords(d) { // geocentric ecliptic coordinates of the moon\n\n    var L = rad * (218.316 + 13.176396 * d), // ecliptic longitude\n        M = rad * (134.963 + 13.064993 * d), // mean anomaly\n        F = rad * (93.272 + 13.229350 * d),  // mean distance\n\n        l  = L + rad * 6.289 * sin(M), // longitude\n        b  = rad * 5.128 * sin(F),     // latitude\n        dt = 385001 - 20905 * cos(M);  // distance to the moon in km\n\n    return {\n        ra: rightAscension(l, b),\n        dec: declination(l, b),\n        dist: dt\n    };\n}\n\nSunCalc.getMoonPosition = function (date, lat, lng) {\n\n    var lw  = rad * -lng,\n        phi = rad * lat,\n        d   = toDays(date),\n\n        c = moonCoords(d),\n        H = siderealTime(d, lw) - c.ra,\n        h = altitude(H, phi, c.dec),\n        // formula 14.1 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n        pa = atan(sin(H), tan(phi) * cos(c.dec) - sin(c.dec) * cos(H));\n\n    h = h + astroRefraction(h); // altitude correction for refraction\n\n    return {\n        azimuth: azimuth(H, phi, c.dec),\n        altitude: h,\n        distance: c.dist,\n        parallacticAngle: pa\n    };\n};\n\n\n// calculations for illumination parameters of the moon,\n// based on http://idlastro.gsfc.nasa.gov/ftp/pro/astro/mphase.pro formulas and\n// Chapter 48 of \"Astronomical Algorithms\" 2nd edition by Jean Meeus (Willmann-Bell, Richmond) 1998.\n\nSunCalc.getMoonIllumination = function (date) {\n\n    var d = toDays(date || new Date()),\n        s = sunCoords(d),\n        m = moonCoords(d),\n\n        sdist = 149598000, // distance from Earth to Sun in km\n\n        phi = acos(sin(s.dec) * sin(m.dec) + cos(s.dec) * cos(m.dec) * cos(s.ra - m.ra)),\n        inc = atan(sdist * sin(phi), m.dist - sdist * cos(phi)),\n        angle = atan(cos(s.dec) * sin(s.ra - m.ra), sin(s.dec) * cos(m.dec) -\n                cos(s.dec) * sin(m.dec) * cos(s.ra - m.ra));\n\n    return {\n        fraction: (1 + cos(inc)) / 2,\n        phase: 0.5 + 0.5 * inc * (angle < 0 ? -1 : 1) / Math.PI,\n        angle: angle\n    };\n};\n\n\nfunction hoursLater(date, h) {\n    return new Date(date.valueOf() + h * dayMs / 24);\n}\n\n// calculations for moon rise/set times are based on http://www.stargazing.net/kepler/moonrise.html article\n\nSunCalc.getMoonTimes = function (date, lat, lng, inUTC) {\n    var t = new Date(date);\n    if (inUTC) t.setUTCHours(0, 0, 0, 0);\n    else t.setHours(0, 0, 0, 0);\n\n    var hc = 0.133 * rad,\n        h0 = SunCalc.getMoonPosition(t, lat, lng).altitude - hc,\n        h1, h2, rise, set, a, b, xe, ye, d, roots, x1, x2, dx;\n\n    // go in 2-hour chunks, each time seeing if a 3-point quadratic curve crosses zero (which means rise or set)\n    for (var i = 1; i <= 24; i += 2) {\n        h1 = SunCalc.getMoonPosition(hoursLater(t, i), lat, lng).altitude - hc;\n        h2 = SunCalc.getMoonPosition(hoursLater(t, i + 1), lat, lng).altitude - hc;\n\n        a = (h0 + h2) / 2 - h1;\n        b = (h2 - h0) / 2;\n        xe = -b / (2 * a);\n        ye = (a * xe + b) * xe + h1;\n        d = b * b - 4 * a * h1;\n        roots = 0;\n\n        if (d >= 0) {\n            dx = Math.sqrt(d) / (Math.abs(a) * 2);\n            x1 = xe - dx;\n            x2 = xe + dx;\n            if (Math.abs(x1) <= 1) roots++;\n            if (Math.abs(x2) <= 1) roots++;\n            if (x1 < -1) x1 = x2;\n        }\n\n        if (roots === 1) {\n            if (h0 < 0) rise = i + x1;\n            else set = i + x1;\n\n        } else if (roots === 2) {\n            rise = i + (ye < 0 ? x2 : x1);\n            set = i + (ye < 0 ? x1 : x2);\n        }\n\n        if (rise && set) break;\n\n        h0 = h2;\n    }\n\n    var result = {};\n\n    if (rise) result.rise = hoursLater(t, rise);\n    if (set) result.set = hoursLater(t, set);\n\n    if (!rise && !set) result[ye > 0 ? 'alwaysUp' : 'alwaysDown'] = true;\n\n    return result;\n};\n\n\n// export as Node module / AMD module / browser variable\nif (typeof exports === 'object' && typeof module !== 'undefined') module.exports = SunCalc;\nelse if (typeof define === 'function' && define.amd) define(SunCalc);\nelse window.SunCalc = SunCalc;\n\n}());\n","/**\n * @license MIT\n * @fileOverview Favico animations\n * @author Miroslav Magda, http://blog.ejci.net\n * @version 0.3.10\n */\n\n/**\n * Create new favico instance\n * @param {Object} Options\n * @return {Object} Favico object\n * @example\n * var favico = new Favico({\n *    bgColor : '#d00',\n *    textColor : '#fff',\n *    fontFamily : 'sans-serif',\n *    fontStyle : 'bold',\n *    position : 'down',\n *    type : 'circle',\n *    animation : 'slide',\n *    dataUrl: function(url){},\n *    win: top\n * });\n */\n(function () {\n\n\tvar Favico = (function (opt) {\n\t\t'use strict';\n\t\topt = (opt) ? opt : {};\n\t\tvar _def = {\n\t\t\tbgColor: '#d00',\n\t\t\ttextColor: '#fff',\n\t\t\tfontFamily: 'sans-serif', //Arial,Verdana,Times New Roman,serif,sans-serif,...\n\t\t\tfontStyle: 'bold', //normal,italic,oblique,bold,bolder,lighter,100,200,300,400,500,600,700,800,900\n\t\t\ttype: 'circle',\n\t\t\tposition: 'down', // down, up, left, leftup (upleft)\n\t\t\tanimation: 'slide',\n\t\t\telementId: false,\n\t\t\tdataUrl: false,\n\t\t\twin: window\n\t\t};\n\t\tvar _opt, _orig, _h, _w, _canvas, _context, _img, _ready, _lastBadge, _running, _readyCb, _stop, _browser, _animTimeout, _drawTimeout, _doc;\n\n\t\t_browser = {};\n\t\t_browser.ff = typeof InstallTrigger != 'undefined';\n\t\t_browser.chrome = !!window.chrome;\n\t\t_browser.opera = !!window.opera || navigator.userAgent.indexOf('Opera') >= 0;\n\t\t_browser.ie = /*@cc_on!@*/false;\n\t\t_browser.safari = Object.prototype.toString.call(window.HTMLElement).indexOf('Constructor') > 0;\n\t\t_browser.supported = (_browser.chrome || _browser.ff || _browser.opera);\n\n\t\tvar _queue = [];\n\t\t_readyCb = function () {\n\t\t};\n\t\t_ready = _stop = false;\n\t\t/**\n\t\t * Initialize favico\n\t\t */\n\t\tvar init = function () {\n\t\t\t//merge initial options\n\t\t\t_opt = merge(_def, opt);\n\t\t\t_opt.bgColor = hexToRgb(_opt.bgColor);\n\t\t\t_opt.textColor = hexToRgb(_opt.textColor);\n\t\t\t_opt.position = _opt.position.toLowerCase();\n\t\t\t_opt.animation = (animation.types['' + _opt.animation]) ? _opt.animation : _def.animation;\n\n\t\t\t_doc = _opt.win.document;\n\n\t\t\tvar isUp = _opt.position.indexOf('up') > -1;\n\t\t\tvar isLeft = _opt.position.indexOf('left') > -1;\n\n\t\t\t//transform animation\n\t\t\tif (isUp || isLeft) {\n\t\t\t\tfor (var i = 0; i < animation.types['' + _opt.animation].length; i++) {\n\t\t\t\t\tvar step = animation.types['' + _opt.animation][i];\n\n\t\t\t\t\tif (isUp) {\n\t\t\t\t\t\tif (step.y < 0.6) {\n\t\t\t\t\t\t\tstep.y = step.y - 0.4;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstep.y = step.y - 2 * step.y + (1 - step.w);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (isLeft) {\n\t\t\t\t\t\tif (step.x < 0.6) {\n\t\t\t\t\t\t\tstep.x = step.x - 0.4;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstep.x = step.x - 2 * step.x + (1 - step.h);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tanimation.types['' + _opt.animation][i] = step;\n\t\t\t\t}\n\t\t\t}\n\t\t\t_opt.type = (type['' + _opt.type]) ? _opt.type : _def.type;\n\n\t\t\t_orig = link.getIcon();\n\t\t\t//create temp canvas\n\t\t\t_canvas = document.createElement('canvas');\n\t\t\t//create temp image\n\t\t\t_img = document.createElement('img');\n\t\t\tif (_orig.hasAttribute('href')) {\n\t\t\t\t_img.setAttribute('crossOrigin', 'anonymous');\n\t\t\t\t//get width/height\n\t\t\t\t_img.onload = function () {\n\t\t\t\t\t_h = (_img.height > 0) ? _img.height : 32;\n\t\t\t\t\t_w = (_img.width > 0) ? _img.width : 32;\n\t\t\t\t\t_canvas.height = _h;\n\t\t\t\t\t_canvas.width = _w;\n\t\t\t\t\t_context = _canvas.getContext('2d');\n\t\t\t\t\ticon.ready();\n\t\t\t\t};\n\t\t\t\t_img.setAttribute('src', _orig.getAttribute('href'));\n\t\t\t} else {\n\t\t\t\t_img.onload = function () {\n\t\t\t\t\t_h = 32;\n\t\t\t\t\t_w = 32;\n\t\t\t\t\t_img.height = _h;\n\t\t\t\t\t_img.width = _w;\n\t\t\t\t\t_canvas.height = _h;\n\t\t\t\t\t_canvas.width = _w;\n\t\t\t\t\t_context = _canvas.getContext('2d');\n\t\t\t\t\ticon.ready();\n\t\t\t\t};\n\t\t\t\t_img.setAttribute('src', '');\n\t\t\t}\n\n\t\t};\n\t\t/**\n\t\t * Icon namespace\n\t\t */\n\t\tvar icon = {};\n\t\t/**\n\t\t * Icon is ready (reset icon) and start animation (if ther is any)\n\t\t */\n\t\ticon.ready = function () {\n\t\t\t_ready = true;\n\t\t\ticon.reset();\n\t\t\t_readyCb();\n\t\t};\n\t\t/**\n\t\t * Reset icon to default state\n\t\t */\n\t\ticon.reset = function () {\n\t\t\t//reset\n\t\t\tif (!_ready) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_queue = [];\n\t\t\t_lastBadge = false;\n\t\t\t_running = false;\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t//_stop=true;\n\t\t\tlink.setIcon(_canvas);\n\t\t\t//webcam('stop');\n\t\t\t//video('stop');\n\t\t\twindow.clearTimeout(_animTimeout);\n\t\t\twindow.clearTimeout(_drawTimeout);\n\t\t};\n\t\t/**\n\t\t * Start animation\n\t\t */\n\t\ticon.start = function () {\n\t\t\tif (!_ready || _running) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar finished = function () {\n\t\t\t\t_lastBadge = _queue[0];\n\t\t\t\t_running = false;\n\t\t\t\tif (_queue.length > 0) {\n\t\t\t\t\t_queue.shift();\n\t\t\t\t\ticon.start();\n\t\t\t\t} else {\n\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_queue.length > 0) {\n\t\t\t\t_running = true;\n\t\t\t\tvar run = function () {\n\t\t\t\t\t// apply options for this animation\n\t\t\t\t\t['type', 'animation', 'bgColor', 'textColor', 'fontFamily', 'fontStyle'].forEach(function (a) {\n\t\t\t\t\t\tif (a in _queue[0].options) {\n\t\t\t\t\t\t\t_opt[a] = _queue[0].options[a];\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tanimation.run(_queue[0].options, function () {\n\t\t\t\t\t\tfinished();\n\t\t\t\t\t}, false);\n\t\t\t\t};\n\t\t\t\tif (_lastBadge) {\n\t\t\t\t\tanimation.run(_lastBadge.options, function () {\n\t\t\t\t\t\trun();\n\t\t\t\t\t}, true);\n\t\t\t\t} else {\n\t\t\t\t\trun();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Badge types\n\t\t */\n\t\tvar type = {};\n\t\tvar options = function (opt) {\n\t\t\topt.n = ((typeof opt.n) === 'number') ? Math.abs(opt.n | 0) : opt.n;\n\t\t\topt.x = _w * opt.x;\n\t\t\topt.y = _h * opt.y;\n\t\t\topt.w = _w * opt.w;\n\t\t\topt.h = _h * opt.h;\n\t\t\topt.len = (\"\" + opt.n).length;\n\t\t\treturn opt;\n\t\t};\n\t\t/**\n\t\t * Generate circle\n\t\t * @param {Object} opt Badge options\n\t\t */\n\t\ttype.circle = function (opt) {\n\t\t\topt = options(opt);\n\t\t\tvar more = false;\n\t\t\tif (opt.len === 2) {\n\t\t\t\topt.x = opt.x - opt.w * 0.4;\n\t\t\t\topt.w = opt.w * 1.4;\n\t\t\t\tmore = true;\n\t\t\t} else if (opt.len >= 3) {\n\t\t\t\topt.x = opt.x - opt.w * 0.65;\n\t\t\t\topt.w = opt.w * 1.65;\n\t\t\t\tmore = true;\n\t\t\t}\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t_context.beginPath();\n\t\t\t_context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.85 : 1)) + \"px \" + _opt.fontFamily;\n\t\t\t_context.textAlign = 'center';\n\t\t\tif (more) {\n\t\t\t\t_context.moveTo(opt.x + opt.w / 2, opt.y);\n\t\t\t\t_context.lineTo(opt.x + opt.w - opt.h / 2, opt.y);\n\t\t\t\t_context.quadraticCurveTo(opt.x + opt.w, opt.y, opt.x + opt.w, opt.y + opt.h / 2);\n\t\t\t\t_context.lineTo(opt.x + opt.w, opt.y + opt.h - opt.h / 2);\n\t\t\t\t_context.quadraticCurveTo(opt.x + opt.w, opt.y + opt.h, opt.x + opt.w - opt.h / 2, opt.y + opt.h);\n\t\t\t\t_context.lineTo(opt.x + opt.h / 2, opt.y + opt.h);\n\t\t\t\t_context.quadraticCurveTo(opt.x, opt.y + opt.h, opt.x, opt.y + opt.h - opt.h / 2);\n\t\t\t\t_context.lineTo(opt.x, opt.y + opt.h / 2);\n\t\t\t\t_context.quadraticCurveTo(opt.x, opt.y, opt.x + opt.h / 2, opt.y);\n\t\t\t} else {\n\t\t\t\t_context.arc(opt.x + opt.w / 2, opt.y + opt.h / 2, opt.h / 2, 0, 2 * Math.PI);\n\t\t\t}\n\t\t\t_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\t\t\t_context.fill();\n\t\t\t_context.closePath();\n\t\t\t_context.beginPath();\n\t\t\t_context.stroke();\n\t\t\t_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';\n\t\t\t//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\tif ((typeof opt.n) === 'number' && opt.n > 999) {\n\t\t\t\t_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n\t\t\t} else {\n\t\t\t\t_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\t}\n\t\t\t_context.closePath();\n\t\t};\n\t\t/**\n\t\t * Generate rectangle\n\t\t * @param {Object} opt Badge options\n\t\t */\n\t\ttype.rectangle = function (opt) {\n\t\t\topt = options(opt);\n\t\t\tvar more = false;\n\t\t\tif (opt.len === 2) {\n\t\t\t\topt.x = opt.x - opt.w * 0.4;\n\t\t\t\topt.w = opt.w * 1.4;\n\t\t\t\tmore = true;\n\t\t\t} else if (opt.len >= 3) {\n\t\t\t\topt.x = opt.x - opt.w * 0.65;\n\t\t\t\topt.w = opt.w * 1.65;\n\t\t\t\tmore = true;\n\t\t\t}\n\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t_context.drawImage(_img, 0, 0, _w, _h);\n\t\t\t_context.beginPath();\n\t\t\t_context.font = _opt.fontStyle + \" \" + Math.floor(opt.h * (opt.n > 99 ? 0.9 : 1)) + \"px \" + _opt.fontFamily;\n\t\t\t_context.textAlign = 'center';\n\t\t\t_context.fillStyle = 'rgba(' + _opt.bgColor.r + ',' + _opt.bgColor.g + ',' + _opt.bgColor.b + ',' + opt.o + ')';\n\t\t\t_context.fillRect(opt.x, opt.y, opt.w, opt.h);\n\t\t\t_context.fillStyle = 'rgba(' + _opt.textColor.r + ',' + _opt.textColor.g + ',' + _opt.textColor.b + ',' + opt.o + ')';\n\t\t\t//_context.fillText((more) ? '9+' : opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\tif ((typeof opt.n) === 'number' && opt.n > 999) {\n\t\t\t\t_context.fillText(((opt.n > 9999) ? 9 : Math.floor(opt.n / 1000)) + 'k+', Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.2));\n\t\t\t} else {\n\t\t\t\t_context.fillText(opt.n, Math.floor(opt.x + opt.w / 2), Math.floor(opt.y + opt.h - opt.h * 0.15));\n\t\t\t}\n\t\t\t_context.closePath();\n\t\t};\n\n\t\t/**\n\t\t * Set badge\n\t\t */\n\t\tvar badge = function (number, opts) {\n\t\t\topts = ((typeof opts) === 'string' ? {\n\t\t\t\tanimation: opts\n\t\t\t} : opts) || {};\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tif (typeof (number) === 'number' ? (number > 0) : (number !== '')) {\n\t\t\t\t\t\tvar q = {\n\t\t\t\t\t\t\ttype: 'badge',\n\t\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\t\tn: number\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\tif ('animation' in opts && animation.types['' + opts.animation]) {\n\t\t\t\t\t\t\tq.options.animation = '' + opts.animation;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ('type' in opts && type['' + opts.type]) {\n\t\t\t\t\t\t\tq.options.type = '' + opts.type;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t['bgColor', 'textColor'].forEach(function (o) {\n\t\t\t\t\t\t\tif (o in opts) {\n\t\t\t\t\t\t\t\tq.options[o] = hexToRgb(opts[o]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t['fontStyle', 'fontFamily'].forEach(function (o) {\n\t\t\t\t\t\t\tif (o in opts) {\n\t\t\t\t\t\t\t\tq.options[o] = opts[o];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t_queue.push(q);\n\t\t\t\t\t\tif (_queue.length > 100) {\n\t\t\t\t\t\t\tthrow new Error('Too many badges requests in queue.');\n\t\t\t\t\t\t}\n\t\t\t\t\t\ticon.start();\n\t\t\t\t\t} else {\n\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting badge. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Set image as icon\n\t\t */\n\t\tvar image = function (imageElement) {\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tvar w = imageElement.width;\n\t\t\t\t\tvar h = imageElement.height;\n\t\t\t\t\tvar newImg = document.createElement('img');\n\t\t\t\t\tvar ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\t\t\t\t\tnewImg.setAttribute('crossOrigin', 'anonymous');\n\t\t\t\t\tnewImg.onload=function(){\n\t\t\t\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t\t\t\t_context.drawImage(newImg, 0, 0, _w, _h);\n\t\t\t\t\t\tlink.setIcon(_canvas);\n\t\t\t\t\t};\n\t\t\t\t\tnewImg.setAttribute('src', imageElement.getAttribute('src'));\n\t\t\t\t\tnewImg.height = (h / ratio);\n\t\t\t\t\tnewImg.width = (w / ratio);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting image. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Set video as icon\n\t\t */\n\t\tvar video = function (videoElement) {\n\t\t\t_readyCb = function () {\n\t\t\t\ttry {\n\t\t\t\t\tif (videoElement === 'stop') {\n\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t\t_stop = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t//var w = videoElement.width;\n\t\t\t\t\t//var h = videoElement.height;\n\t\t\t\t\t//var ratio = (w / _w < h / _h) ? (w / _w) : (h / _h);\n\t\t\t\t\tvideoElement.addEventListener('play', function () {\n\t\t\t\t\t\tdrawVideo(this);\n\t\t\t\t\t}, false);\n\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthrow new Error('Error setting video. Message: ' + e.message);\n\t\t\t\t}\n\t\t\t};\n\t\t\tif (_ready) {\n\t\t\t\t_readyCb();\n\t\t\t}\n\t\t};\n\t\t/**\n\t\t * Set video as icon\n\t\t */\n\t\tvar webcam = function (action) {\n\t\t\t//UR\n\t\t\tif (!window.URL || !window.URL.createObjectURL) {\n\t\t\t\twindow.URL = window.URL || {};\n\t\t\t\twindow.URL.createObjectURL = function (obj) {\n\t\t\t\t\treturn obj;\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (_browser.supported) {\n\t\t\t\tvar newVideo = false;\n\t\t\t\tnavigator.getUserMedia = navigator.getUserMedia || navigator.oGetUserMedia || navigator.msGetUserMedia || navigator.mozGetUserMedia || navigator.webkitGetUserMedia;\n\t\t\t\t_readyCb = function () {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (action === 'stop') {\n\t\t\t\t\t\t\t_stop = true;\n\t\t\t\t\t\t\ticon.reset();\n\t\t\t\t\t\t\t_stop = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewVideo = document.createElement('video');\n\t\t\t\t\t\tnewVideo.width = _w;\n\t\t\t\t\t\tnewVideo.height = _h;\n\t\t\t\t\t\tnavigator.getUserMedia({\n\t\t\t\t\t\t\tvideo: true,\n\t\t\t\t\t\t\taudio: false\n\t\t\t\t\t\t}, function (stream) {\n\t\t\t\t\t\t\tnewVideo.src = URL.createObjectURL(stream);\n\t\t\t\t\t\t\tnewVideo.play();\n\t\t\t\t\t\t\tdrawVideo(newVideo);\n\t\t\t\t\t\t}, function () {\n\t\t\t\t\t\t});\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tthrow new Error('Error setting webcam. Message: ' + e.message);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tif (_ready) {\n\t\t\t\t\t_readyCb();\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t\t/**\n\t\t * Draw video to context and repeat :)\n\t\t */\n\t\tfunction drawVideo(video) {\n\t\t\tif (video.paused || video.ended || _stop) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t//nasty hack for FF webcam (Thanks to Julian wirko, kontakt@redsunmedia.pl)\n\t\t\ttry {\n\t\t\t\t_context.clearRect(0, 0, _w, _h);\n\t\t\t\t_context.drawImage(video, 0, 0, _w, _h);\n\t\t\t} catch (e) {\n\n\t\t\t}\n\t\t\t_drawTimeout = setTimeout(function () {\n\t\t\t\tdrawVideo(video);\n\t\t\t}, animation.duration);\n\t\t\tlink.setIcon(_canvas);\n\t\t}\n\n\t\tvar link = {};\n\t\t/**\n\t\t * Get icon from HEAD tag or create a new <link> element\n\t\t */\n\t\tlink.getIcon = function () {\n\t\t\tvar elm = false;\n\t\t\t//get link element\n\t\t\tvar getLink = function () {\n\t\t\t\tvar link = _doc.getElementsByTagName('head')[0].getElementsByTagName('link');\n\t\t\t\tfor (var l = link.length, i = (l - 1); i >= 0; i--) {\n\t\t\t\t\tif ((/(^|\\s)icon(\\s|$)/i).test(link[i].getAttribute('rel'))) {\n\t\t\t\t\t\treturn link[i];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (_opt.element) {\n\t\t\t\telm = _opt.element;\n\t\t\t} else if (_opt.elementId) {\n\t\t\t\t//if img element identified by elementId\n\t\t\t\telm = _doc.getElementById(_opt.elementId);\n\t\t\t\telm.setAttribute('href', elm.getAttribute('src'));\n\t\t\t} else {\n\t\t\t\t//if link element\n\t\t\t\telm = getLink();\n\t\t\t\tif (elm === false) {\n\t\t\t\t\telm = _doc.createElement('link');\n\t\t\t\t\telm.setAttribute('rel', 'icon');\n\t\t\t\t\t_doc.getElementsByTagName('head')[0].appendChild(elm);\n\t\t\t\t}\n\t\t\t}\n\t\t\telm.setAttribute('type', 'image/png');\n\t\t\treturn elm;\n\t\t};\n\t\tlink.setIcon = function (canvas) {\n\t\t\tvar url = canvas.toDataURL('image/png');\n\t\t\tif (_opt.dataUrl) {\n\t\t\t\t//if using custom exporter\n\t\t\t\t_opt.dataUrl(url);\n\t\t\t}\n\t\t\tif (_opt.element) {\n\t\t\t\t_opt.element.setAttribute('href', url);\n\t\t\t\t_opt.element.setAttribute('src', url);\n\t\t\t} else if (_opt.elementId) {\n\t\t\t\t//if is attached to element (image)\n\t\t\t\tvar elm = _doc.getElementById(_opt.elementId);\n\t\t\t\telm.setAttribute('href', url);\n\t\t\t\telm.setAttribute('src', url);\n\t\t\t} else {\n\t\t\t\t//if is attached to fav icon\n\t\t\t\tif (_browser.ff || _browser.opera) {\n\t\t\t\t\t//for FF we need to \"recreate\" element, atach to dom and remove old <link>\n\t\t\t\t\t//var originalType = _orig.getAttribute('rel');\n\t\t\t\t\tvar old = _orig;\n\t\t\t\t\t_orig = _doc.createElement('link');\n\t\t\t\t\t//_orig.setAttribute('rel', originalType);\n\t\t\t\t\tif (_browser.opera) {\n\t\t\t\t\t\t_orig.setAttribute('rel', 'icon');\n\t\t\t\t\t}\n\t\t\t\t\t_orig.setAttribute('rel', 'icon');\n\t\t\t\t\t_orig.setAttribute('type', 'image/png');\n\t\t\t\t\t_doc.getElementsByTagName('head')[0].appendChild(_orig);\n\t\t\t\t\t_orig.setAttribute('href', url);\n\t\t\t\t\tif (old.parentNode) {\n\t\t\t\t\t\told.parentNode.removeChild(old);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_orig.setAttribute('href', url);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t//http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb#answer-5624139\n\t\t//HEX to RGB convertor\n\t\tfunction hexToRgb(hex) {\n\t\t\tvar shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n\t\t\thex = hex.replace(shorthandRegex, function (m, r, g, b) {\n\t\t\t\treturn r + r + g + g + b + b;\n\t\t\t});\n\t\t\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t\t\treturn result ? {\n\t\t\t\tr: parseInt(result[1], 16),\n\t\t\t\tg: parseInt(result[2], 16),\n\t\t\t\tb: parseInt(result[3], 16)\n\t\t\t} : false;\n\t\t}\n\n\t\t/**\n\t\t * Merge options\n\t\t */\n\t\tfunction merge(def, opt) {\n\t\t\tvar mergedOpt = {};\n\t\t\tvar attrname;\n\t\t\tfor (attrname in def) {\n\t\t\t\tmergedOpt[attrname] = def[attrname];\n\t\t\t}\n\t\t\tfor (attrname in opt) {\n\t\t\t\tmergedOpt[attrname] = opt[attrname];\n\t\t\t}\n\t\t\treturn mergedOpt;\n\t\t}\n\n\t\t/**\n\t\t * Cross-browser page visibility shim\n\t\t * http://stackoverflow.com/questions/12536562/detect-whether-a-window-is-visible\n\t\t */\n\t\tfunction isPageHidden() {\n\t\t\treturn _doc.hidden || _doc.msHidden || _doc.webkitHidden || _doc.mozHidden;\n\t\t}\n\n\t\t/**\n\t\t * @namespace animation\n\t\t */\n\t\tvar animation = {};\n\t\t/**\n\t\t * Animation \"frame\" duration\n\t\t */\n\t\tanimation.duration = 40;\n\t\t/**\n\t\t * Animation types (none,fade,pop,slide)\n\t\t */\n\t\tanimation.types = {};\n\t\tanimation.types.fade = [{\n\t\t\tx: 0.4,\n\t\t\ty: 0.4,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 0.0\n\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.2\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.3\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.4\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.5\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.6\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.7\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.8\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 0.9\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1.0\n\t\t\t}];\n\t\tanimation.types.none = [{\n\t\t\tx: 0.4,\n\t\t\ty: 0.4,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 1\n\t\t}];\n\t\tanimation.types.pop = [{\n\t\t\tx: 1,\n\t\t\ty: 1,\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t\to: 1\n\t\t}, {\n\t\t\t\tx: 0.9,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.1,\n\t\t\t\th: 0.1,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.8,\n\t\t\t\ty: 0.8,\n\t\t\t\tw: 0.2,\n\t\t\t\th: 0.2,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.7,\n\t\t\t\ty: 0.7,\n\t\t\t\tw: 0.3,\n\t\t\t\th: 0.3,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.6,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.4,\n\t\t\t\th: 0.4,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.5,\n\t\t\t\ty: 0.5,\n\t\t\t\tw: 0.5,\n\t\t\t\th: 0.5,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\tanimation.types.popFade = [{\n\t\t\tx: 0.75,\n\t\t\ty: 0.75,\n\t\t\tw: 0,\n\t\t\th: 0,\n\t\t\to: 0\n\t\t}, {\n\t\t\t\tx: 0.65,\n\t\t\t\ty: 0.65,\n\t\t\t\tw: 0.1,\n\t\t\t\th: 0.1,\n\t\t\t\to: 0.2\n\t\t\t}, {\n\t\t\t\tx: 0.6,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.2,\n\t\t\t\th: 0.2,\n\t\t\t\to: 0.4\n\t\t\t}, {\n\t\t\t\tx: 0.55,\n\t\t\t\ty: 0.55,\n\t\t\t\tw: 0.3,\n\t\t\t\th: 0.3,\n\t\t\t\to: 0.6\n\t\t\t}, {\n\t\t\t\tx: 0.50,\n\t\t\t\ty: 0.50,\n\t\t\t\tw: 0.4,\n\t\t\t\th: 0.4,\n\t\t\t\to: 0.8\n\t\t\t}, {\n\t\t\t\tx: 0.45,\n\t\t\t\ty: 0.45,\n\t\t\t\tw: 0.5,\n\t\t\t\th: 0.5,\n\t\t\t\to: 0.9\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\tanimation.types.slide = [{\n\t\t\tx: 0.4,\n\t\t\ty: 1,\n\t\t\tw: 0.6,\n\t\t\th: 0.6,\n\t\t\to: 1\n\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.9,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.8,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.7,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.6,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.5,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}, {\n\t\t\t\tx: 0.4,\n\t\t\t\ty: 0.4,\n\t\t\t\tw: 0.6,\n\t\t\t\th: 0.6,\n\t\t\t\to: 1\n\t\t\t}];\n\t\t/**\n\t\t * Run animation\n\t\t * @param {Object} opt Animation options\n\t\t * @param {Object} cb Callabak after all steps are done\n\t\t * @param {Object} revert Reverse order? true|false\n\t\t * @param {Object} step Optional step number (frame bumber)\n\t\t */\n\t\tanimation.run = function (opt, cb, revert, step) {\n\t\t\tvar animationType = animation.types[isPageHidden() ? 'none' : _opt.animation];\n\t\t\tif (revert === true) {\n\t\t\t\tstep = (typeof step !== 'undefined') ? step : animationType.length - 1;\n\t\t\t} else {\n\t\t\t\tstep = (typeof step !== 'undefined') ? step : 0;\n\t\t\t}\n\t\t\tcb = (cb) ? cb : function () {\n\t\t\t};\n\t\t\tif ((step < animationType.length) && (step >= 0)) {\n\t\t\t\ttype[_opt.type](merge(opt, animationType[step]));\n\t\t\t\t_animTimeout = setTimeout(function () {\n\t\t\t\t\tif (revert) {\n\t\t\t\t\t\tstep = step - 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstep = step + 1;\n\t\t\t\t\t}\n\t\t\t\t\tanimation.run(opt, cb, revert, step);\n\t\t\t\t}, animation.duration);\n\n\t\t\t\tlink.setIcon(_canvas);\n\t\t\t} else {\n\t\t\t\tcb();\n\t\t\t\treturn;\n\t\t\t}\n\t\t};\n\t\t//auto init\n\t\tinit();\n\t\treturn {\n\t\t\tbadge: badge,\n\t\t\tvideo: video,\n\t\t\timage: image,\n\t\t\twebcam: webcam,\n\t\t\treset: icon.reset,\n\t\t\tbrowser: {\n\t\t\t\tsupported: _browser.supported\n\t\t\t}\n\t\t};\n\t});\n\n\t// AMD / RequireJS\n\tif (typeof define !== 'undefined' && define.amd) {\n\t\tdefine([], function () {\n\t\t\treturn Favico;\n\t\t});\n\t}\n\t// CommonJS\n\telse if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = Favico;\n\t}\n\t// included directly via <script> tag\n\telse {\n\t\tthis.Favico = Favico;\n\t}\n\n})();\n","module.exports = \"data:image/png;base64,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\"","module.exports = require('./head');\n","module.exports = __webpack_public_path__ + \"LICENSE\";","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","module.exports = {\n  'ary': require('../ary'),\n  'assign': require('../_baseAssign'),\n  'clone': require('../clone'),\n  'curry': require('../curry'),\n  'forEach': require('../_arrayEach'),\n  'isArray': require('../isArray'),\n  'isError': require('../isError'),\n  'isFunction': require('../isFunction'),\n  'isWeakMap': require('../isWeakMap'),\n  'iteratee': require('../iteratee'),\n  'keys': require('../_baseKeys'),\n  'rearg': require('../rearg'),\n  'toInteger': require('../toInteger'),\n  'toPath': require('../toPath')\n};\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_ARY_FLAG = 128;\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments,\n * ignoring any additional arguments.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to cap arguments for.\n * @param {number} [n=func.length] The arity cap.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new capped function.\n * @example\n *\n * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n * // => [6, 8, 10]\n */\nfunction ary(func, n, guard) {\n  n = guard ? undefined : n;\n  n = (func && n == null) ? func.length : n;\n  return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n}\n\nmodule.exports = ary;\n","var createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the optional `this`\n * binding of `thisArg`.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createBind(func, bitmask, thisArg) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return fn.apply(isBind ? thisArg : this, arguments);\n  }\n  return wrapper;\n}\n\nmodule.exports = createBind;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    createHybrid = require('./_createHybrid'),\n    createRecurry = require('./_createRecurry'),\n    getHolder = require('./_getHolder'),\n    replaceHolders = require('./_replaceHolders'),\n    root = require('./_root');\n\n/**\n * Creates a function that wraps `func` to enable currying.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {number} arity The arity of `func`.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createCurry(func, bitmask, arity) {\n  var Ctor = createCtor(func);\n\n  function wrapper() {\n    var length = arguments.length,\n        args = Array(length),\n        index = length,\n        placeholder = getHolder(wrapper);\n\n    while (index--) {\n      args[index] = arguments[index];\n    }\n    var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n      ? []\n      : replaceHolders(args, placeholder);\n\n    length -= holders.length;\n    if (length < arity) {\n      return createRecurry(\n        func, bitmask, createHybrid, wrapper.placeholder, undefined,\n        args, holders, undefined, undefined, arity - length);\n    }\n    var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n    return apply(fn, this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createCurry;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Creates an array that is the composition of partially applied arguments,\n * placeholders, and provided arguments into a single array of arguments.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to prepend to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgs(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersLength = holders.length,\n      leftIndex = -1,\n      leftLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(leftLength + rangeLength),\n      isUncurried = !isCurried;\n\n  while (++leftIndex < leftLength) {\n    result[leftIndex] = partials[leftIndex];\n  }\n  while (++argsIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[holders[argsIndex]] = args[argsIndex];\n    }\n  }\n  while (rangeLength--) {\n    result[leftIndex++] = args[argsIndex++];\n  }\n  return result;\n}\n\nmodule.exports = composeArgs;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This function is like `composeArgs` except that the arguments composition\n * is tailored for `_.partialRight`.\n *\n * @private\n * @param {Array} args The provided arguments.\n * @param {Array} partials The arguments to append to those provided.\n * @param {Array} holders The `partials` placeholder indexes.\n * @params {boolean} [isCurried] Specify composing for a curried function.\n * @returns {Array} Returns the new array of composed arguments.\n */\nfunction composeArgsRight(args, partials, holders, isCurried) {\n  var argsIndex = -1,\n      argsLength = args.length,\n      holdersIndex = -1,\n      holdersLength = holders.length,\n      rightIndex = -1,\n      rightLength = partials.length,\n      rangeLength = nativeMax(argsLength - holdersLength, 0),\n      result = Array(rangeLength + rightLength),\n      isUncurried = !isCurried;\n\n  while (++argsIndex < rangeLength) {\n    result[argsIndex] = args[argsIndex];\n  }\n  var offset = argsIndex;\n  while (++rightIndex < rightLength) {\n    result[offset + rightIndex] = partials[rightIndex];\n  }\n  while (++holdersIndex < holdersLength) {\n    if (isUncurried || argsIndex < argsLength) {\n      result[offset + holders[holdersIndex]] = args[argsIndex++];\n    }\n  }\n  return result;\n}\n\nmodule.exports = composeArgsRight;\n","/**\n * Gets the number of `placeholder` occurrences in `array`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} placeholder The placeholder to search for.\n * @returns {number} Returns the placeholder count.\n */\nfunction countHolders(array, placeholder) {\n  var length = array.length,\n      result = 0;\n\n  while (length--) {\n    if (array[length] === placeholder) {\n      ++result;\n    }\n  }\n  return result;\n}\n\nmodule.exports = countHolders;\n","var copyArray = require('./_copyArray'),\n    isIndex = require('./_isIndex');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Reorder `array` according to the specified indexes where the element at\n * the first index is assigned as the first element, the element at\n * the second index is assigned as the second element, and so on.\n *\n * @private\n * @param {Array} array The array to reorder.\n * @param {Array} indexes The arranged array indexes.\n * @returns {Array} Returns `array`.\n */\nfunction reorder(array, indexes) {\n  var arrLength = array.length,\n      length = nativeMin(indexes.length, arrLength),\n      oldArray = copyArray(array);\n\n  while (length--) {\n    var index = indexes[length];\n    array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n  }\n  return array;\n}\n\nmodule.exports = reorder;\n","var apply = require('./_apply'),\n    createCtor = require('./_createCtor'),\n    root = require('./_root');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_BIND_FLAG = 1;\n\n/**\n * Creates a function that wraps `func` to invoke it with the `this` binding\n * of `thisArg` and `partials` prepended to the arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} partials The arguments to prepend to those provided to\n *  the new function.\n * @returns {Function} Returns the new wrapped function.\n */\nfunction createPartial(func, bitmask, thisArg, partials) {\n  var isBind = bitmask & WRAP_BIND_FLAG,\n      Ctor = createCtor(func);\n\n  function wrapper() {\n    var argsIndex = -1,\n        argsLength = arguments.length,\n        leftIndex = -1,\n        leftLength = partials.length,\n        args = Array(leftLength + argsLength),\n        fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n    while (++leftIndex < leftLength) {\n      args[leftIndex] = partials[leftIndex];\n    }\n    while (argsLength--) {\n      args[leftIndex++] = arguments[++argsIndex];\n    }\n    return apply(fn, isBind ? thisArg : this, args);\n  }\n  return wrapper;\n}\n\nmodule.exports = createPartial;\n","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = clone;\n","var createWrap = require('./_createWrap');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8;\n\n/**\n * Creates a function that accepts arguments of `func` and either invokes\n * `func` returning its result, if at least `arity` number of arguments have\n * been provided, or returns a function that accepts the remaining `func`\n * arguments, and so on. The arity of `func` may be specified if `func.length`\n * is not sufficient.\n *\n * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n * may be used as a placeholder for provided arguments.\n *\n * **Note:** This method doesn't set the \"length\" property of curried functions.\n *\n * @static\n * @memberOf _\n * @since 2.0.0\n * @category Function\n * @param {Function} func The function to curry.\n * @param {number} [arity=func.length] The arity of `func`.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Function} Returns the new curried function.\n * @example\n *\n * var abc = function(a, b, c) {\n *   return [a, b, c];\n * };\n *\n * var curried = _.curry(abc);\n *\n * curried(1)(2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2)(3);\n * // => [1, 2, 3]\n *\n * curried(1, 2, 3);\n * // => [1, 2, 3]\n *\n * // Curried with placeholders.\n * curried(1)(_, 3)(2);\n * // => [1, 2, 3]\n */\nfunction curry(func, arity, guard) {\n  arity = guard ? undefined : arity;\n  var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n  result.placeholder = curry.placeholder;\n  return result;\n}\n\n// Assign default placeholders.\ncurry.placeholder = {};\n\nmodule.exports = curry;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike'),\n    isPlainObject = require('./isPlainObject');\n\n/** `Object#toString` result references. */\nvar domExcTag = '[object DOMException]',\n    errorTag = '[object Error]';\n\n/**\n * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n * `SyntaxError`, `TypeError`, or `URIError` object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n * @example\n *\n * _.isError(new Error);\n * // => true\n *\n * _.isError(Error);\n * // => false\n */\nfunction isError(value) {\n  if (!isObjectLike(value)) {\n    return false;\n  }\n  var tag = baseGetTag(value);\n  return tag == errorTag || tag == domExcTag ||\n    (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n}\n\nmodule.exports = isError;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar weakMapTag = '[object WeakMap]';\n\n/**\n * Checks if `value` is classified as a `WeakMap` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n * @example\n *\n * _.isWeakMap(new WeakMap);\n * // => true\n *\n * _.isWeakMap(new Map);\n * // => false\n */\nfunction isWeakMap(value) {\n  return isObjectLike(value) && getTag(value) == weakMapTag;\n}\n\nmodule.exports = isWeakMap;\n","var baseClone = require('./_baseClone'),\n    baseIteratee = require('./_baseIteratee');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a function that invokes `func` with the arguments of the created\n * function. If `func` is a property name, the created function returns the\n * property value for a given element. If `func` is an array or object, the\n * created function returns `true` for elements that contain the equivalent\n * source properties, otherwise it returns `false`.\n *\n * @static\n * @since 4.0.0\n * @memberOf _\n * @category Util\n * @param {*} [func=_.identity] The value to convert to a callback.\n * @returns {Function} Returns the callback.\n * @example\n *\n * var users = [\n *   { 'user': 'barney', 'age': 36, 'active': true },\n *   { 'user': 'fred',   'age': 40, 'active': false }\n * ];\n *\n * // The `_.matches` iteratee shorthand.\n * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n *\n * // The `_.matchesProperty` iteratee shorthand.\n * _.filter(users, _.iteratee(['user', 'fred']));\n * // => [{ 'user': 'fred', 'age': 40 }]\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, _.iteratee('user'));\n * // => ['barney', 'fred']\n *\n * // Create custom iteratee shorthands.\n * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n *     return func.test(string);\n *   };\n * });\n *\n * _.filter(['abc', 'def'], /ef/);\n * // => ['def']\n */\nfunction iteratee(func) {\n  return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n}\n\nmodule.exports = iteratee;\n","var createWrap = require('./_createWrap'),\n    flatRest = require('./_flatRest');\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a function that invokes `func` with arguments arranged according\n * to the specified `indexes` where the argument value at the first index is\n * provided as the first argument, the argument value at the second index is\n * provided as the second argument, and so on.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} func The function to rearrange arguments for.\n * @param {...(number|number[])} indexes The arranged argument indexes.\n * @returns {Function} Returns the new function.\n * @example\n *\n * var rearged = _.rearg(function(a, b, c) {\n *   return [a, b, c];\n * }, [2, 0, 1]);\n *\n * rearged('b', 'c', 'a')\n * // => ['a', 'b', 'c']\n */\nvar rearg = flatRest(function(func, indexes) {\n  return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n});\n\nmodule.exports = rearg;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var arrayMap = require('./_arrayMap'),\n    copyArray = require('./_copyArray'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol'),\n    stringToPath = require('./_stringToPath'),\n    toKey = require('./_toKey'),\n    toString = require('./toString');\n\n/**\n * Converts `value` to a property path array.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Util\n * @param {*} value The value to convert.\n * @returns {Array} Returns the new property path array.\n * @example\n *\n * _.toPath('a.b.c');\n * // => ['a', 'b', 'c']\n *\n * _.toPath('a[0].b.c');\n * // => ['a', '0', 'b', 'c']\n */\nfunction toPath(value) {\n  if (isArray(value)) {\n    return arrayMap(value, toKey);\n  }\n  return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n}\n\nmodule.exports = toPath;\n","var toInteger = require('./toInteger');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that invokes `func`, with the `this` binding and arguments\n * of the created function, while it's called less than `n` times. Subsequent\n * calls to the created function return the result of the last `func` invocation.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {number} n The number of calls at which `func` is no longer invoked.\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new restricted function.\n * @example\n *\n * jQuery(element).on('click', _.before(5, addContactToList));\n * // => Allows adding up to 4 contacts to the list.\n */\nfunction before(n, func) {\n  var result;\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  n = toInteger(n);\n  return function() {\n    if (--n > 0) {\n      result = func.apply(this, arguments);\n    }\n    if (n <= 1) {\n      func = undefined;\n    }\n    return result;\n  };\n}\n\nmodule.exports = before;\n","module.exports = {\n  'cap': false,\n  'curry': false,\n  'fixed': false,\n  'immutable': false,\n  'rearg': false\n};\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","/**\n * A specialized version of `baseAggregator` for arrays.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} setter The function to set `accumulator` values.\n * @param {Function} iteratee The iteratee to transform keys.\n * @param {Object} accumulator The initial aggregated object.\n * @returns {Function} Returns `accumulator`.\n */\nfunction arrayAggregator(array, setter, iteratee, accumulator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    var value = array[index];\n    setter(accumulator, value, iteratee(value), array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayAggregator;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var createFlow = require('./_createFlow');\n\n/**\n * Creates a function that returns the result of invoking the given functions\n * with the `this` binding of the created function, where each successive\n * invocation is supplied the return value of the previous.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Util\n * @param {...(Function|Function[])} [funcs] The functions to invoke.\n * @returns {Function} Returns the new composite function.\n * @see _.flowRight\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * var addSquare = _.flow([_.add, square]);\n * addSquare(1, 2);\n * // => 9\n */\nvar flow = createFlow();\n\nmodule.exports = flow;\n","var LodashWrapper = require('./_LodashWrapper'),\n    flatRest = require('./_flatRest'),\n    getData = require('./_getData'),\n    getFuncName = require('./_getFuncName'),\n    isArray = require('./isArray'),\n    isLaziable = require('./_isLaziable');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to compose bitmasks for function metadata. */\nvar WRAP_CURRY_FLAG = 8,\n    WRAP_PARTIAL_FLAG = 32,\n    WRAP_ARY_FLAG = 128,\n    WRAP_REARG_FLAG = 256;\n\n/**\n * Creates a `_.flow` or `_.flowRight` function.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new flow function.\n */\nfunction createFlow(fromRight) {\n  return flatRest(function(funcs) {\n    var length = funcs.length,\n        index = length,\n        prereq = LodashWrapper.prototype.thru;\n\n    if (fromRight) {\n      funcs.reverse();\n    }\n    while (index--) {\n      var func = funcs[index];\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n        var wrapper = new LodashWrapper([], true);\n      }\n    }\n    index = wrapper ? index : length;\n    while (++index < length) {\n      func = funcs[index];\n\n      var funcName = getFuncName(func),\n          data = funcName == 'wrapper' ? getData(func) : undefined;\n\n      if (data && isLaziable(data[0]) &&\n            data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n            !data[4].length && data[9] == 1\n          ) {\n        wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n      } else {\n        wrapper = (func.length == 1 && isLaziable(func))\n          ? wrapper[funcName]()\n          : wrapper.thru(func);\n      }\n    }\n    return function() {\n      var args = arguments,\n          value = args[0];\n\n      if (wrapper && args.length == 1 && isArray(value)) {\n        return wrapper.plant(value).value();\n      }\n      var index = 0,\n          result = length ? funcs[index].apply(this, args) : value;\n\n      while (++index < length) {\n        result = funcs[index].call(this, result);\n      }\n      return result;\n    };\n  });\n}\n\nmodule.exports = createFlow;\n","/**\n * This method returns an empty string.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {string} Returns the empty string.\n * @example\n *\n * _.times(2, _.stubString);\n * // => ['', '']\n */\nfunction stubString() {\n  return '';\n}\n\nmodule.exports = stubString;\n","var apply = require('./_apply'),\n    arrayMap = require('./_arrayMap'),\n    unzip = require('./unzip');\n\n/**\n * This method is like `_.unzip` except that it accepts `iteratee` to specify\n * how regrouped values should be combined. The iteratee is invoked with the\n * elements of each group: (...group).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @param {Function} [iteratee=_.identity] The function to combine\n *  regrouped values.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n * // => [[1, 10, 100], [2, 20, 200]]\n *\n * _.unzipWith(zipped, _.add);\n * // => [3, 30, 300]\n */\nfunction unzipWith(array, iteratee) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var result = unzip(array);\n  if (iteratee == null) {\n    return result;\n  }\n  return arrayMap(result, function(group) {\n    return apply(iteratee, undefined, group);\n  });\n}\n\nmodule.exports = unzipWith;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","var basePullAll = require('./_basePullAll');\n\n/**\n * This method is like `_.pull` except that it accepts an array of values to remove.\n *\n * **Note:** Unlike `_.difference`, this method mutates `array`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Array\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @returns {Array} Returns `array`.\n * @example\n *\n * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n *\n * _.pullAll(array, ['a', 'c']);\n * console.log(array);\n * // => ['b', 'b']\n */\nfunction pullAll(array, values) {\n  return (array && array.length && values && values.length)\n    ? basePullAll(array, values)\n    : array;\n}\n\nmodule.exports = pullAll;\n","var arrayMap = require('./_arrayMap'),\n    baseIndexOf = require('./_baseIndexOf'),\n    baseIndexOfWith = require('./_baseIndexOfWith'),\n    baseUnary = require('./_baseUnary'),\n    copyArray = require('./_copyArray');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAllBy` without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to remove.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAll(array, values, iteratee, comparator) {\n  var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n      index = -1,\n      length = values.length,\n      seen = array;\n\n  if (array === values) {\n    values = copyArray(values);\n  }\n  if (iteratee) {\n    seen = arrayMap(array, baseUnary(iteratee));\n  }\n  while (++index < length) {\n    var fromIndex = 0,\n        value = values[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n      if (seen !== array) {\n        splice.call(seen, fromIndex, 1);\n      }\n      splice.call(array, fromIndex, 1);\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAll;\n","/**\n * This function is like `baseIndexOf` except that it accepts a comparator.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOfWith(array, value, fromIndex, comparator) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (comparator(array[index], value)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseIndexOfWith;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var baseUnset = require('./_baseUnset'),\n    isIndex = require('./_isIndex');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * The base implementation of `_.pullAt` without support for individual\n * indexes or capturing the removed elements.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {number[]} indexes The indexes of elements to remove.\n * @returns {Array} Returns `array`.\n */\nfunction basePullAt(array, indexes) {\n  var length = array ? indexes.length : 0,\n      lastIndex = length - 1;\n\n  while (length--) {\n    var index = indexes[length];\n    if (length == lastIndex || index !== previous) {\n      var previous = index;\n      if (isIndex(index)) {\n        splice.call(array, index, 1);\n      } else {\n        baseUnset(array, index);\n      }\n    }\n  }\n  return array;\n}\n\nmodule.exports = basePullAt;\n","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],n):e.dayjs_locale_de=n(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var n={name:\"de\",weekdays:\"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag\".split(\"_\"),weekdaysShort:\"So._Mo._Di._Mi._Do._Fr._Sa.\".split(\"_\"),weekdaysMin:\"So_Mo_Di_Mi_Do_Fr_Sa\".split(\"_\"),months:\"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember\".split(\"_\"),monthsShort:\"Jan_Feb_Mrz_Apr_Mai_Juni_Juli_Aug_Sept_Okt_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,formats:{LTS:\"HH:mm:ss\",LT:\"HH:mm\",L:\"DD.MM.YYYY\",LL:\"D. MMMM YYYY\",LLL:\"D. MMMM YYYY HH:mm\",LLLL:\"dddd, D. MMMM YYYY HH:mm\"},relativeTime:{future:\"in %s\",past:\"vor %s\",s:\"wenigen Sekunden\",m:\"einer Minute\",mm:\"%d Minuten\",h:\"einer Stunde\",hh:\"%d Stunden\",d:\"einem Tag\",dd:\"%d Tagen\",M:\"einem Monat\",MM:\"%d Monaten\",y:\"einem Jahr\",yy:\"%d Jahren\"}};return e.locale(n,null,!0),n});\n","!function(_,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],e):_.dayjs_locale_el=e(_.dayjs)}(this,function(_){\"use strict\";_=_&&_.hasOwnProperty(\"default\")?_.default:_;var e={name:\"el\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"___________\".split(\"_\"),ordinal:function(_){return _},weekStart:1,relativeTime:{future:\" %s\",past:\" %s\",s:\" \",m:\" \",mm:\"%d \",h:\" \",hh:\"%d \",d:\" \",dd:\"%d \",M:\" \",MM:\"%d \",y:\" \",yy:\"%d \"},formats:{LT:\"h:mm A\",LTS:\"h:mm:ss A\",L:\"DD/MM/YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY h:mm A\",LLLL:\"dddd, D MMMM YYYY h:mm A\"}};return _.locale(e,null,!0),e});\n","!function(e,s){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=s(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],s):e.dayjs_locale_es=s(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var s={name:\"es\",monthsShort:\"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic\".split(\"_\"),weekdays:\"domingo_lunes_martes_mircoles_jueves_viernes_sbado\".split(\"_\"),weekdaysShort:\"dom._lun._mar._mi._jue._vie._sb.\".split(\"_\"),weekdaysMin:\"do_lu_ma_mi_ju_vi_s\".split(\"_\"),months:\"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre\".split(\"_\"),weekStart:1,formats:{LT:\"H:mm\",LTS:\"H:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY H:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY H:mm\"},relativeTime:{future:\"en %s\",past:\"hace %s\",s:\"unos segundos\",m:\"un minuto\",mm:\"%d minutos\",h:\"una hora\",hh:\"%d horas\",d:\"un da\",dd:\"%d das\",M:\"un mes\",MM:\"%d meses\",y:\"un ao\",yy:\"%d aos\"},ordinal:function(e){return e+\"\"}};return e.locale(s,null,!0),s});\n","!function(Y,M){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=M(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],M):Y.dayjs_locale_he=M(Y.dayjs)}(this,function(Y){\"use strict\";Y=Y&&Y.hasOwnProperty(\"default\")?Y.default:Y;var M={name:\"he\",weekdays:\"______\".split(\"_\"),weekdaysShort:\"______\".split(\"_\"),weekdaysMin:\"______\".split(\"_\"),months:\"___________\".split(\"_\"),monthsShort:\"___________\".split(\"_\"),relativeTime:{future:\" %s\",past:\" %s\",s:\" \",m:\"\",mm:\"%d \",h:\"\",hh:\"%d \",d:\"\",dd:\"%d \",M:\"\",MM:\"%d \",y:\"\",yy:\"%d \"},ordinal:function(Y){return Y},format:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D []MMMM YYYY\",LLL:\"D []MMMM YYYY HH:mm\",LLLL:\"dddd, D []MMMM YYYY HH:mm\",l:\"D/M/YYYY\",ll:\"D MMM YYYY\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd, D MMM YYYY HH:mm\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D []MMMM YYYY\",LLL:\"D []MMMM YYYY HH:mm\",LLLL:\"dddd, D []MMMM YYYY HH:mm\",l:\"D/M/YYYY\",ll:\"D MMM YYYY\",lll:\"D MMM YYYY HH:mm\",llll:\"ddd, D MMM YYYY HH:mm\"}};return Y.locale(M,null,!0),M});\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):e.dayjs_locale_it=o(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var o={name:\"it\",weekdays:\"domenica_luned_marted_mercoled_gioved_venerd_sabato\".split(\"_\"),weekdaysShort:\"dom_lun_mar_mer_gio_ven_sab\".split(\"_\"),weekdaysMin:\"do_lu_ma_me_gi_ve_sa\".split(\"_\"),months:\"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre\".split(\"_\"),weekStart:1,monthsShort:\"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic\".split(\"_\"),formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd D MMMM YYYY HH:mm\"},relativeTime:{future:\"tra %s\",past:\"da %s\",s:\"qualche secondo\",m:\"un minuto\",mm:\"%d minuti\",h:\"un' ora\",hh:\"%d ore\",d:\"un giorno\",dd:\"%d giorni\",M:\"un mese\",MM:\"%d mesi\",y:\"un anno\",yy:\"%d anni\"},ordinal:function(e){return e+\"\"}};return e.locale(o,null,!0),o});\n","!function(e,a){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=a(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],a):e.dayjs_locale_nl=a(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var a={name:\"nl\",weekdays:\"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag\".split(\"_\"),weekdaysShort:\"zo._ma._di._wo._do._vr._za.\".split(\"_\"),weekdaysMin:\"zo_ma_di_wo_do_vr_za\".split(\"_\"),months:\"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december\".split(\"_\"),monthsShort:\"jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD-MM-YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd D MMMM YYYY HH:mm\"},relativeTime:{future:\"over %s\",past:\"%s geleden\",s:\"een paar seconden\",m:\"een minuut\",mm:\"%d minuten\",h:\"een uur\",hh:\"%d uur\",d:\"een dag\",dd:\"%d dagen\",M:\"een maand\",MM:\"%d maanden\",y:\"een jaar\",yy:\"%d jaar\"}};return e.locale(a,null,!0),a});\n","!function(e,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],i):e.dayjs_locale_pl=i(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var i={name:\"pl\",weekdays:\"Niedziela_Poniedziaek_Wtorek_roda_Czwartek_Pitek_Sobota\".split(\"_\"),weekdaysShort:\"Ndz_Pon_Wt_r_Czw_Pt_Sob\".split(\"_\"),weekdaysMin:\"Nd_Pn_Wt_r_Cz_Pt_So\".split(\"_\"),months:\"Stycze_Luty_Marzec_Kwiecie_Maj_Czerwiec_Lipiec_Sierpie_Wrzesie_Padziernik_Listopad_Grudzie\".split(\"_\"),monthsShort:\"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru\".split(\"_\"),ordinal:function(e){return e+\".\"},weekStart:1,relativeTime:{future:\"za %s\",past:\"po %s\",s:\"kilka sekund\",m:\"minuta\",mm:\"%d minut\",h:\"godzina\",hh:\"%d godzin\",d:\"tydzie\",dd:\"%d tygodni\",M:\"miesic\",MM:\"%d miesicy\",y:\"rok\",yy:\"%d lat\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD.MM.YYYY\",LL:\"D MMMM YYYY\",LLL:\"D MMMM YYYY HH:mm\",LLLL:\"dddd, D MMMM YYYY HH:mm\"}};return e.locale(i,null,!0),i});\n","!function(e,o){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=o(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],o):e.dayjs_locale_pt_br=o(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var o={name:\"pt-br\",weekdays:\"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado\".split(\"_\"),weekdaysShort:\"Dom_Seg_Ter_Qua_Qui_Sex_Sb\".split(\"_\"),weekdaysMin:\"Do_2_3_4_5_6_S\".split(\"_\"),weekStart:1,months:\"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro\".split(\"_\"),monthsShort:\"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\"\"},formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY [s] HH:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"},relativeTime:{future:\"em %s\",past:\"h %s\",s:\"poucos segundos\",m:\"um minuto\",mm:\"%d minutos\",h:\"uma hora\",hh:\"%d horas\",d:\"um dia\",dd:\"%d dias\",M:\"um ms\",MM:\"%d meses\",y:\"um ano\",yy:\"%d anos\"}};return e.locale(o,null,!0),o});\n","!function(e,a){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=a(require(\"dayjs\")):\"function\"==typeof define&&define.amd?define([\"dayjs\"],a):e.dayjs_locale_pt=a(e.dayjs)}(this,function(e){\"use strict\";e=e&&e.hasOwnProperty(\"default\")?e.default:e;var a={name:\"pt\",weekdays:\"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado\".split(\"_\"),weekdaysShort:\"Dom_Seg_Ter_Qua_Qui_Sex_Sab\".split(\"_\"),weekdaysMin:\"Do_2_3_4_5_6_Sa\".split(\"_\"),months:\"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro\".split(\"_\"),monthsShort:\"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez\".split(\"_\"),ordinal:function(e){return e+\"\"},weekStart:1,formats:{LT:\"HH:mm\",LTS:\"HH:mm:ss\",L:\"DD/MM/YYYY\",LL:\"D [de] MMMM [de] YYYY\",LLL:\"D [de] MMMM [de] YYYY [s] HH:mm\",LLLL:\"dddd, D [de] MMMM [de] YYYY [s] HH:mm\"},relativeTime:{future:\"em %s\",past:\"h %s\",s:\"alguns segundos\",m:\"um minuto\",mm:\"%d minutos\",h:\"uma hora\",hh:\"%d horas\",d:\"um dia\",dd:\"%d dias\",M:\"um ms\",MM:\"%d meses\",y:\"um ano\",yy:\"%d anos\"}};return e.locale(a,null,!0),a});\n","!function(r,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):r.dayjs_plugin_relativeTime=t()}(this,function(){\"use strict\";return function(r,t,e){var n=t.prototype;e.en.relativeTime={future:\"in %s\",past:\"%s ago\",s:\"a few seconds\",m:\"a minute\",mm:\"%d minutes\",h:\"an hour\",hh:\"%d hours\",d:\"a day\",dd:\"%d days\",M:\"a month\",MM:\"%d months\",y:\"a year\",yy:\"%d years\"};var o=function(r,t,n,o){for(var d,i,u=n.$locale().relativeTime,a=[{l:\"s\",r:44,d:\"second\"},{l:\"m\",r:89},{l:\"mm\",r:44,d:\"minute\"},{l:\"h\",r:89},{l:\"hh\",r:21,d:\"hour\"},{l:\"d\",r:35},{l:\"dd\",r:25,d:\"day\"},{l:\"M\",r:45},{l:\"MM\",r:10,d:\"month\"},{l:\"y\",r:17},{l:\"yy\",d:\"year\"}],f=a.length,s=0;s<f;s+=1){var l=a[s];l.d&&(d=o?e(r).diff(n,l.d,!0):n.diff(r,l.d,!0));var h=Math.round(Math.abs(d));if(h<=l.r||!l.r){1===h&&s>0&&(l=a[s-1]),i=u[l.l].replace(\"%d\",h);break}}return t?i:(d>0?u.future:u.past).replace(\"%s\",i)};n.to=function(r,t){return o(r,t,this,!0)},n.from=function(r,t){return o(r,t,this)};var d=function(r){return r.$u?e.utc():e()};n.toNow=function(r){return this.to(d(this),r)},n.fromNow=function(r){return this.from(d(this),r)}}});\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.dayjs_plugin_localizedFormat=t()}(this,function(){\"use strict\";return function(e,t,o){var n=t.prototype,r=n.format,M={LTS:\"h:mm:ss A\",LT:\"h:mm A\",L:\"MM/DD/YYYY\",LL:\"MMMM D, YYYY\",LLL:\"MMMM D, YYYY h:mm A\",LLLL:\"dddd, MMMM D, YYYY h:mm A\"};o.en.formats=M;n.format=function(e){void 0===e&&(e=\"YYYY-MM-DDTHH:mm:ssZ\");var t=this.$locale().formats,o=void 0===t?{}:t,n=e.replace(/(\\[[^\\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,n){var r=n&&n.toUpperCase();return t||o[n]||M[n]||o[r].replace(/(\\[[^\\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,o){return t||o.slice(1)})});return r.call(this,n)}}});\n","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    baseSortBy = require('./_baseSortBy'),\n    baseUnary = require('./_baseUnary'),\n    compareMultiple = require('./_compareMultiple'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `_.orderBy` without param guards.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n * @param {string[]} orders The sort orders of `iteratees`.\n * @returns {Array} Returns the new sorted array.\n */\nfunction baseOrderBy(collection, iteratees, orders) {\n  var index = -1;\n  iteratees = arrayMap(iteratees.length ? iteratees : [identity], baseUnary(baseIteratee));\n\n  var result = baseMap(collection, function(value, key, collection) {\n    var criteria = arrayMap(iteratees, function(iteratee) {\n      return iteratee(value);\n    });\n    return { 'criteria': criteria, 'index': ++index, 'value': value };\n  });\n\n  return baseSortBy(result, function(object, other) {\n    return compareMultiple(object, other, orders);\n  });\n}\n\nmodule.exports = baseOrderBy;\n","/**\n * The base implementation of `_.sortBy` which uses `comparer` to define the\n * sort order of `array` and replaces criteria objects with their corresponding\n * values.\n *\n * @private\n * @param {Array} array The array to sort.\n * @param {Function} comparer The function to define sort order.\n * @returns {Array} Returns `array`.\n */\nfunction baseSortBy(array, comparer) {\n  var length = array.length;\n\n  array.sort(comparer);\n  while (length--) {\n    array[length] = array[length].value;\n  }\n  return array;\n}\n\nmodule.exports = baseSortBy;\n","var compareAscending = require('./_compareAscending');\n\n/**\n * Used by `_.orderBy` to compare multiple properties of a value to another\n * and stable sort them.\n *\n * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n * of corresponding values.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {boolean[]|string[]} orders The order to sort by for each property.\n * @returns {number} Returns the sort order indicator for `object`.\n */\nfunction compareMultiple(object, other, orders) {\n  var index = -1,\n      objCriteria = object.criteria,\n      othCriteria = other.criteria,\n      length = objCriteria.length,\n      ordersLength = orders.length;\n\n  while (++index < length) {\n    var result = compareAscending(objCriteria[index], othCriteria[index]);\n    if (result) {\n      if (index >= ordersLength) {\n        return result;\n      }\n      var order = orders[index];\n      return result * (order == 'desc' ? -1 : 1);\n    }\n  }\n  // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n  // that causes it, under certain circumstances, to provide the same value for\n  // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n  // for more details.\n  //\n  // This also ensures a stable sort in V8 and other engines.\n  // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n  return object.index - other.index;\n}\n\nmodule.exports = compareMultiple;\n","var isSymbol = require('./isSymbol');\n\n/**\n * Compares values to sort them in ascending order.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {number} Returns the sort order indicator for `value`.\n */\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined,\n        valIsNull = value === null,\n        valIsReflexive = value === value,\n        valIsSymbol = isSymbol(value);\n\n    var othIsDefined = other !== undefined,\n        othIsNull = other === null,\n        othIsReflexive = other === other,\n        othIsSymbol = isSymbol(other);\n\n    if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n        (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n        (valIsNull && othIsDefined && othIsReflexive) ||\n        (!valIsDefined && othIsReflexive) ||\n        !valIsReflexive) {\n      return 1;\n    }\n    if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n        (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n        (othIsNull && valIsDefined && valIsReflexive) ||\n        (!othIsDefined && valIsReflexive) ||\n        !othIsReflexive) {\n      return -1;\n    }\n  }\n  return 0;\n}\n\nmodule.exports = compareAscending;\n","var isSymbol = require('./isSymbol');\n\n/**\n * The base implementation of methods like `_.max` and `_.min` which accepts a\n * `comparator` to determine the extremum value.\n *\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} iteratee The iteratee invoked per iteration.\n * @param {Function} comparator The comparator used to compare values.\n * @returns {*} Returns the extremum value.\n */\nfunction baseExtremum(array, iteratee, comparator) {\n  var index = -1,\n      length = array.length;\n\n  while (++index < length) {\n    var value = array[index],\n        current = iteratee(value);\n\n    if (current != null && (computed === undefined\n          ? (current === current && !isSymbol(current))\n          : comparator(current, computed)\n        )) {\n      var computed = current,\n          result = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseExtremum;\n","/**\n * The base implementation of `_.gt` which doesn't coerce arguments.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if `value` is greater than `other`,\n *  else `false`.\n */\nfunction baseGt(value, other) {\n  return value > other;\n}\n\nmodule.exports = baseGt;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeFloor = Math.floor,\n    nativeRandom = Math.random;\n\n/**\n * The base implementation of `_.random` without support for returning\n * floating-point numbers.\n *\n * @private\n * @param {number} lower The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the random number.\n */\nfunction baseRandom(lower, upper) {\n  return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n}\n\nmodule.exports = baseRandom;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nmodule.exports = baseClamp;\n","/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that negates the result of the predicate `func`. The\n * `func` predicate is invoked with the `this` binding and arguments of the\n * created function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Function\n * @param {Function} predicate The predicate to negate.\n * @returns {Function} Returns the new negated function.\n * @example\n *\n * function isEven(n) {\n *   return n % 2 == 0;\n * }\n *\n * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n * // => [1, 3, 5]\n */\nfunction negate(predicate) {\n  if (typeof predicate != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  return function() {\n    var args = arguments;\n    switch (args.length) {\n      case 0: return !predicate.call(this);\n      case 1: return !predicate.call(this, args[0]);\n      case 2: return !predicate.call(this, args[0], args[1]);\n      case 3: return !predicate.call(this, args[0], args[1], args[2]);\n    }\n    return !predicate.apply(this, args);\n  };\n}\n\nmodule.exports = negate;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n * without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to query.\n * @param {Function} predicate The function invoked per iteration.\n * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseWhile(array, predicate, isDrop, fromRight) {\n  var length = array.length,\n      index = fromRight ? length : -1;\n\n  while ((fromRight ? index-- : ++index < length) &&\n    predicate(array[index], index, array)) {}\n\n  return isDrop\n    ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n    : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n}\n\nmodule.exports = baseWhile;\n","var baseSlice = require('./_baseSlice'),\n    isIterateeCall = require('./_isIterateeCall'),\n    toInteger = require('./toInteger');\n\n/**\n * Creates a slice of `array` from `start` up to, but not including, `end`.\n *\n * **Note:** This method is used instead of\n * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n * returned.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction slice(array, start, end) {\n  var length = array == null ? 0 : array.length;\n  if (!length) {\n    return [];\n  }\n  if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n    start = 0;\n    end = length;\n  }\n  else {\n    start = start == null ? 0 : toInteger(start);\n    end = end === undefined ? length : toInteger(end);\n  }\n  return baseSlice(array, start, end);\n}\n\nmodule.exports = slice;\n","/* generated by sibling-loader */\nimport * as _0 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/ajax.js\";\nimport * as _1 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/auth.js\";\nimport * as _2 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/context.js\";\nimport * as _3 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/download.js\";\nimport * as _4 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/history.js\";\nimport * as _5 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/i18n.js\";\nimport * as _6 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/id.js\";\nimport * as _7 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/messaging.js\";\nimport * as _8 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/multicast.js\";\nimport * as _9 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/pageAction.js\";\nimport * as _10 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/permissions.js\";\nimport * as _11 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/privateBrowsing.js\";\nimport * as _12 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/session.js\";\nimport * as _13 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/storage.js\";\nimport * as _14 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/tabs.js\";\nimport * as _15 from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/environment/foreground/xhrCache.js\";\nexport default { \"ajax.js\": _0, \"auth.js\": _1, \"context.js\": _2, \"download.js\": _3, \"history.js\": _4, \"i18n.js\": _5, \"id.js\": _6, \"messaging.js\": _7, \"multicast.js\": _8, \"pageAction.js\": _9, \"permissions.js\": _10, \"privateBrowsing.js\": _11, \"session.js\": _12, \"storage.js\": _13, \"tabs.js\": _14, \"xhrCache.js\": _15 };","/* @flow */\n\nexport const RES_DISABLED_HASH = '#res:disabled';\nexport const RES_SETTINGS_HASH = '#res:settings';\nexport const RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH = '#res:settings-redirect-standalone-options-page';\nexport const RES_NER_PAGE_HASH = '#res:ner-page';\n","/* @flow */\n\nexport class LRUCache<K, V> {\n\tmap: Map<K, {\n\t\tvalue: V,\n\t\tcreateTime: number,\n\t\thitTime: number,\n\t}>;\n\n\tcapacity: number;\n\n\tconstructor(capacity: number) {\n\t\tthis.map = new Map();\n\t\tthis.capacity = capacity;\n\t}\n\n\tget(key: K, maxAge: number = Infinity): V | void {\n\t\tconst now = Date.now();\n\t\tconst entry = this.map.get(key);\n\t\tif (entry && (now - entry.createTime < maxAge)) {\n\t\t\tentry.hitTime = now;\n\t\t\treturn entry.value;\n\t\t}\n\t}\n\n\tset(key: K, value: V): this {\n\t\tconst now = Date.now();\n\t\tthis.map.set(key, { value, createTime: now, hitTime: now });\n\n\t\tif (this.map.size > this.capacity) {\n\t\t\t// Evict least-recently used (hit)\n\t\t\tArray.from(this.map.entries())\n\t\t\t\t.sort(([, a], [, b]) => b.hitTime - a.hitTime)\n\t\t\t\t.slice((this.capacity / 2) | 0)\n\t\t\t\t.forEach(([key]) => this.map.delete(key));\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tdelete(key: K): boolean {\n\t\treturn this.map.delete(key);\n\t}\n\n\tclear(): void {\n\t\tthis.map.clear();\n\t}\n}\n","/* @flow */\nimport _ from 'lodash';\nimport { fastAsync } from './async';\n\nexport type Iteratee<T, R> = (e: T, i: number, a: T[]) => R;\n\n/*\n * If `callback` returns a promise, waits for the promise to resolve before advancing to the next item.\n */\nexport async function forEachSeq<T>(iterable: Iterable<T>, callback: (x: T) => ?Promise<void>): Promise<void> {\n\tfor (const val of iterable) {\n\t\tawait callback(val); // eslint-disable-line no-await-in-loop\n\t}\n}\n\nexport async function asyncFilter<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<T[]> {\n\tconst shouldKeep = await Promise.all(array.map(predicate));\n\treturn array.filter((e, i) => shouldKeep[i]);\n}\n\nexport async function asyncReduce<T, V>(iterable: Iterable<T>, callback: (acc: V, e: T) => Promise<V>, initialValue: V): Promise<V> {\n\tlet accumulator = initialValue;\n\n\tfor (const val of iterable) {\n\t\taccumulator = await callback(accumulator, val); // eslint-disable-line no-await-in-loop\n\t}\n\n\treturn accumulator;\n}\n\nexport const asyncFind = fastAsync(function* asyncFind<T>(iterable: Iterable<T>, predicate: (x: T) => Promise<mixed> | mixed) {\n\tfor (const val of iterable) {\n\t\tif (yield predicate(val)) return val;\n\t}\n});\n\n/**\n * @template T, V\n * @param {Promise<T>[]} array\n * @param {function(V, T): V} reduce\n * @param {V} initialValue\n * @param {V} baseCase\n * @returns {Promise<T>}\n */\nfunction concurrentFold<T, V>(array: Promise<T>[], reduce: (a: V, b: T) => V, initialValue: V, baseCase: V): Promise<V> {\n\tif (!array.length) return Promise.resolve(initialValue);\n\n\treturn new Promise((resolve, reject) => {\n\t\tlet remaining = array.length;\n\t\tlet accum = initialValue;\n\n\t\tfunction onResolve(x) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\taccum = reduce(accum, x);\n\n\t\t\tif (accum === baseCase || --remaining === 0) {\n\t\t\t\tremaining = 0;\n\t\t\t\tresolve(accum);\n\t\t\t}\n\t\t}\n\n\t\tfunction onReject(err) {\n\t\t\tif (remaining === 0) return;\n\n\t\t\tremaining = 0;\n\t\t\treject(err);\n\t\t}\n\n\t\tarray.forEach(promise => promise.then(onResolve, onReject));\n\t});\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.some`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `true` even if some of the promises reject.\n */\nexport function asyncSome<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a || !!b, false, true);\n}\n\n/*\n * Guaranteed to execute concurrently, unlike `Array.prototype.every`.\n * Rejects on a best-effort basis if any of the promises reject.\n * May resolve to `false` even if some of the promises reject.\n */\nexport function asyncEvery<T>(array: T[], predicate: Iteratee<T, Promise<mixed>>): Promise<boolean> {\n\treturn concurrentFold(array.map(predicate), (a, b) => a && !!b, true, false);\n}\n\n// Flow doesn't understand `Array.prototype.filter` refining types (yet https://github.com/facebook/flow/issues/34)\n// so this is necessary if you want to do `arr.filter(...).map(...)`\nexport const filterMap = _.curryRight(<T, V>(iterable: Iterable<T>, callback: (x: T) => ?[V]): V[] => {\n\tconst mapped = [];\n\tfor (const x of iterable) {\n\t\tconst result = callback(x);\n\t\tif (result) mapped.push(result[0]);\n\t}\n\treturn mapped;\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { filterMap } from './array';\nimport { throttleQueuePositionReset } from './async';\nimport { click, getPercentageVisibleYAxis, scrollToElement, waitForFutureDescendant } from './dom';\nimport { downcast } from './flow';\nimport { currentSubreddit, regexes } from './location';\n\nconst elementMap = new WeakMap();\nconst things = new Set();\nconst SECRET_TOKEN = new class {}();\n// This query may be expensive and performed fairly often\nconst thingElementsCached = _.memoize(doc => {\n\twaitForFutureDescendant(doc, Thing.thingSelector, { added: true, removed: true }).then(() => thingElementsCached.cache.delete(doc));\n\treturn Array.from(doc.querySelectorAll(Thing.thingSelector));\n});\n\n/**\n * Wrapper class around reddit's concept of a \"Thing\".\n * Use Thing.from or Thing.checkedFrom (fallible/infallible respectively) to construct a Thing.\n * Uniqueness is guaranteed, i.e. `Thing.from(element) === Thing.from(element)`.\n */\nexport class Thing {\n\tstatic thingSelector = '.listing .thing, .linklisting .thing, .nestedlisting .thing, .search-result-link';\n\tstatic entrySelector = '.entry';\n\n\tstatic thingElements(doc: * = document.body): HTMLElement[] {\n\t\tconst eles = thingElementsCached(doc);\n\n\t\t// Check if the last element (tree?) is incomplete\n\t\t// in which case, delete it and clear the cache\n\t\tlet last = eles.slice(-1)[0];\n\t\tif (last) {\n\t\t\tdo {\n\t\t\t\tif (last.nextElementSibling) break;\n\t\t\t} while ((last = last.parentElement));\n\n\t\t\t// If there's no element in the DOM after the last thing, its DOM is likely to not be completed\n\t\t\tif (!last) eles.pop();\n\t\t}\n\n\t\treturn eles;\n\t}\n\n\tstatic things(doc: *): Thing[] {\n\t\treturn Thing.thingElements(doc).map(e => Thing.checkedFrom(e));\n\t}\n\n\tstatic visibleThingElements(doc: *): HTMLElement[] {\n\t\treturn Thing.thingElements(doc).filter(v => v.offsetParent);\n\t}\n\n\tstatic visibleThings(doc: *): Thing[] {\n\t\treturn filterMap(Thing.visibleThingElements(doc), ele => {\n\t\t\tconst thing = Thing.from(ele);\n\t\t\tif (thing) return [thing];\n\t\t});\n\t}\n\n\tstatic registeredThings = (doc: * = document.body) => Array.from(things).filter(thing => doc.contains(thing.element));\n\n\tstatic runTasksRange(a: ?Thing, b: ?Thing, marginTop: number, marginBottom: number, stopAfterCls?: string) {\n\t\tlet top, bottom;\n\t\tif (a && b) {\n\t\t\t[top, bottom] = a.getDirectionOf(b) === 'down' ? [a, b] : [b, a];\n\t\t} else if (a || b) {\n\t\t\ttop = bottom = downcast(a || b, Thing);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tconst thingElements = Thing.thingElements();\n\t\tlet tidx = thingElements.indexOf(top.element);\n\t\tlet bidx = thingElements.indexOf(bottom.element);\n\n\t\tlet thing;\n\n\t\tfor (const e of thingElements.slice(tidx, bidx + 1)) {\n\t\t\tthing = Thing.checkedFrom(e);\n\t\t\tif (thing.tasks.completed) continue;\n\t\t\tif (thing.isVisible()) thing.runTasks();\n\t\t}\n\n\t\t// Prcoss `marginTop` upwards and `marginBottom` downwards\n\t\t// If a thing is contained by a parent, the whole tree is processed\n\n\t\twhile (\n\t\t\t(thing = Thing.from(thingElements[--tidx])) &&\n\t\t\t(marginTop > 0 || thing.parent)\n\t\t) {\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tmarginTop--;\n\t\t\t\tthing.runTasks();\n\t\t\t}\n\t\t}\n\n\t\twhile (\n\t\t\t(thing = Thing.from(thingElements[++bidx])) &&\n\t\t\t!(stopAfterCls && thing.element.classList.contains(stopAfterCls)) && // eslint-disable-line no-unmodified-loop-condition\n\t\t\t(marginBottom > 0 || thing.parent)\n\t\t) {\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tmarginBottom--;\n\t\t\t\tthing.runTasks();\n\t\t\t}\n\t\t}\n\t}\n\n\telement: HTMLElement;\n\tentry: HTMLElement;\n\n\tparent: ?Thing;\n\tchildren = new Set();\n\n\t// Tasks are added and generally executed by watchers\n\ttasks: {| completed: boolean, visible: Array<() => any>, immediate: Array<() => any>, byId: Map<mixed, () => any> |} =\n\t\t{ completed: false, visible: [], immediate: [], byId: new Map() };\n\n\tstatic checkedFrom(element: HTMLElement | Thing): Thing {\n\t\tconst thing = Thing.from(element);\n\t\tif (!thing) {\n\t\t\tthrow new Error(`Could not construct Thing from ${String(element)}`);\n\t\t}\n\t\treturn thing;\n\t}\n\n\tstatic from(element: ?HTMLElement | Thing): ?Thing {\n\t\tif (!element) return null;\n\n\t\tif (element instanceof Thing) return element;\n\n\t\tconst thingElement = element.closest(Thing.thingSelector);\n\t\tif (!thingElement) return null;\n\n\t\tif (elementMap.has(thingElement)) return elementMap.get(thingElement);\n\n\t\tconst entry = thingElement.querySelector(Thing.entrySelector) || thingElement;\n\t\tconst thing = new Thing(SECRET_TOKEN, downcast(thingElement, HTMLElement), entry);\n\n\t\telementMap.set(thingElement, thing);\n\t\tthings.add(thing);\n\n\t\treturn thing;\n\t}\n\n\tconstructor(token: typeof SECRET_TOKEN, thing: HTMLElement, entry: HTMLElement) {\n\t\tif (token !== SECRET_TOKEN) {\n\t\t\tthrow new Error('Use Thing.from() or Thing.checkedFrom() instead of new Thing()');\n\t\t}\n\n\t\tthis.element = thing;\n\t\tthis.entry = entry;\n\n\t\tconst _p = this.element.parentElement;\n\t\tthis.parent = _p && Thing.from((_p: any).closest('.thing'));\n\t\tif (this.parent) this.parent.children.add(this);\n\t}\n\n\trunTasks() {\n\t\tif (this.tasks.completed) return;\n\t\tthis.tasks.immediate.map(fn => fn());\n\t\tthis.tasks.visible.map(fn => fn());\n\t}\n\n\tanchor() {\n\t\t// Keep the viewport anchored relative to this thing if it is in the viewport\n\t\tconst anchor = getPercentageVisibleYAxis(this.entry) && { to: this.entry.getBoundingClientRect().top };\n\t\tif (!anchor) return;\n\t\trequestAnimationFrame(() => {\n\t\t\tif (!this.entry.offsetParent) return;\n\t\t\tscrollToElement(this.entry, undefined, { scrollStyle: 'none', anchor });\n\t\t});\n\t}\n\n\tsetHideFilter(match: *) {\n\t\tthis.element.classList.toggle('res-thing-filter-hide', !!match);\n\n\t\tif (this.isComment()) {\n\t\t\tthis.refreshPartialVisibility();\n\t\t\tfor (const p of this.getParents()) p.refreshPartialVisibility();\n\t\t}\n\t}\n\n\tsetFilterReasons(elements: Array<HTMLElement>) {\n\t\tfor (const old of this.element.querySelectorAll('.res-thing-filter-remove-matching-entry')) old.remove();\n\t\tthis.element.prepend(...elements);\n\t}\n\n\t// `throttleQueuePositionReset` ensures that children will be evaluated first\n\t// Class is applied when a thing is hidden by a filter, but may have descendants that are not\n\trefreshPartialVisibility = throttleQueuePositionReset(() => {\n\t\tthis.element.classList.toggle('res-thing-partial', this.isHiddenByFilter(true) && (\n\t\t\t// Comment has unloaded comments whose state is still not known\n\t\t\t// TODO If clicking this causes the comment to disappear, notify!\n\t\t\tthis.element.matches('.morerecursion, .morechildren') ||\n\t\t\t// Comment has unfilter children\n\t\t\tArray.from(this.children).some(v => !v.isHiddenByFilter())\n\t\t));\n\t});\n\n\tgetDirectionOf(other: Thing): ?('down' | 'up') {\n\t\tif (!this.isVisible() || !other.isVisible()) return;\n\t\treturn (other.entry.compareDocumentPosition(this.entry) & Node.DOCUMENT_POSITION_FOLLOWING) ? 'up' : 'down';\n\t}\n\n\tgetThreadTop(): Thing {\n\t\tlet thing = this; // eslint-disable-line consistent-this\n\n\t\tlet current = this.element;\n\t\twhile ((current = current.parentElement)) {\n\t\t\tif (current.matches(Thing.thingSelector)) thing = downcast(current, HTMLElement);\n\t\t}\n\n\t\treturn Thing.checkedFrom(thing);\n\t}\n\n\tgetParents(): Thing[] {\n\t\tconst parents = [];\n\t\tlet level = this; // eslint-disable-line consistent-this\n\t\twhile ((level = level.parent)) parents.push(level);\n\t\treturn parents;\n\t}\n\n\tgetNext({ direction = 'down', excludeMoreChildren = false }: {| direction?: 'up' | 'down', excludeMoreChildren?: boolean |} = {}, things: HTMLElement[] = Thing.thingElements()): ?Thing {\n\t\tlet index = things.indexOf(this.element);\n\t\tlet target;\n\n\t\tdo {\n\t\t\tindex += direction === 'down' ? 1 : -1;\n\t\t\tconst _target = things[index];\n\t\t\ttarget = _target;\n\t\t\tif (!target) return null;\n\t\t\tif (excludeMoreChildren && target.matches('.morechildren')) continue;\n\t\t} while (!target.offsetParent);\n\n\t\treturn Thing.from(target);\n\t}\n\n\tgetNextSibling(options: *): ?Thing {\n\t\tif (!this.element.parentElement) return null;\n\n\t\tconst things = Array.from(this.element.parentElement.children)\n\t\t\t.filter(e => e.matches(Thing.thingSelector));\n\n\t\treturn this.getNext(options, things);\n\t}\n\n\tgetClosest(func: (...args: any) => ?Thing, ...args: mixed[]): ?Thing {\n\t\tconst target = Reflect.apply(func, this, args);\n\t\tif (target) {\n\t\t\treturn target;\n\t\t} else {\n\t\t\tif (this.parent) return this.parent.getClosest(func, ...args);\n\t\t}\n\t}\n\n\tgetClosestVisible(options: * = { excludeMoreChildren: true }): ?Thing {\n\t\tif (this.element.offsetParent) return this;\n\t\treturn this.getNext({ direction: 'down', ...options }) || this.getNext({ direction: 'up', ...options });\n\t}\n\n\tisMessage(): boolean {\n\t\treturn this.element.classList.contains('message');\n\t}\n\n\tisSubreddit(): boolean {\n\t\treturn this.element.classList.contains('subreddit');\n\t}\n\n\tisPost(): boolean {\n\t\treturn this.element.classList.contains('link') || this.element.classList.contains('search-result-link');\n\t}\n\n\tisLinkPost(): boolean {\n\t\tif (!this.isPost()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.element.classList.contains('search-result-link')) {\n\t\t\treturn !this.element.querySelector('a').classList.contains('self');\n\t\t} else {\n\t\t\treturn !this.element.classList.contains('self');\n\t\t}\n\t}\n\n\tisSelfPost(): boolean {\n\t\tif (!this.isPost()) {\n\t\t\treturn false;\n\t\t}\n\t\tif (this.element.classList.contains('search-result-link')) {\n\t\t\treturn this.element.querySelector('a').classList.contains('self');\n\t\t} else {\n\t\t\treturn this.element.classList.contains('self');\n\t\t}\n\t}\n\n\tisComment(): boolean {\n\t\treturn this.element.classList.contains('comment') || this.element.classList.contains('was-comment');\n\t}\n\n\tisTopLevelComment(): boolean {\n\t\treturn this.isComment() && !!this.element.parentElement && this.element.parentElement.classList.contains('nestedlisting');\n\t}\n\n\tgetTitle(): string {\n\t\tconst element = this.getTitleElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetTitleElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('a.title, a.search-title') ||\n\t\t\tthis.entry.querySelector('.title'): any);\n\t}\n\n\tgetTitleUrl(): string {\n\t\tconst element = this.getTitleElement();\n\t\tif (element) {\n\t\t\treturn element.href;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetPostLink(): HTMLAnchorElement {\n\t\treturn downcast(this.entry.querySelector('a.title, a.search-link'), HTMLAnchorElement);\n\t}\n\n\tgetPostUrl(): string {\n\t\treturn this.element.dataset.url || this.getPostLink().href;\n\t}\n\n\tgetTextBody(): HTMLElement {\n\t\treturn this.entry.querySelector('.md');\n\t}\n\n\tgetCommentsLink(): HTMLAnchorElement {\n\t\treturn downcast(this.entry.querySelector('a.comments, a.search-comments'), HTMLAnchorElement);\n\t}\n\n\tgetCommentPermalink(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('a.bylink'): any);\n\t}\n\n\tgetHideElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.hide-button a, .unhide-button a'): any);\n\t}\n\n\tgetButtons(): HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.flat-list.buttons'): any);\n\t}\n\n\tgetNumberOfChildren(): number {\n\t\t// Parse the text, since all children elements may not be loaded\n\t\tconst numChildrenElem = this.element.querySelector('.numchildren');\n\t\tconst match = numChildrenElem && (/(\\d+)/).exec(numChildrenElem.textContent);\n\t\treturn match && parseInt(match[1], 10) || 0;\n\t}\n\n\tstatic _parseScore(scoreEle: HTMLElement): number {\n\t\treturn parseInt(scoreEle.title || scoreEle.textContent, 10) || 0;\n\t}\n\n\tgetScore(): ?number {\n\t\tconst element = this._getActiveScoreElement();\n\t\t// parseInt() strips off the ' points' from comments\n\t\treturn element && Thing._parseScore(element);\n\t}\n\n\t_getActiveScoreElement(): ?HTMLElement {\n\t\tif (this.isPost()) {\n\t\t\treturn this.element.querySelector([\n\t\t\t\t'.midcol.unvoted > .score.unvoted',\n\t\t\t\t'.midcol.likes > .score.likes',\n\t\t\t\t'.midcol.dislikes > .score.dislikes',\n\t\t\t\t'.search-score',\n\t\t\t].join(', '));\n\t\t} else { // if (this.isComment()) {\n\t\t\treturn this.entry.querySelector('.tagline > .score');\n\t\t}\n\t}\n\n\tgetAllScoreElements(): Array<[HTMLElement, number]> {\n\t\tconst toScoreTuple = ele => [ele, Thing._parseScore(ele)];\n\t\tif (this.isPost()) {\n\t\t\treturn Array.from(this.element.querySelectorAll('.midcol > .score, .search-score')).map(toScoreTuple);\n\t\t} else { // if (this.isComment()) {\n\t\t\treturn Array.from(this.entry.querySelectorAll('.tagline > .score')).map(toScoreTuple);\n\t\t}\n\t}\n\n\tgetAuthor(): ?string {\n\t\tconst data = this.element.getAttribute('data-author');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t\tconst element = this.getAuthorElement();\n\t\tif (element) {\n\t\t\tconst match = regexes.profile.exec(element.pathname);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t}\n\t}\n\n\tgetAuthorUrl(): string {\n\t\tconst author = this.getAuthor();\n\t\tif (author) {\n\t\t\treturn `/user/${author}/`;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetAuthorElement(): ?HTMLAnchorElement {\n\t\treturn (this.entry.querySelector('.tagline a.author, .search-author .author'): any);\n\t}\n\n\tgetSubreddit(): ?string {\n\t\tconst data = this.element.getAttribute('data-subreddit');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\t\tconst element = this.getSubredditLink();\n\t\tif (element) {\n\t\t\tconst match = regexes.subreddit.exec(element.pathname);\n\t\t\tif (match) {\n\t\t\t\treturn match[1];\n\t\t\t}\n\t\t} else {\n\t\t\treturn currentSubreddit();\n\t\t}\n\t}\n\n\tgetSubredditLink(): ?HTMLAnchorElement {\n\t\tif (this.isPost()) {\n\t\t\treturn (this.entry.querySelector('.tagline a.subreddit, a.search-subreddit-link'): any);\n\t\t} else if (this.isComment()) {\n\t\t\t// TODO: does .parent a.subreddit work?\n\t\t\treturn (this.entry.querySelector('.parent a.subreddit, .tagline .subreddit a'): any);\n\t\t}\n\t}\n\n\tgetPostDomain(): string {\n\t\tconst data = this.element.getAttribute('data-domain');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst element = this.getPostDomainLink();\n\t\tif (element) {\n\t\t\treturn element.textContent;\n\t\t}\n\n\t\tconst text = this.getPostDomainText();\n\t\tif (text) {\n\t\t\treturn text;\n\t\t}\n\n\t\tconst subreddit = this.getSubreddit();\n\t\tif (subreddit) {\n\t\t\treturn `self.${subreddit}`;\n\t\t}\n\n\t\treturn 'reddit.com';\n\t}\n\n\tgetPostDomainUrl(): string {\n\t\tconst link = this.getPostDomainLink();\n\t\tif (link) {\n\t\t\treturn link.href;\n\t\t}\n\t\treturn `/domain/${this.getPostDomain()}/`;\n\t}\n\n\tgetPostDomainLink(): ?HTMLAnchorElement {\n\t\treturn (this.element.querySelector('.domain a'): any);\n\t}\n\n\tgetPostDomainText(): string {\n\t\tconst data = this.element.getAttribute('data-domain');\n\t\tif (data) {\n\t\t\treturn data;\n\t\t}\n\n\t\tconst element = this.element.querySelector('.domain');\n\t\tif (!element) return '';\n\t\tconst text = element.textContent || '';\n\t\treturn text.replace(/[\\(\\)\\s]/g, '');\n\t}\n\n\tgetCommentCount(): ?number {\n\t\tconst element = this.getCommentCountElement();\n\t\tif (!element) return;\n\t\treturn parseInt((/\\d+/).exec(\n\t\t\telement.textContent ||\n\t\t\telement.getAttribute('data-text') // In case noCtrlF is applied\n\t\t), 10) || 0;\n\t}\n\n\tgetCommentCountElement(): ?HTMLElement {\n\t\tif (this.isPost()) {\n\t\t\treturn this.element.querySelector('.buttons .comments');\n\t\t} else if (this.isComment()) {\n\t\t\treturn this.element.querySelector('.buttons a.full-comments');\n\t\t}\n\t}\n\n\tgetPostThumbnailUrl(): string {\n\t\tconst thumbnail = this.getPostThumbnailElement();\n\t\tif (!thumbnail) return '';\n\t\treturn thumbnail.src || '';\n\t}\n\n\tgetPostThumbnailElement(): ?HTMLImageElement {\n\t\treturn (this.element.querySelector('.thumbnail img'): any);\n\t}\n\n\tgetPostFlairText(): string {\n\t\tconst element = this.getPostFlairElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetPostFlairElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.title > .linkflairlabel');\n\t}\n\n\tgetUserFlairText(): string {\n\t\tconst element = this.getUserFlairElement();\n\t\treturn element && element.textContent || '';\n\t}\n\n\tgetUserFlairElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline > .flair');\n\t}\n\n\tgetCrosspostBadgeElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.crosspost-badge');\n\t}\n\n\tgetUpvoteButton(): ?HTMLElement {\n\t\treturn this._getVoteButton('div.up, div.upmod');\n\t}\n\n\tgetDownvoteButton(): ?HTMLElement {\n\t\treturn this._getVoteButton('div.down, div.downmod');\n\t}\n\n\t_getVoteButton(selector: string): ?HTMLElement {\n\t\tconst previousSibling: HTMLElement = (this.entry.previousSibling: any);\n\t\tif (previousSibling.tagName === 'A') {\n\t\t\treturn (previousSibling.previousSibling: any).querySelector(selector);\n\t\t} else {\n\t\t\treturn previousSibling.querySelector(selector);\n\t\t}\n\t}\n\n\tgetTimestamp(): ?Date {\n\t\tconst element = this.getTimestampElement();\n\t\treturn element && new Date(element.getAttribute('datetime'));\n\t}\n\n\tgetTimestampElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('time');\n\t}\n\n\tgetPostEditTimestamp(): number {\n\t\tconst element = this.getPostEditTimestampElement();\n\t\treturn element && (Date.parse(element.getAttribute('datetime')) / 1000) || 0;\n\t}\n\n\tgetPostEditTimestampElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('time.edited-timestamp');\n\t}\n\n\tgetFullname(): string {\n\t\treturn this.element.getAttribute('data-fullname') || '';\n\t}\n\n\tgetUserattrsElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.userattrs');\n\t}\n\n\tgetRank(): ?number {\n\t\tconst rank = parseInt(this.element.getAttribute('data-rank'), 10);\n\t\tif (!isNaN(rank)) return rank;\n\t}\n\n\tgetRankElement(): ?HTMLElement {\n\t\tif (!this.isPost()) return;\n\t\treturn this.element.querySelector('.rank');\n\t}\n\n\tgetTaglineElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline');\n\t}\n\n\tgetCommentCollapseToggleElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.expand');\n\t}\n\n\tsetCommentCollapse(state: boolean, reason: string, openOnlyWhenSameReason: boolean = false): ?HTMLElement {\n\t\tconst toggle = this.getCommentCollapseToggleElement();\n\t\tif (!toggle) return;\n\t\tif (state) toggle.setAttribute('collapse-reason', reason);\n\t\tif (this.isCollapsed() === state) return;\n\t\tif (!state && openOnlyWhenSameReason && toggle.getAttribute('collapse-reason') !== reason) return;\n\t\tif (!state) toggle.removeAttribute('collapse-reason');\n\t\tclick(toggle); // Simulate a click, so that the event bubbles\n\t}\n\n\tgetPostTime(): string {\n\t\tconst element = this.getPostTimeElement();\n\t\tif (element) {\n\t\t\treturn element.textContent;\n\t\t}\n\t\treturn '';\n\t}\n\n\tgetPostTimeElement(): ?HTMLElement {\n\t\treturn this.entry.querySelector('.tagline time');\n\t}\n\n\tisNSFW(): boolean {\n\t\treturn this.element.classList.contains('over18') || !!this.entry.querySelector('.nsfw-stamp');\n\t}\n\n\tisSpoiler(): boolean {\n\t\tif (this.element.classList.contains('search-result')) {\n\t\t\treturn !!this.entry.querySelector('.spoiler-stamp');\n\t\t}\n\t\treturn this.element.classList.contains('spoiler');\n\t}\n\n\tisCrosspost(): boolean {\n\t\treturn !!this.getCrosspostBadgeElement();\n\t}\n\n\tisLocked(): boolean {\n\t\tif (this.element.classList.contains('search-result')) {\n\t\t\treturn this.element.classList.contains('linkflair-locked');\n\t\t}\n\t\treturn this.element.classList.contains('locked');\n\t}\n\n\tisDeleted(): boolean {\n\t\treturn this.element.classList.contains('deleted');\n\t}\n\n\tisHiddenByFilter(partialAsFiltered: boolean = false): boolean {\n\t\t// Keep in sync with the CSS rules\n\t\tif (this.element.matches('body.hideOver18 .over18:not(.allowOver18)')) return true;\n\t\tif (!this.element.classList.contains('res-thing-filter-hide')) return false;\n\t\tif (this.element.classList.contains('res-filterline-highlight-match')) return false;\n\t\tif (partialAsFiltered) {\n\t\t\tif (this.element.classList.contains('res-thing-partial') && this.element.classList.contains('res-selected')) return false;\n\t\t\treturn true;\n\t\t} else {\n\t\t\tif (this.element.classList.contains('res-thing-hide-children')) return true;\n\t\t\treturn !this.element.classList.contains('res-thing-partial');\n\t\t}\n\t}\n\n\tisCollapsed(): boolean {\n\t\treturn this.element.classList.contains('collapsed');\n\t}\n\n\t// Should be equivalent to `this.element.offsetParent !== null`\n\tisVisible(): boolean {\n\t\t// Promoted (ads) are often hidden by adblockers, so just assume that they're not visible\n\t\tif (this.element.classList.contains('promoted')) return false;\n\n\t\tif (!document.body.classList.contains('res-filters-disabled') && this.isHiddenByFilter()) return false;\n\t\tconst { parent } = this;\n\t\tif (parent) {\n\t\t\tif (parent.isCollapsed()) return false;\n\t\t\tif (parent.element.classList.contains('res-children-hidden')) return false; // `hideChildComments` module\n\t\t\tif (!parent.isVisible()) return false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisContentVisible(): boolean {\n\t\treturn !(\n\t\t\tthis.element.classList.contains('res-thing-has-placeholder') ||\n\t\t\t(!document.body.classList.contains('res-filters-disabled') && this.isHiddenByFilter(true)) ||\n\t\t\tthis.isCollapsed() ||\n\t\t\t!this.isVisible()\n\t\t);\n\t}\n\n\tisSelected() {\n\t\treturn this.element.classList.contains('res-selected');\n\t}\n\n\tisUpvoted() {\n\t\treturn this.entry.classList.contains('likes');\n\t}\n\n\tisDownvoted() {\n\t\treturn this.entry.classList.contains('dislikes');\n\t}\n\n\tisUnvoted() {\n\t\treturn this.entry.classList.contains('unvoted');\n\t}\n}\n\nif (process.env.NODE_ENV === 'development') {\n\t// for debugging only! do not use `getThingIsVisibleInconsistencies` in any committed code\n\twindow.getThingIsVisibleInconsistencies = () => Array.from(things).filter(v => v.isVisible() === !v.element.offsetParent);\n}\n","/* @flow */\n\nimport { ajax } from '../environment';\nimport type { RedditLink, RedditListing } from '../types/reddit'; // eslint-disable-line no-unused-vars\nimport { batch } from './async';\n\nexport const getPostMetadata = batch(async (requests: { id: string }[]): Promise<$PropertyType<RedditLink, 'data'>[]> => {\n\tconst byId = requests\n\t\t.map(r => r.id)\n\t\t.map(id => `t3_${id}`)\n\t\t.join(',');\n\n\tconst { data: { children } } = (await ajax({\n\t\turl: `/by_id/${byId}.json`,\n\t\tquery: { limit: 100, raw_json: 1 },\n\t\ttype: 'json',\n\t}): RedditListing<RedditLink>);\n\n\treturn children.map(c => c.data);\n}, { size: 100 });\n","/* @flow */\n\nimport tinycolor from 'tinycolor2';\n\nexport function colorToArray(colorString: string): [number, number, number] {\n\tconst { r, g, b } = tinycolor(colorString).toRgb();\n\treturn [r, g, b];\n}\n\nexport function colorFromArray([r, g, b]: number[]): string {\n\treturn tinycolor({ r, g, b }).toHexString();\n}\n","/* @flow */\n\nimport { waitFor } from './async';\nimport { waitForChild, waitForEvent, waitForDescendant } from './dom';\nimport { isPageType } from './location';\n\nexport const bodyStart: Promise<*> = waitForChild(document.documentElement, 'body')\n\t// `document.body === null` at this point has been reported for users of Firefox and Chrome,\n\t// so wait till the reference has been updated before progressing\n\t.then(() => waitFor(() => document.body, 10));\n\nexport const sitetableStarted: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForDescendant(document.body, isPageType('comments') ? '.sitetable.nestedlisting' : '#siteTable'),\n\t\tcontentLoaded,\n\t]));\n\nexport const contentLoaded: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForEvent(window, 'DOMContentLoaded', 'load'),\n\t\twaitFor(() => document.readyState === 'interactive' || document.readyState === 'complete', 500),\n\t]));\n\nexport const loadComplete: Promise<*> = bodyStart\n\t.then(() => Promise.race([\n\t\twaitForEvent(window, 'load'),\n\t\twaitFor(() => document.readyState === 'complete', 500),\n\t]));\n\n","/* @flow */\n\nimport _ from 'lodash';\nimport { getD2xBodyOffset, getHeaderOffset } from './dom';\nimport * as PagePhases from './pagePhases';\nimport { frameThrottle } from './async';\nimport { isAppType } from './location';\nimport { html } from './string';\n\nclass Container {\n\tstatic isAvailable() { return true; }\n\tstatic fallback: ?$Keys<typeof containers>;\n\tstatic phase: Promise<any> = PagePhases.loadComplete;\n\tstatic useList: boolean = true;\n\n\telement: HTMLElement = document.createElement('div');\n\tlist: HTMLElement = html`<ul class=\"res-floater-list\"></ul>`;\n\n\tconstructor() {\n\t\tif (this.constructor.useList) this.element.append(this.list);\n\t\tthis.constructor.phase.then(() => this.go());\n\t}\n\n\tgo() {}\n\n\tadd(element: HTMLElement, { separate, order }: {| separate: boolean, order: number |}) {\n\t\tif (separate || !this.constructor.useList) {\n\t\t\tthis.element.append(element);\n\t\t} else {\n\t\t\tif (element instanceof HTMLLIElement) {\n\t\t\t\tthis.list.append(element);\n\t\t\t} else {\n\t\t\t\tconst li = html`<li style=\"order: ${order}\"></li>`;\n\t\t\t\tli.append(element);\n\t\t\t\tthis.list.append(li);\n\t\t\t}\n\t\t}\n\t}\n}\n\nconst containers = {\n\tinNavbar: class extends Container {\n\t\tstatic isAvailable() { return isAppType('d2x') && !!document.querySelector('.header-user-dropdown'); }\n\t\tstatic fallback = 'userMenu';\n\t\tstatic phase = PagePhases.sitetableStarted;\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-inNavbar');\n\t\t\tdocument.body.append(this.element);\n\t\t\tthis.updateHeaderWidth();\n\t\t}\n\n\t\tadd(element: *, opts: *) {\n\t\t\tsuper.add(element, opts);\n\t\t\tthis.updateHeaderWidth();\n\t\t}\n\n\t\tupdateHeaderWidth = frameThrottle(() => {\n\t\t\tconst { width } = this.element.getBoundingClientRect();\n\t\t\tconst headerButton = document.querySelector('.header-user-dropdown');\n\t\t\theaderButton.style.marginRight = `${width}px`;\n\t\t});\n\t},\n\n\tuserMenu: class extends Container {\n\t\tstatic isAvailable() { return isAppType('r2'); }\n\t\tstatic phase = PagePhases.sitetableStarted;\n\t\tstatic useList = false;\n\n\t\tgo() {\n\t\t\tconst element = document.body.querySelector('#header-bottom-right ul');\n\t\t\t// Items may have been added already\n\t\t\telement.append(...this.element.children);\n\t\t\tthis.element = element;\n\t\t}\n\n\t\tadd(element) {\n\t\t\tthis.element.append(html`<span class=\"separator\">|</span>`, element);\n\t\t}\n\t},\n\n\tbelowFixedNavbar: class extends Container {\n\t\tstatic isAvailable() { return isAppType('d2x'); }\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-belowNavbar');\n\t\t\tthis.element.style.top = `${5 + getD2xBodyOffset()}px`;\n\t\t\tdocument.body.append(this.element);\n\t\t}\n\t},\n\n\tvisibleAfterScroll: class extends Container {\n\t\tstatic isAvailable() { return !isAppType('d2x'); }\n\t\tstatic fallback = 'belowFixedNavbar';\n\n\t\tgo() {\n\t\t\tthis.element.classList.add('res-floater-visibleAfterScroll');\n\t\t\tdocument.body.append(this.element);\n\t\t\tthis.element.style.top = `${8 + getHeaderOffset(true)}px`;\n\n\t\t\tif (!document.querySelector('#RESPinnedHeaderSpacer')) { // No need to hide the floater if whole header is pinned\n\t\t\t\tthis.element.hidden = true;\n\t\t\t\t// $FlowIssue https://github.com/facebook/flow/pull/4664\n\t\t\t\tnew IntersectionObserver(entries => {\n\t\t\t\t\tthis.element.hidden = entries[0].isIntersecting;\n\t\t\t\t}).observe(document.querySelector('#header'));\n\t\t\t}\n\t\t}\n\t},\n\n\ttabMenu: class extends Container {\n\t\tstatic isAvailable() { return isAppType('r2'); }\n\t\tstatic fallback = 'belowFixedNavbar';\n\t\tstatic phase = PagePhases.sitetableStarted;\n\t\tstatic useList = false;\n\n\t\tgo() {\n\t\t\tlet menu = document.querySelector('#header-bottom-left ul.tabmenu');\n\t\t\tif (menu) {\n\t\t\t\t/* no-op */\n\t\t\t} else if (document.querySelector('#header-bottom-left')) {\n\t\t\t\tmenu = html`<ul class=\"tabmenu\" />`;\n\t\t\t\tdocument.querySelector('#header-bottom-left').append(menu);\n\t\t\t} else {\n\t\t\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\t\t\tconsole.warn('Could not find tab menu');\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Items may have been added already\n\t\t\tmenu.append(...this.element.children);\n\t\t\tthis.element = menu;\n\t\t}\n\t},\n\n\tinert: Container,\n};\n\nconst getContainer: * => Container = _.memoize((name: $Keys<typeof containers>) => {\n\tlet container;\n\tif (containers[name].isAvailable()) {\n\t\tcontainer = new containers[name]();\n\t} else if (containers[name].fallback) {\n\t\tcontainer = getContainer(containers[name].fallback);\n\t\t// If a stack trace overflow gets thrown from here, check\n\t\t// container[name].fallback for circular dependencies.\n\t}\n\n\tif (container) {\n\t\treturn container;\n\t} else {\n\t\tconst InertContainer = containers.inert;\n\t\treturn new InertContainer();\n\t}\n});\n\nexport function addFloater(\n\telement: HTMLElement,\n\t{\n\t\tcontainer: containerName = ['inNavbar', 'belowFixedNavbar', 'visibleAfterScroll'].find(name => containers[name].isAvailable()) || 'inert',\n\t\tseparate = false,\n\t\torder = 0,\n\t}: {|\n\t\tcontainer?: $Keys<typeof containers>,\n\t\tseparate?: boolean,\n\t\torder?: number,\n\t|} = {}\n) {\n\tgetContainer(containerName).add(element, { separate, order });\n}\n","/* @flow */\n\nimport { range } from './generator';\n\nconst chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';\nexport function randomHash(len: number = 5): string {\n\tconst arr = new Array(len);\n\tfor (const i of range(0, len)) {\n\t\tarr[i] = chars.charAt(Math.random() * chars.length | 0);\n\t}\n\treturn arr.join('');\n}\n\nexport function hashCode(str: string): number {\n\tlet hash = 0;\n\tfor (const char of str) {\n\t\thash = (((hash << 5) - hash) + char.charCodeAt(0)) | 0;\n\t}\n\treturn hash;\n}\n","/* @flow */\n\nimport { ajax } from '../environment';\nimport type { Thing } from './Thing';\nimport { batch } from './async';\nimport { filterMap } from './array';\nimport { isLoggedIn } from './user';\n\nconst hideEndpoint = '/api/hide';\nconst unhideEndpoint = '/api/unhide';\nexport const [HIDE, UNHIDE] = ['hide', 'unhide'];\n\nexport const send = async (state: 'hide' | 'unhide', things: Thing[]) => {\n\tif (!isLoggedIn()) throw new Error('Not logged in');\n\n\tconst values = filterMap(things, thing => {\n\t\tconst id = thing.getFullname();\n\t\tconst element = thing.getHideElement();\n\t\treturn id && element && element.dataset.eventAction === state ? [{ id, element }] : undefined;\n\t});\n\n\tif (!values.length) return;\n\n\tconst updateElements = (action, text) => {\n\t\tfor (const { element } of values) {\n\t\t\tif (action) element.dataset.eventAction = action;\n\t\t\tif (element.classList.contains('noCtrlF')) element.dataset.text = text;\n\t\t\telse element.textContent = text;\n\t\t}\n\t};\n\n\tupdateElements(undefined, state === HIDE ? 'hiding...' : 'unhiding...');\n\n\ttry {\n\t\tawait ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: state === HIDE ? hideEndpoint : unhideEndpoint,\n\t\t\tdata: { id: values.map(({ id }) => id).join(',') },\n\t\t\ttype: 'json',\n\t\t});\n\t\tupdateElements(state === HIDE ? UNHIDE : HIDE, state === HIDE ? UNHIDE : HIDE);\n\t} catch (e) {\n\t\tupdateElements(state === HIDE ? HIDE : UNHIDE, state === HIDE ? HIDE : UNHIDE);\n\t\tthrow e;\n\t}\n};\n\nexport const hide = batch(things => send(HIDE, things), { size: 50 });\nexport const unhide = batch(things => send(UNHIDE, things), { size: 50 });\n","/* @flow */\n\nimport _ from 'lodash';\nimport { range } from './generator';\n\nexport const NAMED_KEYS = {\n\tBackspace: 'Backspace',\n\tTab: 'Tab',\n\tEnter: 'Enter',\n\tEscape: 'Escape',\n\tSpace: ' ',\n\tPageUp: 'PageUp',\n\tPageDown: 'PageDown',\n\tEnd: 'End',\n\tHome: 'Home',\n\tLeft: 'ArrowLeft',\n\tUp: 'ArrowUp',\n\tRight: 'ArrowRight',\n\tDown: 'ArrowDown',\n\tShift: 'Shift',\n\tControl: 'Control',\n\tAlt: 'Alt',\n};\n\nexport type KeyArray = [number, boolean, boolean, boolean, boolean];\n\n/* eslint-disable quote-props */\n// https://github.com/facebook/flow/issues/380\nconst keyCodes = {\n\t'-1': 'none',\n\t'8': 'backspace',\n\t'9': 'tab',\n\t'13': 'enter',\n\t'16': 'shift',\n\t'17': 'ctrl',\n\t'18': 'alt',\n\t'19': 'pause/break',\n\t'20': 'caps lock',\n\t'27': 'escape',\n\t'33': 'page up',\n\t'34': 'page down',\n\t'35': 'end',\n\t'36': 'home',\n\t'37': 'left arrow',\n\t'38': 'up arrow',\n\t'39': 'right arrow',\n\t'40': 'down arrow',\n\t'45': 'insert',\n\t'46': 'delete',\n\t'91': 'left window',\n\t'92': 'right window',\n\t'93': 'select key',\n\t'96': 'numpad 0',\n\t'97': 'numpad 1',\n\t'98': 'numpad 2',\n\t'99': 'numpad 3',\n\t'100': 'numpad 4',\n\t'101': 'numpad 5',\n\t'102': 'numpad 6',\n\t'103': 'numpad 7',\n\t'104': 'numpad 8',\n\t'105': 'numpad 9',\n\t'106': 'multiply',\n\t'107': 'add',\n\t'109': 'subtract',\n\t'110': 'decimal point',\n\t'111': 'divide',\n\t'112': 'F1',\n\t'113': 'F2',\n\t'114': 'F3',\n\t'115': 'F4',\n\t'116': 'F5',\n\t'117': 'F6',\n\t'118': 'F7',\n\t'119': 'F8',\n\t'120': 'F9',\n\t'121': 'F10',\n\t'122': 'F11',\n\t'123': 'F12',\n\t'144': 'num lock',\n\t'145': 'scroll lock',\n\t'186': ';',\n\t'187': '=',\n\t'188': ',',\n\t'189': '-',\n\t'190': '.',\n\t'191': '/',\n\t'192': '`',\n\t'219': '[',\n\t'220': '\\\\',\n\t'221': ']',\n\t'222': '\\'',\n};\n/* eslint-enable quote-props */\n\nexport function niceKeyCode(keyArray: number | string | KeyArray): string {\n\tif (!keyArray && isNaN(keyArray)) {\n\t\treturn '';\n\t}\n\n\tif (typeof keyArray === 'number') {\n\t\tkeyArray = [keyArray, false, false, false, false];\n\t} else if (typeof keyArray === 'string') {\n\t\tconst split = keyArray.split(',');\n\t\tconst code = parseInt(split[0], 10);\n\t\t// AMO API bug: validation crashes when `modifiers` is inlined\n\t\tconst modifiers = [...split.slice(1).map(s => s === 'true'), false, false, false, false];\n\t\tconst [alt, ctrl, shift, meta] = modifiers;\n\t\tkeyArray = [code, alt, ctrl, shift, meta];\n\t}\n\n\tconst [keyCode, ...modifiers] = keyArray;\n\n\tconst keyCombo = _.zipWith(modifiers, ['alt-', 'ctrl-', 'shift-', 'command-'], (predicate, name) => predicate && name)\n\t\t.filter(x => x)\n\t\t.join('');\n\n\tconst keyName = keyCodes[keyCode] || String.fromCharCode(keyCode);\n\n\treturn `${keyCombo}${keyName}`;\n}\n\nexport function checkKeysForEvent(event: KeyboardEvent, keyArray: number | KeyArray): boolean {\n\t// [keycode, alt, ctrl, shift, meta]\n\t// if we've passed in a number, fix that and make it an array with alt, shift and ctrl set to false.\n\tif (typeof keyArray === 'number') {\n\t\tkeyArray = [keyArray, false, false, false, false];\n\t} else if (keyArray.length === 4) {\n\t\t// old option values may have length 4\n\t\t(keyArray: any).push(false);\n\t}\n\n\tconst eventHash = hashKeyEvent(event);\n\tconst arrayHash = hashKeyArray(keyArray);\n\treturn eventHash === arrayHash;\n}\n\nexport function hashKeyEvent(event: KeyboardEvent): number {\n\tconst keyArray = [event.keyCode, event.altKey, event.ctrlKey, event.shiftKey, event.metaKey];\n\n\t// this hack is because Firefox differs from other browsers with keycodes for - and =\n\tif (process.env.BUILD_TARGET === 'firefox') {\n\t\tif (keyArray[0] === 173) {\n\t\t\tkeyArray[0] = 189;\n\t\t}\n\t\tif (keyArray[0] === 61) {\n\t\t\tkeyArray[0] = 187;\n\t\t}\n\t}\n\n\treturn hashKeyArray(keyArray);\n}\n\nexport function hashKeyArray(keyArray: KeyArray): number {\n\tconst length = 5;\n\tlet hash = keyArray[0] * Math.pow(2, length);\n\tfor (const i of range(1, length)) {\n\t\tif (keyArray[i]) {\n\t\t\thash += 2 ** i;\n\t\t}\n\t}\n\treturn hash;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { locale } from '../environment';\n\n// Avoid initializing dayjs before it's necessary\nconst Dayjs = _.once(() => {\n\tconst dayjs = require('dayjs'); // eslint-disable-line global-require\n\tconst localeCode = locale.toLowerCase();\n\tif (localeCode.startsWith('de')) dayjs.locale(require('dayjs/locale/de')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('el')) dayjs.locale(require('dayjs/locale/el')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('es')) dayjs.locale(require('dayjs/locale/es')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('he')) dayjs.locale(require('dayjs/locale/he')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('it')) dayjs.locale(require('dayjs/locale/it')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('nl')) dayjs.locale(require('dayjs/locale/nl')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pl')) dayjs.locale(require('dayjs/locale/pl')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pt-br')) dayjs.locale(require('dayjs/locale/pt-br')); // eslint-disable-line global-require\n\tif (localeCode.startsWith('pt')) dayjs.locale(require('dayjs/locale/pt')); // eslint-disable-line global-require\n\tdayjs.extend(require('dayjs/plugin/relativeTime')); // eslint-disable-line global-require\n\tdayjs.extend(require('dayjs/plugin/localizedFormat')); // eslint-disable-line global-require\n\treturn dayjs;\n});\n\nexport const dayjs = (...args: any) => new Dayjs()(...args);\n\nexport function formatNumber(number: number): string {\n\treturn number.toLocaleString(locale);\n}\n\nexport function formatDate(date?: Date /* = now */): string {\n\treturn dayjs(date).format('L');\n}\n\nexport function formatDateTime(date?: Date /* = now */): string {\n\treturn dayjs(date).format('L LTS');\n}\n\nexport function formatDateDiff(from: Date, to?: Date /* = now */): string {\n\treturn dayjs(to).from(from, true);\n}\n\nexport function formatRelativeTime(from: Date): string {\n\treturn dayjs(from).fromNow();\n}\n","/* @flow */\n\nexport function numericalCompare(op: *, a: number, b: number) {\n\tswitch (op) {\n\t\tcase '==':\treturn a == b; // eslint-disable-line eqeqeq\n\t\tcase '!=':\treturn a != b; // eslint-disable-line eqeqeq\n\t\tcase '>':\treturn a > b;\n\t\tcase '<':\treturn a < b;\n\t\tcase '>=':\treturn a >= b;\n\t\tcase '<=':\treturn a <= b;\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n\nexport function inverseOperator(op: *) {\n\tswitch (op) {\n\t\tcase '==':\treturn '!=';\n\t\tcase '!=':\treturn '==';\n\t\tcase '>':\treturn '<=';\n\t\tcase '<':\treturn '>=';\n\t\tcase '>=':\treturn '<';\n\t\tcase '<=':\treturn '>';\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n\nexport function prettyOperator(op: *) {\n\tswitch (op) {\n\t\tcase '==':\treturn '=';\n\t\tcase '!=':\treturn '';\n\t\tcase '>':\treturn '>';\n\t\tcase '<':\treturn '<';\n\t\tcase '>=':\treturn '';\n\t\tcase '<=':\treturn '';\n\t\tdefault: throw new Error(`Unhandled operator ${op}`);\n\t}\n}\n/**\n * Linearly interpolates a value within the interval [low, high].\n * @param {number} low  A number in (-Infinity, high)\n * @param {number} high A number in (low, Infinity)\n * @param {number} frac A number in [0, 1]\n * @returns {number} `value`\n */\nexport function interpolate(low: number, high: number, frac: number): number {\n\treturn (1 - frac) * low + frac * high;\n}\n\n/**\n * Given `low`, `high`, and `value`, returns `frac` such that `interpolate(low, high, frac) === value`.\n * @param {number} low   A number in [-Infinity, high)\n * @param {number} high  A number in (low, Infinity]\n * @param {number} value A number in [low, high]\n * @returns {number} `frac`\n */\nexport function deinterpolate(low: number, high: number, value: number): number {\n\tif (low === -Infinity && high === Infinity) {\n\t\treturn 0.5;\n\t} else if (low === -Infinity) {\n\t\treturn 1;\n\t} else if (high === Infinity) {\n\t\treturn 0;\n\t}\n\treturn (value - low) / (high - low);\n}\n\n/**\n * Projects `value` from the interval [fromLow, fromHigh] into the interval [toLow, toHigh]\n * such that `deinterpolate(fromLow, fromHigh, value) === deinterpolate(toLow, toHigh, <return value>)`.\n * That is, `<return value>` and `value` are in the same position in their respective intervals.\n * `fromLow`, `fromHigh`, `toLow`, and `toHigh` must satisfy the bounds on `deinterpolate` and `interpolate`, respectively.\n * @param {number} fromLow\n * @param {number} fromHigh\n * @param {number} toLow\n * @param {number} toHigh\n * @param {number} value A number in [fromLow, fromHigh]\n * @returns {number}\n */\nexport function projectInto(fromLow: number, fromHigh: number, toLow: number, toHigh: number, value: number): number {\n\treturn interpolate(toLow, toHigh, deinterpolate(fromLow, fromHigh, value));\n}\n\n/*\n * @param {number} a   Dividend\n * @param {number} n   Divisor\n * @returns {number}   Positive reminder\n */\nexport function positiveModulo(a: number, n: number): number {\n\treturn ((a % n) + n) % n;\n}\n","/* @flow */\n\nimport _ from 'lodash';\n// importing core types is okay\nimport type { TableOption } from '../core/module'; // eslint-disable-line\n\nexport function indexOptionTable<T: $ReadOnlyArray<any>, Ctx>(option: TableOption<Ctx, T>, keyIndex: number, keyTransformer: string => string = v => v): { [string]: T[] } {\n\tconst source = option.fields[keyIndex].type === 'list' ?\n\t\tArray.from(expandKeys(option.value)) :\n\t\toption.value;\n\n\treturn _.groupBy(source, arr => keyTransformer(arr[keyIndex]));\n\n\t// allows indexing by multiple keys, e.g. transforms\n\t// [['foo,bar', 'baz']] to\n\t// [['foo', 'baz'], ['bar', 'baz']]\n\tfunction* expandKeys(nestedArray) {\n\t\tfor (const arr of nestedArray) {\n\t\t\tfor (const subKey of arr[keyIndex].split(',')) {\n\t\t\t\tyield [...arr.slice(0, keyIndex), subKey, ...arr.slice(keyIndex + 1)];\n\t\t\t}\n\t\t}\n\t}\n}\n","/* @flow */\n\nlet counter = 0;\nexport function markStart(): string {\n\tconst tag = (++counter).toString();\n\tperformance.mark(tag);\n\treturn tag;\n}\n\nexport function markEnd(tag: string, name: string) {\n\tperformance.measure(name, tag);\n}\n","/* @flow */\n\nimport { Storage } from '../environment';\nimport { DAY, WEEK } from './time';\n\nexport async function maybePruneOldEntries(id: string, entryStorage: *, keepTrackDays: number = 30) {\n\tif (!await shouldPrune(id)) return;\n\n\tconst keepTrackPeriod = DAY * keepTrackDays;\n\tconst now = Date.now();\n\tfor (const [id, data] of Object.entries(await entryStorage.getAll())) {\n\t\tconst { updateTime } = data || {}; // data may not be `undefined` due to some older bug\n\t\tif (!updateTime || (now - updateTime) > keepTrackPeriod) {\n\t\t\tentryStorage.delete(id);\n\t\t}\n\t}\n}\n\nexport async function shouldPrune(id: string, interval: number = WEEK) {\n\tawait new Promise(res => setTimeout(() => requestIdleCallback(res), 10000));\n\tconst lastStorage = Storage.wrap(`last_prune.${id}`, 0);\n\tconst now = Date.now();\n\tif ((now - await lastStorage.get()) < interval) return false;\n\tlastStorage.set(now);\n\treturn true;\n}\n","/* @flow */\n\nexport const fakeSubreddits = [\n\t'mod',\n\t'friends',\n\t'random',\n\t'myrandom',\n\t'all',\n\t'contrib',\n\t'popular',\n];\n\nexport function isFakeSubreddit(subreddit: string): boolean {\n\treturn fakeSubreddits.some(fakeSubreddit => fakeSubreddit === subreddit.toLowerCase());\n}\n","/* @flow */\n\nexport function firstValid(...vals: mixed[]): mixed {\n\treturn vals.find(val =>\n\t\tval !== undefined && val !== null && (typeof val !== 'number' || !isNaN(val))\n\t);\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Thing } from './Thing';\nimport { filterMap } from './array';\nimport { isPageType } from './location';\nimport { watchForChildren, watchForFutureChildren, watchForFutureDescendants, waitForAttach } from './dom';\n\ntype WatcherOptions = {| immediate?: boolean, id?: mixed |};\n\ntype ElementWatcherType = 'page' | 'selfText';\ntype ElementWatcherCallback = (e: HTMLElement) => any;\n\nconst elementWatchers: {\n\t[ElementWatcherType]: Array<{\n\t\tselector: ?string,\n\t\tcallback: ElementWatcherCallback,\n\t\toptions?: WatcherOptions,\n\t\tregistered: WeakSet<*>,\n\t}>,\n} = {\n\tpage: [],\n\tselfText: [],\n};\n\ntype ThingWatcherType = 'comment' | 'message' | 'post' | 'subreddit';\ntype ThingWatcherCallback = (thing: Thing) => any;\n\nconst thingWatchers: {\n\t[ThingWatcherType]: Array<{\n\t\tcallback: ThingWatcherCallback,\n\t\toptions?: WatcherOptions,\n\t\tregistered: WeakSet<*>,\n\t}>,\n} = {\n\tcomment: [],\n\tmessage: [],\n\tpost: [],\n\tsubreddit: [],\n};\n\n// eslint-disable-next-line no-unused-vars\nconst runCallback = fn => { try { return fn(); } catch (e) { console.error(e); } };\n\nconst addCallback = (callback, actingOnElement, { immediate, id } = {}) => {\n\tconst thing = Thing.from(actingOnElement);\n\tif (thing) {\n\t\t// XXX The callback ought not be wrapped so many times\n\t\tconst task = _.once(() => runCallback(callback));\n\t\tif (id) thing.tasks.byId.set(id, task);\n\t\t(immediate ? thing.tasks.immediate : thing.tasks.visible).push(task);\n\t\tif (immediate || thing.tasks.completed) task();\n\t} else {\n\t\trunCallback(callback);\n\t}\n};\n\nfunction registerElement(type, element) {\n\tfor (const { selector, callback, options, registered } of elementWatchers[type]) {\n\t\tconst elements = selector && !element.matches(selector) ?\n\t\t\tArray.from(element.querySelectorAll(selector)) :\n\t\t\t[element];\n\t\tfor (const e of elements) {\n\t\t\tif (registered.has(e)) continue;\n\t\t\tregistered.add(e);\n\t\t\taddCallback(() => callback(e), e, options);\n\t\t}\n\t}\n}\n\nfunction registerThing(element: HTMLElement) {\n\tconst thing = Thing.checkedFrom(element);\n\n\tconst thingWatcherCallbacks =\n\t\tthing.isPost() && thingWatchers.post ||\n\t\tthing.isComment() && thingWatchers.comment ||\n\t\tthing.isMessage() && thingWatchers.message ||\n\t\tthing.isSubreddit() && thingWatchers.subreddit ||\n\t\t[];\n\n\tfor (const { callback, options, registered } of thingWatcherCallbacks) {\n\t\tif (registered.has(thing)) continue;\n\t\tregistered.add(thing);\n\t\taddCallback(() => callback(thing), thing.element, options);\n\t}\n\n\treturn thing;\n}\n\nexport function watchForThings(types: ?Array<ThingWatcherType>, callback: ThingWatcherCallback, options?: WatcherOptions) {\n\tif (!types) types = Object.keys(thingWatchers);\n\tconst entry = { callback, options, registered: new WeakSet() };\n\tfor (const type of types) thingWatchers[type].push(entry);\n}\n\nexport function watchForElements(types: Array<ElementWatcherType>, selector: ?string, callback: ElementWatcherCallback, options?: WatcherOptions) {\n\tconst entry = { selector, callback, options, registered: new WeakSet() };\n\tfor (const type of types) elementWatchers[type].push(entry);\n}\n\n// Run tasks on a few things manually, since the IntersectionObserver requires at least one paint before invoking callback\n// By running tasks on what is likely to be displayed on first paint, we avoid an extra reflow\nconst _runLikelyVisibleTasks = () => {\n\tlet max: number = Math.ceil(screen.availHeight / 55 /* approx min height of a thing */);\n\tconst queue = [];\n\tlet i = 0;\n\treturn async thing => {\n\t\tconst n = i++;\n\t\t// Whether a thing will be visible, is usually decided once the filter task has been completed\n\t\tconst filterTask = thing.tasks.byId.get('filter');\n\t\tawait (filterTask && filterTask());\n\t\tconst check = queue[n] = () => {\n\t\t\tdelete queue[n];\n\t\t\tif (thing.tasks.completed || thing.isVisible()) {\n\t\t\t\tthing.runTasks();\n\t\t\t} else if (n < max) {\n\t\t\t\tmax++;\n\t\t\t\tconst nextCheck = queue.find(Boolean);\n\t\t\t\tif (nextCheck) nextCheck();\n\t\t\t}\n\t\t};\n\t\tif (n < max) check();\n\t};\n};\n\nexport function registerPage(page: HTMLElement, runLikelyVisibleTasks: function = _runLikelyVisibleTasks()) {\n\tconst things = filterMap([\n\t\tpage.matches(Thing.thingSelector) && page,\n\t\t...page.querySelectorAll(Thing.thingSelector),\n\t], e => e instanceof HTMLElement ? [registerThing(e)] : undefined);\n\n\tregisterElement('page', page);\n\n\tthings.forEach(runLikelyVisibleTasks);\n}\n\nconst HIDE_FOLLOWING_CLASS = 'res-hide-following';\n\nexport function r2WatcherSitetableStart() {\n\t// Add selftext observer\n\twatchForThings(['post'], thing => {\n\t\tconst container = thing.entry.querySelector('div.expando');\n\t\tif (!container) return;\n\t\twatchForChildren(container, 'form', () => {\n\t\t\tconst body = thing.getTextBody();\n\t\t\tif (body) registerElement('selfText', body);\n\t\t});\n\t});\n\n\tconst thingElements = Thing.thingElements(document.body);\n\n\tconst runLikelyVisibleVisibleTasks = _runLikelyVisibleTasks();\n\tfor (const e of thingElements) registerPage(e, runLikelyVisibleVisibleTasks);\n\n\tlet last = thingElements.slice(-1)[0];\n\t// Hide the following elements until 'contentLoaded', to prevent them being painted without the 'immediate' watchers having been invoked on them\n\tif (last) {\n\t\tdo { last.classList.add(HIDE_FOLLOWING_CLASS); } while ((last = last.parentElement) && last !== document.body);\n\t}\n}\n\nexport function r2WatcherContentLoaded() {\n\tfor (const ele of document.querySelectorAll(`.${HIDE_FOLLOWING_CLASS}`)) ele.classList.remove(HIDE_FOLLOWING_CLASS);\n\n\t// Execute non-immediate callbacks on things when they become visible\n\tconst io = new IntersectionObserver(entries => {\n\t\tconst intersecting = filterMap(entries, ({ target, isIntersecting }) => isIntersecting && [Thing.from(target)]);\n\t\tif (!intersecting.length) return;\n\n\t\tconst thingElements = Thing.thingElements();\n\t\tconst things = _.sortBy(intersecting, thing => thingElements.indexOf(thing.element));\n\n\t\t// Always run tasks on the intersecting things, in case `Thing#isVisible` or `runTaskRange` breaks\n\t\tfor (const thing of things) thing.runTasks();\n\n\t\t// Also complete a few of the surrounding things in order to reduce the number of mutation instances\n\t\tThing.runTasksRange(things.slice(-1)[0], things[0], 10, 10, HIDE_FOLLOWING_CLASS);\n\t}, { rootMargin: '50%' });\n\n\twatchForThings(null, async thing => {\n\t\t// Starting observing before the Thing is attached (e.g. when invoked via neverEndingReddit), may cause the IO to \"lose\" the element\n\t\tawait waitForAttach(document.body, thing.element);\n\t\tio.observe(thing.element);\n\t\taddCallback(() => {\n\t\t\tio.unobserve(thing.element);\n\t\t\tthing.tasks.completed = true;\n\t\t}, thing.element);\n\t}, { immediate: true });\n\n\t// Things may be edited/loaded using the Reddit interface\n\tif (isPageType('comments')) {\n\t\tconst commentarea = document.body.querySelector('.commentarea');\n\t\tif (commentarea) watchForFutureDescendants(commentarea, '.thing', registerPage, true);\n\t} else {\n\t\tconst watchList = _.memoize(ele => { if (ele) watchForFutureChildren(ele, '.thing', registerPage); });\n\t\twatchForThings(null, thing => { watchList(thing.element.parentElement); });\n\t}\n\n\tregisterPage(document.body);\n}\n","/* @flow */\n\nexport const JSAPI_CONSUMER_NAME = 'reddit-enhancement-suite';\n","// @flow\nimport { JSAPI_CONSUMER_NAME } from '../constants/jsapi';\nimport type {\n\tCommentEventData, // eslint-disable-line no-unused-vars\n\tCommentAuthorEventData, // eslint-disable-line no-unused-vars\n\tPostAuthorEventData, // eslint-disable-line no-unused-vars\n\tPostEventData, // eslint-disable-line no-unused-vars\n\tSubredditEventData, // eslint-disable-line no-unused-vars\n\tUserHovercardEventData, // eslint-disable-line no-unused-vars\n\tPostModToolsEventData, // eslint-disable-line no-unused-vars\n} from '../types/events';\n\nconst callbacks = {\n\tsubreddit: [],\n\tpostAuthor: [],\n\tpost: [],\n};\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function watchForRedditEvents(type: 'comment', callback: (HTMLElement, CommentEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'subreddit', callback: (HTMLElement, SubredditEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'postAuthor', callback: (HTMLElement, PostAuthorEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'post', callback: (HTMLElement, PostEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'userHovercard', callback: (HTMLElement, UserHovercardEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'commentAuthor', callback: (HTMLElement, CommentAuthorEventData) => void | Promise<void>): void;\ndeclare function watchForRedditEvents(type: 'postModTools', callback: (HTMLElement, PostModToolsEventData) => void | Promise<void>): void;\n\nexport function watchForRedditEvents(type: $Keys<typeof callbacks>, callback) {\n\tif (!callbacks[type]) {\n\t\tcallbacks[type] = [];\n\t}\n\tcallbacks[type].push(callback);\n}\n/* eslint-enable no-redeclare */\n\nfunction handleRedditEvent(event) {\n\tconst { target, detail: { type, data } } = event;\n\tconst fns = callbacks[type];\n\tif (!fns) {\n\t\tif (process.env.NODE_ENV === 'development') {\n\t\t\tconsole.warn('Unhandled reddit event type:', type);\n\t\t}\n\t\treturn;\n\t}\n\n\tlet expandoId = `${type}|`;\n\tswitch (type) {\n\t\tcase 'postAuthor':\n\t\t\texpandoId += data.post.id;\n\t\t\tbreak;\n\t\tcase 'commentAuthor':\n\t\t\texpandoId += data.comment.id;\n\t\t\tbreak;\n\t\tcase 'userHovercard':\n\t\t\texpandoId += `${data.contextId}|${data.user.id}`;\n\t\t\tbreak;\n\t\tcase 'subreddit':\n\t\tcase 'post':\n\t\tcase 'postModTools':\n\t\tdefault:\n\t\t\texpandoId += data.id;\n\t\t\tbreak;\n\t}\n\n\tconst update = target.expando && target.expando._.id === expandoId ?\n\t\t(target.expando._.update || 0) + 1 :\n\t\t0;\n\n\tconst expando = {\n\t\t...data,\n\t\t_: {\n\t\t\tid: expandoId,\n\t\t\ttype,\n\t\t\tupdate,\n\t\t},\n\t};\n\n\ttarget.expando = expando;\n\n\tconst ownedTarget = target.querySelector(`[data-name=\"${JSAPI_CONSUMER_NAME}\"]`);\n\tfor (const fn of fns) {\n\t\ttry {\n\t\t\tfn(ownedTarget, expando);\n\t\t} catch (e) {\n\t\t\tconsole.log(e);\n\t\t}\n\t}\n}\n\nexport function initD2xWatcher() {\n\tdocument.addEventListener('reddit', (handleRedditEvent: any), true);\n\tconst meta = document.createElement('meta');\n\tmeta.name = 'jsapi.consumer';\n\tmeta.content = JSAPI_CONSUMER_NAME;\n\tdocument.head.appendChild(meta);\n\tmeta.dispatchEvent(new CustomEvent('reddit.ready'));\n}\n","/* @flow */\n\nimport _ from 'lodash';\n\nconst classes = new Set();\n\nexport const addMissing = () => {\n\tdocument.body.classList.add(..._.difference(Array.from(classes), Array.from(document.body.classList)));\n};\n\nexport function add(...change: string[]) {\n\tfor (const cls of change) classes.add(cls);\n\tif (document.documentElement) document.documentElement.classList.add(...change);\n\tif (document.body) document.body.classList.add(...change);\n}\n\nexport function remove(...change: string[]) {\n\tfor (const cls of change) classes.delete(cls);\n\tif (document.documentElement) document.documentElement.classList.remove(...change);\n\tif (document.body) document.body.classList.remove(...change);\n}\n\nexport function toggle(state: boolean, ...change: string[]) {\n\tif (state) add(...change);\n\telse remove(...change);\n}\n","/* @flow */\n\ntype PropBrowserData = {\n\tidentity: string,\n\tversionSearch?: string,\n\tprop: string,\n\tstring?: void,\n};\n\ntype StringBrowserData = {\n\tidentity: string,\n\tversionSearch?: string,\n\tprop?: void,\n\tstring: string,\n\tsubString: string,\n};\n\ntype BrowserData = StringBrowserData | PropBrowserData;\n\nlet versionSearchString;\nconst searchString = (datas: BrowserData[]): string | void => {\n\tconst data = datas.find(data => {\n\t\tversionSearchString = data.versionSearch || data.identity;\n\t\treturn data.string ? data.string.includes(data.subString) : data.prop;\n\t});\n\n\treturn data ? data.identity : undefined;\n};\n\nconst searchVersion = dataString => {\n\tconst index = dataString.indexOf(versionSearchString);\n\tif (index === -1) {\n\t\treturn;\n\t}\n\treturn parseFloat(dataString.substring(index + versionSearchString.length + 1));\n};\n\nconst hasNavigator = typeof navigator !== 'undefined';\n\nexport const browser = hasNavigator ?\n\tsearchString(dataBrowser()) || 'An unknown browser' :\n\t'An unknown browser without `navigator`';\n\nexport const version = hasNavigator ?\n\tsearchVersion(navigator.userAgent) || searchVersion(navigator.appVersion) || 'an unknown version' :\n\t'an unknown version without `navigator`';\n\nexport const OS = hasNavigator ?\n\tsearchString(dataOS()) || 'an unknown OS' :\n\t'an unknown OS without `navigator`';\n\nfunction dataBrowser() {\n\treturn [\n\t\t{\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'OPR/',\n\t\t\tidentity: 'Opera',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Edge',\n\t\t\tidentity: 'Edge Spartan',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Edg',\n\t\t\tidentity: 'Edge',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Chrome',\n\t\t\tidentity: 'Chrome',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'OmniWeb',\n\t\t\tversionSearch: 'OmniWeb/',\n\t\t\tidentity: 'OmniWeb',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'Apple',\n\t\t\tidentity: 'Safari',\n\t\t\tversionSearch: 'Version',\n\t\t}, {\n\t\t\tprop: window.opera,\n\t\t\tidentity: 'Opera',\n\t\t\tversionSearch: 'Version',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'iCab',\n\t\t\tidentity: 'iCab',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'KDE',\n\t\t\tidentity: 'Konqueror',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Firefox',\n\t\t\tidentity: 'Firefox',\n\t\t}, {\n\t\t\tstring: navigator.vendor,\n\t\t\tsubString: 'Camino',\n\t\t\tidentity: 'Camino',\n\t\t}, { // for newer Netscapes (6+)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Netscape',\n\t\t\tidentity: 'Netscape',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'MSIE',\n\t\t\tidentity: 'Explorer',\n\t\t\tversionSearch: 'MSIE',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Gecko',\n\t\t\tidentity: 'Mozilla',\n\t\t\tversionSearch: 'rv',\n\t\t}, {\n\t\t\t// for older Netscapes (4-)\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'Mozilla',\n\t\t\tidentity: 'Netscape',\n\t\t\tversionSearch: 'Mozilla',\n\t\t},\n\t];\n}\n\nfunction dataOS() {\n\treturn [\n\t\t{\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Win',\n\t\t\tidentity: 'Windows',\n\t\t}, {\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Mac',\n\t\t\tidentity: 'Mac',\n\t\t}, {\n\t\t\tstring: navigator.userAgent,\n\t\t\tsubString: 'iPhone',\n\t\t\tidentity: 'iPhone/iPod',\n\t\t}, {\n\t\t\tstring: navigator.platform,\n\t\t\tsubString: 'Linux',\n\t\t\tidentity: 'Linux',\n\t\t},\n\t];\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport type { Iteratee } from './array';\nimport { downcast } from './flow';\nimport { addFloater } from './floater';\nimport * as string from './string';\n\nexport function toggleButton(\n\tonClick?: (enabling: boolean) => void = () => {},\n\tfieldID?: ?string,\n\tenabled?: boolean = false,\n\tonText?: string = i18n('toggleOn'),\n\toffText?: string = i18n('toggleOff'),\n\tisTable?: boolean = false,\n\tusesBatch?: boolean = false,\n) {\n\tconst toggle = string.html`\n\t\t<div ${fieldID && string._html`id=\"${fieldID}Container\"`} class=\"toggleButton ${enabled && 'enabled'}\">\n\t\t\t<span class=\"toggleThumb\"></span>\n\t\t\t<div class=\"toggleLabel ${usesBatch && 'res-icon'}\"\n\t\t\t\t${onText && string._html`data-enabled-text=\"${onText}\"`}\n\t\t\t\t${offText && string._html`data-disabled-text=\"${offText}\"`}\n\t\t\t></div>\n\t\t\t<input id=\"${fieldID}\" name=\"${fieldID}\" type=\"checkbox\" ${enabled && 'checked'}\n\t\t\t\t${isTable && string._html`tableOption=\"true\"`}\n\t\t\t/>\n\t\t</div>\n\t`;\n\n\ttoggle.addEventListener('click', () => {\n\t\tconst checkbox = downcast(toggle.querySelector('input[type=checkbox]'), HTMLInputElement);\n\t\tconst enabling = !checkbox.checked;\n\t\tcheckbox.checked = enabling;\n\t\ttoggle.classList.toggle('enabled', enabling);\n\t\tonClick(enabling);\n\t});\n\n\treturn toggle;\n}\n\nexport function icon(charCode: number, tagName?: string = 'span', className?: string = '', title?: string = '') {\n\tconst icon = document.createElement(tagName);\n\ticon.className = className;\n\ticon.classList.add('res-icon');\n\ticon.textContent = String.fromCharCode(charCode);\n\ticon.setAttribute('title', title);\n\treturn icon;\n}\n\nexport function table<T>(items: T | T[], callback: Iteratee<T, string | string[] | false>): string {\n\t// Sanitize single item into items array\n\titems = [].concat(items);\n\n\tconst description = [];\n\tdescription.push('<table>');\n\n\tfor (const item of items.map(callback)) {\n\t\tif (typeof item === 'string') {\n\t\t\tdescription.push(item);\n\t\t} else if (item) {\n\t\t\tdescription.push(...item);\n\t\t}\n\t}\n\n\tdescription.push('</table>');\n\n\treturn description.join('\\n');\n}\n\nexport function tabMenuItem({ text, aftercontent, className, title, checked, onChange, order }: {|\n\ttext: string,\n\taftercontent?: string,\n\tclassName?: string,\n\ttitle?: string,\n\tchecked?: boolean,\n\tonChange: boolean => any,\n\torder?: number,\n|}): HTMLElement {\n\tconst element = string.html`\n\t\t<li class=\"res-tabmenu-button ${checked && 'selected'} ${className}\">\n\t\t\t<a\n\t\t\t\t${title && string._html`title=\"${title}\"`}\n\t\t\t\t${aftercontent && string._html`aftercontent=\"${aftercontent}\"`}\n\t\t\t>${text}</a>\n\t\t</li>\n\t`;\n\n\taddFloater(element, { container: 'tabMenu', order });\n\n\tconst a = element.querySelector('a');\n\ta.addEventListener('click', () => {\n\t\tchecked = !checked;\n\t\telement.classList.toggle('selected', checked);\n\t\tonChange(checked);\n\t});\n\n\treturn a;\n}\n\nexport function fancyToggleButton(text: string, title: string, getState: () => boolean, callback: boolean => any) {\n\tconst element = document.createElement('span');\n\telement.className = 'res-fancy-toggle-button';\n\telement.title = title;\n\n\tlet state;\n\n\tconst refresh = _state => {\n\t\tif (state === _state) return;\n\t\tstate = _state;\n\t\tif (state) {\n\t\t\telement.textContent = `-${text}`;\n\t\t\telement.classList.add('remove');\n\t\t} else {\n\t\t\telement.textContent = `+${text}`;\n\t\t\telement.classList.remove('remove');\n\t\t}\n\t};\n\n\telement.addEventListener('click', () => {\n\t\tcallback(!state);\n\t\trefresh(!state);\n\t});\n\n\telement.addEventListener('refresh', () => { refresh(getState()); });\n\n\trefresh(getState());\n\n\treturn element;\n}\n","/* @flow */\n\nimport { mutex } from './async';\nimport { NAMED_KEYS } from './keycode';\nimport * as string from './string';\n\nexport const open = mutex((content: HTMLElement | string, { cancelable = false }: {| cancelable?: boolean |} = {}): Promise<void> => new Promise((resolve, reject) => {\n\tconst overlay = string.html`<div id=\"alert_message_background\"></div>`;\n\tconst container = string.html`<div id=\"alert_message\"></div>`;\n\tcontainer.append(content instanceof HTMLElement ? content : string.html`<div>${string.safe(content)}</div>`);\n\tdocument.body.append(overlay, container);\n\n\tfunction confirm() {\n\t\tresolve();\n\t\tclose();\n\t}\n\n\tfunction cancel() {\n\t\treject(new Error('User cancelled alert.'));\n\t\tclose();\n\t}\n\n\tfunction close() {\n\t\tdocument.body.removeEventListener('keyup', listenForEscape);\n\t\tcontainer.remove();\n\t\toverlay.remove();\n\t}\n\n\tfunction listenForEscape(e: KeyboardEvent) {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\tif (cancelable) cancel();\n\t\t\telse confirm();\n\t\t}\n\t}\n\n\tdocument.body.addEventListener('keyup', listenForEscape);\n\n\tif (cancelable) {\n\t\tcontainer.append(\n\t\t\tmakeButton('confirm', 'button-right', confirm),\n\t\t\tmakeButton('cancel', 'button-right', cancel, true)\n\t\t);\n\t} else {\n\t\tcontainer.append(makeButton('ok', undefined, confirm, true));\n\t}\n}));\n\nexport function makeButton(text: string, cls?: string, onClick?: () => void, focus?: boolean) {\n\tconst btn = document.createElement('input');\n\tbtn.setAttribute('type', 'button');\n\tbtn.setAttribute('value', text);\n\tif (onClick) btn.addEventListener('click', onClick);\n\tif (cls) btn.classList.add(cls);\n\tif (focus) requestAnimationFrame(() => { btn.focus(); });\n\treturn btn;\n}\n","/* @flow */\n\nexport const LAST_SELECTED_ENTRY_KEY = 'RES.lastSelectedEntry';\n","/* @flow */\n\nimport _ from 'lodash';\nimport { LAST_SELECTED_ENTRY_KEY } from '../constants/sessionStorage';\nimport type { ScrollStyle } from './dom';\nimport {\n\tThing,\n\tgetPercentageVisibleYAxis,\n\tscrollToElement,\n\twatchForThings,\n\tframeThrottle,\n\tframeDebounce,\n\tidleThrottle,\n} from './';\n\nexport let current: ?Thing;\nlet currentContainer: ?Element;\nlet previous;\n\ntype SelectOptions = {\n\tallowMediaBrowse?: boolean,\n\tscrollStyle: ScrollStyle,\n};\n\ntype SelectOptionsWithDirection = SelectOptions & { direction?: 'down' | 'up' };\n\nconst listeners = { instantly: [], beforePaint: [], idle: [] };\n\nexport function addListener(\n\tcallback: (new_: Thing, old: ?Thing, opt: SelectOptionsWithDirection) => mixed,\n\twhen: $Keys<typeof listeners> = 'idle',\n\tpriority: number = 0\n): void {\n\tcallback.priority = priority;\n\tlisteners[when].push(callback);\n\tlisteners[when].sort((a, b) => a.priority - b.priority);\n}\n\nconst runCallbacks = (() => {\n\tfunction runListeners(listeners, new_, old, opt) {\n\t\tfor (const listener of listeners) try { listener(new_, old, opt); } catch (e) { console.error(e); }\n\t}\n\n\tfunction throttle(throttler, listeners) {\n\t\tlet oldest: ?Thing; // So that `oldest` will equal `new_` from the previous listener invokation\n\n\t\tconst throttled = throttler((new_: Thing, old: ?Thing, opt: SelectOptionsWithDirection) => {\n\t\t\trunListeners(listeners, new_, oldest, opt);\n\t\t\toldest = null;\n\t\t});\n\n\t\treturn (new_, old, opt) => {\n\t\t\tif (!oldest) oldest = old;\n\t\t\tthrottled(new_, old, opt);\n\t\t};\n\t}\n\n\tconst runBeforePaint = throttle(frameThrottle, listeners.beforePaint);\n\tconst runIdle = throttle(idleThrottle, listeners.idle);\n\n\treturn (new_, old, opt) => {\n\t\tif (listeners.instantly.length) runListeners(listeners.instantly, new_, old, opt);\n\t\tif (listeners.beforePaint.length) runBeforePaint(new_, old, opt);\n\t\tif (listeners.idle.length) runIdle(new_, old, opt);\n\t};\n})();\n\nexport function set(_new: Thing, options: SelectOptions = { scrollStyle: 'none' }, force: boolean = false) {\n\tif (!force && _new === current) return;\n\n\tprevious = current;\n\tcurrent = _new;\n\tcurrentContainer = current.element.closest('.sitetable');\n\n\tconst direction = previous && previous.getDirectionOf(current);\n\trunCallbacks(current, previous, { ...options, ...(direction ? { direction } : undefined) });\n}\n\nexport const selectClosestInView = frameDebounce(() => {\n\tif (current && getPercentageVisibleYAxis(current.entry)) return;\n\n\tconst closestToCurrent = current && current.getClosestVisible();\n\tif (closestToCurrent && getPercentageVisibleYAxis(closestToCurrent.entry)) {\n\t\tset(closestToCurrent);\n\t\treturn;\n\t}\n\n\tconst things = Thing.visibleThings();\n\tconst currentIndex = things.indexOf(current);\n\tconst closestThings = _.sortBy(things.filter(thing => thing.isVisible()), thing => Math.abs(things.indexOf(thing) - currentIndex));\n\tconst closestVisible = _.maxBy(closestThings, ({ entry }) => getPercentageVisibleYAxis(entry));\n\tif (closestVisible) set(closestVisible);\n});\n\nexport function refresh() {\n\tif (!current || current.isVisible()) return;\n\tselectClosestInView();\n}\n\nconst movers = {\n\tclosestVisible: (thing: Thing) => thing.getClosestVisible(),\n\tup: (thing: Thing) => thing.getNext({ direction: 'up' }),\n\tdown: (thing: Thing) => thing.getNext({ direction: 'down' }),\n\ttop: (/*:: thing: Thing */) => Thing.visibleThings()[0],\n\tbottom: (/*:: thing: Thing */) => Thing.visibleThings().slice(-1)[0],\n\tupSibling: (thing: Thing) => thing.getNextSibling({ direction: 'up' }) || thing.parent,\n\tdownSibling: (thing: Thing) => thing.getClosest(thing.getNextSibling, { direction: 'down' }),\n\tdownParentSibling: (thing: Thing) => (thing.parent || thing).getClosest(thing.getNextSibling, { direction: 'down' }),\n\tupThread: (thing: Thing) => thing.getThreadTop().getNextSibling({ direction: 'up' }) || thing.getThreadTop(),\n\tdownThread: (thing: Thing) => thing.getThreadTop().getNextSibling({ direction: 'down' }),\n\ttoTopComment: (thing: Thing) => thing.getThreadTop(),\n\ttoParent: (thing: Thing) => thing.parent,\n\tprevious: (/*:: thing: Thing */) => previous,\n};\n\nexport function move(direction: $Keys<typeof movers>, options?: SelectOptionsWithDirection, fallback?: () => ?*) {\n\tif (!current || !current.element.offsetParent) {\n\t\tselectClosestInView();\n\t\treturn;\n\t}\n\n\tconst targetFn = movers[direction];\n\n\tif (!current && targetFn.length) {\n\t\tif (!fallback || !fallback()) throw new Error('Function only works when an entry is current');\n\t}\n\n\tconst target = targetFn((current: any));\n\n\tif (!target) {\n\t\tif (fallback && fallback()) return;\n\n\t\tif (current) return set(current, { scrollStyle: 'middle' });\n\t\tthrow new Error('Could not find a target');\n\t} else if (current === target) {\n\t\tif (current) return set(current, { scrollStyle: 'middle' });\n\t\tthrow new Error('Target already current');\n\t}\n\n\tset(target, options);\n}\n\nlet anchor;\n// Partially visible comments may change height change depending on whether they are current,\n// so it is necessary to anchor them to avoid having viewport move relative to the current thing\n// XXX Can the native browser scroll anchoring achieve this?\naddListener((current, previous, { scrollStyle }) => {\n\tif (\n\t\tprevious && current !== previous &&\n    (['none', 'adopt']: Array<ScrollStyle>).includes(scrollStyle) &&\n    (current.element.classList.contains('res-thing-partial') || previous.element.classList.contains('res-thing-partial'))\n\t) {\n\t\tanchor = {\n\t\t\tto: current.entry.getBoundingClientRect().top,\n\t\t\tfrom: previous.entry.getBoundingClientRect().top,\n\t\t};\n\t} else {\n\t\tanchor = undefined;\n\t}\n}, 'instantly', -Infinity);\n\naddListener((current, previous, { direction, scrollStyle }) => {\n\tscrollToElement(current.entry, previous && previous.entry, { scrollStyle, direction, anchor, waitTillVisible: true });\n}, 'beforePaint', 9);\n\n// Complete tasks on Things when e.g. using keyboardNav or commentNav, so that RES watcher tasks are run before painting\naddListener((current, previous, { scrollStyle, direction }) => {\n\tif (scrollStyle === 'none') return;\n\t// If direction is down, also run tasks between the `previous` and `current` to avoid scroll anchoring issues\n\tThing.runTasksRange(current, direction === 'down' ? previous : undefined, 10, 10);\n}, 'instantly');\n\n// When loading additonal comments, select the first newly loaded comment\nwatchForThings(['comment'], _.throttle(thing => {\n\tif (!current) return;\n\tif (current && document.contains(current.element)) return;\n\tif (currentContainer && currentContainer !== thing.element.closest('.sitetable')) return;\n\tset(thing);\n}, 100, { leading: true, trailing: false }), { immediate: true });\n\nconst lastSelectedKey = `${LAST_SELECTED_ENTRY_KEY}-${location.pathname}`;\nconst getLastSelectedId = () => sessionStorage[lastSelectedKey];\nlet scrollToSelectedThingOnLoad: boolean = false;\nexport const setScrollToSelectedThingOnLoad = (v: boolean) => { scrollToSelectedThingOnLoad = v; };\n\n// Auto select the previous selected thing this session, or the first thing\nconst lastSelectedId = getLastSelectedId();\nwatchForThings(null, thing => {\n\tif (current) return;\n\tif (!lastSelectedId) return set(thing);\n\tif (thing.getFullname() !== lastSelectedId) return;\n\tif (scrollToSelectedThingOnLoad) history.scrollRestoration = 'manual';\n\tset(thing, { scrollStyle: history.scrollRestoration === 'manual' ? 'legacy' : 'none' });\n}, { immediate: true });\n\naddListener(current => {\n\tconst id = current.getFullname();\n\tif (!id) return;\n\tsessionStorage[lastSelectedKey] = id;\n}, 'beforePaint');\n\naddListener((current, previous) => {\n\tif (previous) {\n\t\tprevious.entry.classList.remove('res-selected');\n\t\tprevious.element.classList.remove('res-selected');\n\t}\n\tif (current) {\n\t\tcurrent.entry.classList.add('res-selected');\n\t\tcurrent.element.classList.add('res-selected');\n\t}\n}, 'instantly');\n","/**!\n * Sortable 1.10.1\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n}\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar version = \"1.10.1\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !!\n    /*@__PURE__*/\n    navigator.userAgent.match(pattern);\n  }\n}\n\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\n\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\n\nfunction matches(\n/**HTMLElement*/\nel,\n/**String*/\nselector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n\n  return false;\n}\n\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\n\nfunction closest(\n/**HTMLElement*/\nel,\n/**String*/\nselector,\n/**HTMLElement*/\nctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n\n  return null;\n}\n\nvar R_SPACE = /\\s+/g;\n\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\n\nfunction css(el, prop, val) {\n  var style = el && el.style;\n\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\n\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n\n    } while (!selfOnly && (el = el.parentNode));\n  }\n\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix;\n  /*jshint -W056 */\n\n  return matrixFn && new matrixFn(appliedTransforms);\n}\n\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n        i = 0,\n        n = list.length;\n\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n\n    return list;\n  }\n\n  return [];\n}\n\nfunction getWindowScrollingElement() {\n  if (IE11OrLess) {\n    return document.documentElement;\n  } else {\n    return document.scrollingElement;\n  }\n}\n/**\n * Returns the \"bounding client rect\" of given element\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\n * @param  {[HTMLElement]} container              The parent the element will be placed in\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\n */\n\n\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n\n  if (el !== window && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode; // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect(); // Set relative to edges of padding box of container\n\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n\n      } while (container = container.parentNode);\n    }\n  }\n\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n        scaleX = elMatrix && elMatrix.a,\n        scaleY = elMatrix && elMatrix.d;\n\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n/**\n * Checks if a side of an element is scrolled past a side of its parents\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\n */\n\n\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n      elSideVal = getRect(el)[elSide];\n  /* jshint boss:true */\n\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n        visible = void 0;\n\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n\n  return false;\n}\n/**\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\n * and non-draggable elements\n * @param  {HTMLElement} el       The parent element\n * @param  {Number} childNum      The index of the child\n * @param  {Object} options       Parent Sortable's options\n * @return {HTMLElement}          The child at index childNum, or null if not found\n */\n\n\nfunction getChild(el, childNum, options) {\n  var currentChild = 0,\n      i = 0,\n      children = el.children;\n\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && children[i] !== Sortable.dragged && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n\n      currentChild++;\n    }\n\n    i++;\n  }\n\n  return null;\n}\n/**\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\n * @param  {HTMLElement} el       Parent element\n * @param  {selector} selector    Any other elements that should be ignored\n * @return {HTMLElement}          The last child, ignoring ghostEl\n */\n\n\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n\n  return last || null;\n}\n/**\n * Returns the index of an element within its parent for a selected set of\n * elements\n * @param  {HTMLElement} el\n * @param  {selector} selector\n * @return {number}\n */\n\n\nfunction index(el, selector) {\n  var index = 0;\n\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n  /* jshint boss:true */\n\n\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n\n  return index;\n}\n/**\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\n * The value is returned in real pixels.\n * @param  {HTMLElement} el\n * @return {Array}             Offsets in the format of [left, top]\n */\n\n\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n      offsetTop = 0,\n      winScroller = getWindowScrollingElement();\n\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n          scaleX = elMatrix.a,\n          scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n\n  return [offsetLeft, offsetTop];\n}\n/**\n * Returns the index of the object within the given array\n * @param  {Array} arr   Array that may or may not hold the object\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\n * @return {Number}      The index of the object in the array, or -1\n */\n\n\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n\n  return -1;\n}\n\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n\n  } while (elem = elem.parentNode);\n\n  return getWindowScrollingElement();\n}\n\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n\n  return dst;\n}\n\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\n\nvar _throttleTimeout;\n\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n          _this = this;\n\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\n\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\n\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\n\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\n\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\n\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\n\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n      animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n\n        var fromRect = _objectSpread({}, animationStates[animationStates.length - 1].rect); // If animating: compensate for current animation\n\n\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n\n      var animating = false,\n          animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n            target = state.target,\n            fromRect = target.fromRect,\n            toRect = getRect(target),\n            prevFromRect = target.prevFromRect,\n            prevToRect = target.prevToRect,\n            animatingRect = state.rect,\n            targetMatrix = matrix(target, true);\n\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n\n        target.toRect = toRect;\n\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) && // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        } // if fromRect != toRect: animate\n\n\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n\n          if (!time) {\n            time = _this.options.animation;\n          }\n\n          _this.animate(target, animatingRect, toRect, time);\n        }\n\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n            scaleX = elMatrix && elMatrix.a,\n            scaleY = elMatrix && elMatrix.d,\n            translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n            translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\n\nfunction repaint(target) {\n  return target.offsetWidth;\n}\n\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n\n    this.eventCanceled = false;\n\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return; // Fire global events if it exists in this sortable\n\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread({\n          sortable: sortable\n        }, evt));\n      } // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n\n\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized; // Add default options from plugin\n\n      _extends(defaults, initialized.defaults);\n    });\n\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return; // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n      rootEl = _ref.rootEl,\n      name = _ref.name,\n      targetEl = _ref.targetEl,\n      cloneEl = _ref.cloneEl,\n      toEl = _ref.toEl,\n      fromEl = _ref.fromEl,\n      oldIndex = _ref.oldIndex,\n      newIndex = _ref.newIndex,\n      oldDraggableIndex = _ref.oldDraggableIndex,\n      newDraggableIndex = _ref.newDraggableIndex,\n      originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n      options = sortable.options,\n      onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1); // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n\n  var allEventProperties = _objectSpread({}, extraEventProperties, PluginManager.getEventProperties(name, sortable));\n\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      originalEvent = _ref.evt,\n      data = _objectWithoutProperties(_ref, [\"evt\"]);\n\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\n\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\n\nvar dragEl,\n    parentEl,\n    ghostEl,\n    rootEl,\n    nextEl,\n    lastDownEl,\n    cloneEl,\n    cloneHidden,\n    oldIndex,\n    newIndex,\n    oldDraggableIndex,\n    newDraggableIndex,\n    activeGroup,\n    putSortable,\n    awaitingDragStarted = false,\n    ignoreNextClick = false,\n    sortables = [],\n    tapEvt,\n    touchEvt,\n    lastDx,\n    lastDy,\n    tapDistanceLeft,\n    tapDistanceTop,\n    moved,\n    lastTarget,\n    lastDirection,\n    pastFirstInvertThresh = false,\n    isCircumstantialInvert = false,\n    targetMoveDistance,\n    // For positioning ghost absolutely\nghostRelativeParent,\n    ghostRelativeParentInitialScroll = [],\n    // (left, top)\n_silent = false,\n    savedInputChecked = [];\n/** @const */\n\nvar documentExists = typeof document !== 'undefined',\n    PositionGhostAbsolutely = IOS,\n    CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n    // This will not pass for IE9, because IE9 DnD only works on anchors\nsupportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n    supportCssPointerEvents = function () {\n  if (!documentExists) return; // false when <= IE11\n\n  if (IE11OrLess) {\n    return false;\n  }\n\n  var el = document.createElement('x');\n  el.style.cssText = 'pointer-events:auto';\n  return el.style.pointerEvents === 'auto';\n}(),\n    _detectDirection = function _detectDirection(el, options) {\n  var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n\n  if (elCSS.display === 'flex') {\n    return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n  }\n\n  if (elCSS.display === 'grid') {\n    return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n  }\n\n  if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n    var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n    return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n  }\n\n  return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n},\n    _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n  var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n  return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n},\n\n/**\n * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\n * @param  {Number} x      X position\n * @param  {Number} y      Y position\n * @return {HTMLElement}   Element of the first found nearest Sortable\n */\n_detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n  var ret;\n  sortables.some(function (sortable) {\n    if (lastChild(sortable)) return;\n    var rect = getRect(sortable),\n        threshold = sortable[expando].options.emptyInsertThreshold,\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n\n    if (threshold && insideHorizontally && insideVertically) {\n      return ret = sortable;\n    }\n  });\n  return ret;\n},\n    _prepareGroup = function _prepareGroup(options) {\n  function toFn(value, pull) {\n    return function (to, from, dragEl, evt) {\n      var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n\n      if (value == null && (pull || sameGroup)) {\n        // Default pull value\n        // Default pull and put value if same group\n        return true;\n      } else if (value == null || value === false) {\n        return false;\n      } else if (pull && value === 'clone') {\n        return value;\n      } else if (typeof value === 'function') {\n        return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n      } else {\n        var otherGroup = (pull ? to : from).options.group.name;\n        return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n      }\n    };\n  }\n\n  var group = {};\n  var originalGroup = options.group;\n\n  if (!originalGroup || _typeof(originalGroup) != 'object') {\n    originalGroup = {\n      name: originalGroup\n    };\n  }\n\n  group.name = originalGroup.name;\n  group.checkPull = toFn(originalGroup.pull, true);\n  group.checkPut = toFn(originalGroup.put);\n  group.revertClone = originalGroup.revertClone;\n  options.group = group;\n},\n    _hideGhostForTarget = function _hideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', 'none');\n  }\n},\n    _unhideGhostForTarget = function _unhideGhostForTarget() {\n  if (!supportCssPointerEvents && ghostEl) {\n    css(ghostEl, 'display', '');\n  }\n}; // #1184 fix - Prevent click event on fallback if dragged but item not changed position\n\n\nif (documentExists) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\n\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\n\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n/**\n * @class  Sortable\n * @param  {HTMLElement}  el\n * @param  {Object}       [options]\n */\n\n\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n\n  this.el = el; // root element\n\n  this.options = options = _extends({}, options); // Export instance\n\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults); // Set default options\n\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n\n  _prepareGroup(options); // Bind all private methods\n\n\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  } // Setup drag mode\n\n\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  } // Bind events\n\n\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n\n  sortables.push(this.el); // Restore sorting\n\n  options.store && options.store.get && this.sort(options.store.get(this) || []); // Add animation state manager\n\n  _extends(this, AnimationStateManager());\n}\n\nSortable.prototype =\n/** @lends Sortable.prototype */\n{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart(\n  /** Event|TouchEvent */\n  evt) {\n    if (!evt.cancelable) return;\n\n    var _this = this,\n        el = this.el,\n        options = this.options,\n        preventOnFilter = options.preventOnFilter,\n        type = evt.type,\n        touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n        target = (touch || evt).target,\n        originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n        filter = options.filter;\n\n    _saveInputCheckedState(el); // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n\n\n    if (dragEl) {\n      return;\n    }\n\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    } // cancel dnd if original target is content editable\n\n\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    target = closest(target, options.draggable, el, false);\n\n    if (target && target.animated) {\n      return;\n    }\n\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    } // Get the index of the dragged element within its parent\n\n\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable); // Check filter\n\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    } // Prepare `dragstart`\n\n\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch,\n  /** HTMLElement */\n  target) {\n    var _this = this,\n        el = _this.el,\n        options = _this.options,\n        ownerDocument = el.ownerDocument,\n        dragStartFn;\n\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n\n          return;\n        } // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n\n\n        _this._disableDelayedDragEvents();\n\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        } // Bind the events: dragstart/dragend\n\n\n        _this._triggerDragStart(evt, touch); // Drag start event\n\n\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        }); // Chosen item\n\n\n        toggleClass(dragEl, options.chosenClass, true);\n      }; // Disable \"draggable\"\n\n\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop); // Make dragEl draggable (must be before delay for FireFox)\n\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n\n      pluginEvent('delayStart', this, {\n        evt: evt\n      }); // Delay is impossible for native DnD in Edge or IE\n\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n\n          return;\n        } // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n\n\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler(\n  /** TouchEvent|PointerEvent **/\n  e) {\n    var touch = e.touches ? e.touches[0] : e;\n\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart(\n  /** Event */\n  evt,\n  /** Touch */\n  touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n\n    awaitingDragStarted = false;\n\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n\n      var options = this.options; // Apply effect\n\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost(); // Drag start event\n\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n\n      _hideGhostForTarget();\n\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n\n          target = parent; // store last element\n        }\n        /* jshint boss:true */\n        while (parent = parent.parentNode);\n      }\n\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove(\n  /**TouchEvent*/\n  evt) {\n    if (tapEvt) {\n      var options = this.options,\n          fallbackTolerance = options.fallbackTolerance,\n          fallbackOffset = options.fallbackOffset,\n          touch = evt.touches ? evt.touches[0] : evt,\n          ghostMatrix = ghostEl && matrix(ghostEl),\n          scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n          scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n          relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n          dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n          dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1); // only set the status to dragging, when we are actually dragging\n\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n\n        this._onDragStart(evt, true);\n      }\n\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n          rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n          options = this.options; // Position absolutely\n\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl); // Set transform-origin\n\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart(\n  /**Event*/\n  evt,\n  /**boolean*/\n  fallback) {\n    var _this = this;\n\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n\n      return;\n    }\n\n    pluginEvent('setupClone', this);\n\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n\n      this._hideClone();\n\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    } // #1143: IFrame support workaround\n\n\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n\n      _this._hideClone();\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true); // Set proper drop events\n\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n\n      on(document, 'drop', _this); // #1276 fix:\n\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        target = evt.target,\n        dragRect,\n        targetRect,\n        revert,\n        options = this.options,\n        group = options.group,\n        activeSortable = Sortable.active,\n        isOwner = activeGroup === group,\n        canSort = options.sort,\n        fromSortable = putSortable || activeSortable,\n        vertical,\n        _this = this,\n        completedFired = false;\n\n    if (_silent) return;\n\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    } // Capture animation state\n\n\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n\n      _this.captureAnimationState();\n\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    } // Return invocation when dragEl is inserted (or completed)\n\n\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        } // Animation\n\n\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      } // Null lastTarget if it is not inside a previously swapped element\n\n\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      } // no bubbling and not fallback\n\n\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target); // Do not detect for empty insert if already inserted\n\n\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    } // Call when dragEl has been inserted\n\n\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n\n    ignoreNextClick = false;\n\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n\n      if (revert) {\n        parentEl = rootEl; // actualization\n\n        capture();\n\n        this._hideClone();\n\n        dragOverEvent('revert');\n\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n\n        return completed(true);\n      }\n\n      var elLastChild = lastChild(el, options.draggable);\n\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        } // assign target only if condition is true\n\n\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n\n        if (target) {\n          targetRect = getRect(target);\n        }\n\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          el.appendChild(dragEl);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n            targetBeforeFirstSwap,\n            differentLevel = dragEl.parentNode !== el,\n            differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n            side1 = vertical ? 'top' : 'left',\n            scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n            scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        } // If dragEl is already beside target: Do not insert\n\n\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n            after = false;\n        after = direction === 1;\n\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          } // Undo chrome's scroll adjustment (has no effect on other browsers)\n\n\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n\n          parentEl = dragEl.parentNode; // actualization\n          // must be done before animation\n\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n\n          changed();\n          return completed(true);\n        }\n      }\n\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop(\n  /**Event*/\n  evt) {\n    var el = this.el,\n        options = this.options; // Get the index of the dragged element within its parent\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode; // Get again after plugin event\n\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n\n    if (Sortable.eventCanceled) {\n      this._nulling();\n\n      return;\n    }\n\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n\n    _cancelNextTick(this.cloneId);\n\n    _cancelNextTick(this._dragStartId); // Unbind events\n\n\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n\n    this._offMoveEvents();\n\n    this._offUpEvents();\n\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n\n        _disableDraggable(dragEl);\n\n        dragEl.style['will-change'] = ''; // Remove classes\n        // ghostClass is added in dragStarted\n\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n\n        toggleClass(dragEl, this.options.chosenClass, false); // Drag stop event\n\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            }); // Remove event\n\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            }); // drag from one list and drop into another\n\n\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          }); // Save sorting\n\n\n          this.save();\n        }\n      }\n    }\n\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent(\n  /**Event*/\n  evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n\n        break;\n\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n\n          _globalDragOver(evt);\n        }\n\n        break;\n\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n\n  /**\n   * Serializes the item into an array of string.\n   * @returns {String[]}\n   */\n  toArray: function toArray() {\n    var order = [],\n        el,\n        children = this.el.children,\n        i = 0,\n        n = children.length,\n        options = this.options;\n\n    for (; i < n; i++) {\n      el = children[i];\n\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n\n    return order;\n  },\n\n  /**\n   * Sorts the elements according to the array.\n   * @param  {String[]}  order  order of the items\n   */\n  sort: function sort(order) {\n    var items = {},\n        rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n  },\n\n  /**\n   * Save the current sorting\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n\n  /**\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n   * @param   {HTMLElement}  el\n   * @param   {String}       [selector]  default: `options.draggable`\n   * @returns {HTMLElement|null}\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n\n  /**\n   * Set/get option\n   * @param   {string} name\n   * @param   {*}      [value]\n   * @returns {*}\n   */\n  option: function option(name, value) {\n    var options = this.options;\n\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n\n  /**\n   * Destroy\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    } // Remove draggable attributes\n\n\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n\n    this._onDrop();\n\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n\n      return;\n    }\n\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return; // show clone at dragEl or original position\n\n      if (rootEl.contains(dragEl) && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\n\nfunction _globalDragOver(\n/**Event*/\nevt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n\n  evt.cancelable && evt.preventDefault();\n}\n\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n      sortable = fromEl[expando],\n      onMoveFn = sortable.options.onMove,\n      retVal; // Support for new CustomEvent feature\n\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n\n  return retVal;\n}\n\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\n\nfunction _unsilent() {\n  _silent = false;\n}\n\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var rect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var spacer = 10;\n  return vertical ? evt.clientX > rect.right + spacer || evt.clientX <= rect.right && evt.clientY > rect.bottom && evt.clientX >= rect.left : evt.clientX > rect.right && evt.clientY > rect.top || evt.clientX <= rect.right && evt.clientY > rect.bottom + spacer;\n}\n\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n      targetLength = vertical ? targetRect.height : targetRect.width,\n      targetS1 = vertical ? targetRect.top : targetRect.left,\n      targetS2 = vertical ? targetRect.bottom : targetRect.right,\n      invert = false;\n\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n\n  invert = invert || invertSwap;\n\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * Gets the direction dragEl must be swapped relative to target in order to make it\n * seem that dragEl has been \"inserted\" into that element's position\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\n * @return {Number}                   Direction dragEl must be swapped\n */\n\n\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n/**\n * Generate id\n * @param   {HTMLElement} el\n * @returns {String}\n * @private\n */\n\n\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n      i = str.length,\n      sum = 0;\n\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum.toString(36);\n}\n\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\n\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\n\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n} // Fixed #973:\n\n\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n} // Export utils\n\n\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n/**\n * Get the Sortable instance of an element\n * @param  {HTMLElement} element The element\n * @return {Sortable|undefined}         The instance of Sortable\n */\n\nSortable.get = function (element) {\n  return element[expando];\n};\n/**\n * Mount a plugin to Sortable\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\n */\n\n\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n\n    if (plugin.utils) Sortable.utils = _objectSpread({}, Sortable.utils, plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n/**\n * Create sortable instance\n * @param {HTMLElement}  el\n * @param {Object}      [options]\n */\n\n\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n}; // Export\n\n\nSortable.version = version;\n\nvar autoScrolls = [],\n    scrollEl,\n    scrollRootEl,\n    scrolling = false,\n    lastAutoScrollX,\n    lastAutoScrollY,\n    touchEvt$1,\n    pointerElemChangedInterval;\n\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    }; // Bind all private methods\n\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n          y = (evt.touches ? evt.touches[0] : evt).clientY,\n          elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt; // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n\n      if (fallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback); // Listener for pointer element change\n\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval(); // Detect for pointer elem change, emulating native DnD behaviour\n\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\n\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\n\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\n\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n      y = (evt.touches ? evt.touches[0] : evt).clientY,\n      sens = options.scrollSensitivity,\n      speed = options.scrollSpeed,\n      winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n      scrollCustomFn; // New scroll root, set scrollEl\n\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n\n  var layersOut = 0;\n  var currentParent = scrollEl;\n\n  do {\n    var el = currentParent,\n        rect = getRect(el),\n        top = rect.top,\n        bottom = rect.bottom,\n        left = rect.left,\n        right = rect.right,\n        width = rect.width,\n        height = rect.height,\n        canScrollX = void 0,\n        canScrollY = void 0,\n        scrollWidth = el.scrollWidth,\n        scrollHeight = el.scrollHeight,\n        elCSS = css(el),\n        scrollPosX = el.scrollLeft,\n        scrollPosY = el.scrollTop;\n\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n\n          }\n\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n      putSortable = _ref.putSortable,\n      dragEl = _ref.dragEl,\n      activeSortable = _ref.activeSortable,\n      dispatchSortableEvent = _ref.dispatchSortableEvent,\n      hideGhostForTarget = _ref.hideGhostForTarget,\n      unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\n\nfunction Revert() {}\n\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n        putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n\n    this.sortable.animateAll();\n\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\n\nfunction Remove() {}\n\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n        putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar OnSpill = [Remove, Revert];\n\nvar lastSwapEl;\n\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n          target = _ref2.target,\n          onMove = _ref2.onMove,\n          activeSortable = _ref2.activeSortable,\n          changed = _ref2.changed,\n          cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n          options = this.options;\n\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n          putSortable = _ref3.putSortable,\n          dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\n\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n      p2 = n2.parentNode,\n      i1,\n      i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n    multiDragClones = [],\n    lastMultiDragSelect,\n    // for selection with modifier key down (SHIFT)\nmultiDragSortable,\n    initialFolding = false,\n    // Initial multi-drag fold when drag started\nfolding = false,\n    // Folding any other time\ndragStarted = false,\n    dragEl$1,\n    clonesFromRect,\n    clonesHidden;\n\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n\n    if (sortable.options.supportPointer) {\n      on(document, 'pointerup', this._deselectMultiDrag);\n    } else {\n      on(document, 'mouseup', this._deselectMultiDrag);\n      on(document, 'touchend', this._deselectMultiDrag);\n    }\n\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n          cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n\n      sortable._hideClone();\n\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n          rootEl = _ref3.rootEl,\n          dispatchSortableEvent = _ref3.dispatchSortableEvent,\n          cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n          rootEl = _ref4.rootEl,\n          cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n\n      var sortable = _ref5.sortable,\n          cloneNowHidden = _ref5.cloneNowHidden,\n          cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      }); // Sort multi-drag elements\n\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n        sortable.captureAnimationState();\n\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        } // Remove all auxiliary multidrag items from el, if sorting enabled\n\n\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n          completed = _ref8.completed,\n          cancel = _ref8.cancel;\n\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n          rootEl = _ref9.rootEl,\n          sortable = _ref9.sortable,\n          dragRect = _ref9.dragRect;\n\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n          isOwner = _ref10.isOwner,\n          insertion = _ref10.insertion,\n          activeSortable = _ref10.activeSortable,\n          parentEl = _ref10.parentEl,\n          putSortable = _ref10.putSortable;\n      var options = this.options;\n\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n\n        initialFolding = false; // If leaving sort:false root, or already folding - Fold to new location\n\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute); // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        } // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n\n\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n\n            activeSortable._showClone(sortable); // Unfold animation for clones if showing from hidden\n\n\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n          isOwner = _ref11.isOwner,\n          activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n          rootEl = _ref12.rootEl,\n          parentEl = _ref12.parentEl,\n          sortable = _ref12.sortable,\n          dispatchSortableEvent = _ref12.dispatchSortableEvent,\n          oldIndex = _ref12.oldIndex,\n          putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n          children = parentEl.children; // Multi-drag selection\n\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          }); // Modifier activated, select from last to dragEl\n\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n                currentIndex = index(dragEl$1);\n\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvt: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvt: evt\n          });\n        }\n      } // Multi-drag drop\n\n\n      if (dragStarted && this.isMultiDrag) {\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n              multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect; // Prepare unfold animation\n\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            } // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n\n\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n\n              multiDragIndex++;\n            }); // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n\n              if (update) {\n                dispatchSortableEvent('update');\n              }\n            }\n          } // Must be done after capturing individual rects (scroll bar)\n\n\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n\n        multiDragSortable = toSortable;\n      } // Remove clones if necessary\n\n\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (dragStarted) return; // Only deselect if selection is in this sortable\n\n      if (multiDragSortable !== this.sortable) return; // Only deselect if target is not item in this sortable\n\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return; // Only deselect if left click\n\n      if (evt && evt.button !== 0) return;\n\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvt: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\n       * Selects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be selected\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n\n          multiDragSortable = sortable;\n        }\n\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n\n      /**\n       * Deselects the provided multi-drag item\n       * @param  {HTMLElement} el    The element to be deselected\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n            index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n\n      var oldIndicies = [],\n          newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        }); // multiDragElements will already be sorted if folding\n\n        var newIndex;\n\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n\n        return key;\n      }\n    }\n  });\n}\n\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n/**\n * Insert multi-drag clones\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\n * @param  {HTMLElement} rootEl\n */\n\n\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\n\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nexport default Sortable;\nexport { AutoScrollPlugin as AutoScroll, MultiDragPlugin as MultiDrag, OnSpill, Sortable, SwapPlugin as Swap };\n","/* @flow */\n\n// Import only the functionality of sortablejs which is needed\nimport Sortable, { AutoScroll } from 'sortablejs/modular/sortable.core.esm';\n\nSortable.mount(new AutoScroll());\nexport { Sortable };\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Sortable } from '../vendor';\nimport { i18n } from '../environment';\nimport { downcast, string } from './';\n\nexport function drawOptionBuilder(options: *, mod: *, optionName: *) {\n\tconst option = options[optionName];\n\tconst $addRowButton = $('<button class=\"addRowButton\">');\n\tconst $itemContainer = $('<div class=\"optionBuilder\">');\n\n\t$itemContainer.attr({\n\t\t'data-module-id': mod.moduleID,\n\t\t'data-option-name': optionName,\n\t});\n\t$addRowButton\n\t\t.text(i18n(option.addItemText) || '+add item')\n\t\t.on('click', function() {\n\t\t\tconst $newBody = drawBuilderItem(option.defaultTemplate(), option.customOptionsFields, option.cases);\n\t\t\t$(this).siblings('.optionBuilder:first').trigger('change').append($newBody);\n\t\t\tconst firstText = $newBody.find('input[type=text], textarea')[0];\n\t\t\tif (firstText) {\n\t\t\t\tsetTimeout(() => firstText.focus(), 200);\n\t\t\t}\n\t\t});\n\toption.value.forEach(item => drawBuilderItem(item, option.customOptionsFields, option.cases).appendTo($itemContainer));\n\n\tSortable.create($itemContainer.get(0), { handle: '.handle' });\n\n\treturn $('<div>').append($itemContainer, $addRowButton)[0];\n}\n\nfunction drawBuilderItem(data: *, customOptionsFields: * = [], cases: *) {\n\tconst $editButton = $('<div>')\n\t\t.addClass('res-icon-button res-icon builderControls builderTrailingControls')\n\t\t.html('&#xF061;')\n\t\t.attr('title', 'copy and share, or update your settings with a new version')\n\t\t.on('click', function() {\n\t\t\tconst $item = $(this).closest('.builderItem');\n\t\t\tconst data = readBuilderItem($item, customOptionsFields, cases);\n\t\t\tconst json = prompt(\n\t\t\t\t'Copy this and share it, or paste a new version and update your settings',\n\t\t\t\tJSON.stringify(data)\n\t\t\t);\n\t\t\tif (json !== null) {\n\t\t\t\tconst newData = JSON.parse(json);\n\t\t\t\t$item.trigger('change').replaceWith(drawBuilderItem(newData, customOptionsFields, cases));\n\t\t\t}\n\t\t});\n\n\tconst $deleteButton = drawDeleteButton()\n\t\t.addClass('builderTrailingControls')\n\t\t.on('click', function() {\n\t\t\tif (confirm('Are you sure you want remove this filter?')) {\n\t\t\t\t$(this).trigger('change');\n\t\t\t\t$(this).closest('.builderItem').trigger('change').remove();\n\t\t\t}\n\t\t});\n\n\tconst customOptions = string.html`<ul class=\"builderCustomOptions\"></ul>`;\n\tfor (const fields of customOptionsFields) {\n\t\tconst li = document.createElement('li');\n\t\t$(li).append(drawFields(fields, data.opts || {}));\n\t\tcustomOptions.append(li);\n\t}\n\n\tconst $header = $('<div class=\"builderItemControls\">')\n\t\t.append(\n\t\t\tdrawHandle(),\n\t\t\t$('<textarea name=\"builderNote\" rows=\"2\" cols=\"40\" placeholder=\"Write a description/note for this\">').val(data.note),\n\t\t\t$('<input type=\"hidden\" name=\"version\">').val(data.ver),\n\t\t\t$('<input type=\"hidden\" name=\"id\">').val(data.id),\n\t\t\tcustomOptions,\n\t\t\t$editButton,\n\t\t\t$deleteButton\n\t\t);\n\n\tconst $body = drawBuilderBlock(data.body, cases, false);\n\n\treturn $('<div class=\"builderItem\">').append($header, $body);\n}\n\nfunction drawHandle() {\n\treturn $('<div>')\n\t\t.addClass('res-icon-button res-icon handle builderControls')\n\t\t.html('&#xF0AA;')\n\t\t.attr('title', 'drag and drop to move this condition');\n}\n\nfunction drawDeleteButton() {\n\treturn $('<div>')\n\t\t.addClass('res-icon-button res-icon builderControls')\n\t\t.html('&#xF056;')\n\t\t.attr('title', 'remove this condition');\n}\n\nexport function drawBuilderBlock(data: *, cases: *, addBaseControls: boolean = true) {\n\tif (!cases.hasOwnProperty(data.type)) {\n\t\tconsole.error(`Case type ${data.type} is not available. Ignoring block.`, data);\n\t\t// This also prevents the data from being read, i.e. it will be trashed\n\t\treturn $();\n\t}\n\n\tconst $block = $('<div class=\"builderBlock\">')\n\t\t.attr('data-type', data.type)\n\t\t.append(drawFields(cases[data.type].fields, data, cases));\n\n\tif (!addBaseControls) return $block;\n\n\tconst $deleteButton = drawDeleteButton()\n\t\t.addClass('builderTrailingControls')\n\t\t.on('click', function() {\n\t\t\tif (confirm('Are you sure you want to delete this condition?')) {\n\t\t\t\t$(this).trigger('change');\n\t\t\t\t$(this).closest('.builderWrap').parent('li').remove();\n\t\t\t}\n\t\t});\n\n\treturn $('<div class=\"builderWrap\">')\n\t\t.append(\n\t\t\tdrawHandle(),\n\t\t\t$block,\n\t\t\t$deleteButton\n\t\t);\n}\n\nexport function readBuilderItem(item: *, customOptionsFields: * = [], cases: *) {\n\tconst $firstBlock = $(item).find('> .builderBlock');\n\tconst $header = $(item).find('.builderItemControls');\n\n\treturn {\n\t\tnote: $header.find('textarea[name=builderNote]').val(),\n\t\tver: parseInt($header.find('input[name=version]').val(), 10),\n\t\tid: $header.find('input[name=id]').val(),\n\t\tbody: readBuilderBlock($firstBlock, cases),\n\t\topts: readFields($header.find('.builderCustomOptions li'), _.flatten(customOptionsFields), cases),\n\t};\n}\n\nexport function readBuilderBlock($element: *, cases: *) {\n\tconst type = $element.attr('data-type');\n\tconst BlockClass = cases[type];\n\n\tconst data = { type, ...readFields($element, BlockClass.fields, cases) };\n\n\tconst multiType = BlockClass.fields.find(({ type }) => type === 'multi');\n\tif (!multiType) { // `multi`-types cannot have errors, so avoid duplicating error messages by not validating them\n\t\ttry {\n\t\t\tBlockClass.validate(data);\n\t\t\t$element.removeClass('builderBlock-error');\n\t\t} catch (e) {\n\t\t\t$element\n\t\t\t\t.attr('error', e.message)\n\t\t\t\t.addClass('builderBlock-error');\n\t\t\tthrow e;\n\t\t}\n\t}\n\n\treturn data;\n}\n\nfunction readFields($element, fields, cases) {\n\treturn fields.reduce((acc, field) => {\n\t\tif (typeof field === 'string') return acc;\n\t\tconst $fieldElem = $element.find(`> [name=${field.id}]`);\n\t\tconst fieldModule = builderFields[field.type];\n\t\tif (fieldModule && typeof fieldModule.read === 'function') {\n\t\t\tacc[field.id] = fieldModule.read($fieldElem, field, cases);\n\t\t} else {\n\t\t\tacc[field.id] = $fieldElem.val();\n\t\t}\n\t\treturn acc;\n\t}, {});\n}\n\nfunction drawFields(fields, data, cases) {\n\treturn fields.map(field => {\n\t\tif (typeof field === 'string') return field;\n\n\t\tconst fieldModule = builderFields[field.type];\n\t\tif (fieldModule) {\n\t\t\treturn fieldModule.draw(data, field, cases);\n\t\t} else {\n\t\t\treturn $(`<input type=\"${field.type}\">`)\n\t\t\t\t.attr('name', field.id)\n\t\t\t\t.val(data[field.id]);\n\t\t}\n\t});\n}\n\nconst builderFields = {\n\tmulti: {\n\t\tdraw(data, field, cases = {}) {\n\t\t\tconst $rowWrapper = $('<ul class=\"builderMulti\">').attr('name', field.id);\n\t\t\tconst addItem = itemData => drawBuilderBlock(itemData, cases).appendTo($rowWrapper).wrap('<li>');\n\n\t\t\tconst items = data[field.id];\n\t\t\titems.forEach(addItem);\n\n\t\t\tconst addCaseSelect = downcast(string.html`\n\t\t\t\t<select class=\"addBuilderBlock\">\n\t\t\t\t\t<option>+ add a condition</option>\n\t\t\t\t\t${Object.entries(cases).map(([key, { text }]) => string._html`\n\t\t\t\t\t\t<option value=\"${key}\">${text}</option>\n\t\t\t\t\t`)}\n\t\t\t\t</select>\n\t\t\t`, HTMLSelectElement);\n\t\t\taddCaseSelect.addEventListener('change', () => {\n\t\t\t\tconst type = addCaseSelect.value;\n\t\t\t\tif (type !== '' && cases.hasOwnProperty(type)) {\n\t\t\t\t\taddItem({ type, ...cases[type].defaultConditions })\n\t\t\t\t\t\t.find('input[type=text], input[type=number], textarea').focus();\n\t\t\t\t}\n\n\t\t\t\taddCaseSelect.selectedIndex = 0;\n\t\t\t});\n\n\t\t\tSortable.create($rowWrapper.get(0), { group: 'block', handle: '.handle' });\n\n\t\t\treturn $rowWrapper.add(addCaseSelect);\n\t\t},\n\t\tread($elem, fields, cases) {\n\t\t\treturn $elem.find('> li > .builderWrap > .builderBlock').map(function() {\n\t\t\t\treturn readBuilderBlock($(this), cases);\n\t\t\t}).get();\n\t\t},\n\t},\n\thidden: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\treturn $('<input type=\"hidden\">').attr('name', id).val(data[id]);\n\t\t},\n\t},\n\tnumber: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\treturn $('<input type=\"number\">').attr('name', id).val(data[id]);\n\t\t},\n\t\tread($elem) {\n\t\t\treturn parseInt($elem.val(), 10);\n\t\t},\n\t},\n\tcheck: {\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\tconst $input = $('<input type=\"checkbox\">').prop('checked', data[id]);\n\t\t\treturn $('<label>').attr('name', id).text(field.label).prepend($input);\n\t\t},\n\t\tread($elem) {\n\t\t\treturn $elem.find('input').get(0).checked;\n\t\t},\n\t},\n\tcheckset: {\n\t\tuid: 0,\n\t\tdraw(data, field) {\n\t\t\tconst id = field.id;\n\t\t\tconst prefixId = this.uid++;\n\t\t\tconst $wrap = $('<span class=\"checkset\">').attr('name', field.id);\n\t\t\tfield.items.forEach((e, idx) => {\n\t\t\t\tconst itemId = `checkset-${prefixId}-${idx}X`;\n\t\t\t\tconst $box = $('<input type=\"checkbox\" />')\n\t\t\t\t\t.attr('id', itemId)\n\t\t\t\t\t.attr('name', e);\n\t\t\t\tif (data.hasOwnProperty(id) && data[id].includes(e)) {\n\t\t\t\t\t$box.prop('checked', true);\n\t\t\t\t}\n\t\t\t\tconst $label = $('<label>')\n\t\t\t\t\t.attr('for', itemId)\n\t\t\t\t\t.text(e);\n\t\t\t\t$wrap.append($box, $label);\n\t\t\t});\n\t\t\treturn $wrap;\n\t\t},\n\t\tread($elem, fields) {\n\t\t\treturn fields.items.filter(e => $elem.children(`[name=\"${e}\"]`).prop('checked'));\n\t\t},\n\t},\n\tduration: {\n\t\tdraw(data, field) {\n\t\t\t// Store as milliseconds like JavaScript Date\n\t\t\tlet durr = data[field.id];\n\t\t\tdurr /= 60 * 1000;\n\t\t\tconst minutes = durr % 60;\n\t\t\tdurr = (durr - minutes) / 60;\n\t\t\tconst hours = durr % 24;\n\t\t\tdurr = (durr - hours) / 24;\n\t\t\tconst days = durr;\n\n\t\t\treturn $('<span class=\"durationField\">')\n\t\t\t\t.attr('name', field.id)\n\t\t\t\t.append([\n\t\t\t\t\t$('<input type=\"number\" name=\"days\" />').val(days), ' days ',\n\t\t\t\t\t$('<input type=\"number\" name=\"hours\" />').val(hours), ' hours ',\n\t\t\t\t\t$('<input type=\"number\" name=\"minutes\" />').val(minutes), ' minutes ',\n\t\t\t\t]);\n\t\t},\n\t\tread($elem) {\n\t\t\tconst days = parseFloat($elem.children('[name=days]').val()) || 0;\n\t\t\tconst hours = parseFloat($elem.children('[name=hours]').val()) || 0;\n\t\t\tconst minutes = parseFloat($elem.children('[name=minutes]').val()) || 0;\n\n\t\t\t// Store as milliseconds like JavaScript Date\n\t\t\tlet duration = 0;\n\t\t\tduration += days * 24 * 60 * 60;\n\t\t\tduration += hours * 60 * 60;\n\t\t\tduration += minutes * 60;\n\t\t\tduration *= 1000;\n\n\t\t\treturn duration;\n\t\t},\n\t},\n\tselect: {\n\t\tdraw(data, field) {\n\t\t\tconst value = data[field.id];\n\t\t\tlet entries = field.options;\n\n\t\t\tif (typeof entries === 'string') {\n\t\t\t\tentries = this.getPredefinedChoices(entries);\n\t\t\t}\n\n\t\t\tconst $dropdown = $('<select>').attr('name', field.id);\n\t\t\tentries.forEach(row => {\n\t\t\t\tlet label, value;\n\t\t\t\tif (typeof row === 'string') {\n\t\t\t\t\tlabel = value = row;\n\t\t\t\t} else {\n\t\t\t\t\tlabel = row[0];\n\t\t\t\t\tvalue = row[1];\n\t\t\t\t}\n\t\t\t\t$('<option>').text(label).val(value).appendTo($dropdown);\n\t\t\t});\n\t\t\t$dropdown.val(value);\n\t\t\treturn $dropdown;\n\t\t},\n\t\tgetPredefinedChoices(name) {\n\t\t\tif (name === 'COMPARISON') {\n\t\t\t\treturn [\n\t\t\t\t\t['exactly', '=='],\n\t\t\t\t\t['not', '!='],\n\t\t\t\t\t['more than', '>'],\n\t\t\t\t\t['less than', '<'],\n\t\t\t\t\t['at least', '>='],\n\t\t\t\t\t['at most', '<='],\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tthrow new Error(`Option set \"${name}\" is not defined`);\n\t\t\t}\n\t\t},\n\t},\n};\n","/* @flow */\n\nexport {\n\tLRUCache,\n} from './Cache';\n\nexport {\n\tThing,\n} from './Thing';\n\nexport {\n\tgetPostMetadata,\n} from './thingMetadata';\n\nexport {\n\tasyncEvery,\n\tasyncFilter,\n\tasyncFind,\n\tasyncReduce,\n\tasyncSome,\n\tfilterMap,\n\tforEachSeq,\n} from './array';\n\nexport {\n\tasyncFlow,\n\tfastAsync,\n\tbatch,\n\tforEachChunked,\n\tframeDebounce,\n\tframeThrottle,\n\tthrottleQueuePositionReset,\n\tidleThrottle,\n\tthrottle,\n\tkeyedMutex,\n\tmutex,\n\treifyPromise,\n\twaitFor,\n} from './async';\n\nexport {\n\tcolorFromArray,\n\tcolorToArray,\n} from './color';\n\nexport {\n\taddCSS,\n\tclick,\n\telementInViewport,\n\tempty,\n\tgetViewportSize,\n\tgetHeaderOffset,\n\tgetD2xBodyOffset,\n\tgetPercentageVisibleYAxis,\n\tpreventCloning,\n\tscrollToElement,\n\twaitForChild,\n\twaitForDescendant,\n\twaitForFutureDescendant,\n\twatchForChildren,\n\twatchForFutureChildren,\n\twatchForDescendants,\n\twatchForFutureDescendants,\n\twaitForEvent,\n\twaitForAttach,\n\twaitForDetach,\n} from './dom';\n\nexport {\n\taddFloater,\n} from './floater';\n\nexport {\n\tdowncast,\n} from './flow';\n\nexport {\n\trange,\n\tzip,\n} from './generator';\n\nexport {\n\thashCode,\n\trandomHash,\n} from './hash';\n\nexport {\n\thide,\n\tunhide,\n} from './thingHide';\n\nexport {\n\tescapeHTML,\n} from './html';\n\nexport {\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\thashKeyArray,\n\thashKeyEvent,\n\tniceKeyCode,\n} from './keycode';\n\nexport {\n\tformatDate,\n\tformatDateDiff,\n\tformatDateTime,\n\tformatNumber,\n\tformatRelativeTime,\n} from './localization';\n\nexport {\n\tappType,\n\tcurrentDomain,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\texecRegexes,\n\tisAppType,\n\tisCommentCode,\n\tisCurrentMultireddit,\n\tisCurrentSubreddit,\n\tisEmptyLink,\n\tisPageType,\n\tmatchesPageLocation,\n\tmatchesPageRegex,\n\tfullLocation,\n\tpageType,\n\tregexes,\n} from './location';\n\nexport {\n\tnumericalCompare,\n\tinverseOperator,\n\tprettyOperator,\n\tdeinterpolate,\n\tinterpolate,\n\tprojectInto,\n\tpositiveModulo,\n} from './math';\n\nexport {\n\textendDeep,\n} from './object';\n\nexport {\n\tindexOptionTable,\n} from './options';\n\nexport {\n\tmarkStart,\n\tmarkEnd,\n} from './profiling';\n\nexport {\n\tmaybePruneOldEntries,\n\tshouldPrune,\n} from './storage';\n\nexport {\n\tfakeSubreddits,\n\tisFakeSubreddit,\n} from './subreddits';\n\nexport {\n\tDAY,\n\tHOUR,\n\tMINUTE,\n\tWEEK,\n\tfromSecondsToTime,\n} from './time';\n\nexport {\n\tisLoggedIn,\n\tgetUserInfo,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tdocumentLoggedInUser,\n\tloggedInUserHash,\n\tusernameSelector,\n\tgetUsernameFromLink,\n} from './user';\n\nexport {\n\tfirstValid,\n} from './value';\n\nexport {\n\tregisterPage,\n\tr2WatcherContentLoaded,\n\tr2WatcherSitetableStart,\n\twatchForElements,\n\twatchForThings,\n} from './watchers';\n\nexport {\n\tinitD2xWatcher,\n\twatchForRedditEvents,\n} from './watchers_d2x';\n\nexport * as BodyClasses from './bodyClasses';\n\nexport * as BrowserDetect from './browserDetect';\n\nexport * as CreateElement from './createElement';\n\nexport * as Alert from './alert';\n\nexport * as PagePhases from './pagePhases';\n\nexport * as SelectedThing from './selectedThing';\n\nexport * as caseBuilder from './caseBuilder';\n\nexport * as string from './string';\n","/* @flow */\n\nimport type { PageType, AppType } from '../utils/location';\nimport type { KeyArray } from '../utils/keycode';\n\n// separate because indexer syntax is not supported in normal (no `declare`) classes\ndeclare class Indexable { // eslint-disable-line no-unused-vars\n\t[Symbol | $Keys<this>]: any;\n}\n\nexport class Module<RawOpt: { [string]: any }, Opt: { [string]: ModuleOption<RawOpt> } = RawOpt> /*:: extends Indexable */ {\n\tmoduleID: string;\n\n\tmoduleName: string;\n\tcategory: string = '';\n\tdescription: string = '';\n\tdescriptionRaw: boolean = false; // Whether the message is HTML and should not be run through i18n / markdown\n\tkeywords: Array<string> = [];\n\tbodyClass: boolean = false;\n\toptions: Opt = ({}: any);\n\tinclude: Array<PageType | AppType | RegExp> = [];\n\texclude: Array<PageType | AppType | RegExp> = [];\n\tshouldRun: () => boolean = () => true;\n\tonToggle: (enabling: boolean) => void = () => {};\n\tonSaveSettings: (changedSettings: any) => void = () => {};\n\n\thidden: boolean = false;\n\tdisabledByDefault: boolean = false;\n\talwaysEnabled: boolean = false;\n\tsort: number = 0;\n\n\t// no default value for cleaner profiling (modules without a stage defined won't be timed)\n\tonInit: (() => Promise<void> | void) | void = undefined;\n\tbeforeLoad: (() => Promise<void> | void) | void = undefined;\n\tcontentStart: (() => Promise<void> | void) | void = undefined;\n\tgo: (() => Promise<void> | void) | void = undefined;\n\tafterLoad: (() => Promise<void> | void) | void = undefined;\n\talways: (() => Promise<void> | void) | void = undefined;\n\n\tpermissions: {|\n\t\trequiredPermissions: Array<string>,\n\t\tmessage?: string,\n\t|} = {\n\t\trequiredPermissions: [],\n\t};\n\n\tconstructor(moduleID: string) {\n\t\t/*:: super(); */\n\t\tthis.moduleID = moduleID;\n\t\tthis.moduleName = moduleID;\n\t}\n}\n\nexport type OpaqueModuleId = string | { moduleID: string, module?: void } | { module: { moduleID: string } };\n\nexport function getModuleId(opaqueId: OpaqueModuleId): string {\n\tif (!opaqueId) {\n\t\tthrow new TypeError(`Expected module, moduleID, or namespace; found: ${opaqueId}`);\n\t}\n\n\tif (typeof opaqueId === 'string') {\n\t\t// raw moduleID\n\t\treturn opaqueId;\n\t} else if (opaqueId.module) {\n\t\t// namespace\n\t\treturn opaqueId.module.moduleID;\n\t} else {\n\t\t// assume module-like object\n\t\treturn opaqueId.moduleID;\n\t}\n}\n\nexport type ModuleOption<Ctx> =\n\t| BooleanOption<Ctx>\n\t| TextOption<Ctx>\n\t| EnumOption<Ctx>\n\t| KeycodeOption<Ctx>\n\t| ListOption<Ctx>\n\t| SelectOption<Ctx>\n\t| TableOption<Ctx, any>\n\t| ButtonOption<Ctx>\n\t| ColorOption<Ctx>\n\t| BuilderOption<Ctx>;\n\ntype CommonOptionProps<Ctx> = {|\n\ttitle: string,\n\tdescription: string,\n\tkeywords?: Array<string>,\n\tdependsOn?: (opt: Ctx) => boolean,\n\tadvanced?: boolean,\n\tnoconfig?: boolean,\n\t// Intentionally do not pass in the new value\n\t// so that it must be read out of `module.options[key].value`\n\t// for easier grepping (and to enforce stricter types where possible).\n\tonChange?: () => void,\n|};\n\nexport type BooleanOption<Ctx> = {|\n\ttype: 'boolean',\n\tvalue: boolean,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TextOption<Ctx> = {|\n\ttype: 'text',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type EnumOption<Ctx> = {|\n\ttype: 'enum',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n\tbodyClass?: boolean | string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type KeycodeOption<Ctx> = {|\n\ttype: 'keycode',\n\tvalue: KeyArray,\n\t// special for keyboardNav\n\tgoMode?: boolean,\n\tcallback?: () => void,\n\tinclude?: Array<PageType | AppType | RegExp>,\n\trequiresModules?: Array<OpaqueModuleId>,\n\tmustBeLoggedIn?: boolean,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ListOption<Ctx> = {|\n\ttype: 'list',\n\tlistType: ListType,\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype ListType = 'subreddits';\n\nexport type SelectOption<Ctx> = {|\n\ttype: 'select',\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle: string,\n\t}>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type TableOption<Ctx, V: $ReadOnlyArray<any>> = {|\n\ttype: 'table',\n\taddRowText?: string,\n\tfields: TableField[],\n\tvalue: V[],\n\tsort?: (a: V, b: V) => number,\n\t...CommonOptionProps<Ctx>,\n|};\n\ntype TableField = TextField | BooleanField | ListField | PasswordField | KeycodeField | TextareaField | EnumField | ColorField | SelectField;\n\ntype TextField = {|\n\ttype: 'text',\n\tkey: string,\n\tname: string,\n\tvalue?: string,\n|};\n\ntype BooleanField = {|\n\ttype: 'boolean',\n\tkey: string,\n\tname: string,\n\tvalue: boolean,\n|};\n\ntype ListField = {|\n\ttype: 'list',\n\tkey: string,\n\tname: string,\n\tlistType: ListType,\n|};\n\ntype PasswordField = {|\n\ttype: 'password',\n\tkey: string,\n\tname: string,\n|};\n\ntype KeycodeField = {|\n\ttype: 'keycode',\n\tkey: string,\n\tname: string,\n|};\n\ntype TextareaField = {|\n\ttype: 'textarea',\n\tkey: string,\n\tname: string,\n|};\n\ntype EnumField = {|\n\ttype: 'enum',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t}>,\n|};\n\ntype ColorField = {|\n\ttype: 'color',\n\tkey: string,\n\tname: string,\n|};\n\ntype SelectField = {|\n\ttype: 'select',\n\tkey: string,\n\tname: string,\n\tvalue: string,\n\tvalues: Array<{\n\t\tname: string,\n\t\tvalue: string,\n\t\tstyle?: string,\n\t}>,\n|};\n\nexport type ButtonOption<Ctx> = {|\n\ttype: 'button',\n\ttext?: string | HTMLElement,\n\tcallback?: (() => Promise<void> | void) | string | { moduleID: string },\n\tvalues?: Array<{ text: $PropertyType<ButtonOption<Ctx>, 'text'>, callback: $PropertyType<ButtonOption<Ctx>, 'callback'> }>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type ColorOption<Ctx> = {|\n\ttype: 'color',\n\tvalue: string,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderOption<Ctx> = {|\n\ttype: 'builder',\n\taddItemText: string,\n\tdefaultTemplate: () => BuilderRootValue,\n\tcases: { [string]: BuilderCase<*> },\n\tvalue: BuilderRootValue[],\n\tcustomOptionsFields: Array<Array<BuilderField | string>>,\n\t...CommonOptionProps<Ctx>,\n|};\n\nexport type BuilderRootValue = {|\n\tnote: string,\n\tver: number,\n\tid: string,\n\tbody: BuilderValue,\n\topts?: {\n\t\t[string]: mixed,\n\t\t// Some typed (reserved) values in order to simplify type checking\n\t\tname?: string,\n\t},\n|};\n\nexport type BuilderValue = {\n\ttype: string,\n\t[string]: any,\n};\n\ntype BuilderCase = {\n\ttext: string,\n\tfields: Array<BuilderField | string>,\n};\n\ntype BuilderField = BuilderSelectField | BuilderMultiField | BuilderDurationField | BuilderChecksetField | BuilderNumberField | BuilderCheckboxField | BuilderGenericInputField;\n\ntype PredefinedSelectChoice = 'COMPARISON';\n\ntype BuilderSelectField = {|\n\ttype: 'select',\n\toptions: Array<string | [string, string]> | PredefinedSelectChoice,\n\tid: string,\n|};\n\ntype BuilderMultiField = {|\n\ttype: 'multi',\n\tinclude: 'all',\n\tid: string,\n|};\n\ntype BuilderDurationField = {|\n\ttype: 'duration',\n\tid: string,\n|};\n\ntype BuilderChecksetField = {|\n\ttype: 'checkset',\n\titems: string[],\n\tid: string,\n|};\n\ntype BuilderNumberField = {|\n\ttype: 'number',\n\tid: string,\n|};\n\ntype BuilderCheckboxField = {|\n\ttype: 'check',\n\tid: string,\n\tlabel: string,\n|};\n\ntype BuilderGenericInputField = {|\n\ttype: string,\n\tid: string,\n|};\n","/* @flow */\n\nimport { Storage } from '../../environment';\n\nexport const storage = Storage.wrapBlob('RES.modulePrefs',\n\t(): boolean => { throw new Error('Default module enabled state should never be accessed'); });\n\nexport function setEnabled(moduleId: string, enable: boolean) {\n\treturn storage.set(moduleId, enable);\n}\n","import $ from 'jquery';\n\n/**\n * guiders.js\n *\n * version 2.0.0\n *\n * Released under the Apache License 2.0.\n * www.apache.org/licenses/LICENSE-2.0.html\n *\n * Questions about Guiders?\n * Email me (Jeff Pickhardt) at pickhardt@gmail.com\n *\n * Questions about Optimizely? Email one of the following:\n * sales@optimizely.com or support@optimizely.com\n *\n * Enjoy!\n */\n\nexport const guiders = {};\n\n(() => {\n  guiders.version = \"2.0.0\";\n\n  guiders._defaultSettings = {\n    attachTo: null, // Selector of the element to attach to.\n    autoFocus: false, // Determines whether or not the browser scrolls to the element.\n    buttons: [{name: \"Close\"}],\n    buttonCustomHTML: \"\",\n    classString: null,\n    closeOnEscape: false,\n    description: \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\",\n    highlight: null,\n    isHashable: true,\n    maxWidth: null,\n    offset: {\n      top: null,\n      left: null\n    },\n    onClose: null,\n    onHide: null,\n    onShow: null,\n    overlay: false,\n    position: 0, // 1-12 follows an analog clock, 0 means centered.\n    shouldSkip: function() {}, // Optional handler allows you to skip a guider if returns true.\n    title: \"Sample title goes here\",\n    width: 400,\n    xButton: false // This places a closer \"x\" button in the top right of the guider.\n  };\n\n  guiders._htmlSkeleton = [\n    \"<div class='guider'>\",\n    \"  <div class='guiders_content'>\",\n    \"    <h1 class='guiders_title'></h1>\",\n    \"    <div class='guiders_close'></div>\",\n    \"    <p class='guiders_description'></p>\",\n    \"    <div class='guiders_buttons_container'>\",\n    \"    </div>\",\n    \"  </div>\",\n    \"  <div class='guiders_arrow'>\",\n    \"  </div>\",\n    \"</div>\"\n  ].join(\"\");\n\n  guiders._arrowSize = 42; // This is the arrow's width and height.\n  guiders._backButtonTitle = \"Back\";\n  guiders._buttonAttributes = {\"href\": \"javascript:void(0);\"};\n  guiders._buttonClassName = \"guiders_button\"; // Override this if you use a different class name for your buttons.\n  guiders._buttonClickEvent = \"click touch\"; // Using click touch allows this to trigger with iPad/iPhone taps, as well as browser clicks\n  guiders._buttonElement = \"<a></a>\"; // Override this if you want to use a different element for your buttons, like spans.\n  guiders._closeButtonTitle = \"Close\";\n  guiders._currentGuiderID = null;\n  guiders._fixedOrAbsolute = \"fixed\";\n  guiders._guiders = {};\n  guiders._lastCreatedGuiderID = null;\n  guiders._nextButtonTitle = \"Next\";\n  guiders._offsetNameMapping = {\n    \"topLeft\": 11,\n    \"top\": 12,\n    \"topRight\": 1,\n    \"rightTop\": 2,\n    \"right\": 3,\n    \"rightBottom\": 4,\n    \"bottomRight\": 5,\n    \"bottom\": 6,\n    \"bottomLeft\": 7,\n    \"leftBottom\": 8,\n    \"left\": 9,\n    \"leftTop\": 10\n  };\n  guiders._windowHeight = 0;\n\n  // Basic IE browser detection\n  var ieBrowserMatch = navigator.userAgent.match(/MSIE\\s([\\d.]+)/);\n  guiders._isIE = ieBrowserMatch && ieBrowserMatch.length > 1;\n  guiders._ieVersion = ieBrowserMatch && ieBrowserMatch.length > 1 ? Number(ieBrowserMatch[1]) : -1;\n\n  guiders._addButtons = function(myGuider) {\n    var guiderButtonsContainer = myGuider.elem.find(\".guiders_buttons_container\");\n\n    if (myGuider.buttons === null || myGuider.buttons.length === 0) {\n      guiderButtonsContainer.remove();\n      return;\n    }\n\n    for (var i = myGuider.buttons.length - 1; i >= 0; i--) {\n      var thisButton = myGuider.buttons[i];\n      var thisButtonElem = $(guiders._buttonElement,\n        $.extend({\"class\" : guiders._buttonClassName, \"html\" : thisButton.name }, guiders._buttonAttributes, thisButton.html || {})\n      );\n\n      if (typeof thisButton.classString !== \"undefined\" && thisButton.classString !== null) {\n        thisButtonElem.addClass(thisButton.classString);\n      }\n\n      guiderButtonsContainer.append(thisButtonElem);\n\n      var thisButtonName = thisButton.name.toLowerCase();\n      if (thisButton.onclick) {\n        thisButtonElem.bind(guiders._buttonClickEvent, thisButton.onclick);\n      } else {\n        switch (thisButtonName) {\n          case guiders._closeButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              guiders.hideAll();\n              if (myGuider.onClose) {\n                myGuider.onClose(myGuider, false /* close by button */);\n              }\n              $(\"body\").trigger(\"guidersClose\");\n            });\n            break;\n          case guiders._nextButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              !myGuider.elem.data(\"locked\") && guiders.next();\n            });\n            break;\n          case guiders._backButtonTitle.toLowerCase():\n            thisButtonElem.bind(guiders._buttonClickEvent, function () {\n              !myGuider.elem.data(\"locked\") && guiders.prev();\n            });\n            break;\n        }\n      }\n    }\n\n    if (myGuider.buttonCustomHTML !== \"\") {\n      var myCustomHTML = $(myGuider.buttonCustomHTML);\n      myGuider.elem.find(\".guiders_buttons_container\").append(myCustomHTML);\n    }\n\n    if (myGuider.buttons.length === 0) {\n      guiderButtonsContainer.remove();\n    }\n  };\n\n  guiders._addXButton = function(myGuider) {\n    var xButtonContainer = myGuider.elem.find(\".guiders_close\");\n    var xButton = $(\"<div></div>\", {\n      \"class\" : \"guiders_x_button\",\n      \"role\" : \"button\"\n    });\n    xButtonContainer.append(xButton);\n    xButton.click(function() {\n      guiders.hideAll();\n      if (myGuider.onClose) {\n        myGuider.onClose(myGuider, true);\n       }\n       $(\"body\").trigger(\"guidersClose\");\n    });\n  };\n\n  guiders._attach = function(myGuider) {\n    if (typeof myGuider !== 'object') {\n      return;\n    }\n\n    var attachTo = $(myGuider.attachTo);\n\n    var myHeight = myGuider.elem.innerHeight();\n    var myWidth = myGuider.elem.innerWidth();\n\n    if (myGuider.position === 0 || attachTo.length === 0) {\n      var fixedOrAbsolute = \"fixed\";\n      if (guiders._isIE && guiders._ieVersion < 9) {\n        fixedOrAbsolute = \"absolute\";\n      }\n      myGuider.elem.css(\"position\", fixedOrAbsolute);\n      myGuider.elem.css(\"top\", ($(window).height() - myHeight) / 3 + \"px\");\n      myGuider.elem.css(\"left\", ($(window).width() - myWidth) / 2 + \"px\");\n      return;\n    }\n\n    // Otherwise, the guider is positioned relative to the attachTo element.\n    var base = attachTo.offset();\n    var top = base.top;\n    var left = base.left;\n\n    // topMarginOfBody corrects positioning if body has a top margin set on it.\n    var topMarginOfBody = $(\"body\").outerHeight(true) - $(\"body\").outerHeight(false);\n    top -= topMarginOfBody;\n\n    // Now, take into account how the guider should be positioned relative to the attachTo element.\n    // e.g. top left, bottom center, etc.\n    if (guiders._offsetNameMapping[myGuider.position]) {\n      // As an alternative to the clock model, you can also use keywords to position the guider.\n      myGuider.position = guiders._offsetNameMapping[myGuider.position];\n    }\n\n    var attachToHeight = attachTo.innerHeight();\n    var attachToWidth = attachTo.innerWidth();\n    var bufferOffset = 0.9 * guiders._arrowSize;\n\n    // offsetMap follows the form: [height, width]\n    var offsetMap = {\n      1: [-bufferOffset - myHeight, attachToWidth - myWidth],\n      2: [0, bufferOffset + attachToWidth],\n      3: [attachToHeight/2 - myHeight/2, bufferOffset + attachToWidth],\n      4: [attachToHeight - myHeight, bufferOffset + attachToWidth],\n      5: [bufferOffset + attachToHeight, attachToWidth - myWidth],\n      6: [bufferOffset + attachToHeight, attachToWidth/2 - myWidth/2],\n      7: [bufferOffset + attachToHeight, 0],\n      8: [attachToHeight - myHeight, -myWidth - bufferOffset],\n      9: [attachToHeight/2 - myHeight/2, -myWidth - bufferOffset],\n      10: [0, -myWidth - bufferOffset],\n      11: [-bufferOffset - myHeight, 0],\n      12: [-bufferOffset - myHeight, attachToWidth/2 - myWidth/2]\n    };\n\n    var offset = offsetMap[myGuider.position];\n    top += offset[0];\n    left += offset[1];\n\n    var positionType = \"absolute\";\n    // If the element you are attaching to is position: fixed, then we will make the guider\n    // position: fixed as well.\n    if (attachTo.css(\"position\") === \"fixed\" && guiders._fixedOrAbsolute === \"fixed\") {\n      positionType = \"fixed\";\n      top -= $(window).scrollTop();\n      left -= $(window).scrollLeft();\n    }\n\n    // If you specify an additional offset parameter when you create the guider, it gets added here.\n    if (myGuider.offset.top !== null) {\n      top += myGuider.offset.top;\n    }\n    if (myGuider.offset.left !== null) {\n      left += myGuider.offset.left;\n    }\n\n    guiders._styleArrow(myGuider);\n\n    // Finally, set the style of the guider and return it!\n    myGuider.elem.css({\n      \"position\": positionType,\n      \"top\": top,\n      \"left\": left\n    });\n\n    return myGuider;\n  };\n\n  guiders._dehighlightElement = function(selector) {\n    $(selector).removeClass('guiders_highlight');\n  };\n\n  guiders._hideOverlay = function() {\n    $(\"#guiders_overlay\").fadeOut(\"fast\");\n  };\n\n  guiders._highlightElement = function(selector) {\n    $(selector).addClass('guiders_highlight');\n  };\n\n  guiders._initializeOverlay = function() {\n    if ($(\"#guiders_overlay\").length === 0) {\n      $(\"<div id='guiders_overlay'></div>\").hide().appendTo(\"body\");\n    }\n  };\n\n  guiders._showOverlay = function(myGuider) {\n    // This callback is needed to fix an IE opacity bug.\n    // See also:\n    // http://www.kevinleary.net/jquery-fadein-fadeout-problems-in-internet-explorer/\n    $(\"#guiders_overlay\").fadeIn(\"fast\", function(){\n      if (this.style.removeAttribute) {\n        this.style.removeAttribute(\"filter\");\n      }\n    });\n    if (guiders._isIE) {\n      $(\"#guiders_overlay\").css(\"position\", \"absolute\");\n    }\n  };\n\n  guiders._styleArrow = function(myGuider) {\n    var position = myGuider.position || 0;\n    if (!position) {\n      return;\n    }\n    var myGuiderArrow = $(myGuider.elem.find(\".guiders_arrow\"));\n    var newClass = {\n      1: \"guiders_arrow_down\",\n      2: \"guiders_arrow_left\",\n      3: \"guiders_arrow_left\",\n      4: \"guiders_arrow_left\",\n      5: \"guiders_arrow_up\",\n      6: \"guiders_arrow_up\",\n      7: \"guiders_arrow_up\",\n      8: \"guiders_arrow_right\",\n      9: \"guiders_arrow_right\",\n      10: \"guiders_arrow_right\",\n      11: \"guiders_arrow_down\",\n      12: \"guiders_arrow_down\"\n    };\n    myGuiderArrow.addClass(newClass[position]);\n\n    var myHeight = myGuider.elem.innerHeight();\n    var myWidth = myGuider.elem.innerWidth();\n    var arrowOffset = guiders._arrowSize / 2;\n    var positionMap = {\n      1: [\"right\", arrowOffset],\n      2: [\"top\", arrowOffset],\n      3: [\"top\", myHeight/2 - arrowOffset],\n      4: [\"bottom\", arrowOffset],\n      5: [\"right\", arrowOffset],\n      6: [\"left\", myWidth/2 - arrowOffset],\n      7: [\"left\", arrowOffset],\n      8: [\"bottom\", arrowOffset],\n      9: [\"top\", myHeight/2 - arrowOffset],\n      10: [\"top\", arrowOffset],\n      11: [\"left\", arrowOffset],\n      12: [\"left\", myWidth/2 - arrowOffset]\n    };\n    var position = positionMap[myGuider.position];\n    myGuiderArrow.css(position[0], position[1] + \"px\");\n  };\n\n  /**\n   * One way to show a guider to new users is to direct new users to a URL such as\n   * http://www.mysite.com/myapp#guider=welcome\n   *\n   * This can also be used to run guiders on multiple pages, by redirecting from\n   * one page to another, with the guider id in the hash tag.\n   *\n   * Alternatively, if you use a session variable or flash messages after sign up,\n   * you can add selectively add JavaScript to the page: \"guiders.show('first');\"\n   */\n  guiders._showIfHashed = function(myGuider) {\n    var GUIDER_HASH_TAG = \"guider=\";\n    var hashIndex = window.location.hash.indexOf(GUIDER_HASH_TAG);\n    if (hashIndex !== -1) {\n      var hashGuiderId = window.location.hash.substr(hashIndex + GUIDER_HASH_TAG.length);\n      if (myGuider.id.toLowerCase() === hashGuiderId.toLowerCase()) {\n        guiders.show(myGuider.id);\n      }\n    }\n  };\n\n  guiders._updatePositionOnResize = function() {\n    // Change the bubble position after browser gets resized\n    var _resizing = undefined;\n    $(window).resize(function() {\n      if (typeof(_resizing) !== \"undefined\") {\n        clearTimeout(_resizing); // Prevents seizures\n      }\n      _resizing = setTimeout(function() {\n        _resizing = undefined;\n        if (typeof (guiders) !== \"undefined\") {\n          guiders.reposition();\n        }\n      }, 20);\n    });\n  };\n  guiders._updatePositionOnResize();\n\n  guiders._unwireEscape = function (myGuider) {\n    $(document).unbind(\"keydown\");\n  };\n\n  guiders._wireEscape = function (myGuider) {\n    $(document).keydown(function(event) {\n      if (event.keyCode == 27 || event.which == 27) {\n        guiders.hideAll();\n        if (myGuider.onClose) {\n          myGuider.onClose(myGuider, true /*close by X/Escape*/);\n        }\n        $(\"body\").trigger(\"guidersClose\");\n        return false;\n      }\n    });\n  };\n\n  guiders.createGuider = function(passedSettings) {\n    if (passedSettings === null || passedSettings === undefined) {\n      passedSettings = {};\n    }\n\n    // Extend those settings with passedSettings\n    var myGuider = $.extend({}, guiders._defaultSettings, passedSettings);\n    myGuider.id = myGuider.id || \"guider_random_\" + String(Math.floor(Math.random() * 1000));\n\n    var guiderElement = $(\"#\" + myGuider.id);\n    if (!guiderElement.length) {\n      // If the guider already exists in the DOM, use that, as an alternate guider instantiation method.\n      // See the docs and $.fn.guider for more details.\n      // Otherwise, use the html skeleton.\n      guiderElement = $(guiders._htmlSkeleton);\n    }\n\n    myGuider.elem = guiderElement;\n    if (typeof myGuider.classString !== \"undefined\" && myGuider.classString !== null) {\n      myGuider.elem.addClass(myGuider.classString);\n    }\n\n    // You may pass a parameter to width/maxwidth as either a string or a number.\n    // If it's a number then it is assumed to be in px.\n    if (Number(myGuider.width) === myGuider.width) {\n      myGuider.width = String(myGuider.width) + \"px\";\n    }\n    if (Number(myGuider.maxWidth) === myGuider.maxWidth) {\n      myGuider.maxWidth = String(myGuider.maxWidth) + \"px\";\n    }\n    myGuider.elem.css(\"width\", myGuider.width);\n    myGuider.elem.css(\"maxWidth\", myGuider.maxWidth);\n\n    var guiderTitleContainer = guiderElement.find(\".guiders_title\");\n    guiderTitleContainer.html(myGuider.title);\n\n    guiderElement.find(\".guiders_description\").html(myGuider.description);\n\n    guiders._addButtons(myGuider);\n\n    if (myGuider.xButton) {\n        guiders._addXButton(myGuider);\n    }\n\n    guiderElement.hide();\n    guiderElement.appendTo(\"body\");\n    guiderElement.attr(\"id\", myGuider.id);\n\n    // Ensure myGuider.attachTo is a jQuery element.\n    if (typeof myGuider.attachTo !== \"undefined\" && myGuider !== null) {\n      guiders._attach(myGuider);\n    }\n\n    guiders._initializeOverlay();\n\n    guiders._guiders[myGuider.id] = myGuider;\n    if (guiders._lastCreatedGuiderID != null) {\n      myGuider.prev = guiders._lastCreatedGuiderID;\n    }\n    guiders._lastCreatedGuiderID = myGuider.id;\n\n    /**\n     * If the URL of the current window is of the form\n     * http://www.myurl.com/mypage.html#guider=id\n     * then show this guider.\n     */\n    if (myGuider.isHashable) {\n      guiders._showIfHashed(myGuider);\n    }\n\n    return guiders;\n  };\n\n  guiders.get = function(id) {\n    if (typeof guiders._guiders[id] === \"undefined\") {\n      return null;\n    }\n    return guiders._guiders[id] || null;\n  };\n\n  guiders.getCurrentGuider = function() {\n    return guiders._guiders[guiders._currentGuiderID] || null;\n  };\n\n  guiders.hideAll = function(omitHidingOverlay, next) {\n    next = next || false;\n\n    $(\".guider:visible\").each(function(index, elem){\n      var myGuider = guiders.get($(elem).attr('id'));\n      if (myGuider.onHide) {\n        myGuider.onHide(myGuider, next);\n      }\n    });\n    $(\".guider\").fadeOut(\"fast\");\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (currentGuider && currentGuider.highlight) {\n       guiders._dehighlightElement(currentGuider.highlight);\n    }\n    if (typeof omitHidingOverlay !== \"undefined\" && omitHidingOverlay === true) {\n      // do nothing for now\n    } else {\n      guiders._hideOverlay();\n    }\n    return guiders;\n  };\n\n  guiders.next = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      return null;\n    }\n    currentGuider.elem.data(\"locked\", true);\n\n    var nextGuiderId = currentGuider.next || null;\n    if (nextGuiderId !== null && nextGuiderId !== \"\") {\n      var nextGuider = guiders.get(nextGuiderId);\n      var omitHidingOverlay = nextGuider.overlay ? true : false;\n      guiders.hideAll(omitHidingOverlay, true);\n      if (currentGuider && currentGuider.highlight) {\n        guiders._dehighlightElement(currentGuider.highlight);\n      }\n\n      if (nextGuider.shouldSkip && nextGuider.shouldSkip()) {\n        guiders._currentGuiderID = nextGuider.id;\n        guiders.next();\n        return guiders.getCurrentGuider();\n      }\n      else {\n        guiders.show(nextGuiderId);\n        return guiders.getCurrentGuider();\n      }\n    }\n  };\n\n  guiders.prev = function () {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      // not what we think it is\n      return null;\n    }\n    if (currentGuider.prev === null) {\n      // no previous to look at\n      return null;\n    }\n\n    var prevGuider = guiders._guiders[currentGuider.prev];\n    prevGuider.elem.data(\"locked\", true);\n\n    // Note we use prevGuider.id as \"prevGuider\" is _already_ looking at the previous guider\n    var prevGuiderId = prevGuider.id || null;\n    if (prevGuiderId !== null && prevGuiderId !== \"\") {\n      var myGuider = guiders.get(prevGuiderId);\n      var omitHidingOverlay = myGuider.overlay ? true : false;\n      guiders.hideAll(omitHidingOverlay, true);\n      if (prevGuider && prevGuider.highlight) {\n        guiders._dehighlightElement(prevGuider.highlight);\n      }\n      guiders.show(prevGuiderId);\n      return myGuider;\n    }\n  };\n\n  guiders.reposition = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    guiders._attach(currentGuider);\n  };\n\n  guiders.scrollToCurrent = function() {\n    var currentGuider = guiders._guiders[guiders._currentGuiderID];\n    if (typeof currentGuider === \"undefined\") {\n      return;\n    }\n\n    var windowHeight = guiders._windowHeight;\n    var scrollHeight = $(window).scrollTop();\n    var guiderOffset = currentGuider.elem.offset();\n    var guiderElemHeight = currentGuider.elem.height();\n\n    // Scroll to the guider's position.\n    var scrollToHeight = Math.round(Math.max(guiderOffset.top + (guiderElemHeight / 2) - (windowHeight / 2), 0));\n    window.scrollTo(0, scrollToHeight);\n  };\n\n  guiders.show = function(id) {\n    if (!id && guiders._lastCreatedGuiderID) {\n      id = guiders._lastCreatedGuiderID;\n    }\n\n    var myGuider = guiders.get(id);\n    if (myGuider.overlay) {\n      guiders._showOverlay(myGuider);\n      // if guider is attached to an element, make sure it's visible\n      if (myGuider.highlight && myGuider.attachTo) {\n        guiders._highlightElement(myGuider.attachTo);\n      }\n    }\n\n    if (myGuider.closeOnEscape) {\n      guiders._wireEscape(myGuider);\n    } else {\n      guiders._unwireEscape(myGuider);\n    }\n\n    // You can use an onShow function to take some action before the guider is shown.\n    if (myGuider.onShow) {\n      myGuider.onShow(myGuider);\n    }\n    guiders._attach(myGuider);\n    myGuider.elem.fadeIn(\"fast\").data(\"locked\", false);\n\n    guiders._currentGuiderID = id;\n\n    var windowHeight = guiders._windowHeight = $(window).height();\n    var scrollHeight = $(window).scrollTop();\n    var guiderOffset = myGuider.elem.offset();\n    var guiderElemHeight = myGuider.elem.height();\n\n    var isGuiderBelow = (scrollHeight + windowHeight < guiderOffset.top + guiderElemHeight); /* we will need to scroll down */\n    var isGuiderAbove = (guiderOffset.top < scrollHeight); /* we will need to scroll up */\n\n    if (myGuider.autoFocus && (isGuiderBelow || isGuiderAbove)) {\n      // Sometimes the browser won't scroll if the person just clicked,\n      // so let's do this in a setTimeout.\n      setTimeout(guiders.scrollToCurrent, 10);\n    }\n\n    $(myGuider.elem).trigger(\"guiders.show\");\n\n    return guiders;\n  };\n})();\n","/* @flow */\n\nimport { Storage } from '../../environment';\nimport { getModuleId } from '../module';\nimport type { OpaqueModuleId } from '../module';\n\n// Don't batch in Firefox, as that may make the storage very slow on init\nexport const storage = Storage.wrapPrefix('RESoptions.', (): { [string]: any } => ({}), undefined, process.env.BUILD_TARGET !== 'firefox');\n\nexport const loadRaw = (moduleId: string) => storage.get(moduleId);\n\nexport async function get(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst options = await storage.get(getModuleId(opaqueId));\n\treturn options && options[optionKey];\n}\n\nexport async function getValue(opaqueId: OpaqueModuleId, optionKey: string) {\n\tconst option = await get(getModuleId(opaqueId), optionKey);\n\treturn option && option.value;\n}\n\nexport function set(opaqueId: OpaqueModuleId, optionKey: string, value: mixed) {\n\tif ((/_[\\d]+$/).test(optionKey)) {\n\t\toptionKey = optionKey.replace(/_[\\d]+$/, '');\n\t}\n\n\treturn storage.patch(getModuleId(opaqueId), { [optionKey]: { value } });\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport { filterMap } from '../../utils';\n\nfunction getModified() {\n\treturn filterMap(Modules.all(), module => {\n\t\tconst { moduleID, options } = module;\n\n\t\tconst enabledByDefault = !module.disabledByDefault;\n\t\tconst isEnabled = Modules.isEnabled(module);\n\t\tconst moduleStatusChanged = enabledByDefault !== isEnabled;\n\n\t\tconst modifiedOptions = isEnabled ? _.omitBy(options, v => _.isEqual(v.value, v.default)) : {};\n\n\t\tif (!_.isEmpty(modifiedOptions) || moduleStatusChanged) {\n\t\t\treturn [{\n\t\t\t\tmoduleID,\n\t\t\t\tmodifiedOptions,\n\t\t\t\tmoduleStatus: moduleStatusChanged ? `${enabledByDefault ? 'on' : 'off'}  ${isEnabled ? 'on' : 'off'}` : '',\n\t\t\t}];\n\t\t}\n\t});\n}\n\nexport function getModifiedText(types: Array<*> = ['text', 'boolean', 'enum']) {\n\tconst lines = [];\n\tlet optionMaxLength = 0;\n\tlet moduleMaxLength = 0;\n\n\tfor (const { moduleID, modifiedOptions, moduleStatus } of getModified()) {\n\t\tmoduleMaxLength = Math.max(moduleMaxLength, moduleID.length);\n\t\toptionMaxLength = Math.max(optionMaxLength, ...Object.keys(modifiedOptions).map(v => v.length));\n\n\t\tlines.push(() =>\n\t\t\t[\n\t\t\t\t`    ${moduleID.padEnd(moduleMaxLength)} ${moduleStatus}`,\n\t\t\t\t...Object.entries(modifiedOptions)\n\t\t\t\t\t.filter(([, { type }]) => types.includes(type))\n\t\t\t\t\t.map(([key, value]) => (\n\t\t\t\t\t\t`      ${key.padEnd(optionMaxLength)}\\t${JSON.stringify(value.default)}  ${JSON.stringify(value.value)}`\n\t\t\t\t\t)),\n\t\t\t]\n\t\t);\n\t}\n\n\treturn _.flatten(lines.map(v => v())).join('\\n');\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport { save } from './options';\n\nlet stagedOptions;\n\nclearStagedOptions();\n\nexport { stageOption as add };\nfunction stageOption(moduleID: string, optionName: string, optionValue: mixed) {\n\tconst mod = Modules.get(moduleID);\n\n\tstagedOptions[moduleID] = stagedOptions[moduleID] || {};\n\n\tif (!_.isEqual(mod.options[optionName].value, optionValue)) {\n\t\t// new option value, add to stage\n\t\tstagedOptions[moduleID][optionName] = {\n\t\t\tvalue: optionValue,\n\t\t};\n\t} else {\n\t\t// staged value is the same as stored, remove option from stage\n\t\tdelete stagedOptions[moduleID][optionName];\n\t}\n\n\tif (_.isEmpty(stagedOptions[moduleID])) {\n\t\t// no staged options for module, remove module from stage\n\t\tdelete stagedOptions[moduleID];\n\t}\n}\n\nexport { commitStagedOptions as commit };\nfunction commitStagedOptions() {\n\tfor (const [modId, options] of Object.entries(stagedOptions)) {\n\t\tconst module = Modules.get(modId);\n\n\t\tfor (const [optionName, option] of Object.entries(options)) {\n\t\t\tconst _option = module.options[optionName];\n\t\t\t_option.value = option.value;\n\t\t\tsave(_option);\n\t\t}\n\n\t\tmodule.onSaveSettings(options);\n\t}\n\n\tclearStagedOptions();\n}\n\nexport { clearStagedOptions as reset };\nfunction clearStagedOptions() {\n\tstagedOptions = {};\n}\n\nexport { hasStagedOptions as isDirty };\nfunction hasStagedOptions() {\n\treturn !_.isEmpty(stagedOptions);\n}\n\nexport { getStagedOptions as get };\nfunction getStagedOptions(moduleID: string) {\n\treturn stagedOptions[moduleID];\n}\n","/* @flow */\n\nimport * as Modules from '../modules';\nimport { firstValid } from '../../utils';\nimport type { OpaqueModuleId } from '../module';\nimport { set } from './storage';\n\nexport function getMatchingValueOrAdd(\n\topaqueId: OpaqueModuleId,\n\toptionKey: string,\n\tvalueIdentifier: *,\n\t_default?: *,\n) {\n\tconst module = Modules.get(opaqueId);\n\n\tconst option = module.options[optionKey];\n\tif (option.type !== 'table') {\n\t\tthrow new Error(`Tried to save table value to non-table option: modules.${module.moduleID}.options.${optionKey}`);\n\t}\n\n\tlet row = option.value.find(value =>\n\t\toption.fields.every((field, i) => !valueIdentifier.hasOwnProperty(field.key) || value[i] === valueIdentifier[field.key])\n\t);\n\n\tif (!row) {\n\t\tconst value = { ...valueIdentifier, ..._default };\n\t\trow = option.fields.map(field => firstValid(value[field.key], field.value));\n\t\toption.value.push(row);\n\t\tset(module, optionKey, option.value);\n\t}\n\n\treturn option.fields.reduce((acc, field, i) => {\n\t\tObject.defineProperty(acc, field.key, {\n\t\t\tenumerable: true,\n\t\t\tget: () => row[i],\n\t\t\tset: v => {\n\t\t\t\trow[i] = v;\n\t\t\t\tset(module, optionKey, option.value);\n\t\t\t},\n\t\t});\n\t\treturn acc;\n\t}, {});\n}\n","/* @flow */\n\nexport {\n\tsave,\n} from './options';\n\nexport {\n\tloadRaw,\n\tget,\n\tgetValue,\n\tset,\n\tstorage,\n} from './storage';\n\nexport {\n\tgetModifiedText,\n} from './modified';\n\nexport * as stage from './stage';\n\nexport * as table from './table';\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { NAMED_KEYS, getViewportSize, frameThrottle, waitForEvent, waitForDetach } from '../utils';\n\nexport const module: Module<*> = new Module('hover');\n\nmodule.moduleName = 'hoverName';\nmodule.category = 'coreCategory';\nmodule.description = 'hoverDesc';\nmodule.alwaysEnabled = true;\n\nmodule.options = {\n\tinstances: {\n\t\tdescription: 'hoverInstancesDesc',\n\t\ttitle: 'hoverInstancesTitle',\n\t\ttype: 'table',\n\t\tvalue: ([]: Array<[string, boolean]>),\n\t\tfields: [{\n\t\t\tkey: 'id',\n\t\t\tname: 'hoverInstancesName',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'hoverInstancesEnabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}],\n\t},\n\topenDelay: {\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'hoverOpenDelayDesc',\n\t\ttitle: 'hoverOpenDelayTitle',\n\t},\n\tfadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'hoverFadeDelayDesc',\n\t\ttitle: 'hoverFadeDelayTitle',\n\t},\n\tfadeSpeed: {\n\t\tnoconfig: true, // broken\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'hoverFadeSpeedDesc',\n\t\ttitle: 'hoverFadeSpeedTitle',\n\t},\n\twidth: {\n\t\ttype: 'text',\n\t\tvalue: '512',\n\t\tdescription: 'hoverWidthDesc',\n\t\ttitle: 'hoverWidthTitle',\n\t},\n\tcloseOnMouseOut: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hoverCloseOnMouseOutDesc',\n\t\ttitle: 'hoverCloseOnMouseOutTitle',\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tHover._defaultOptions = {\n\t\topenDelay: parseFloat(module.options.openDelay.value),\n\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\twidth: parseFloat(module.options.width.value),\n\t\tcloseOnMouseOut: module.options.closeOnMouseOut.value,\n\t\tenabled: true,\n\t};\n};\n\nconst instances: { [string]: Hover } = {};\nconst getInstance = (TypeClass, id) => instances[id] || (instances[id] = new TypeClass(id));\n\nexport const infocard = (name: string) => getInstance(HoverInfoCard, name);\nexport const dropdownList = (name: string) => getInstance(HoverDropdownList, name);\n\nfunction getFixedParent(e: Element): ?Element {\n\tconst p = e.parentElement;\n\treturn p && (window.getComputedStyle(p).position === 'fixed' && e || getFixedParent(p));\n}\n\nexport const pin = {\n\tbottom: 'bottom',\n\tright: 'right',\n};\n\ntype HoverContents = JQuery | HTMLElement | DocumentFragment | string | null;\ntype HoverCallback = (self: Hover) => Promise<HoverContents[]> | HoverContents[];\n\nclass Hover {\n\tstatic _defaultOptions = {};\n\n\ttemplate: string = `\n\t\t<div class=\"RESHover\">\n\t\t\t<div data-hover-element=\"0\" />\n\t\t\t<div data-hover-element=\"1\" />\n\t\t\t<div data-hover-element=\"2\" />\n\t\t\t<div data-hover-element=\"3\" />\n\t\t</div>\n\t`;\n\n\t_options: { [string]: any } = Hover._defaultOptions;\n\tinstanceID: string;\n\n\tvisible: boolean = false;\n\t_hideTimer: TimeoutID | null = null;\n\t_showTimer: TimeoutID | null = null;\n\t_closeFadeTimer: TimeoutID | null = null;\n\t_target: HTMLElement | void;\n\t_callback: HoverCallback | void;\n\t_container: HTMLElement | void;\n\n\t_fixedPosition: boolean = false;\n\n\t_closePromise: Promise<*>;\n\t_closePromiseResolve: () => void;\n\n\tconstructor(id: string) {\n\t\tthis.instanceID = id;\n\t}\n\n\toptions(options: { [string]: mixed }, persistent: boolean = true) {\n\t\tconst persistentOptions = persistent ?\n\t\t\tOptions.table.getMatchingValueOrAdd(module, 'instances', { id: this.instanceID }, { enabled: true }) : undefined;\n\n\t\tthis._options = {\n\t\t\t...this._options,\n\t\t\t...options,\n\t\t\t...persistentOptions,\n\t\t};\n\n\t\treturn this;\n\t}\n\n\ttarget(element: HTMLElement) {\n\t\tif (this._target && this._target !== element) {\n\t\t\tthis.close();\n\t\t}\n\n\t\tthis._target = element;\n\n\t\treturn this;\n\t}\n\n\tgetCheckedTarget(): HTMLElement {\n\t\tif (!this._target || !this._target.offsetParent) {\n\t\t\tthis.close();\n\t\t\tthrow new Error('Cannot show hover without target; closing hover.');\n\t\t}\n\t\treturn this._target;\n\t}\n\n\tpopulateWith(callback: HoverCallback) {\n\t\tthis._callback = callback;\n\n\t\treturn this;\n\t}\n\n\tgetContainer() {\n\t\tconst container = this._container = this._container || this._render();\n\n\t\tif (!document.body.contains(container)) {\n\t\t\tdocument.body.append(container);\n\t\t}\n\n\t\treturn container;\n\t}\n\n\t_render() {\n\t\tconst ele = $(this.template).get(0);\n\t\tthis._addContainerHandlers(ele);\n\t\tif (this._options.className) ele.classList.add(this._options.className);\n\t\treturn ele;\n\t}\n\n\t_checkMouseLeave = frameThrottle(({ target }: MouseEvent) => {\n\t\tif (\n\t\t\tthis.visible &&\n\t\t\tthis._options.closeOnMouseOut &&\n\t\t\t!this.getCheckedTarget().contains(target) &&\n\t\t\t// Also check that the mouse is not in a \"child\" hover (e.g. by opening the user tagger via userInfo)\n\t\t\t!Object.values(instances).some(instance => instance._container && instance._container.contains(target))\n\t\t) this._startHideTimer();\n\t});\n\n\t_addContainerHandlers(ele: HTMLElement) {\n\t\t$(ele)\n\t\t\t.on('mouseenter', () => {\n\t\t\t\tthis._cancelHideTimer();\n\t\t\t\tthis._clearCloseFade();\n\t\t\t})\n\t\t\t.on('mouseleave', this._checkMouseLeave)\n\t\t\t.on('click', '.RESCloseButton', () => this.close())\n\t\t\t.on('keyup', (e: KeyboardEvent) => {\n\t\t\t\tif (e.key === NAMED_KEYS.Escape) this.close();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t});\n\t}\n\n\tbegin() {\n\t\tif (!this._options.enabled) return false;\n\n\t\tif (this._options.openDelay) {\n\t\t\tthis._startShowTimer();\n\t\t} else {\n\t\t\tthis.open();\n\t\t}\n\t}\n\n\twatch(selector: string) {\n\t\t$(document.body).on('mouseenter', selector, ({ target }: MouseEvent) => {\n\t\t\tthis.target(target)\n\t\t\t\t.begin();\n\t\t});\n\t}\n\n\topen() {\n\t\tif (!this._options.enabled) return false;\n\n\t\tthis._cancelShowTimer();\n\t\tthis._cancelHideTimer();\n\t\tthis._clearCloseFade();\n\n\t\tconst callback = this._callback;\n\t\tif (!callback) throw new Error();\n\n\t\tif (this._closePromiseResolve) this._closePromiseResolve();\n\t\tthis._closePromise = new Promise(res => { this._closePromiseResolve = res; });\n\n\t\tthis._displayLoadIndicator();\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tthis.populate(await callback(this));\n\t\t\t} catch (e) {\n\t\t\t\tthis.close();\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t})();\n\n\t\t// The element may be removed without the hover being closed first\n\t\twaitForDetach(this.getCheckedTarget(), this._closePromise).then(() => { this.close(); })\n\t\t\t.catch(() => { /* avoid \"uncaught promise rejection\" */ });\n\n\t\tif (this._options.closeOnMouseOut) {\n\t\t\t// `mouseleave` may not be triggered, so add additonal checks\n\t\t\tdocument.body.addEventListener('mousemove', this._checkMouseLeave);\n\t\t\tdocument.body.addEventListener('mouseover', this._checkMouseLeave);\n\t\t}\n\n\t\tthis.visible = true;\n\t}\n\n\t_displayLoadIndicator() {}\n\n\tasync refresh() {\n\t\tconst callback = this._callback;\n\t\tif (callback) this.populate(await callback(this));\n\t}\n\n\tpopulate(items: HoverContents[]) {\n\t\tif (!this._options.enabled) return false;\n\n\t\tconst container = this.getContainer();\n\n\t\titems.forEach((item, i) => {\n\t\t\tif (!item) return;\n\t\t\tconst $element = $(container).find(`[data-hover-element=\"${i}\"]`);\n\t\t\t$element.children().detach(); // allow re-use of elements with jQuery event handlers\n\t\t\t$element.empty().append((item: any)); // The JQuery Flow declaration doesn't allow for `DocumentFragment`\n\t\t});\n\n\t\tconst fixedParent = getFixedParent(this.getCheckedTarget());\n\t\tif (fixedParent) {\n\t\t\tthis._fixedPosition = true;\n\n\t\t\t// If the fixed parent scrolls (e.g. if it has a scrollbar, like in lightboxes), then the container loses\n\t\t\t// position sync with the target.\n\t\t\t// I am not able to figure out a way to keep them together without requiring CSS recalc on each `scroll`\n\t\t\tconst onScroll = () => {\n\t\t\t\tthis.close(false);\n\t\t\t\tfixedParent.removeEventListener('scroll', onScroll, true);\n\t\t\t};\n\t\t\tfixedParent.addEventListener('scroll', onScroll, true);\n\t\t}\n\n\t\tthis._updatePosition();\n\t}\n\n\t_positionContainer({ top = 'auto', right = 'auto', bottom = 'auto', left = 'auto' }: { top?: *, right?: *, bottom?: *, left?: * }) {\n\t\t$(this.getContainer()).css({\n\t\t\tposition: this._fixedPosition ? 'fixed' : 'absolute',\n\t\t\ttop: top !== 'auto' ? top + (this._fixedPosition ? 0 : window.scrollY) : 'auto',\n\t\t\tright: right !== 'auto' ? right + (this._fixedPosition ? 0 : window.scrollX) : 'auto',\n\t\t\tbottom: bottom !== 'auto' ? bottom + (this._fixedPosition ? 0 : window.scrollY) : 'auto',\n\t\t\tleft: left !== 'auto' ? left + (this._fixedPosition ? 0 : window.scrollX) : 'auto',\n\t\t});\n\t}\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left } = target.getBoundingClientRect();\n\t\tthis._positionContainer({ top, left });\n\t}\n\n\t// Ensure a stable `this` for timer starters / cancellers, so that they can be referenced when adding / remove event listeners\n\n\t_startShowTimer = () => {\n\t\tif (this._showTimer) return;\n\t\tthis._cancelHideTimer();\n\t\twaitForEvent(this.getCheckedTarget(), 'mouseleave').then(this._cancelShowTimer);\n\t\tthis._showTimer = setTimeout(() => this.open(), this._options.openDelay);\n\t};\n\n\t_cancelShowTimer = () => {\n\t\tif (!this._showTimer) return;\n\t\tclearTimeout(this._showTimer);\n\t\tthis._showTimer = null;\n\t};\n\n\tresetShowTimer() {\n\t\tif (this._showTimer) {\n\t\t\tthis._cancelShowTimer();\n\t\t\tthis._startShowTimer();\n\t\t}\n\t}\n\n\t_startHideTimer = () => {\n\t\tif (this._hideTimer || this._closeFadeTimer) return;\n\t\tthis._cancelShowTimer();\n\t\tthis._hideTimer = setTimeout(() => this.close(true), this._options.fadeDelay);\n\t};\n\n\t_cancelHideTimer = () => {\n\t\tif (!this._hideTimer) return;\n\t\tclearTimeout(this._hideTimer);\n\t\tthis._hideTimer = null;\n\t};\n\n\t_startCloseFade() {\n\t\tif (this._closeFadeTimer) return;\n\t\tthis._closeFadeTimer = setTimeout(() => { this.remove(); }, this._options.fadeSpeed * 1000);\n\t\tthis.getContainer().style.transitionDuration = `${this._options.fadeSpeed}s`;\n\t\tthis.getContainer().classList.add('transitionToTransparent');\n\t}\n\n\t_clearCloseFade() {\n\t\tif (!this._closeFadeTimer) return;\n\t\tclearTimeout(this._closeFadeTimer);\n\t\tthis.getContainer().style.transitionDuration = '';\n\t\tthis.getContainer().classList.remove('transitionToTransparent');\n\t\tthis._closeFadeTimer = null;\n\t}\n\n\tclose(fade: boolean = false) {\n\t\tif (!this._options.enabled) return false;\n\n\t\tthis._cancelShowTimer();\n\t\tthis._cancelHideTimer();\n\n\t\tif (fade) this._startCloseFade();\n\t\telse this.remove();\n\t}\n\n\tremove() {\n\t\tthis._clearCloseFade();\n\t\tthis.getContainer().remove();\n\t\tif (this._closePromiseResolve) this._closePromiseResolve();\n\t\tthis.visible = false;\n\n\t\tif (this._options.closeOnMouseOut) {\n\t\t\tdocument.body.removeEventListener('mousemove', this._checkMouseLeave);\n\t\t\tdocument.body.removeEventListener('mouseover', this._checkMouseLeave);\n\t\t}\n\t}\n}\n\nclass HoverInfoCard extends Hover {\n\ttemplate = `\n\t\t<div class=\"RESHover RESHoverInfoCard RESDialogSmall\">\n\t\t\t<h3 class=\"RESHoverTitle\" data-hover-element=\"0\"></h3>\n\t\t\t<div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESHoverBody RESDialogContents\" data-hover-element=\"1\"></div>\n\t\t</div>\n\t`;\n\n\t_loadIndicator = '<div class=\"RESCenteredLoadIndicator\"><span class=\"RESLoadingSpinner\"></span></div>';\n\n\t_displayLoadIndicator() {\n\t\tthis.populate(['', this._loadIndicator]);\n\t}\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left, bottom, right } = target.getBoundingClientRect();\n\t\tconst $container = $(this.getContainer()).removeClass('right below');\n\n\t\tconst tooltipWidth = this._options.width;\n\t\tlet tooltipLeft, tooltipTop;\n\n\t\tif (!this._options.pin && right + tooltipWidth + 25 < getViewportSize().width) {\n\t\t\ttooltipTop = top - 14;\n\t\t\ttooltipLeft = right + 25;\n\t\t} else if (this._options.pin === pin.bottom || left - tooltipWidth - 30 < 0) {\n\t\t\t$container.addClass('below');\n\t\t\ttooltipTop = bottom + 10;\n\t\t\ttooltipLeft = Math.min(Math.max(getViewportSize().width - tooltipWidth, 0), left);\n\t\t} else {\n\t\t\t$container.addClass('right');\n\t\t\ttooltipTop = top - 14;\n\t\t\ttooltipLeft = left - tooltipWidth - 30;\n\t\t}\n\n\t\t$container.get(0).style.width = `${tooltipWidth}px`;\n\t\tthis._positionContainer({ left: tooltipLeft, top: tooltipTop });\n\t}\n}\n\nclass HoverDropdownList extends Hover {\n\ttemplate = `\n\t\t<div class=\"RESHover RESHoverDropdownList RESDropdownList\">\n\t\t\t<ul class=\"RESDropdownOptions\" data-hover-element=\"0\"></ul>\n\t\t</div>\n\t`;\n\n\t_options = {\n\t\t...Hover._defaultOptions,\n\t\tpin: pin.bottom,\n\t\toffsetWidth: 0,\n\t\toffsetHeight: 2,\n\t\tbottomPadding: 10,\n\t};\n\n\t_updatePosition() {\n\t\tconst target = this.getCheckedTarget();\n\t\tconst { top, left, height, width } = target.getBoundingClientRect();\n\t\tconst $container = $(this.getContainer());\n\n\t\tswitch (this._options.pin) {\n\t\t\tcase pin.right:\n\t\t\t\tconst bottomAlign = top + $container.height() + this._options.bottomPadding > getViewportSize().height;\n\t\t\t\tif (bottomAlign) {\n\t\t\t\t\tthis._positionContainer({ left: left + width, bottom: this._options.bottomPadding });\n\t\t\t\t} else {\n\t\t\t\t\tthis._positionContainer({ left: left + width, top: top + this._options.offsetHeight });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase pin.bottom:\n\t\t\t\t// falls through\n\t\t\tdefault:\n\t\t\t\tconst leftAlign = left + $container.outerWidth() < getViewportSize().width;\n\t\t\t\tif (leftAlign) {\n\t\t\t\t\tthis._positionContainer({ left, top: top + height + this._options.offsetHeight });\n\t\t\t\t} else {\n\t\t\t\t\tthis._positionContainer({ right: getViewportSize().width - left - width + this._options.offsetWidth, top: top + height + this._options.offsetHeight });\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { sanitize } from 'dompurify';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tNAMED_KEYS,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tdowncast,\n\tempty,\n\tloggedInUser,\n\tstring,\n} from '../utils';\nimport { Storage, XhrCache, ajax, openNewTab } from '../environment';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('commandLine');\n\nmodule.moduleName = 'commandLineName';\nmodule.description = 'commandLineDesc';\nmodule.category = 'coreCategory';\nmodule.options = {\n\tlaunch: {\n\t\ttitle: 'commandLineLaunchTitle',\n\t\ttype: 'button',\n\t\ttext: 'Launch',\n\t\tdescription: 'commandLineLaunchDesc',\n\t\tcallback() { open(); },\n\t},\n\tmenuItem: {\n\t\ttitle: 'commandLineMenuItemTitle',\n\t\ttype: 'boolean',\n\t\tdescription: 'commandLineMenuItemDesc',\n\t\tvalue: false,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.menuItem.value) {\n\t\taddMenuItem();\n\t}\n};\n\nfunction addMenuItem() {\n\tMenu.addMenuItem(\n\t\t() => string.html`<div>command line <span class=\"RESMenuItemButton res-icon\">\\uF060</span></div>`,\n\t\t() => open(),\n\t);\n}\n\nconst commandLine = _.once(() => {\n\tconst widget = string.html`\n\t\t<div id=\"keyCommandLineWidget\" hidden>\n\t\t\t<div id=\"keyCommandForm\">\n\t\t\t\t<input id=\"keyCommandInput\" type=\"text\" autocomplete=\"off\">\n\t\t\t\ttype a command, ? for help, esc to close\n\t\t\t\t<div id=\"keyCommandInputTip\"></div>\n\t\t\t\t<div id=\"keyCommandInputError\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tdocument.body.append(widget);\n\n\tconst input = downcast(widget.querySelector('#keyCommandInput'), HTMLInputElement);\n\n\tconst tip = widget.querySelector('#keyCommandInputTip');\n\tconst error = widget.querySelector('#keyCommandInputError');\n\n\tconst setTip = str => { tip.innerHTML = sanitize(str); };\n\tconst clearTip = () => empty(tip);\n\tconst setError = str => { error.innerHTML = sanitize(str); };\n\tconst clearError = () => empty(error);\n\n\tinput.addEventListener('blur', () => {\n\t\tif (!input.value.length) {\n\t\t\tclose();\n\t\t} else {\n\t\t\tsetError('click into the text input and press escape to close the command line');\n\t\t}\n\t});\n\n\tdocument.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (!widget.hidden && e.key === NAMED_KEYS.Escape) {\n\t\t\tclose();\n\t\t\te.stopImmediatePropagation();\n\t\t}\n\t});\n\n\tinput.addEventListener('input', async () => {\n\t\tclearTip();\n\t\tclearError();\n\t\tconst tip = await getTip(parse(input.value));\n\t\tif (tip) setTip(tip);\n\t});\n\n\tconst commandLineForm = widget.querySelector('#keyCommandForm');\n\tcommandLineForm.addEventListener('keydown', async (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\tconst error = await executeCommand(parse(input.value), e);\n\t\t\tif (error) {\n\t\t\t\tsetError(error);\n\t\t\t} else if (error !== false) {\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\t});\n\n\treturn { widget, input };\n});\n\nexport function open(initialCmd: string = '') {\n\tcommandLine().widget.hidden = false;\n\tcommandLine().input.focus();\n\tcommandLine().input.value = initialCmd;\n\tcommandLine().input.dispatchEvent(new Event('input'));\n}\n\nfunction close() {\n\tcommandLine().input.blur();\n\tcommandLine().widget.hidden = true;\n}\n\nexport function toggle() {\n\tif (commandLine().widget.hidden) open();\n\telse close();\n}\n\nfunction navigateTo(url, e) {\n\tif (e.shiftKey) {\n\t\t// background tab if e.altKey\n\t\topenNewTab(url, !e.altKey);\n\t} else {\n\t\tlocation.href = url;\n\t}\n}\n\nconst commands = [];\n\nexport function registerCommand<T>(\n\tcommandPredicate: RegExp | string | (cmd: string, val: string) => false | void | null | T,\n\tdescription: string | string[] | false,\n\tgetTip: (cmd: string, val: string, predResult: T) => string | false | void | null | Promise<string>,\n\texecuteCommand: (cmd: string, val: string, predResult: T, e: KeyboardEvent) => string | false | void | null | Promise<string | void>\n) {\n\tcommands.push({\n\t\tcommandPredicate,\n\t\tdescription,\n\t\tgetTip,\n\t\texecuteCommand,\n\t});\n}\n\nfunction getCommandSpec(command, val) {\n\tlet result;\n\tcommands.some(commandSpec => {\n\t\tlet predicateResult;\n\t\tif (typeof commandSpec.commandPredicate.exec === 'function') {\n\t\t\tpredicateResult = commandSpec.commandPredicate.exec(command);\n\t\t} else if (typeof commandSpec.commandPredicate === 'string') {\n\t\t\tpredicateResult = commandSpec.commandPredicate === command;\n\t\t} else if (typeof commandSpec.commandPredicate === 'function') {\n\t\t\tpredicateResult = commandSpec.commandPredicate(command, val);\n\t\t}\n\t\tif (predicateResult) {\n\t\t\tresult = {\n\t\t\t\t...commandSpec,\n\t\t\t\tpredicateResult,\n\t\t\t};\n\t\t\treturn true;\n\t\t}\n\t});\n\treturn result;\n}\n\nfunction parse(input) {\n\tconst splitWords = input.split(' ');\n\tconst command = splitWords[0];\n\tconst value = splitWords.slice(1).join(' ');\n\treturn { command, value };\n}\n\nfunction getTip({ command, value }) {\n\tconst matchingCommandSpec = getCommandSpec(command, value);\n\tif (matchingCommandSpec) {\n\t\treturn matchingCommandSpec.getTip(command, value, matchingCommandSpec.predicateResult) ||\n\t\t\tmatchingCommandSpec.description;\n\t}\n}\n\nfunction executeCommand({ command, value }, event) {\n\t// see what kind of input it is:\n\tconst matchingCommandSpec = getCommandSpec(command, value);\n\tif (matchingCommandSpec) {\n\t\treturn matchingCommandSpec.executeCommand(command, value, matchingCommandSpec.predicateResult, event);\n\t} else {\n\t\treturn 'unknown command - type ? for help';\n\t}\n}\n\nregisterCommand(/^\\/?r\\/(.*)/, 'r/[subreddit] - navigates to subreddit',\n\t(command, val, match) => `navigate to subreddit: ${match[1]}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(`/r/${match[1]}`, e);\n\t}\n);\n\nregisterCommand(/^\\/?m\\/(.*)/, 'm/[multi] - view your multi-reddit [multi]',\n\t(command, val, match) => `navigate to multi-reddit: /me/m/${match[1]}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(`/me/m/${match[1]}`, e);\n\t}\n);\n\nregisterCommand('m', 'm - go to inbox',\n\t() => 'View messages',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/message/inbox/', e);\n\t}\n);\n\nregisterCommand('mm', 'mm - go to moderator mail',\n\t() => 'View moderator mail',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/message/moderator/', e);\n\t}\n);\n\nregisterCommand('front', 'front - go to frontpage',\n\t() => 'Go to frontpage',\n\t(command, value, match, e) => {\n\t\tnavigateTo('/', e);\n\t}\n);\n\nregisterCommand(/^XHR/, 'XHRCache clear - manipulate the XHR cache',\n\t() => 'clear - clear the cache (use if inline images aren\\'t loading properly)',\n\t(command, value) => {\n\t\tif ((/^\\s*$/).test(value)) {\n\t\t\treturn 'Operation required [clear]';\n\t\t}\n\n\t\tswitch (value) {\n\t\t\tcase 'clear':\n\t\t\t\tXhrCache.clear();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn 'The only accepted operation is <tt>clear</tt>';\n\t\t}\n\t}\n);\n\n\nregisterCommand(/^user$|^u$|^\\/?u(?:ser)?\\/(\\w*((?!\\/m\\/).)*)$/, 'user [username] or u/[username] - view profile for [username]',\n\t(command, val, match) => {\n\t\tval = val || match[1];\n\t\tif (!val && loggedInUser()) {\n\t\t\treturn 'go to profile';\n\t\t} else if (!val) {\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn `go to profile for: ${val}`;\n\t\t}\n\t},\n\t(command, val, match, e) => {\n\t\tval = val || match[1] || loggedInUser();\n\t\tif (!val) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tnavigateTo(`/u/${val}`, e);\n\t}\n);\n\nregisterCommand(/^\\/?u(?:ser)?\\/(\\w+)\\/m(?:\\/(.+))?/, 'u/[username]/m/[multi] - view the multireddit [multi] curated by [username]',\n\t(command, val, match) => `navigate to multi-reddit: /u/${match[1]}/m/${match[2] || ''}`,\n\t(command, val, match, e) => {\n\t\tif (!match[1]) {\n\t\t\treturn 'no multi-reddit specified';\n\t\t}\n\t\tnavigateTo(`/u/${match[1]}/m/${match[2]}`, e);\n\t}\n);\n\nregisterCommand(/^\\/?me(?:\\/?(.*))$/,\n\t[\n\t\t'me - view profile for current user',\n\t\t'me/saved or me/s - view current user\\'s saved links',\n\t\t'me/saved#comments or me/sc - view current user\\'s saved comments',\n\t\t'me/submitted or me/sub - view current user\\'s submitted content',\n\t\t'me/comments or me/c - view current user\\'s comments',\n\t\t'me/gilded or me/g - view current user\\'s gilded content',\n\t\t'me/liked or me/l - view current user\\'s liked content ',\n\t\t'me/disliked or me/d - view current user\\'s disliked content',\n\t\t'me/hidden or me/h - view current user\\'s hidden content',\n\t],\n\t(command, val, match) => {\n\t\tconst loggedIn = loggedInUser();\n\t\tif (!loggedIn) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tlet str;\n\t\tswitch (match[1]) {\n\t\t\tcase '':\n\t\t\t\t// go to current user's page\n\t\t\t\tstr = `navigate to user profile: ${loggedIn}`;\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\tcase 's':\n\t\t\t\t// go to current user's saved content\n\t\t\t\tstr = 'navigate to current user\\'s saved content';\n\t\t\t\tbreak;\n\t\t\tcase 'saved#comments':\n\t\t\tcase 'sc':\n\t\t\t\t// go to current RES's saved comments\n\t\t\t\tstr = 'navigate to current RES\\'s saved comments';\n\t\t\t\tbreak;\n\t\t\tcase 'submitted':\n\t\t\tcase 'sub':\n\t\t\t\t// go to current user's submitted content\n\t\t\t\tstr = 'navigate to current user\\'s submitted content';\n\t\t\t\tbreak;\n\t\t\tcase 'comments':\n\t\t\tcase 'c':\n\t\t\t\t// go to current user's comments page\n\t\t\t\tstr = 'navigate to current user\\'s comments';\n\t\t\t\tbreak;\n\t\t\tcase 'gilded':\n\t\t\tcase 'g':\n\t\t\t\t// go to current user's gilded content\n\t\t\t\tstr = 'navigate to current user\\'s gilded content';\n\t\t\t\tbreak;\n\t\t\tcase 'liked':\n\t\t\tcase 'l':\n\t\t\t\t// go to current user's liked content\n\t\t\t\tstr = 'navigate to current user\\'s liked content';\n\t\t\t\tbreak;\n\t\t\tcase 'disliked':\n\t\t\tcase 'd':\n\t\t\t\t// go to current user's disliked content\n\t\t\t\tstr = 'navigate to current user\\'s disliked content';\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\tcase 'h':\n\t\t\t\t// go to current user's hidden content\n\t\t\t\tstr = 'navigate to current user\\'s hidden content';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tstr = 'navigate to [s]aved, [s]aved[c]omments, [sub]mitted, [c]omments, [g]ilded, [l]iked, [d]isliked, [h]idden';\n\t\t\t\tbreak;\n\t\t}\n\t\treturn str;\n\t},\n\t(command, val, match, e) => {\n\t\tconst currentUser = loggedInUser();\n\t\tif (!currentUser) {\n\t\t\treturn 'not logged in';\n\t\t}\n\t\tswitch (match[1]) {\n\t\t\tcase '':\n\t\t\t\t// go to current user's page\n\t\t\t\tnavigateTo(`/user/${currentUser}`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'saved':\n\t\t\tcase 's':\n\t\t\t\t// go to current user's saved content\n\t\t\t\tnavigateTo(`/user/${currentUser}/saved`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'saved#comments':\n\t\t\tcase 'sc':\n\t\t\t\t// go to current user's saved comments\n\t\t\t\tnavigateTo(`/user/${currentUser}/saved#comments`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'submitted':\n\t\t\tcase 'sub':\n\t\t\t\t// go to current user's submitted content\n\t\t\t\tnavigateTo(`/user/${currentUser}/submitted`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'comments':\n\t\t\tcase 'c':\n\t\t\t\t// go to current user's comments page\n\t\t\t\tnavigateTo(`/user/${currentUser}/comments`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'gilded':\n\t\t\tcase 'g':\n\t\t\t\t// go to current user's gilded content\n\t\t\t\tnavigateTo(`/user/${currentUser}/gilded`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'liked':\n\t\t\tcase 'l':\n\t\t\t\t// go to current user's liked content\n\t\t\t\tnavigateTo(`/user/${currentUser}/liked`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'disliked':\n\t\t\tcase 'd':\n\t\t\t\t// go to current user's disliked content\n\t\t\t\tnavigateTo(`/user/${currentUser}/disliked`, e);\n\t\t\t\tbreak;\n\t\t\tcase 'hidden':\n\t\t\tcase 'h':\n\t\t\t\t// go to current user's hidden content\n\t\t\t\tnavigateTo(`/user/${currentUser}/hidden`, e);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\treturn 'unknown command - type ? for help';\n\t\t}\n\t}\n);\n\nregisterCommand('userinfo', false,\n\t() => {},\n\t(command, val) => {\n\t\t// view JSON data for username (username is required)\n\t\tif (val.length <= 1) {\n\t\t\treturn 'No username specified.';\n\t\t} else {\n\t\t\tajax({ url: string.encode`/user/${val}/about.json` }).then(Alert.open);\n\t\t}\n\t}\n);\n\nregisterCommand('userbadge', false,\n\t() => {},\n\t(command, val) => {\n\t\t// get CSS code for a badge for username (username is required)\n\t\tif (val.length <= 1) {\n\t\t\treturn 'No username specified.';\n\t\t} else {\n\t\t\tajax({\n\t\t\t\turl: string.encode`/user/${val}/about.json`,\n\t\t\t\ttype: 'json',\n\t\t\t}).then(({ data }) => Alert.open(`, .id-t2_${data.id}::before`));\n\t\t}\n\t}\n);\n\n{\n\tconst optionsRegex = /(?:RES)?opt(?:ion)?s?[\\.\\s]+(.*)/i;\n\tconst moduleDataRegex = /(?:RES)?mod(?:ule)?s?[\\.\\s]+(.*)/i;\n\n\tfunction sanitizeStorageKey(key) {\n\t\tlet match;\n\t\tif ((match = optionsRegex.exec(key))) {\n\t\t\tkey = `RESoptions.${match[1]}`;\n\t\t} else if ((match = moduleDataRegex.exec(key))) {\n\t\t\tkey = `RESmodules.${match[1]}`;\n\t\t}\n\n\t\treturn key;\n\t}\n\n\tfunction executeCommand(command, key, value) {\n\t\tif (command === 'get') {\n\t\t\tStorage.get(key).then(value =>\n\t\t\t\tAlert.open(string.escape`Value of RESStorage[${key}]: <br><br><textarea rows=\"5\" cols=\"50\">${JSON.stringify(value)}</textarea>`)\n\t\t\t);\n\t\t} else if (command === 'update') {\n\t\t\tStorage.get(key).then(value => {\n\t\t\t\tconst element = string.html`<div>Value of RESStorage[${key}]: <br><br><textarea rows=\"5\" cols=\"50\">${JSON.stringify(value)}</textarea></div>`;\n\t\t\t\tAlert.open(element, { cancelable: true })\n\t\t\t\t\t.then(() => Storage.set(key, JSON.parse(downcast(element.querySelector('textarea'), HTMLTextAreaElement).value)));\n\t\t\t});\n\t\t} else if (command === 'remove') {\n\t\t\tStorage.delete(key);\n\t\t\tAlert.open(string.escape`RESStorage[${key}] deleted`);\n\t\t} else if (command === 'set') {\n\t\t\tStorage.set(key, JSON.parse(value));\n\t\t\tAlert.open(string.escape`RESStorage[${key}] set to:<br><br><textarea rows=\"5\" cols=\"50\">${value}</textarea>`);\n\t\t} else {\n\t\t\treturn 'You must specify either \"get [key]\" or \"set [key] [value]\"';\n\t\t}\n\t}\n\n\tregisterCommand(/(?:RES)?stor(?:e|age)?/i, 'RESStorage [get|set|update|remove] [key] [value] - For debug use only, you shouldn\\'t mess with this unless you know what you\\'re doing.',\n\t\t() => {\n\t\t},\n\t\t(command, val) => {\n\t\t\t// get or set RESStorage data\n\t\t\tconst splitWords = val.split(' ');\n\t\t\tif (splitWords.length < 2) {\n\t\t\t\treturn 'You must specify \"get [key]\", \"update [key]\" or \"set [key] [value]\"';\n\t\t\t} else {\n\t\t\t\tconst key = sanitizeStorageKey(splitWords[1]);\n\t\t\t\tconst value = splitWords.slice(2).join(' ');\n\n\t\t\t\treturn executeCommand(splitWords[0], key, value);\n\t\t\t}\n\t\t}\n\t);\n}\n\nconst sortTypes = {\n\tn: 'new',\n\tt: 'top',\n\th: 'hot',\n\tr: 'rising',\n\tc: 'controversial',\n\tg: 'gilded',\n\tp: 'ads',\n};\nconst sortTypeRecognizesPeriod = sortType => sortTypes.t === sortType || sortTypes.c === sortType;\nconst periods = ['hour', 'day', 'week', 'month', 'year', 'all'];\nconst getPeriod = val => val && periods.find(period => period.startsWith(val));\n\nregisterCommand(/^\\/([nthrcgp])?/, '/n, /t, /h, /r, /c, /g, or /p - goes to new, top, hot, rising, controversial, gilded, or promoted sort of current subreddit, multireddit or user page',\n\t(command, val, match) => {\n\t\tconst sortType = sortTypes[match[1]];\n\t\tif (sortType) {\n\t\t\treturn sortTypeRecognizesPeriod(sortType) ?\n\t\t\t\t`sort by ${sortType} [(${periods.map(period => getPeriod(val) === period ? `<b>${period}</b>` : period).join('|')})]` :\n\t\t\t\t`sort by ${sortType}`;\n\t\t} else {\n\t\t\treturn 'sort by ([n]ew, [t]op, [h]ot, [r]ising, [c]ontroversial, [g]ilded, [p]romoted)';\n\t\t}\n\t},\n\t(command, val, match, e) => {\n\t\tconst sortType = sortTypes[match[1]];\n\t\tif (!sortType) {\n\t\t\treturn 'invalid sort command - must be one of [n]ew, [t]op, [h]ot, [r]ising, [c]ontroversial, [g]ilded, [p]romoted';\n\t\t}\n\n\t\tfunction _navigateTo(v) {\n\t\t\tconst url = new URL(v, location.href);\n\n\t\t\tconst period = getPeriod(val);\n\t\t\tif (sortTypeRecognizesPeriod(sortType) && period) {\n\t\t\t\turl.searchParams.append('t', period);\n\t\t\t}\n\n\t\t\tnavigateTo(url.href, e);\n\t\t}\n\n\t\tconst currentUser = currentUserProfile();\n\t\tif (currentUser) {\n\t\t\t// Special-case for user pages since they behave a little differently\n\t\t\t// than subreddits/multireddits.\n\t\t\tif (sortType === 'gilded') {\n\t\t\t\t_navigateTo(`/user/${currentUser}/${sortType}`);\n\t\t\t} else if (sortType === 'ads' || sortType === 'rising') {\n\t\t\t\treturn `invalid sort command - \"${sortType}\" is not supported on profile pages`;\n\t\t\t} else {\n\t\t\t\t_navigateTo(`/user/${currentUser}?sort=${sortType}`);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tconst subreddit = currentSubreddit();\n\t\tif (subreddit) {\n\t\t\t_navigateTo(`/r/${subreddit}/${sortType}`);\n\t\t\treturn;\n\t\t}\n\n\t\tconst multi = currentMultireddit();\n\t\tif (multi) {\n\t\t\t_navigateTo(`/${multi}/${sortType}`);\n\t\t} else {\n\t\t\t_navigateTo(`/${sortType}`);\n\t\t}\n\t}\n);\n\nregisterCommand(cmd => ['s', 'search'].includes(cmd), 's[earch] [query] - searches the current subreddit (if any) or all of Reddit',\n\t(command, val) => {\n\t\tconst subreddit = currentSubreddit();\n\t\tif (!subreddit) {\n\t\t\treturn `Search all of Reddit: ${val}`;\n\t\t}\n\t\treturn `Search /r/${subreddit}: ${val}`;\n\t},\n\t(command, val, match, e) => {\n\t\tconst subreddit = currentSubreddit();\n\t\tif (!subreddit) {\n\t\t\tnavigateTo(string.encode`/search?q=${val}`, e);\n\t\t\treturn;\n\t\t}\n\t\tnavigateTo(string.encode`/r/${subreddit}/search?q=${val}&restrict_sr=on`, e);\n\t}\n);\n\nregisterCommand('sr', 'sr [query] - searches all of Reddit',\n\t(command, val) => `Search all of Reddit: ${val}`,\n\t(command, val, match, e) => {\n\t\tnavigateTo(string.encode`/search?q=${val}`, e);\n\t}\n);\n\nregisterCommand('?', false,\n\t() => {\n\t\tconst descriptions = commands\n\t\t\t.map(command => command.description)\n\t\t\t.reduce((a, b) => b ? a.concat(b) : a, []);\n\n\t\tif (descriptions.length) {\n\t\t\treturn `<ul><li>${descriptions.join('</li><li>')}</li></ul>`;\n\t\t}\n\t},\n\t() => false\n);\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { i18n } from '../environment';\nimport { addFloater, string } from '../utils';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as CommandLine from './commandLine';\n\nexport const module: Module<*> = new Module('RESMenu');\n\nmodule.moduleName = 'menuName';\nmodule.category = 'coreCategory';\nmodule.description = 'The <span class=\"gearIcon\"></span> dropdown menu to manage RES settings and quick options';\nmodule.descriptionRaw = true;\nmodule.alwaysEnabled = true;\nmodule.options = {\n\tgearIconClickAction: {\n\t\ttitle: 'menuGearIconClickActionTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'menuGearIconClickActionOpenSettings',\n\t\t\tvalue: 'openSettings',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionOpenCommandLine',\n\t\t\tvalue: 'openCommandLine',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionToggleMenu',\n\t\t\tvalue: 'toggleMenu',\n\t\t}, {\n\t\t\tname: 'menuGearIconClickActionToggleMenuNoHover',\n\t\t\tvalue: 'toggleMenuNoHover',\n\t\t}],\n\t\tvalue: 'toggleMenuNoHover',\n\t\tdescription: 'menuGearIconClickActionDesc',\n\t\tbodyClass: true,\n\t\tadvanced: true,\n\t},\n};\n\nconst items = [];\nlet gear;\n\nmodule.contentStart = () => {\n\tgear = string.html`<span id=\"RESSettingsButton\" style=\"cursor: pointer\" title=\"${i18n('RESSettings')}\" class=\"gearIcon\"></span>`;\n\n\tif (module.options.gearIconClickAction.value !== 'toggleMenuNoHover') {\n\t\tgear.addEventListener('mouseenter', () => { showDropdown(200); });\n\t}\n\n\tgear.addEventListener('click', () => {\n\t\tif (module.options.gearIconClickAction.value === 'openCommandLine' && Modules.isRunning(CommandLine)) {\n\t\t\tCommandLine.toggle();\n\t\t\thideDropdown();\n\t\t} else if (module.options.gearIconClickAction.value === 'openSettings') {\n\t\t\tSettingsNavigation.open();\n\t\t\thideDropdown();\n\t\t} else {\n\t\t\tshowDropdown(0);\n\t\t}\n\t});\n\n\taddFloater(gear, { order: 5, container: 'inNavbar' });\n};\n\nmodule.afterLoad = () => {\n\trequestAnimationFrame(addLegacyStyling);\n};\n\nfunction showDropdown(openDelay: number) {\n\tHover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\topenDelay,\n\t\t\tfadeDelay: 200,\n\t\t\tfadeSpeed: 0.2,\n\t\t}, false)\n\t\t.populateWith(() => {\n\t\t\tconst f = document.createDocumentFragment();\n\t\t\tf.append(...items.sort(({ order: a }, { order: b }) => a - b).map(buildItem));\n\t\t\treturn [f];\n\t\t})\n\t\t.target(gear) // workaround subreddit stylings where the container ends up super tall\n\t\t.begin();\n}\n\nfunction hideDropdown() {\n\tHover.dropdownList(module.moduleID).close(true);\n}\n\nexport function addMenuItem(getElement: () => HTMLElement, onClick: (e: Event) => void = () => {}, order: number = 0) {\n\titems.push({ getElement, onClick, order });\n}\n\nfunction buildItem({ getElement, onClick }) {\n\tconst li = document.createElement('li');\n\tli.addEventListener('click', onClick, true);\n\t// Dropdown will be closed on click unless event propagation is stopped\n\tli.addEventListener('click', hideDropdown);\n\tli.append(getElement());\n\treturn li;\n}\n\nfunction addLegacyStyling() {\n\tconst { backgroundImage } = window.getComputedStyle(gear);\n\tif (backgroundImage && backgroundImage !== 'none') {\n\t\tgear.classList.add('res-gearIcon-legacy');\n\t}\n}\n","/* @flow */\n\nimport { RES_SETTINGS_HASH } from '../constants/urlHashes';\nimport { context, isOptionsPage, getOptionsURL, i18n, openNewTab } from '../environment';\nimport { string } from '../utils';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Menu from '../modules/menu';\nimport * as CommandLine from '../modules/commandLine';\n\nexport const module: Module<*> = new Module('settingsNavigation');\n\nmodule.moduleName = 'settingsNavName';\nmodule.category = 'coreCategory';\nmodule.description = 'settingsNavDesc';\nmodule.hidden = true;\nmodule.alwaysEnabled = true;\nmodule.options = {\n\tshowAllOptions: {\n\t\ttitle: 'settingsNavigationShowAllOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'settingsNavigationShowAllOptionsDesc',\n\t\tnoconfig: true,\n\t},\n\tshowAllOptionsAlert: {\n\t\ttitle: 'settingsNavigationShowAllOptionsAlertTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'settingsNavigationShowAllOptionsAlertDesc',\n\t\tnoconfig: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tMenu.addMenuItem(\n\t\t() => string.html`<div id=\"SettingsConsole\">\n\t\t\t${i18n('RESSettingsConsole')}\n\t\t\t<span module=\"search\" class=\"RESMenuItemButton res-icon\" title=\"search settings\">\\uF094</span>\n\t\t</div>`,\n\t\te => open(e.target.getAttribute('module')),\n\t\t-10\n\t);\n\n\tCommandLine.registerCommand(/^set(?:t?ings?)?$/, 'settings [words to search for]- search RES settings console',\n\t\t(command, val) => `Search RES settings ${val && val.length ? ` for: ${val}` : ''}`,\n\t\t(command, val) => open('search', val)\n\t);\n};\n\nmodule.contentStart = () => {\n\tfunction findModules(val) {\n\t\treturn Modules.all()\n\t\t\t.filter(v => !v.hidden)\n\t\t\t.map(v => v.moduleID)\n\t\t\t.filter(id => id.toLowerCase().match(val.toLowerCase()))\n\t\t\t.sort();\n\t}\n\n\tCommandLine.registerCommand(/^mod(?:ule?)?$/, 'module [name of module] - open module settings',\n\t\t(command, val) => {\n\t\t\tconst matches = findModules(val);\n\t\t\treturn matches.length ? `Open module ${matches[0]}` : 'Could not find any matching module.';\n\t\t},\n\t\t(command, val) => open(findModules(val)[0])\n\t);\n\n\twindow.addEventListener('popstate', () => { update(); });\n\tupdate();\n\n\t// Open settings links (regardless of hostname)\n\tdocument.body.addEventListener('click', (e: MouseEvent) => {\n\t\tif (e.ctrlKey) return; // Except when intentionally opened in a new tab\n\t\tconst url = e.target instanceof HTMLAnchorElement && new URL(e.target.href, location.origin);\n\t\tif (url && isSettingsUrl(url.href)) {\n\t\t\tupdate(url);\n\t\t\te.stopImmediatePropagation();\n\t\t\te.preventDefault();\n\t\t}\n\t}, true);\n};\n\nexport function makeUrlHashLink(moduleID: string, optionKey?: string, displayText?: string, cssClass?: string): string {\n\tconst mod = Modules.getUnchecked(moduleID);\n\tif (!displayText) {\n\t\tif (mod && optionKey) {\n\t\t\tdisplayText = i18n(mod.options[optionKey].title);\n\t\t} else if (mod) {\n\t\t\tdisplayText = i18n(mod.moduleName);\n\t\t} else {\n\t\t\tdisplayText = 'Settings';\n\t\t}\n\t}\n\n\tlet title = ['RES Settings'];\n\tif (mod) {\n\t\ttitle.push(i18n(mod.moduleName));\n\t}\n\tif (optionKey) {\n\t\ttitle.push(optionKey);\n\t}\n\ttitle = title.join(' &gt; ');\n\n\tconst hash = makeUrlHash(moduleID, optionKey);\n\treturn `<a class=\"${cssClass || ''}\" href=\"${hash}\" title=\"${title}\">${displayText}</a>`;\n}\n\nexport function parseHash(hash: string) {\n\tconst params = hash.match(/\\/(?:\\w|\\s|%20)+/g);\n\treturn {\n\t\tmoduleID: params && params[0] && params[0].substring(1).replace('%20', ' ') || undefined,\n\t\toptionKey: params && params[1] && params[1].substring(1).replace('%20', ' ') || undefined,\n\t};\n}\n\nexport function makeUrlHash(moduleID?: string, optionKey?: string): string {\n\tconst hashComponents = [RES_SETTINGS_HASH];\n\n\tif (moduleID) {\n\t\thashComponents.push(moduleID);\n\t}\n\n\tif (moduleID && optionKey) {\n\t\thashComponents.push(optionKey);\n\t}\n\n\treturn hashComponents.join('/');\n}\n\nexport function isSettingsUrl(href: string): boolean {\n\tconst { origin, hash } = new URL(href, location.origin);\n\n\tconst sameSite = origin === getOptionsURL().origin ||\n\t\torigin.split('.').slice(-2).join('.') === context.origin.split('.').slice(-2).join('.');\n\tif (!sameSite) return false;\n\n\treturn hash.startsWith(RES_SETTINGS_HASH) ||\n\t\thash.startsWith('#!settings'); /* legacy */\n}\n\nexport function setHash(hash: string) {\n\tif (window.top === window) {\n\t\tif (parseHash(location.hash).moduleID === parseHash(hash).moduleID) {\n\t\t\thistory.replaceState(null, '', hash);\n\t\t} else {\n\t\t\thistory.pushState(null, '', hash);\n\t\t}\n\t} else {\n\t\twindow.parent.postMessage({ hash }, '*');\n\t}\n}\n\nlet iframe;\n\nexport function update(url: { href: string, hash: string } = location) {\n\tif (isSettingsUrl(url.href)) {\n\t\tconst { moduleID, optionKey } = parseHash(url.hash);\n\t\topen(moduleID, optionKey);\n\t} else if (iframe) {\n\t\tiframe.contentWindow.postMessage({ close: true }, '*');\n\t}\n}\n\nfunction listener({ origin, data }: MessageEvent) {\n\tif (origin !== getOptionsURL().origin) return;\n\tconst { failedToLoad, hash, closing } = (data: any);\n\tif (failedToLoad) handleEmbedFailure();\n\tif (hash) setHash(hash);\n\tif (closing) close();\n}\n\nfunction handleEmbedFailure() {\n\tconsole.warn('Embed failed. Opening RES settings console in new tab');\n\tif (iframe) openNewTab(iframe.src, true);\n\tclose();\n}\n\nexport function open(moduleID?: string, optionKey?: string) {\n\tif (iframe || isOptionsPage()) {\n\t\t(iframe && iframe.contentWindow || window).postMessage({ load: { moduleID, optionKey } }, '*');\n\t} else {\n\t\tiframe = document.createElement('iframe');\n\t\tiframe.id = 'console-container';\n\t\tiframe.src = getOptionsURL(makeUrlHash(moduleID, optionKey)).href;\n\n\t\twindow.addEventListener('message', listener);\n\t\tiframe.addEventListener('load', () => {\n\t\t\tif (iframe) iframe.contentWindow.postMessage({ context }, '*');\n\n\t\t\t// If the console doesn't progress fast enough (like due to an embedding issue), use fallback\n\t\t\tlet success;\n\t\t\twindow.addEventListener('message', ({ origin, data }: MessageEvent) => {\n\t\t\t\tif (origin === getOptionsURL().origin && (data: any).loadSuccess) success = true;\n\t\t\t});\n\t\t\tsetTimeout(() => { if (!success) handleEmbedFailure(); }, 3000);\n\t\t});\n\n\t\tdocument.body.append(iframe);\n\t\tdocument.body.classList.add('res-console-open');\n\t}\n}\n\nexport function close() {\n\tif (isOptionsPage()) {\n\t\twindow.parent.postMessage({ closing: true }, '*');\n\t\twindow.close();\n\t} else {\n\t\twindow.removeEventListener('message', listener);\n\t\tif (!iframe) return;\n\t\tiframe.remove();\n\t\tiframe = null;\n\t\tdocument.body.classList.remove('res-console-open');\n\t\tif (isSettingsUrl(location.href)) history.pushState(null, '', location.pathname + location.search);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport { Storage, i18n } from '../environment';\nimport { firstValid, hashCode, string, waitForEvent } from '../utils';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('notifications');\n\nmodule.moduleName = 'notificationsName';\nmodule.category = 'coreCategory';\nmodule.description = 'notificationsDesc';\nmodule.options = {\n\tsticky: {\n\t\tdescription: 'notificationStickyDesc',\n\t\ttitle: 'notificationStickyTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'notificationType',\n\t\tvalues: [{\n\t\t\tname: 'notificationsPerNotificationType',\n\t\t\tvalue: 'notificationType',\n\t\t}, {\n\t\t\tname: 'notificationsAlwaysSticky',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'notificationsNeverSticky',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n\tcloseDelay: {\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'notificationCloseDelayDesc',\n\t\ttitle: 'notificationCloseDelayTitle',\n\t},\n\tfadeOutLength: {\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'notificationFadeOutLengthDesc',\n\t\ttitle: 'notificationFadeOutLengthTitle',\n\t\tadvanced: true,\n\t},\n\tnotificationTypes: {\n\t\tdescription: 'notificationNotificationTypesDesc',\n\t\ttitle: 'notificationNotificationTypesTitle',\n\t\ttype: 'table',\n\t\tadvanced: true,\n\t\taddRowText: 'notificationsAddNotificationType',\n\t\tfields: [{\n\t\t\tkey: 'id',\n\t\t\tname: 'notificationsNotificationID',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'notificationsEnabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}, {\n\t\t\tkey: 'sticky',\n\t\t\tname: 'notificationsSticky',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: false,\n\t\t}],\n\t\tvalue: ([]: Array<[string, boolean, boolean]>),\n\t},\n};\n\nconst notificationsContainer = string.html`<div id=\"RESNotifications\"></div>`;\nconst lastShownStorage = Storage.wrapBlob('notifications.lastShown', (): number => 0);\n\nmodule.go = () => {\n\tdocument.body.append(notificationsContainer);\n};\n\nconst activeNotifications = new Set();\n\ntype NotificationOptions = {|\n\tmessage: string | HTMLElement,\n\tcooldown?: number,\n\theader?: string,\n\tcloseDelay?: number,\n\tnotificationID?: string,\n\tmoduleID?: string,\n\toptionKey?: string,\n\tnoDisable?: boolean,\n|};\n\nexport function showNotification(opts: string | NotificationOptions, _delay?: number): { element: HTMLElement, close(): void } {\n\tconst data: NotificationOptions = typeof opts === 'string' ? { message: opts } : opts;\n\tconst id = `${String(firstValid(data.moduleID, '--'))}-${String(firstValid(data.notificationID, data.optionKey, data.header, hashCode(data.message instanceof HTMLElement ? data.message.outerHTML : data.message)))}`;\n\tconst mod = data.moduleID && Modules.getUnchecked(data.moduleID);\n\n\tconst element = string.html`\n\t\t<div class=\"RESNotification\" data-id=\"${id}\">\n\t\t\t<div class=\"RESNotificationHeader\">\n\t\t\t\t<h3>${data.header || (mod ? i18n(mod.moduleName) : '') || ''}</h3>\n\t\t\t\t${mod && !mod.hidden ?\tstring.safe(SettingsNavigation.makeUrlHashLink(mod.moduleID, data.optionKey, ' ', 'gearIcon')) : ''}\n\t\t\t\t<div class=\"RESCloseButton\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"RESNotificationContent\"></div>\n\t\t\t<div class=\"RESNotificationFooter\" ${data.noDisable ? 'hidden' : ''}>\n\t\t\t\t<label class=\"RESNotificationToggle\" title=\"Show notifications from ${id}\">\n\t\t\t\t\t<input type=\"checkbox\" checked> Always show this type of notification\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\t$(element.querySelector('.RESNotificationContent')).append(data.message);\n\n\tconst inner = element.innerHTML;\n\tconst existing = [...activeNotifications.values()].find(({ element }) => element.innerHTML === inner);\n\tif (existing) {\n\t\texisting.element.dispatchEvent(new CustomEvent('notification-reset'));\n\t\treturn existing;\n\t}\n\n\tconst close = _.once(() => {\n\t\tactiveNotifications.delete(notification);\n\t\telement.remove();\n\t});\n\n\tconst notification = { element, close };\n\tactiveNotifications.add(notification);\n\n\tconst storage = Options.table.getMatchingValueOrAdd(module, 'notificationTypes', { id }, data);\n\n\telement.querySelector('.RESNotificationToggle input').addEventListener('change', (e: any) => {\n\t\tstorage.enabled = e.target.checked;\n\t});\n\n\telement.querySelector('.RESCloseButton').addEventListener('click', () => { close(); });\n\n\tconst isSticky = module.options.sticky.value === 'all' ||\n\t\t(module.options.sticky.value === 'notificationType' && storage.sticky);\n\tconst delay = +firstValid(_delay, data.closeDelay, parseInt(module.options.closeDelay.value, 10), (module.options.closeDelay: any).default);\n\tconst fadeDuration = +firstValid(parseInt(module.options.fadeOutLength.value, 10), (module.options.fadeOutLength: any).default);\n\n\tasync function resetCloseTimer() {\n\t\tawait new Promise(requestAnimationFrame); // Only start timer when frame becomes visible\n\t\tif (element.matches(':hover')) await waitForEvent(element, 'mouseleave');\n\n\t\tlet fadeTimer;\n\t\tconst hideTimer = setTimeout(() => {\n\t\t\telement.classList.add('transitionToTransparent');\n\t\t\telement.style.transitionDuration = `${fadeDuration / 1000}s`;\n\t\t\tfadeTimer = setTimeout(() => close(), fadeDuration);\n\t\t}, delay);\n\n\t\tawait waitForEvent(element, 'mouseenter', 'notification-reset');\n\n\t\telement.classList.remove('transitionToTransparent');\n\n\t\tif (fadeTimer) clearTimeout(fadeTimer);\n\t\tif (hideTimer) clearTimeout(hideTimer);\n\n\t\tresetCloseTimer();\n\t}\n\n\t(async () => {\n\t\tif (!storage.enabled || !Modules.isRunning(module)) return;\n\n\t\tif (data.cooldown) {\n\t\t\tif (data.cooldown > Date.now() - await lastShownStorage.get(id)) return;\n\t\t\tlastShownStorage.set(id, Date.now());\n\t\t}\n\n\t\trequestAnimationFrame(() => {\n\t\t\tif (window.getComputedStyle(element).maxHeight === 'initial') return;\n\t\t\telement.style.maxHeight = '100vh';\n\t\t});\n\n\t\tnotificationsContainer.prepend(element);\n\n\t\tif (!isSticky && delay !== Infinity) resetCloseTimer();\n\t})();\n\n\treturn notification;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as Options from '../core/options';\nimport * as Modules from '../core/modules';\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('penaltyBox');\nexport const MIN_PENALTY = 1;\nexport const MAX_PENALTY = 100;\n\nmodule.moduleName = 'penaltyBoxName';\nmodule.category = 'coreCategory';\nmodule.description = 'penaltyBoxDesc';\nmodule.options = {\n\tdelayFeatures: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'penaltyBoxDelayFeaturesDesc',\n\t\ttitle: 'penaltyBoxDelayFeaturesTitle',\n\t},\n\tsuspendFeatures: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'penaltyBoxSuspendFeaturesDesc',\n\t\ttitle: 'penaltyBoxSuspendFeaturesTitle',\n\t},\n\tfeatures: {\n\t\tdescription: 'penaltyBoxFeaturesDesc',\n\t\ttitle: 'penaltyBoxFeaturesTitle',\n\t\ttype: 'table',\n\t\tadvanced: true,\n\t\taddRowText: 'penaltyBoxFeaturesAddRowText',\n\t\tfields: [\n\t\t\t{\n\t\t\t\tkey: 'moduleID',\n\t\t\t\tname: 'moduleID',\n\t\t\t\ttype: 'text',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'optionKey',\n\t\t\t\tname: 'optionKey',\n\t\t\t\ttype: 'text',\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'monitoring',\n\t\t\t\tname: 'penaltyBoxFeaturesMonitoring',\n\t\t\t\ttype: 'boolean',\n\t\t\t\tvalue: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: 'penalty',\n\t\t\t\tname: 'penaltyBoxFeaturesPenalty',\n\t\t\t\ttype: 'text',\n\t\t\t\tvalue: '0',\n\t\t\t},\n\t\t],\n\t\tvalue: ([]: Array<[string, string, boolean, string]>),\n\t},\n};\n\nexport function alterFeaturePenalty(moduleID: string, optionKey: string, valueDelta: number): number {\n\tif (isNaN(parseInt(valueDelta, 10))) {\n\t\tconsole.warn('Could not alter penalty for', moduleID, optionKey, ' - bad value:', valueDelta);\n\t\treturn MIN_PENALTY;\n\t}\n\tif (!Modules.isEnabled(module)) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tif (!value.monitoring) return MIN_PENALTY;\n\n\tvalue.penalty = _.clamp(value.penalty + valueDelta, MIN_PENALTY, MAX_PENALTY);\n\tOptions.save(module.options.features);\n\n\tif (value.penalty >= MAX_PENALTY) {\n\t\tsuspendFeature(moduleID, optionKey);\n\t}\n\n\treturn value.penalty;\n}\n\nfunction stopMonitoringFeature(moduleID, optionKey) {\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tvalue.monitoring = false;\n\tvalue.penalty = MIN_PENALTY;\n\tOptions.save(module.options.features);\n}\n\nexport function getFeaturePenalty(moduleID: string, optionKey: string): number {\n\tif (!Modules.isEnabled(module)) {\n\t\treturn MIN_PENALTY;\n\t}\n\tif (!module.options.delayFeatures.value) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tconst value = getOrAddFeatures(moduleID, optionKey);\n\tif (!value.monitoring) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\tif (!value.penalty || MIN_PENALTY >= value.penalty) {\n\t\treturn MIN_PENALTY;\n\t}\n\n\treturn value.penalty;\n}\n\ntype DelayOption = {\n\tvalue: number | string,\n\tdefault?: number | string,\n\tpenalizedValue?: number,\n};\n\nexport function penalizedDelay(moduleID: string, optionKey: string, delayOption: DelayOption): number {\n\tconst penalty = getFeaturePenalty(moduleID, optionKey);\n\tif (!penalty || penalty === MIN_PENALTY) {\n\t\treturn parseInt(delayOption.value, 10);\n\t}\n\n\tconst max = parseInt(delayOption.penalizedValue || delayOption.value, 10) * 6;\n\tconst initial = parseInt(delayOption.default, 10);\n\tconst position = penalty / 100;\n\n\treturn Math.min(max, (max - initial) * position + initial);\n}\n\nconst getOrAddFeatures = (moduleID, optionKey): {|\n\tmoduleID: string,\n\toptionKey: string,\n\tmonitoring: boolean,\n\tpenalty: number,\n|} => Options.table.getMatchingValueOrAdd(module, 'features', { moduleID, optionKey }, { penalty: 0 });\n\nfunction suspendFeature(moduleID, optionKey) {\n\tconst featureModule = Modules.get(moduleID);\n\tconst option = featureModule.options[optionKey];\n\tif (!option) {\n\t\tconsole.warn('Could not find option', moduleID, optionKey);\n\t\treturn;\n\t}\n\n\tif (option.type !== 'boolean') {\n\t\tconsole.warn(`${module.moduleID} could not disable option`, moduleID, optionKey);\n\t\treturn;\n\t}\n\tconst oldValue = option.value;\n\tconst newValue = !option.value;\n\n\tOptions.set(moduleID, optionKey, newValue);\n\tstopMonitoringFeature(moduleID, optionKey);\n\n\tconst featureOptionLink = SettingsNavigation.makeUrlHashLink(moduleID, optionKey);\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'suspendFeatures',\n\t\theader: i18n('penaltyBoxSuspendFeaturesNotificationHeader'),\n\t\tmessage: `\n\t\t\t${i18n('penaltyBoxSuspendFeaturesNotificationMessage', featureOptionLink)}\n\t\t\t<p><a class=\"RESNotificationButtonBlue\" id=\"penaltyBoxEnableFeature\" href=\"#\">\n\t\t\t\t${i18n('penaltyBoxSuspendFeaturesUndoButton')}\n\t\t\t</a></p>\n\t\t`.trim(),\n\t});\n\n\t$(notification.element).on('click', '#penaltyBoxEnableFeature', (e: MouseEvent) => {\n\t\te.preventDefault();\n\t\tnotification.close();\n\t\tpardonSuspendedFeature(moduleID, optionKey, oldValue);\n\t});\n}\n\nfunction pardonSuspendedFeature(moduleID, optionKey, oldValue) {\n\tOptions.set(moduleID, optionKey, oldValue);\n\tstopMonitoringFeature(moduleID, optionKey);\n\n\tconst featureOptionLink = SettingsNavigation.makeUrlHashLink(moduleID, optionKey);\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'suspendFeatures',\n\t\theader: i18n('penaltyBoxSuspendFeaturesRevertNotificationHeader'),\n\t\tmessage: i18n('penaltyBoxSuspendFeaturesRevertNotificationMessage', featureOptionLink),\n\t});\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Thing, SelectedThing, string } from '../../utils';\nimport type { BuilderValue, BuilderRootValue } from '../../core/module';\nimport * as Cases from './cases';\n\nexport class Case {\n\tstatic type: string;\n\tstatic text: string;\n\n\tstatic +thingToCriterion: ?(thing: Thing) => string | Promise<string>;\n\tstatic +parseCriterion: ?(input: string) => *;\n\n\tstatic async getSelectedEntryValue() {\n\t\tconst selected = SelectedThing.current;\n\t\tif (!selected) throw new Error('No entry is currently selected.');\n\n\t\tlet conditions;\n\t\tif (this.defaultConditions) {\n\t\t\tif (!this.thingToCriterion) throw Error('Case does not have method `thingToCriterion`');\n\t\t\tconditions = this.criterionToConditions(await this.thingToCriterion(selected));\n\t\t}\n\n\t\tconst cased = this.fromConditions(conditions);\n\n\t\tconst state = await cased.evaluate(selected);\n\n\t\tif (typeof state !== 'boolean') throw new Error('Could not evaluate case against selected thing');\n\n\t\treturn { conditions, state };\n\t}\n\n\tstatic criterionToConditions(criterion: string): $Shape<BuilderValue> {\n\t\tconst parse = this.parseCriterion && this.parseCriterion.bind(this);\n\t\tif (!parse) {\n\t\t\tthrow new Error('Does not accept criterion');\n\t\t}\n\n\t\tif (!criterion && this.pattern && !this.pattern.startsWith('[')) {\n\t\t\tthrow new Error('Requires criterion');\n\t\t}\n\n\t\tconst parts = criterion.split(' & ');\n\n\t\tif (this.criterionOperators && criterion && parts.length > 1) {\n\t\t\treturn Cases.getGroup('all', parts.map(v => Cases.getConditions(this.type, parse(v))));\n\t\t} else {\n\t\t\treturn parse(criterion);\n\t\t}\n\t}\n\n\tstatic fromConditions(from: ?$Shape<BuilderValue>, propagateError: boolean = false): Case {\n\t\tlet cased;\n\n\t\tconst conditions = Cases.getConditions(from && from.type || this.type, from);\n\t\tconst type = conditions.type;\n\n\t\ttry {\n\t\t\tconst CaseClass = Cases.get(type);\n\t\t\tif (CaseClass.disabled) throw new Error(`${CaseClass.type} is disabled`);\n\t\t\tcased = new CaseClass(conditions);\n\t\t} catch (e) {\n\t\t\tif (propagateError) throw e;\n\t\t\tconsole.error(`Could not build case: ${e.message}. Ignoring.`, e);\n\t\t\tcased = new Cases.Inert(conditions);\n\t\t}\n\n\t\treturn cased;\n\t}\n\n\tstatic buildRegex(val: string, { fullMatch = true }: {| fullMatch?: boolean |} = {}) {\n\t\tif (!val) throw new Error('Pattern cannot be empty');\n\t\tif (string.regexRegex.test(val)) {\n\t\t\tconst [, str, flags] = (string.regexRegex.exec(val): any); // guaranteed to match due to `.test()` above\n\t\t\treturn new RegExp(str, flags);\n\t\t} else {\n\t\t\tconst patt = _.escapeRegExp(val);\n\t\t\treturn new RegExp(fullMatch ? `^${patt}$` : patt, 'i');\n\t\t}\n\t}\n\n\tstatic +defaultConditions: ?$Shape<BuilderValue>;\n\tstatic fields: *;\n\tstatic slow: number = 0; // Estimated slowness of case; higher value  slower\n\tstatic +reconcile: ?Array<*> => *;\n\tstatic get disabled(): boolean {\n\t\treturn false;\n\t}\n\n\t// Determines where cases are available; usually set by Cases.populate\n\tstatic contexts: Array<'browse' | 'post' | 'comment'>;\n\n\tstatic validate(conditions: BuilderValue) {\n\t\tconst cased = Case.fromConditions(conditions, true);\n\t\tif (!cased.isValid()) throw new Error('Invalid conditions');\n\t\treturn true;\n\t}\n\n\t// For Filterline\n\tstatic unique: boolean = false;\n\tstatic variant: 'basic' | 'ondemand' | 'external' = 'basic';\n\tstatic pattern: string = '';\n\tstatic criterionOperators = false; // Create groups on encountering operators: ' & '  'and'\n\n\tstatic _customFilter: ?BuilderRootValue;\n\tstatic getCustomFilter() { if (this._customFilter) return this._customFilter; throw new Error('Source not found'); }\n\n\t+trueText: ?string;\n\t+falseText: ?string;\n\n\tconstructor(conditions: *) {\n\t\tthis.conditions = this.value = conditions;\n\t}\n\n\tisValid(): boolean { return true; }\n\tisEvaluatable() { return !(this instanceof Cases.Inert || this.constructor.disabled); }\n\n\thasType(type: string): boolean { return this.constructor.type === type; }\n\tconditions: BuilderValue;\n\tvalue: *;\n\tevaluate(thing: ?Thing, values: ?*[]): null | boolean | Promise<null | boolean> { // eslint-disable-line no-unused-vars\n\t\tthrow new Error('evaluate() must be implemented for all Case subclasses');\n\t}\n\n\tobservers: Set<{ refresh: (thing?: Thing) => void }> = new Set();\n\tonObserve(): ?boolean {} // `true`  `refresh` callback registered\n\tobserve(observer: *): ?boolean { // `true`  observer added\n\t\tif (!this.observers.has(observer) && this.onObserve()) {\n\t\t\tthis.observers.add(observer);\n\t\t\treturn true;\n\t\t}\n\t}\n\n\trefresh(thing?: Thing) {\n\t\tfor (const o of this.observers) o.refresh(thing);\n\t}\n}\n\nexport class PatternCase extends Case {\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\tstatic defaultConditions = { patt: '' };\n\tstatic pattern = 'RegEx';\n\n\tstatic reconcile(values: *) {\n\t\t// Variants may have differening conditions other than just `patt`\n\t\t// Group only values with equal (non-`patt`) conditions together\n\t\tconst variants = [];\n\n\t\tfor (const v of values) {\n\t\t\tlet variant;\n\t\t\tvariantLoop: // eslint-disable-line no-labels\n\t\t\tfor (const possibleVariant of variants) {\n\t\t\t\tfor (const key of Object.keys(v)) {\n\t\t\t\t\tif (key === 'patt') continue;\n\t\t\t\t\tif (possibleVariant[key] !== v[key]) continue variantLoop; // eslint-disable-line no-labels\n\t\t\t\t}\n\t\t\t\tvariant = possibleVariant;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (!variant) {\n\t\t\t\tvariant = { ...v, patt: [] };\n\t\t\t\tvariants.push(variant);\n\t\t\t}\n\n\t\t\tvariant.patt.push(v.patt);\n\t\t}\n\n\t\treturn variants;\n\t}\n\n\tbuild(fullMatchDefault: boolean, pattIfEmpty?: string): Array<RegExp> {\n\t\tconst { patt, fullMatch = fullMatchDefault } = this.conditions;\n\t\tconst raw = Array.isArray(patt) ? patt : [patt];\n\t\tconst plain = new Set();\n\t\tconst variants = {};\n\n\t\tfor (let _patt of raw) {\n\t\t\tif (!_patt) {\n\t\t\t\tif (typeof pattIfEmpty === 'string') _patt = pattIfEmpty;\n\t\t\t\telse if (raw.length === 1) throw new Error('Pattern cannot be empty');\n\t\t\t\telse continue;\n\t\t\t}\n\n\t\t\tif (string.regexRegex.test(_patt)) {\n\t\t\t\tconst [, str, flags = ''] = (string.regexRegex.exec(_patt): any); // guaranteed to match due to `.test()` above\n\t\t\t\tif (!variants[flags]) variants[flags] = [];\n\t\t\t\tvariants[flags].push(str);\n\t\t\t} else {\n\t\t\t\tplain.add(_.escapeRegExp(_patt));\n\t\t\t}\n\t\t}\n\n\t\tif (plain.size) {\n\t\t\tconst str = Array.from(plain).join('|');\n\t\t\tif (!variants.i) variants.i = [];\n\t\t\tvariants.i.push(fullMatch ? `^(${str})$` : str);\n\t\t}\n\n\t\treturn Object.entries(variants).map<*>(([flags, sources]) => new RegExp(sources.join('|'), flags));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class CommentCount extends Case {\n\tstatic text = 'Comment count';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getCommentCount() || 0); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['post has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' comments'];\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `comment count ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `comment count ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst commentCount = thing.getCommentCount();\n\t\tif (isNaN(commentCount)) return null;\n\t\treturn numericalCompare(this.value.op, commentCount, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Sortable } from '../vendor';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tCreateElement,\n\tBodyClasses,\n\tcurrentSubreddit,\n\tformatDateTime,\n\tisCurrentSubreddit,\n\tloggedInUser,\n\tstring,\n\tregisterPage,\n\tisAppType,\n} from '../utils';\nimport { i18n, Storage, ajax } from '../environment';\nimport * as Menu from './menu';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('dashboard');\n\nmodule.moduleName = 'dashboardName';\nmodule.category = 'productivityCategory';\nmodule.description = 'dashboardDesc';\nmodule.options = {\n\tmenuItem: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'dashboardMenuItemDesc',\n\t\ttitle: 'dashboardMenuItemTitle',\n\t},\n\tdefaultPosts: {\n\t\ttype: 'text',\n\t\tvalue: '3',\n\t\tdescription: 'dashboardDefaultPostsDesc',\n\t\ttitle: 'dashboardDefaultPostsTitle',\n\t\tadvanced: true,\n\t},\n\tdefaultSort: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'hot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'rising',\n\t\t\tvalue: 'rising',\n\t\t}, {\n\t\t\tname: 'controversial',\n\t\t\tvalue: 'controversial',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}],\n\t\tvalue: 'hot',\n\t\tdescription: 'dashboardDefaultSortDesc',\n\t\ttitle: 'dashboardDefaultSortTitle',\n\t},\n\tdefaultSortSearch: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'relevance',\n\t\t\tvalue: 'relevance',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'comments',\n\t\t\tvalue: 'comments',\n\t\t}],\n\t\tvalue: 'relevance',\n\t\tdescription: 'dashboardDefaultSortSearchDesc',\n\t\ttitle: 'dashboardDefaultSortSearchTitle',\n\t},\n\tdashboardShortcut: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'dashboardDashboardShortcutDesc',\n\t\ttitle: 'dashboardDashboardShortcutTitle',\n\t},\n\ttagsPerPage: {\n\t\ttype: 'text',\n\t\tvalue: '25',\n\t\tdescription: 'dashboardTagsPerPageDesc',\n\t\ttitle: 'dashboardTagsPerPageTitle',\n\t\tadvanced: true,\n\t},\n};\n\n// depends on loggedInUser; must be called after the username is available\nconst initialWidgetLoad = _.once(getLatestWidgets);\n\nmodule.beforeLoad = () => {\n\tif (module.options.menuItem.value) {\n\t\tconst dashboardUrl = isAppType('d2x') ? 'https://old.reddit.com/r/Dashboard' : '/r/Dashboard';\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<a href=\"${dashboardUrl}\">${i18n('myDashboard')}</a>`,\n\t\t\tundefined,\n\t\t\t-7\n\t\t);\n\t}\n};\n\nmodule.contentStart = () => {\n\taddTab('dashboardContents', 'My dashboard', module.moduleID, addDashboardTab);\n\n\tconst subreddit = currentSubreddit();\n\tif (module.options.dashboardShortcut.value && subreddit) {\n\t\taddDashboardShortcuts(subreddit);\n\t}\n};\n\nconst initialTabID = location.hash.replace('#', '') || 'dashboardContents';\nlet selectedTabMenuItem;\n\nexport function addTab(tabID: string, tabName: string, tabModuleId?: string, callback: JQuery => any) {\n\tif (!isCurrentSubreddit('dashboard')) return;\n\n\tBodyClasses.add('res-dashboard');\n\n\tlet $tabPage;\n\n\tconst tabMenuItem = CreateElement.tabMenuItem({\n\t\ttext: tabName,\n\t\tclassName: 'res-dashboard-tab',\n\t\torder: -1,\n\t\tonChange: active => {\n\t\t\tif (active) {\n\t\t\t\tif (selectedTabMenuItem) selectedTabMenuItem.click();\n\t\t\t\tselectedTabMenuItem = tabMenuItem;\n\t\t\t\t$tabPage = $('<div class=\"dashboardPane\">').appendTo('#siteTable.linklisting');\n\t\t\t\tcallback($tabPage);\n\t\t\t\tlocation.hash = tabID;\n\t\t\t} else {\n\t\t\t\t$tabPage.remove();\n\t\t\t}\n\t\t},\n\t});\n\n\t// if a module id has been provided then we automatically append the gear link\n\tif (tabModuleId) {\n\t\tconst gear = string.html`${string.safe(SettingsNavigation.makeUrlHashLink(\n\t\t\ttabModuleId, undefined, ' ', 'gearIcon'))}`;\n\t\ttabMenuItem.after(gear);\n\t}\n\n\tif (tabID === initialTabID) tabMenuItem.click();\n}\n\nconst MAX_ROWS = 100;\n\nconst dashboardStorage = Storage.wrap(() => `RESmodules.dashboard.${loggedInUser() || 'null'}`, ([]: Array<*>));\n\ntype WidgetOptions = {|\n\tbasePath: string,\n\tdisplayName?: string,\n\tnumPosts?: number,\n\tsortBy?: string,\n\tsortSearchBy?: string,\n\tminimized?: boolean,\n|};\n\nexport let widgets: Array<WidgetOptions> = [];\n\nasync function getLatestWidgets() {\n\twidgets = (await dashboardStorage.get())\n\t\t// A bug causes widgets to be inproperly saved in unknown circumstances; these must be ignored\n\t\t.filter(Boolean);\n}\n\nasync function addDashboardTab($tabPage) {\n\tawait initialWidgetLoad();\n\tattachAddComponent($tabPage);\n\tattachEditComponent();\n\tinitUpdateQueue();\n}\n\nfunction initUpdateQueue() {\n\tfor (const widget of widgets) {\n\t\tif (widget) addWidget(widget);\n\t}\n\n\tSortable.create(document.querySelector('#RESDashboard'), {\n\t\thandle: 'div.RESDashboardComponentHeader',\n\t\tonChange: () => saveOrder(),\n\t});\n}\n\nconst updateQueue = [];\nlet updateQueueTimer;\n\nfunction addToUpdateQueue(updateFunction) {\n\tupdateQueue.push(updateFunction);\n\tif (!updateQueueTimer) {\n\t\tupdateQueueTimer = setInterval(processUpdateQueue, 2000);\n\t\tsetTimeout(processUpdateQueue, 100);\n\t}\n}\n\nfunction processUpdateQueue() {\n\tconst thisUpdate = updateQueue.pop();\n\tthisUpdate();\n\tif (updateQueue.length < 1) {\n\t\tclearInterval(updateQueueTimer);\n\t\tupdateQueueTimer = undefined;\n\t}\n}\n\nfunction saveOrder() {\n\tconst data = $('#siteTable li.RESDashboardComponent').toArray().map(e => $(e).attr('id'));\n\tdata.reverse();\n\tconst newOrder = [];\n\tfor (const widget of widgets) {\n\t\tconst newIndex = data.indexOf(widget.basePath.replace(/(\\/|\\+)/g, '_'));\n\t\tnewOrder[newIndex] = widget;\n\t}\n\twidgets = newOrder;\n\tdashboardStorage.set(widgets);\n}\n\nlet widgetBeingEdited;\n\nfunction attachEditComponent() {\n\tconst $dashboardEditComponent = $('<div id=\"RESDashboardEditComponent\" class=\"RESDashboardComponent\" />');\n\t$dashboardEditComponent.html(`\n\t\t<div class=\"editWidget\">Edit widget</div>\n\t\t<div id=\"editRedditFormContainer\" class=\"editRedditForm\">\n\t\t\t<form id=\"editRedditForm\">\n\t\t\t\t<input type=\"text\" id=\"editReddit\" placeholder=\"subreddit / multireddit\">\n\t\t\t\t<input type=\"text\" id=\"editRedditDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"updateButton\" value=\"save changes\">\n\t\t\t\t<input type=\"cancel\" class=\"cancelButton\" value=\"cancel\">\n\t\t\t</form>\n\t\t\t<form id=\"editSearchForm\">\n\t\t\t\t<input type=\"text\" id=\"editSearch\" placeholder=\"search terms\">\n\t\t\t\t<input type=\"text\" id=\"editSearchDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"updateButton\" value=\"save changes\">\n\t\t\t\t<input type=\"cancel\" class=\"cancelButton\" value=\"cancel\">\n\t\t\t</form>\n\t\t</div>\n\t`);\n\n\t$dashboardEditComponent.find('#editRedditForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet thisBasePath = $('#editReddit').val();\n\t\tif (thisBasePath !== '') {\n\t\t\tthisBasePath = thisBasePath.replace(/,|\\s/g, '+');\n\t\t\twidgetBeingEdited.formerBasePath = widgetBeingEdited.basePath;\n\t\t\twidgetBeingEdited.basePath = `/r/${thisBasePath}`;\n\t\t\twidgetBeingEdited.displayName = $('#editRedditDisplayName').val();\n\t\t\twidgetBeingEdited.update();\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editReddit').blur());\n\t\t\twidgetBeingEdited.widgetEle.find('.widgetPath').text(widgetBeingEdited.displayName).attr('title', `/r/${thisBasePath}`);\n\t\t\tupdateWidget();\n\t\t}\n\t});\n\t$dashboardEditComponent.find('#editSearchForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = $('#editSearch').val();\n\t\twidgetBeingEdited.formerBasePath = widgetBeingEdited.basePath;\n\t\twidgetBeingEdited.basePath = string.encode`/search?q=${thisBasePath}`;\n\t\twidgetBeingEdited.displayName = $('#editSearchDisplayName').val();\n\t\twidgetBeingEdited.update();\n\t\t$('#RESDashboardEditComponent').fadeOut(() => {\n\t\t\t$('#editSearch').val('').blur();\n\t\t\t$('#editSearchDisplayName').val('').blur();\n\t\t});\n\t\twidgetBeingEdited.widgetEle.find('.widgetPath').text(widgetBeingEdited.displayName).attr('title', thisBasePath);\n\t\tupdateWidget();\n\t});\n\t$dashboardEditComponent.find('.cancelButton').click(() => {\n\t\tif (widgetBeingEdited.basePath.startsWith('/search?q=')) {\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editSearchDisplayName').val('').blur());\n\t\t} else {\n\t\t\t$('#RESDashboardEditComponent').fadeOut(() => $('#editReddit').blur());\n\t\t}\n\t});\n\t$(document.body).append($dashboardEditComponent);\n}\n\nfunction showEditForm() {\n\tconst basePath = widgetBeingEdited.basePath;\n\tconst widgetEle = widgetBeingEdited.widgetEle;\n\tconst eleTop = $(widgetEle).position().top;\n\tconst eleWidth = $(widgetEle).width();\n\t$('#RESDashboardEditComponent').css('top', `${eleTop}px`).css('left', '5px').css('width', `${eleWidth + 2}px`);\n\tif (basePath.startsWith('/search?q=')) {\n\t\t$('#editSearchDisplayName').val(widgetBeingEdited.displayName);\n\t\t$('#editSearch').val(decodeURIComponent(basePath.substr(10)));\n\t\t$('#editSearchForm').show();\n\t\t$('#editRedditForm').hide();\n\t\t$('#RESDashboardEditComponent').fadeIn('fast');\n\t} else {\n\t\t$('#editReddit').val(widgetBeingEdited.basePath.substr(3));\n\t\t$('#editRedditDisplayName').val(widgetBeingEdited.displayName);\n\t\t$('#editRedditForm').show();\n\t\t$('#editSearchForm').hide();\n\t\t$('#RESDashboardEditComponent').fadeIn('fast');\n\t}\n}\n\nlet $dashboardUL;\n\nfunction attachAddComponent($tabPage) {\n\tconst $dashboardAddComponent = $('<div id=\"RESDashboardAddComponent\" class=\"RESDashboardComponent\" />');\n\t$dashboardAddComponent.html(`\n\t\t<div class=\"addNewWidget\">Add a new widget</div>\n\t\t<div id=\"addWidgetButtons\">\n\t\t\t<div class=\"addButton\" id=\"addSearchWidget\">+search widget</div>\n\t\t\t<div class=\"addButton\" id=\"addMailWidget\">+mail widget</div>\n\t\t\t<div class=\"addButton\" id=\"addUserWidget\">+user widget</div>\n\t\t\t<div class=\"addButton\" id=\"addRedditWidget\">+subreddit widget</div>\n\t\t</div>\n\t\t<div id=\"addSearchFormContainer\" class=\"addSearchForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addSearchForm\">\n\t\t\t\t<input type=\"text\" id=\"addSearch\" placeholder=\"search terms\">\n\t\t\t\t<input type=\"text\" id=\"addSearchDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div id=\"addMailWidgetContainer\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/inbox/\">+inbox</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/unread/\">+unread</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/messages/\">+messages</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/comments/\">+comment replies</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/selfreply/\">+post replies</div>\n\t\t\t<div class=\"addButton widgetShortcut\" widgetPath=\"/message/moderator/\">+modmail</div>\n\t\t</div>\n\t\t<div id=\"addUserFormContainer\" class=\"addUserForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addUserForm\">\n\t\t\t\t<input type=\"text\" id=\"addUser\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div id=\"addRedditFormContainer\" class=\"addRedditForm\">\n\t\t\t<div class=\"backToWidgetTypes\">&laquo; back</div>\n\t\t\t<form id=\"addRedditForm\">\n\t\t\t\t<input type=\"text\" id=\"addReddit\" placeholder=\"subreddit / multireddit\">\n\t\t\t\t<input type=\"text\" id=\"addRedditDisplayName\" placeholder=\"display name (e.g. stuff)\">\n\t\t\t\t<input type=\"submit\" class=\"addButton\" value=\"+add\">\n\t\t\t</form>\n\t\t</div>\n\t`);\n\t$dashboardAddComponent.find('.backToWidgetTypes').click(function() {\n\t\t$(this).parent().fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('.widgetShortcut').click(function() {\n\t\tconst thisBasePath = $(this).attr('widgetPath');\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t}, true);\n\t\t$('#addMailWidgetContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addRedditWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => {\n\t\t\t$('#addRedditFormContainer').fadeIn(() => {\n\t\t\t\t$('#token-input-addReddit').focus();\n\t\t\t});\n\t\t});\n\t});\n\t$dashboardAddComponent.find('#addMailWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addMailWidgetContainer').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addUserWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addUserFormContainer').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addSearchWidget').click(() => {\n\t\t$('#addWidgetButtons').fadeOut(() => $('#addSearchFormContainer').fadeIn());\n\t});\n\n\t$dashboardAddComponent.find('#addRedditForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet thisBasePath = $('#addReddit').val();\n\t\tif (thisBasePath !== '') {\n\t\t\tthisBasePath = thisBasePath.replace(/,|\\s/g, '+');\n\t\t\tconst thisDisplayName = ($('#addRedditDisplayName').val()) ? $('#addRedditDisplayName').val() : thisBasePath;\n\t\t\taddWidget({\n\t\t\t\tbasePath: thisBasePath,\n\t\t\t\tdisplayName: thisDisplayName,\n\t\t\t}, true);\n\t\t\t$('#addReddit').val('').blur();\n\t\t\t$('#addRedditFormContainer').fadeOut(() => {\n\t\t\t\t$('#addWidgetButtons').fadeIn();\n\t\t\t});\n\t\t}\n\t});\n\t$dashboardAddComponent.find('#addUserForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = `/user/${$('#addUser').val()}`;\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t}, true);\n\t\t$('#addUser').val('').blur();\n\t\t$('#addUserFormContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardAddComponent.find('#addSearchForm').get(0).addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tconst thisBasePath = string.encode`/search?q=${$('#addSearch').val()}`;\n\t\tconst thisDisplayName = ($('#addSearchDisplayName').val()) ? $('#addSearchDisplayName').val() : thisBasePath;\n\t\taddWidget({\n\t\t\tbasePath: thisBasePath,\n\t\t\tdisplayName: thisDisplayName,\n\t\t}, true);\n\t\t$('#addSearch').val('').blur();\n\t\t$('#addSearchFormContainer').fadeOut(() => $('#addWidgetButtons').fadeIn());\n\t});\n\t$dashboardUL = $('<ul id=\"RESDashboard\"></ul>');\n\t$tabPage.append($dashboardAddComponent, $dashboardUL);\n}\n\nfunction addWidget(optionsObject: WidgetOptions, isNew) {\n\tif (!optionsObject.basePath.startsWith('/')) {\n\t\toptionsObject.basePath = `/r/${optionsObject.basePath}`;\n\t}\n\tconst exists = widgets.some(widget => widget.basePath === optionsObject.basePath);\n\t// hide any shortcut button for this widget, since it exists... wait a second, though, or it causes rendering stupidity.\n\tsetTimeout(() => {\n\t\t$(`.widgetShortcut[widgetPath=\"${optionsObject.basePath}\"]`).hide();\n\t}, 1000);\n\tif (exists && isNew) {\n\t\tAlert.open(`A widget for ${optionsObject.basePath} already exists!`);\n\t} else {\n\t\tconst thisWidget = new WidgetObject(optionsObject);\n\t\tif ($dashboardUL) thisWidget.init();\n\t\tsaveWidget(thisWidget.optionsObject());\n\t}\n}\n\nasync function removeWidget(optionsObject) {\n\tawait getLatestWidgets();\n\tlet exists;\n\twidgets = widgets.filter(widget => {\n\t\tif (widget.basePath === optionsObject.basePath) {\n\t\t\texists = true;\n\t\t\t$(document.getElementById(widget.basePath.replace(/\\/|\\+/g, '_'))).fadeOut('slow', function() {\n\t\t\t\t$(this).detach();\n\t\t\t});\n\t\t\t// show any shortcut button for this widget, since we've now deleted it...\n\t\t\tsetTimeout(() => {\n\t\t\t\t$(`.widgetShortcut[widgetPath=\"${optionsObject.basePath}\"]`).show();\n\t\t\t}, 1000);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t});\n\tif (!exists) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'dashboard',\n\t\t\tmessage: 'The widget you just tried to remove does not seem to exist.',\n\t\t});\n\t}\n\tdashboardStorage.set(widgets);\n}\n\nasync function saveWidget(optionsObject) {\n\tawait getLatestWidgets();\n\n\tlet index = widgets.findIndex(widget => widget.basePath === optionsObject.basePath);\n\n\t// update if exists else append\n\tif (index === -1) {\n\t\tindex = widgets.length;\n\t}\n\twidgets[index] = optionsObject;\n\n\tdashboardStorage.set(widgets);\n}\n\nasync function updateWidget() {\n\tawait getLatestWidgets();\n\twidgets = widgets.map(widget => {\n\t\tif (widget.basePath === widgetBeingEdited.formerBasePath) {\n\t\t\tdelete widgetBeingEdited.formerBasePath;\n\t\t\twidget = widgetBeingEdited.optionsObject();\n\t\t}\n\t\treturn widget;\n\t});\n\tdashboardStorage.set(widgets);\n}\n\nfunction WidgetObject(widgetOptions: WidgetOptions) {\n\tthis.basePath = widgetOptions.basePath;\n\tif (widgetOptions.displayName === undefined || widgetOptions.displayName === null) {\n\t\twidgetOptions.displayName = this.basePath;\n\t}\n\tthis.displayName = widgetOptions.displayName;\n\tthis.numPosts = widgetOptions.numPosts || parseInt(module.options.defaultPosts.value, 10);\n\tthis.sortBy = widgetOptions.sortBy || module.options.defaultSort.value;\n\tthis.sortSearchBy = widgetOptions.sortSearchBy || module.options.defaultSortSearch.value;\n\tthis.minimized = widgetOptions.minimized || false;\n\tthis.widgetEle = $(`\n\t\t<li class=\"RESDashboardComponent\" id=\"${this.basePath.replace(/\\/|\\+/g, '_')}\">\n\t\t\t<div class=\"RESDashboardComponentScrim\">\n\t\t\t\t<div class=\"RESDashboardComponentLoader\">\n\t\t\t\t\t<span class=\"dashboardLoader\"/><span>querying the server. one moment please.</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t`);\n\tthis.header = $(`<div class=\"RESDashboardComponentHeader\"><a class=\"widgetPath\" title=\"${this.basePath}\" href=\"${this.basePath}\"></a></div>`);\n\tthis.header.find('.widgetPath').text(this.displayName);\n\tthis.sortControls = $('<ul class=\"widgetSortButtons\"><li sort=\"hot\">hot</li><li sort=\"new\">new</li><li sort=\"rising\">rising</li><li sort=\"controversial\">controversial</li><li sort=\"top\">top</li></ul>');\n\tthis.sortSearchControls = $('<ul class=\"widgetSortButtons\"><li sort=\"relevance\">relevance</li><li sort=\"top\">top</li><li sort=\"new\">new</li><li sort=\"comments\">comments</li></ul>');\n\t// return an optionsObject, which is what we'll store in the widgets array.\n\tthis.optionsObject = () => ({\n\t\tbasePath: this.basePath,\n\t\tdisplayName: this.displayName,\n\t\tnumPosts: this.numPosts,\n\t\tsortBy: this.sortBy,\n\t\tsortSearchBy: this.sortSearchBy,\n\t\tminimized: this.minimized,\n\t});\n\t// set the sort by properly...\n\t$(this.sortControls).find(`li[sort=${this.sortBy}]`).addClass('active');\n\t$(this.sortControls).find('li').click(e => {\n\t\tthis.sortChange($(e.target).attr('sort'));\n\t});\n\t$(this.sortSearchControls).find(`li[sort=${this.sortSearchBy}]`).addClass('active');\n\t$(this.sortSearchControls).find('li').click(e => {\n\t\tthis.sortChange($(e.target).attr('sort'));\n\t});\n\t$(this.header).append(this.sortControls);\n\tif (!this.basePath.startsWith('/r/') && !this.basePath.startsWith('/user/')) {\n\t\tsetTimeout(() => $(this.sortControls).hide(), 100);\n\t}\n\t$(this.header).append(this.sortSearchControls);\n\tif (!this.basePath.startsWith('/search?q=')) {\n\t\tsetTimeout(() => $(this.sortSearchControls).hide(), 100);\n\t}\n\tthis.stateControls = $('<ul class=\"widgetStateButtons\"><li class=\"updateTime\"></li><li action=\"refresh\" class=\"refresh\"><span class=\"res-icon\">&#xF0B0;</span></li><li action=\"refreshAll\" class=\"refreshAll\">Refresh All</li><li action=\"addRow\">+row</li><li action=\"subRow\">-row</li><li action=\"edit\" class=\"editButton\"><span class=\"res-icon\">&#xF139;</span></li><li action=\"minimize\" class=\"minimize\">-</li><li action=\"delete\" class=\"RESClose\">&times;</li></ul>');\n\t$(this.stateControls).find('li').click(e => {\n\t\tswitch ($(e.target).attr('action')) {\n\t\t\tcase 'refresh':\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'refreshAll':\n\t\t\t\t$('li[action=\"refresh\"]').click();\n\t\t\t\tbreak;\n\t\t\tcase 'addRow':\n\t\t\t\tif (this.numPosts === MAX_ROWS) break;\n\t\t\t\tthis.numPosts++;\n\t\t\t\tif (this.numPosts === MAX_ROWS) $(this.stateControls).find('li[action=addRow]').addClass('disabled');\n\t\t\t\t$(this.stateControls).find('li[action=subRow]').removeClass('disabled');\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'subRow':\n\t\t\t\tif (this.numPosts === 0) break;\n\t\t\t\tthis.numPosts--;\n\t\t\t\tif (this.numPosts === 1) $(this.stateControls).find('li[action=subRow]').addClass('disabled');\n\t\t\t\t$(this.stateControls).find('li[action=addRow]').removeClass('disabled');\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tthis.update();\n\t\t\t\tbreak;\n\t\t\tcase 'minimize':\n\t\t\t\t$(this.widgetEle).toggleClass('minimized');\n\t\t\t\tif ($(this.widgetEle).hasClass('minimized')) {\n\t\t\t\t\t$(e.target).text('+');\n\t\t\t\t\tthis.minimized = true;\n\t\t\t\t} else {\n\t\t\t\t\t$(e.target).text('-');\n\t\t\t\t\tthis.minimized = false;\n\t\t\t\t\tthis.update();\n\t\t\t\t}\n\t\t\t\t$(this.contents).parent().slideToggle();\n\t\t\t\tsaveWidget(this.optionsObject());\n\t\t\t\tbreak;\n\t\t\tcase 'delete':\n\t\t\t\tremoveWidget(this.optionsObject());\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t});\n\t$(this.header).append(this.stateControls);\n\tthis.sortChange = sortBy => {\n\t\tthis.sortBy = sortBy;\n\t\tthis.sortSearchBy = sortBy;\n\t\t$(this.header).find('ul.widgetSortButtons li').removeClass('active');\n\t\t$(this.header).find(`ul.widgetSortButtons li[sort=${sortBy}]`).addClass('active');\n\t\tthis.update();\n\t\tsaveWidget(this.optionsObject());\n\t};\n\tthis.edit = () => {\n\t\twidgetBeingEdited = this; // eslint-disable-line consistent-this\n\t\tshowEditForm();\n\t};\n\t$(this.header).find('.editButton').click(this.edit);\n\tthis.update = () => {\n\t\tif (this.basePath.includes('/user/')) {\n\t\t\tthis.sortPath = (this.sortBy === 'hot') ? '/' : `?sort=${this.sortBy}`;\n\t\t} else if (this.basePath.includes('/r/')) {\n\t\t\tthis.sortPath = (this.sortBy === 'hot') ? '/' : `/${this.sortBy}/`;\n\t\t} else if (this.basePath.includes('/search?q=')) {\n\t\t\tthis.sortPath = `&sort=${this.sortSearchBy}`;\n\t\t} else {\n\t\t\tthis.sortPath = '';\n\t\t}\n\t\tthis.url = `${location.protocol}//${location.hostname}/${this.basePath}${this.sortPath}`;\n\t\t$(this.contents).fadeTo('fast', 0.25);\n\t\t$(this.scrim).fadeIn();\n\n\t\tajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: this.url,\n\t\t\tquery: {\n\t\t\t\tlimit: this.numPosts,\n\t\t\t},\n\t\t})\n\t\t\t.then(this.populate)\n\t\t\t.catch(this.error);\n\t};\n\tthis.container = $('<div class=\"RESDashboardComponentContainer\"><div class=\"RESDashboardComponentContents\"></div></div>');\n\tif (this.minimized) {\n\t\t$(this.container).addClass('minimized');\n\t\t$(this.stateControls).find('li.minimize').addClass('minimized').text('+');\n\t}\n\tthis.scrim = $(this.widgetEle).find('.RESDashboardComponentScrim');\n\tthis.contents = $(this.container).find('.RESDashboardComponentContents');\n\tthis.init = () => {\n\t\tthis.draw();\n\t\tif (!this.minimized) addToUpdateQueue(this.update);\n\t};\n\tthis.draw = () => {\n\t\t$(this.widgetEle).append(this.header);\n\t\t$(this.widgetEle).append(this.container);\n\t\tif (this.minimized) $(this.widgetEle).addClass('minimized');\n\t\t$dashboardUL.prepend(this.widgetEle);\n\t\t// $(thisWidget.scrim).fadeIn();\n\t};\n\tthis.populate = response => {\n\t\tlet $widgetContent = $(response).find('#siteTable, .search-result-group>.contents:last');\n\t\tconst $thisWidgetContents = $(this.contents);\n\n\t\t$widgetContent.attr('id', `siteTable_${this.basePath.replace(/\\/|\\+/g, '_')}`);\n\t\tif ($widgetContent.length === 2) $widgetContent = $($widgetContent[1]);\n\t\t$widgetContent.attr('url', `${this.url}?limit=${this.numPosts}`);\n\t\tif (($widgetContent.length > 0) && ($widgetContent.html() !== '')) {\n\t\t\t$widgetContent.html($widgetContent.html().replace(/<script(.|\\s)*?\\/script>/g, ''));\n\n\t\t\t// check for \"no results\"\n\t\t\tconst $noResults = $widgetContent.find('#noresults.error');\n\t\t\tif ($noResults.length) {\n\t\t\t\t$widgetContent.html('<span class=\"error\">No results found for this widget. Some sort methods, such as rising, may not always have results. Please try a different method.</span>');\n\t\t\t}\n\n\t\t\t// $widgetContent will contain HTML from Reddit's page load. No XSS here or you'd already be hit, can't call escapeHTML on this either and wouldn't help anyhow.\n\t\t\ttry {\n\t\t\t\t$thisWidgetContents.empty().append($widgetContent);\n\t\t\t} catch (e) {\n\t\t\t\t// console.log(e);\n\t\t\t}\n\n\t\t\t$thisWidgetContents.fadeTo('fast', 1);\n\t\t\t$(this.scrim).fadeOut(function() {\n\t\t\t\t$(this).hide(); // make sure it is hidden in case the element isn't visible due to being on a different dashboard tab\n\t\t\t});\n\t\t} else {\n\t\t\tif (this.url.includes('/message/')) {\n\t\t\t\t$thisWidgetContents.html('<div class=\"widgetNoMail\">No messages were found.</div>');\n\t\t\t} else {\n\t\t\t\t$thisWidgetContents.html('<div class=\"error\">There were no results returned for this widget. If you made a typo, simply close the widget to delete it. If reddit is just under heavy load, try clicking refresh in a few moments.</div>');\n\t\t\t}\n\t\t\t$thisWidgetContents.fadeTo('fast', 1);\n\t\t\t$(this.scrim).fadeOut();\n\t\t}\n\t\t$(this.stateControls).find('.updateTime').text(`updated: ${formatDateTime()}`);\n\n\t\t// now run watcher functions from other modules on this content...\n\t\tif ($widgetContent[0]) {\n\t\t\tregisterPage($widgetContent[0]);\n\t\t}\n\t};\n\tthis.error = e => {\n\t\tif (e.status === 404) {\n\t\t\t$(this.contents).html('<div class=\"error\">This widget received a 404 not found error. You may have made a typo when adding it.</div>');\n\t\t} else {\n\t\t\t$(this.contents).html('<div class=\"error\">There was an error loading data for this widget. Reddit may be under heavy load, or you may have provided an invalid path.</div>');\n\t\t}\n\t\t$(this.scrim).fadeOut();\n\t\t$(this.contents).fadeTo('fast', 1);\n\t};\n}\n\nfunction addDashboardShortcuts(subreddit) {\n\tconst subButtons = document.querySelectorAll('.side .fancy-toggle-button');\n\tfor (const subButton of subButtons) {\n\t\tlet isMulti, thisSubredditFragment;\n\t\tif (!subreddit.includes('+') && !isCurrentSubreddit('mod')) {\n\t\t\tisMulti = false;\n\t\t\tthisSubredditFragment = subreddit;\n\t\t} else if ($(subButton).parent().hasClass('subButtons')) {\n\t\t\tisMulti = true;\n\t\t\tthisSubredditFragment = $(subButton).parent().parent().find('a.title').text();\n\t\t} else {\n\t\t\tisMulti = true;\n\t\t\tthisSubredditFragment = $(subButton).next().text();\n\t\t}\n\t\tif ($(`#subButtons-${thisSubredditFragment}`).length === 0) {\n\t\t\tconst $subButtonsWrapper = $(`<div id=\"subButtons-${thisSubredditFragment}\" class=\"subButtons\" style=\"margin: 0 !important;\"></div>`);\n\t\t\t$(subButton).wrap($subButtonsWrapper);\n\t\t\t// move this wrapper to the end (after any icons that may exist...)\n\t\t\tif (isMulti) {\n\t\t\t\tconst theWrap = $(subButton).parent();\n\t\t\t\t$(theWrap).appendTo($(theWrap).parent());\n\t\t\t}\n\t\t}\n\t\tconst $subButtons = $(`#subButtons-${thisSubredditFragment}`);\n\t\tconst button = createSubredditToggleButton(subreddit);\n\t\tinitialWidgetLoad().then(() => button.dispatchEvent(new CustomEvent('refresh')));\n\t\tbutton.classList.add('RESDashboardToggle'); // custom subreddit styles uses this\n\t\t$subButtons.append(button);\n\t\tconst next = $subButtons.next();\n\t\tif ($(next).hasClass('title') && !$subButtons.hasClass('swapped')) {\n\t\t\t$subButtons.before($(next));\n\t\t\t$subButtons.addClass('swapped');\n\t\t}\n\t}\n}\n\nexport function createSubredditToggleButton(subreddit: string) {\n\tconst basePath = `/r/${subreddit.toLowerCase()}`;\n\n\treturn CreateElement.fancyToggleButton(\n\t\ti18n('subredditInfoAddRemoveDashboard'),\n\t\ti18n('subredditInfoAddThisSubredditToDashboard'),\n\t\t() => widgets.some(widget => widget && (widget.basePath.toLowerCase() === basePath)),\n\t\tstate => {\n\t\t\tif (state) {\n\t\t\t\taddWidget({ basePath });\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\theader: 'Dashboard Notification',\n\t\t\t\t\tmoduleID: 'dashboard',\n\t\t\t\t\tmessage: `\n\t\t\t\t\t\tDashboard widget added for ${basePath}\n\t\t\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"/r/Dashboard\">view the dashboard</a></p>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t`,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tremoveWidget({ basePath });\n\t\t\t}\n\t\t}\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tDAY,\n\tMINUTE,\n\tAlert,\n\tThing,\n\tescapeHTML,\n\texecRegexes,\n\tfilterMap,\n\tformatRelativeTime,\n\tformatDateTime,\n\tgetPostMetadata,\n\tisPageType,\n\tmaybePruneOldEntries,\n\tloggedInUser,\n\tregexes,\n\tstring,\n\twatchForThings,\n\tmutex,\n\twaitForEvent,\n} from '../utils';\nimport { Storage, isPrivateBrowsing } from '../environment';\nimport * as Dashboard from './dashboard';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('newCommentCount');\n\nmodule.moduleName = 'newCommentCountName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'newCommentCountDesc';\nmodule.options = {\n\thideWhenUnchanged: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountHideWhenUnchangedDesc',\n\t\ttitle: 'newCommentCountHideWhenUnchangedTitle',\n\t},\n\tcleanComments: {\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'newCommentCountCleanCommentsDesc',\n\t\ttitle: 'newCommentCountCleanCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tsubscriptionLength: {\n\t\ttype: 'text',\n\t\tvalue: '2',\n\t\tdescription: 'newCommentCountSubscriptionLengthDesc',\n\t\ttitle: 'newCommentCountSubscriptionLengthTitle',\n\t},\n\tshowSubscribeButton: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountShowSubscribeButtonDesc',\n\t\ttitle: 'newCommentCountShowSubscribeButtonTitle',\n\t},\n\tnotifyEditedPosts: {\n\t\tdependsOn: options => options.showSubscribeButton.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'newCommentCountNotifyEditedPostsDesc',\n\t\ttitle: 'newCommentCountNotifyEditedPostsTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorPostsVisited: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'newCommentCountMonitorPostsVisitedDesc',\n\t\ttitle: 'newCommentCountMonitorPostsVisitedTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorPostsVisitedIncognito: {\n\t\tdependsOn: options => options.monitorPostsVisited.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'newCommentCountMonitorPostsVisitedIncognitoDesc',\n\t\ttitle: 'newCommentCountMonitorPostsVisitedIncognitoTitle',\n\t\tadvanced: true,\n\t},\n};\n\nconst entryStorage = Storage.wrapPrefix('newCommentCount.', (): {|\n\tcount: number,\n\tupdateTime: number,\n|} => {\n\tthrow new Error('Default value should never be retrieved');\n}, undefined, true);\n\nconst subscriptionStorage = Storage.wrapBlob('RESmodules.newCommentCount.subscriptions', (): {|\n\tcount: number,\n\tsubscriptionDate: number,\n\teditedTime: number,\n\tupdateTime: number,\n\turl: string,\n\ttitle: string,\n|} => { throw new Error('Subscription not found'); });\n\nlet subscriptionButton: ?HTMLElement;\n\nmodule.beforeLoad = () => {\n\tif (isPageType('comments') && module.options.showSubscribeButton.value) {\n\t\tsubscriptionButton = string.html`<span id=\"REScommentSubToggle\" class=\"RESSubscriptionButton\"></span>`;\n\t\trefreshSubscriptionButton();\n\t}\n\n\t// Immediately load data in order to have data ready on mutation\n\twatchForThings(['post'], getNewCount, { immediate: true });\n\n\twatchForThings(['post'], displayNewCommentCount);\n};\n\nmodule.contentStart = () => {\n\tif (subscriptionButton) {\n\t\t$('.commentarea .panestack-title').append(subscriptionButton);\n\t}\n\n\tDashboard.addTab('newCommentsContents', 'My Subscriptions', module.moduleID, addDashboardFunctionality);\n\n\tmaybePruneOldEntries('newCommentCount', entryStorage, parseInt(module.options.cleanComments.value, 10));\n};\n\nlet listingThing: ?Thing;\nlet currentCommentCount: ?number;\n\nmodule.afterLoad = () => {\n\t// Avoid missing notifications by only running the check when document is visible\n\tif (!document.hidden) {\n\t\tcheckSubscriptions();\n\t}\n\n\tif (isPageType('comments')) {\n\t\tlistingThing = Thing.from(document.querySelector('#siteTable a.comments'));\n\t\tif (listingThing) {\n\t\t\tcurrentCommentCount = listingThing.getCommentCount();\n\t\t\tif (typeof currentCommentCount === 'number') {\n\t\t\t\t// Save current comment count\n\t\t\t\tsetEntry(getId(listingThing), currentCommentCount);\n\n\t\t\t\t// Increment comment count when posting comment\n\t\t\t\twatchForThings(['comment'], updateCurrentCommentCountFromMyComment);\n\t\t\t}\n\t\t}\n\t}\n};\n\nconst getId = thing => thing.getFullname().split('_').slice(-1)[0];\n\nexport const hasEntry = (thing: Thing) => entryStorage.has(getId(thing));\n\nfunction setEntry(id: string, newCommentCount: number) {\n\tif (!module.options.monitorPostsVisited.value) return false;\n\tif (!module.options.monitorPostsVisitedIncognito.value && isPrivateBrowsing()) return false;\n\n\tentryStorage.set(id, {\n\t\tcount: newCommentCount,\n\t\tupdateTime: Date.now(),\n\t});\n}\n\nexport const getNewCount = _.memoize(async (thing: Thing): Promise<?number> => {\n\tconst currentCount = thing.getCommentCount();\n\tif (typeof currentCount !== 'number') return;\n\n\tconst { count: lastOpenedCount } = await entryStorage.getNullable(getId(thing)) || {};\n\tif (typeof lastOpenedCount !== 'number') return;\n\n\treturn Math.max(currentCount - lastOpenedCount, 0);\n});\n\nasync function displayNewCommentCount(thing) {\n\tconst newCount = await getNewCount(thing);\n\tif (typeof newCount !== 'number') return;\n\tif (!newCount && module.options.hideWhenUnchanged.value) return;\n\n\tif (newCount) thing.element.classList.add('res-hasNewComments');\n\n\t$(thing.getCommentCountElement())\n\t\t.append(`<span class=\"newComments\">&nbsp;(${newCount} new)</span>`);\n}\n\nfunction updateCurrentCommentCountFromMyComment(thing) {\n\tconst timestamp = thing.getTimestamp();\n\tconst isRecent = timestamp && (Date.now() - timestamp.getTime()) < 10000;\n\tconst isMine = loggedInUser() === thing.getAuthor();\n\tif (isRecent && isMine && listingThing && typeof currentCommentCount === 'number') {\n\t\tsetEntry(getId(listingThing), ++currentCommentCount);\n\t}\n}\n\nconst refreshSubscriptionButton = mutex(async () => {\n\tconst id = (execRegexes.comments(location.pathname) || [])[2];\n\tconst button = subscriptionButton;\n\tif (!id || !button) return;\n\n\tconst subscriptions = await subscriptionStorage.getAll();\n\n\tif (subscriptions.hasOwnProperty(id)) {\n\t\t// Unsubscribe.\n\t\t$(button)\n\t\t\t.html('<span class=\"res-icon\">&#xF038;</span> unsubscribe')\n\t\t\t.attr('title', 'stop receiving notifications')\n\t\t\t.addClass('unsubscribe');\n\t\twaitForEvent(button, 'click').then(async () => {\n\t\t\tawait unsubscribe(id);\n\t\t\tNotifications.showNotification({\n\t\t\t\tnotificationID: 'newCommentCountUnsubscribe',\n\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\tmessage: 'You are now unsubscribed from this thread.',\n\t\t\t}, 3000);\n\t\t}).then(refreshSubscriptionButton);\n\t} else {\n\t\t// Subscribe.\n\t\t$(button)\n\t\t\t.html('<span class=\"res-icon\">&#xF03B;</span> subscribe')\n\t\t\t.attr('title', 'notify me of new comments')\n\t\t\t.removeClass('unsubscribe');\n\t\twaitForEvent(button, 'click').then(async () => {\n\t\t\tawait subscribe(id, currentCommentCount || 0, listingThing && listingThing.getPostEditTimestamp() || 0);\n\t\t\tNotifications.showNotification({\n\t\t\t\tnotificationID: 'newCommentCountSubscribe',\n\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\toptionKey: 'subscriptionLength',\n\t\t\t\tmessage: `\n\t\t\t\t\t<p>\n\t\t\t\t\t\tYou are now subscribed to this thread for ${module.options.subscriptionLength.value} days.\n\t\t\t\t\t\tWhen new comments are posted you'll receive a notification.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p><a href=\"/r/Dashboard#newCommentsContents\">Manage subscriptions</a></p>\n\t\t\t\t`,\n\t\t\t}, 5000);\n\t\t}).then(refreshSubscriptionButton);\n\t}\n});\n\nfunction subscribe(id, newCommentCount, newEditedTime) {\n\tconst now = Date.now();\n\treturn subscriptionStorage.set(id, {\n\t\tcount: newCommentCount,\n\t\tsubscriptionDate: now,\n\t\tupdateTime: now,\n\t\teditedTime: newEditedTime,\n\t\turl: location.href.replace(location.hash, ''),\n\t\ttitle: document.title,\n\t});\n}\n\nfunction unsubscribe(id) {\n\treturn subscriptionStorage.delete(id);\n}\n\nasync function checkSubscriptions() {\n\tconst now = Date.now();\n\n\tfor (const [id, subscription] of Object.entries(await subscriptionStorage.getAll())) {\n\t\tconst { subscriptionDate, updateTime } = subscription;\n\t\t// If it's been subscriptionLength days since we've subscribed, we're going to delete this subscription...\n\t\tif ((now - subscriptionDate) > (DAY * parseInt(module.options.subscriptionLength.value, 10))) {\n\t\t\tunsubscribe(id);\n\t\t} else if ((now - updateTime) > (5 * MINUTE)) {\n\t\t\tsubscriptionStorage.patch(id, { updateTime: now });\n\t\t\tcheckThread(id, subscription);\n\t\t}\n\t}\n}\n\nasync function checkThread(id, subscription) {\n\tconst { num_comments: newCount, edited: newEditedTime } = await getPostMetadata({ id });\n\tconst { count, editedTime, url, title } = subscription;\n\n\tif (newCount > count) {\n\t\tsubscriptionStorage.patch(id, { count: newCount });\n\n\t\tconst notification = Notifications.showNotification({\n\t\t\theader: 'New comments',\n\t\t\tnotificationID: 'newCommentCount',\n\t\t\tmoduleID: 'newCommentCount',\n\t\t\tnoDisable: true,\n\t\t\tmessage: `<p><a href=\"${url}\">${escapeHTML(title)}</a></p>`,\n\t\t}, 10000);\n\n\t\t// add button to unsubscribe from within notification.\n\t\tconst { button, promise } = createButton(id, 'unsubscribe');\n\t\tpromise.then(notification.close);\n\t\t$(notification.element).find('.RESNotificationContent').append(button);\n\t}\n\tif (module.options.notifyEditedPosts.value && newEditedTime > editedTime) {\n\t\tsubscriptionStorage.patch(id, { editedTime: newEditedTime });\n\n\t\tconst notification = Notifications.showNotification({\n\t\t\theader: 'Post edited',\n\t\t\tnotificationID: 'newCommentCount',\n\t\t\tmoduleID: 'newCommentCount',\n\t\t\toptionKey: 'notifyEditedPosts',\n\t\t\tnoDisable: true,\n\t\t\tmessage: `<p><a href=\"${url}\">${escapeHTML(title)}</a></p>`,\n\t\t}, 10000);\n\n\t\t// add button to unsubscribe from within notification.\n\t\tconst { button, promise } = createButton(id, 'unsubscribe');\n\t\tpromise.then(notification.close);\n\t\t$(notification.element).find('.RESNotificationContent').append(button);\n\t}\n}\n\nfunction createButton(id, type) {\n\tconst $button = $('<span class=\"RESSubscriptionButton\">');\n\tlet action;\n\n\tswitch (type) {\n\t\tcase 'unsubscribe':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF038;</span> unsubscribe')\n\t\t\t\t.attr('title', 'stop receiving notifications')\n\t\t\t\t.addClass('unsubscribe');\n\t\t\taction = () => unsubscribe(id);\n\t\t\tbreak;\n\t\tcase 'renew':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF03B;</span> renew')\n\t\t\t\t.attr('title', `renew for ${module.options.subscriptionLength.value} days`);\n\t\t\taction = async () => {\n\t\t\t\tawait subscriptionStorage.patch(id, { subscriptionDate: Date.now() });\n\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\tnotificationID: 'newCommentCountRenew',\n\t\t\t\t\tmoduleID: 'newCommentCount',\n\t\t\t\t\toptionKey: 'subscriptionLength',\n\t\t\t\t\tmessage: `Subscription renewed for ${module.options.subscriptionLength.value} days.`,\n\t\t\t\t});\n\t\t\t};\n\t\t\tbreak;\n\t\tcase 'delete':\n\t\t\t$button\n\t\t\t\t.html('<span class=\"res-icon\">&#xF155;</span>')\n\t\t\t\t.attr('title', 'delete from list')\n\t\t\t\t.addClass('deleteIcon');\n\t\t\taction = async () => {\n\t\t\t\tconst { title } = await subscriptionStorage.get(id);\n\t\t\t\treturn Alert.open(`Are you sure you want to unsubscribe from post: \"${title}\"?`, { cancelable: true })\n\t\t\t\t\t.then(() => unsubscribe(id));\n\t\t\t};\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\treturn { button: $button.get(0), promise: waitForEvent($button.get(0), 'click').then(action) };\n}\n\nfunction addDashboardFunctionality($tabPage) {\n\tconst $openOnReddit = $('<a href=\"#\" id=\"openOnReddit\">as reddit link listing</a>');\n\t$openOnReddit.click(event => {\n\t\tevent.preventDefault();\n\t\tlet url = 't3_';\n\t\tconst $threads = $('#newCommentsTable tbody > tr');\n\t\tconst ids = $threads.get().map(ele => ele.getAttribute('data-id'));\n\t\tconst concatIds = ids.join(',t3_');\n\t\turl += concatIds;\n\t\tlocation.href = `/by_id/${url}`;\n\t});\n\t$tabPage.append($openOnReddit);\n\tconst $thisTable = $('<table id=\"newCommentsTable\" />');\n\t$thisTable.append('<thead><tr><th sort=\"\" class=\"active\">Submission</th><th sort=\"subreddit\">Subreddit</th><th sort=\"updateTime\">Last viewed</th><th sort=\"subscriptionDate\">Expires in</th><th class=\"actions\">Actions</th></tr></thead><tbody></tbody>');\n\t$tabPage.append($thisTable);\n\t$('#newCommentsTable thead th').click(function(e) {\n\t\te.preventDefault();\n\t\tif ($(this).hasClass('actions')) {\n\t\t\treturn false;\n\t\t}\n\t\tif ($(this).hasClass('active')) {\n\t\t\t$(this).toggleClass('descending');\n\t\t}\n\t\t$(this).addClass('active');\n\t\t$(this).siblings().removeClass('active').find('SPAN').remove();\n\t\t$(this).find('.sortAsc, .sortDesc').remove();\n\t\tif ($(e.target).hasClass('descending')) {\n\t\t\t$(this).append('<span class=\"sortDesc\" />');\n\t\t} else {\n\t\t\t$(this).append('<span class=\"sortAsc\" />');\n\t\t}\n\t\tdrawSubscriptionsTable($(e.target).attr('sort'), $(e.target).hasClass('descending'));\n\t});\n\tdrawSubscriptionsTable();\n}\n\nlet currentSortMethod, isDescending;\n\nasync function drawSubscriptionsTable(sortMethod, descending) {\n\tcurrentSortMethod = sortMethod || currentSortMethod;\n\tisDescending = (descending === undefined) ? isDescending : !!descending;\n\t$('#newCommentsTable tbody').html('');\n\tconst thisCounts = filterMap(Object.entries(await subscriptionStorage.getAll()), ([id, commentCount]) => {\n\t\tconst match = new URL(commentCount.url).pathname.match(regexes.subreddit);\n\t\tif (match) {\n\t\t\treturn [{\n\t\t\t\tid,\n\t\t\t\tsubreddit: match[1].toLowerCase(),\n\t\t\t\t...commentCount,\n\t\t\t}];\n\t\t}\n\t});\n\tswitch (currentSortMethod) {\n\t\tcase 'subscriptionDate':\n\t\t\tthisCounts.sort((a, b) =>\n\t\t\t\t(a.subscriptionDate > b.subscriptionDate) ? 1 : (b.subscriptionDate > a.subscriptionDate) ? -1 : 0\n\t\t\t);\n\t\t\tif (isDescending) thisCounts.reverse();\n\t\t\tbreak;\n\t\tcase 'updateTime':\n\t\t\tthisCounts.sort((a, b) =>\n\t\t\t\t(a.updateTime > b.updateTime) ? 1 : (b.updateTime > a.updateTime) ? -1 : 0\n\t\t\t);\n\t\t\tif (isDescending) thisCounts.reverse();\n\t\t\tbreak;\n\t\tcase 'subreddit':\n\t\t\tthisCounts.sort((a, b) =>\n\t\t\t\t(a.subreddit > b.subreddit) ? 1 : (b.subreddit > a.subreddit) ? -1 : 0\n\t\t\t);\n\t\t\tif (isDescending) thisCounts.reverse();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthisCounts.sort((a, b) =>\n\t\t\t\t(a.title > b.title) ? 1 : (b.title > a.title) ? -1 : 0\n\t\t\t);\n\t\t\tif (isDescending) thisCounts.reverse();\n\t\t\tbreak;\n\t}\n\tlet rows = 0;\n\tfor (const { subscriptionDate, updateTime, id, url, title, subreddit } of thisCounts) {\n\t\tif (subscriptionDate) {\n\t\t\tconst thisUpdateTime = new Date(updateTime);\n\n\t\t\t// set up buttons.\n\t\t\tconst { button: thisTrashButton, promise: thisTrashPromise } = createButton(id, 'delete');\n\t\t\tthisTrashPromise.then(drawSubscriptionsTable);\n\t\t\tconst { button: thisRenewButton, promise: thisRenewPromise } = createButton(id, 'renew');\n\t\t\tthisRenewPromise.then(drawSubscriptionsTable);\n\t\t\tconst { button: thisUnsubButton, promise: thisUnsubPromise } = createButton(id, 'unsubscribe');\n\t\t\tthisUnsubPromise.then(drawSubscriptionsTable);\n\n\t\t\tconst thisExpires = new Date(subscriptionDate + (DAY * parseInt(module.options.subscriptionLength.value, 10)));\n\t\t\tconst thisExpiresContent = `<abbr title=\"${formatDateTime(thisExpires)}\">${formatRelativeTime(thisExpires)}</abbr>`;\n\n\t\t\t// populate table row.\n\t\t\tconst thisROW = `\n\t\t\t\t<tr data-id=\"${id}\"><td><a href=\"${url}\">${escapeHTML(title)}</a></td>\n\t\t\t\t<td><a href=\"/r/${subreddit}\">/r/${subreddit}</a></td>\n\t\t\t\t<td><abbr title=\"${formatDateTime(thisUpdateTime)}\">${formatRelativeTime(thisUpdateTime)}</abbr></td>\n\t\t\t\t<td>${thisExpiresContent}</td><td></td></tr>\n\t\t\t`;\n\n\t\t\tconst $thisROW = $(thisROW);\n\n\t\t\t// add buttons.\n\t\t\t$thisROW.find('td:last-of-type').append(thisTrashButton);\n\t\t\t$thisROW.find('td:last-of-type').append(thisRenewButton).append(' ');\n\t\t\t$thisROW.find('td:last-of-type').append(thisUnsubButton);\n\n\t\t\t$('#newCommentsTable tbody').append($thisROW);\n\t\t\trows++;\n\t\t}\n\t}\n\tif (rows === 0) {\n\t\t$('#newCommentsTable tbody').append('<td colspan=\"5\">You are currently not subscribed to any threads. To subscribe to a thread, click the \"subscribe\" button found near the top of the comments page.</td>');\n\t\t$('#openOnReddit').hide();\n\t} else {\n\t\t$('#openOnReddit').show();\n\t}\n}\n","/* @flow */\n\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\nimport * as Modules from '../../../core/modules';\nimport * as N from '../../newCommentCount';\nimport { Case } from '../Case';\n\nexport class NewCommentCount extends Case {\n\tstatic text = 'New comment count';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic async thingToCriterion(thing: *) { return String((await N.hasEntry(thing) ? await N.getNewCount(thing) : thing.getCommentCount()) || 0); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' new comments'];\n\n\tstatic slow = 1;\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(N);\n\t}\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `new comments ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `new comments ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return parseInt(this.value.val, 10) >= 0; }\n\n\tasync evaluate(thing: *) {\n\t\tconst newCount = await N.getNewCount(thing);\n\t\tconst count = typeof newCount === 'number' ? newCount : thing.getCommentCount();\n\t\treturn numericalCompare(this.value.op, count, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { isURLVisited } from '../../../environment';\nimport * as NewCommentCount from '../../newCommentCount';\nimport { Case } from '../Case';\n\nexport class CommentsOpened extends Case {\n\tstatic text = 'Comments opened';\n\n\tstatic fields = ['comments page has been visited'];\n\tstatic slow = 2;\n\n\tstatic unique = true;\n\n\ttrueText = 'comments opened';\n\n\tasync evaluate(thing: *) {\n\t\tif (await NewCommentCount.hasEntry(thing)) return true;\n\n\t\tconst link = thing.getCommentsLink();\n\t\tif (!link) return null;\n\t\treturn isURLVisited(link.href);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Domain extends PatternCase {\n\tstatic text = 'Link domain name';\n\n\tstatic thingToCriterion(thing: *) { return thing.getPostDomain(); }\n\n\tstatic fields = ['post links to the domain ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `domain ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst domain = thing.getPostDomain();\n\t\tif (!domain) return null;\n\t\treturn this.value.some(v => v.test(domain));\n\t}\n}\n","/* @flow */\n\nimport type { Thing } from '../utils';\nimport type { ModuleOption } from './module'; // eslint-disable-line no-unused-vars\n\nexport class Host<Detect, Opt: { [string]: ModuleOption<any> }> {\n\tmoduleID: string;\n\n\tname: string;\n\tdomains: string[];\n\tpermissions: string[] | void;\n\n\tlogo: string | void;\n\tlandingPage: string | void;\n\tattribution: boolean;\n\n\toptions: Opt | void;\n\n\tdetect: (a: URL, context: ?Thing) => void | null | false | Detect;\n\thandleLink: (href: string, detectResult: Detect) => ExpandoMedia | Promise<ExpandoMedia>;\n\tgetVideoData: void | (id: string) => Promise<?VideoData>;\n\n\tconstructor(moduleID: string, {\n\t\tname,\n\t\tdomains,\n\t\tpermissions,\n\t\tlogo,\n\t\tlandingPage,\n\t\tattribution = true,\n\t\toptions,\n\t\tdetect,\n\t\thandleLink,\n\t\tgetVideoData,\n\t}: {|\n\t\tname: string,\n\t\tdomains: string[],\n\t\tpermissions?: string[],\n\t\tlogo?: string,\n\t\tlandingPage?: string,\n\t\tattribution?: boolean,\n\t\toptions?: Opt,\n\t\tdetect: (a: URL, context: ?Thing) => void | null | false | Detect,\n\t\thandleLink: (href: string, detectResult: Detect) => ExpandoMedia | Promise<ExpandoMedia>,\n\t\tgetVideoData?: (id: string) => Promise<?VideoData>,\n\t|}) {\n\t\tthis.moduleID = moduleID;\n\t\tthis.name = name;\n\t\tthis.domains = domains;\n\t\tthis.permissions = permissions;\n\t\tthis.logo = logo;\n\t\tthis.landingPage = landingPage;\n\t\tthis.attribution = attribution;\n\t\tthis.options = options;\n\t\tthis.detect = detect;\n\t\tthis.handleLink = handleLink;\n\t\tthis.getVideoData = getVideoData;\n\t}\n}\n\ntype VideoData = {|\n  title: string,\n  duration: string,\n  publishedAt: string,\n  viewCount: string,\n|};\n\nexport type ExpandoMedia = GalleryMedia | ImageMedia | VideoMedia | AudioMedia | TextMedia | IframeMedia | GenericMedia;\n\nexport type GalleryMedia = {|\n\ttype: 'GALLERY',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: Array<ImageMedia | VideoMedia | AudioMedia | TextMedia | IframeMedia | GenericMedia>,\n|};\n\nexport type ImageMedia = {|\n\ttype: 'IMAGE',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: string,\n\thref?: string,\n|};\n\nexport type VideoMedia = {|\n\ttype: 'VIDEO',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsources: Array<{|\n\t\tsource: string,\n\t\treverse?: string,\n\t\ttype: string,\n\t|}>,\n\tfallback?: string,\n\thref?: string,\n\tsource?: string,\n\tposter?: string,\n\tmuted?: boolean,\n\tframeRate?: number,\n\tloop?: boolean,\n\tplaybackRate?: number,\n\treversable?: boolean,\n\treversed?: boolean,\n\ttime?: number,\n|};\n\nexport type AudioMedia = {|\n\ttype: 'AUDIO',\n\tautoplay?: boolean,\n\tloop?: boolean,\n\tsources: Array<{|\n\t\tfile: string,\n\t\ttype: string,\n\t|}>,\n|};\n\nexport type TextMedia = {|\n\ttype: 'TEXT',\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\tsrc: string,\n|};\n\nexport type IframeMedia = {|\n\ttype: 'IFRAME',\n\tmuted?: boolean,\n\texpandoClass?: string,\n\tembed: string,\n\tembedAutoplay?: string,\n\twidth?: string,\n\theight?: string,\n\tfixedRatio?: boolean,\n\tpause?: string,\n\tplay?: string,\n|};\n\nexport type GenericMedia = {|\n\ttype: 'GENERIC_EXPANDO',\n\tmuted?: boolean,\n\texpandoClass?: string,\n\tgenerate: () => HTMLElement,\n\tonAttach?: () => void,\n|};\n","/* @flow */\n\nimport { i18n } from '../../environment';\nimport { string } from '../../utils';\n\nexport const audioTemplate = ({ loop, sources }: {| loop?: boolean, sources: Array<{| file: string, type: string |}> |}) => string.html`\n\t<div>\n\t\t<audio controls ${loop && 'loop'}>\n\t\t\t${sources.map(({ file, type }) => string._html`\n\t\t\t\t<source src=\"${file}\" type=\"${type}\">\n\t\t\t`)}\n\t\t</audio>\n\t</div>\n`;\n\nexport const galleryTemplate = <T>({ title, caption, credits, src }: {| title?: string, caption?: string, credits?: string, src: T[] |}) => string.html`\n\t<div class=\"res-gallery\">\n\t\t${title && string._html`\n\t\t<h3 class=\"res-title res-gallery-title\">${title}</h3>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption res-gallery-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<div class=\"res-gallery-individual-controls\">\n\t\t\t<div class=\"res-step res-gallery-previous\"></div>\n\t\t\t<div class=\"res-step-progress\">\n\t\t\t\t<span class=\"res-gallery-position\">1</span> of ${src.length}\n\t\t\t</div>\n\t\t\t<div class=\"res-step res-step-reverse res-gallery-next\"></div>\n\t\t\t<div class=\"res-gallery-to-filmstrip\" title=\"View as filmstrip\"></div>\n\t\t</div>\n\t\t<div class=\"res-gallery-pieces\"></div>\n\t\t<div class=\"res-gallery-below\">\n\t\t\t<div>\n\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t\t<div class=\"res-gallery-increase-concurrent\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const imageTemplate = ({ title, caption, credits, src, href, openInNewWindow }: {| title?: string, caption?: string, credits?: string, src: string, href: string, openInNewWindow: boolean |}) => string.html`\n\t<div class=\"res-image\">\n\t\t${title && string._html`\n\t\t<h4 class=\"res-title\">${title}</h4>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<a class=\"res-expando-link noKeyNav\" href=\"${href}\" ${openInNewWindow && string._html`target=\"_blank\" rel=\"noopener noreferrer\"`}>\n\t\t\t<img class=\"res-image-media\" src=\"${src}\">\n\t\t</a>\n\t</div>\n`;\n\nexport const iframeTemplate = ({ url, width, height }: {| url: string, width: string, height: string |}) => string.html`\n\t<div class=\"res-iframe-expando\">\n\t\t<div>\n\t\t\t<iframe src=\"${url}\" style=\"width: ${width}; height: ${height}\" allowFullscreen=\"true\"></iframe>\n\t\t\t<div class=\"res-iframe-expando-drag-handle\">\n\t\t\t\t<div class=\"res-icon\"></div>\n\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const textTemplate = ({ title, credits, src }: {| title?: string, credits?: string, src: string |}) => string.html`\n\t<div class=\"res-text usertext-body\">\n\t\t${title && string._html`\n\t\t<h3 class=\"res-title\">${title}</h3>\n\t\t`}\n\t\t<div class=\"res-text-media md\">${string.safe(src)}</div>\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t</div>\n`;\n\nexport const videoTemplate = ({\n\ttitle,\n\tcaption,\n\tcredits,\n\thref,\n\tsource,\n\tposter,\n\thasAudio,\n\tloop,\n\treversable,\n\tformattedPlaybackRate,\n\topenInNewWindow,\n}: {|\n\ttitle?: string,\n\tcaption?: string,\n\tcredits?: string,\n\thref: string,\n\tsource?: string,\n\tposter?: string,\n\thasAudio: boolean,\n\tloop: boolean,\n\treversable: boolean,\n\tformattedPlaybackRate: string,\n\topenInNewWindow: boolean,\n|}) => string.html`\n\t<div class=\"res-video\">\n\t\t${title && string._html`\n\t\t<h4 class=\"res-title\">${title}</h4>\n\t\t`}\n\t\t${caption && string._html`\n\t\t<div class=\"res-caption\">${string.safe(caption)}</div>\n\t\t`}\n\t\t${credits && string._html`\n\t\t<div class=\"res-credits\">${string.safe(credits)}</div>\n\t\t`}\n\t\t<div class=\"res-video-container\">\n\t\t\t<a class=\"noKeyNav\" href=\"${href}\" ${openInNewWindow && string._html`target=\"_blank\" rel=\"noopener noreferrer\"`}>\n\t\t\t\t<video ${!hasAudio && 'muted'} ${loop && 'loop'} poster=\"${poster}\"></video>\n\t\t\t</a>\n\t\t\t<div class=\"res-video-interface\">\n\t\t\t\t<div class=\"res-video-progress\">\n\t\t\t\t\t<div class=\"res-video-position\"></div>\n\t\t\t\t\t<div class=\"res-video-position-thumb\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-video-main\">\n\t\t\t\t\t<div class=\"res-video-controls\">\n\t\t\t\t\t\t<div title=\"Toggle pause\" class=\"res-icon res-video-button res-video-toggle-pause\"></div>\n\t\t\t\t\t\t${reversable && string._html`\n\t\t\t\t\t\t<div title=\"Reverse video\" class=\"res-icon res-video-button res-video-reverse\"></div>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t${hasAudio && string._html`\n\t\t\t\t\t\t\t<div title=\"Adjust volume\" class=\"res-icon res-video-button res-video-volume\">\n\t\t\t\t\t\t\t\t<div class=\"res-video-volume-level\">\n\t\t\t\t\t\t\t\t\t<div class=\"res-video-volume-percentage\"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t<div class=\"res-video-controls-group res-video-current-time\">\n\t\t\t\t\t\t\t<div title=\"Select previous frame\" class=\"res-icon res-video-button res-video-time-decrease\"></div>\n\t\t\t\t\t\t\t<div class=\"res-video-time\">0.00s</div>\n\t\t\t\t\t\t\t<div title=\"Select next frame\" class=\"res-icon res-video-button res-video-time-increase\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"res-video-controls-group res-video-playback-rate\">\n\t\t\t\t\t\t\t<div title=\"Decrease speed by 10%\" class=\"res-icon res-video-button res-video-speed-decrease\"></div>\n\t\t\t\t\t\t\t<div class=\"res-video-speed\">${string.safe(formattedPlaybackRate)}</div>\n\t\t\t\t\t\t\t<div title=\"Increase speed by 10%\" class=\"res-icon res-video-button res-video-speed-increase\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div hidden class=\"res-video-error\">\n\t\t\t\t\t\t<div class=\"res-icon\">&#xf15b</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"res-video-info\">\n\t\t\t\t\t\t${source && string._html`\n\t\t\t\t\t\t<a class=\"res-video-link res-video-source\" href=\"${source}\">source</a>\n\t\t\t\t\t\t`}\n\t\t\t\t\t\t<div class=\"res-expando-siteAttribution\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nexport const mediaControlsTemplate = ({ x, y, downloadUrl, lookupUrl, clippy }: {| x: string, y: string, downloadUrl?: string, lookupUrl?: string, clippy: boolean |}) => string.html`\n\t<div class=\"res-media-with-controls-wrapper\">\n\t\t<div class=\"res-media-controls res-media-controls-${x} res-media-controls-${y}\">\n\t\t\t<button class=\"res-icon gearIcon\" title=\"Settings\" data-action=\"showImageSettings\"></button>\n\t\t\t<button class=\"res-media-controls-rotate res-media-controls-rotate-left res-icon\" title=\"Rotate image counter-clockwise\" data-action=\"rotateLeft\"></button>\n\t\t\t<button class=\"res-media-controls-rotate res-media-controls-rotate-right res-icon\" title=\"Rotate image clockwise\" data-action=\"rotateRight\"></button>\n\t\t\t${downloadUrl && string._html`\n\t\t\t<button class=\"res-media-controls-download res-icon title=\"Download image\" data-action=\"download\"></button>\n\t\t\t`}\n\t\t\t${lookupUrl && string._html`\n\t\t\t<button class=\"res-media-controls-lookup res-icon\" title=\"Reverse image search\" data-action=\"imageLookup\"></button>\n\t\t\t`}\n\t\t\t${clippy && string._html`\n\t\t\t<button class=\"res-media-controls-clippy\" title=\"Show educational info\" data-action=\"clippy\"></button>\n\t\t\t`}\n\t\t</div>\n\t</div>\n`;\n\nexport const siteAttributionTemplate = ({ url, name, logoUrl, settingsLink }: {| url: string, name: string, logoUrl?: string, settingsLink: string |}) => string.html`\n\t<cite class=\"res-expando-siteAttribution\">\n\t\t<a href=\"${url}\" target=\"_blank\" rel=\"noopener noreferer\">\n\t\t\t${logoUrl && string._html`<img src=\"${logoUrl}\" alt=\"Hosted on ${name}\" title=\"Hosted on ${name}\" />`}\n\t\t\t<span>hosted on ${name}</span>\n\t\t\t<a href=\"${settingsLink}\" class=\"gearIcon\" title=\"Disable or change settings for ${name}\"></a>\n\t\t</a>\n\t</cite>\n`;\n\nexport const crosspostMetadataTemplate = (data: {\n\turl: string,\n\tcrosspostRootSubreddit: string,\n\tcrosspostRootAuthor: string,\n\tcrosspostRootScore: string,\n\tcrosspostRootNumComments: string,\n\tcrosspostRootTime: string,\n\tcrosspostRootTitle: string,\n\ttargetParentFullname: string,\n}) => string.html`\n\t<div class=\"crosspost-preview res-crosspost-preview\">\n\t\t<div class=\"crosspost-preview-header\">\n\t\t\t<a href=\"${data.url}\" class=\"content-link may-blank\" data-event-action=\"title\" tabindex=\"1\"></a>\n\t\t\t<div class=\"text-content\">\n\t\t\t\t<p class=\"title\">${data.crosspostRootTitle}</p>\n\t\t\t\t<div class=\"crosspost-preview-tagline tagline\">\n\t\t\t\t\t<span>${i18n('numPoints', parseInt(data.crosspostRootScore, 10))}</span>\n\t\t\t\t\t<span class=\"dot\"></span>\n\t\t\t\t\t<a href=\"/r/${data.crosspostRootSubreddit}/comments/${(data.targetParentFullname || '').slice(3)}\" class=\"comments may-blank\">${i18n('numComments', parseInt(data.crosspostRootNumComments, 10))}</a>\n\t\t\t\t\t<span class=\"dot\"></span>\n\t\t\t\t\t${i18n('submittedAtTime')} <time>${data.crosspostRootTime}</time>\n\t\t\t\t\t${i18n('submittedByAuthor')} <a href=\"/user/${data.crosspostRootAuthor}/\" class=\"author may-blank\">${data.crosspostRootAuthor}</a>\n\t\t\t\t\t${i18n('submittedToSubreddit')} <a href=\"/r/${data.crosspostRootSubreddit}/\" class=\"subreddit hover may-blank\">r/${data.crosspostRootSubreddit}</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n","/* @flow */\n\nimport _ from 'lodash';\nimport {\n\tclick,\n\tfilterMap,\n} from '../../utils';\nimport type { Thing } from '../../utils';\nimport type { Media } from '../showImages';\n\nexport const expandos: Map<Element, Expando> = new Map();\nexport const activeExpandos: Set<Expando> = new Set();\nconst opened = new Set();\n\ntype OnExpandCallback = () => void;\n\nexport class Expando {\n\tstatic expandoSelector = '.expando-button, .search-expando-button';\n\n\tstatic getEntryExpandoFrom(thing: ?Thing): ?Expando {\n\t\tif (!thing) return null;\n\n\t\tconst button = thing.entry.querySelector('.expando-button');\n\t\tif (!button) return null;\n\n\t\tlet expando = expandos.get(button);\n\n\t\tif (!expando) {\n\t\t\tconst box = thing.entry.querySelector('.expando');\n\t\t\tif (!box) return null;\n\n\t\t\tconst buttonPlaceholder = document.createElement('span');\n\t\t\tconst boxPlaceholder = document.createElement('span');\n\n\t\t\t// Otherwise it is a native expando: Create a pseudo-class for those\n\t\t\texpando = ({\n\t\t\t\tbutton,\n\t\t\t\tget open() { return button.classList.contains('expanded'); },\n\t\t\t\tcollapse() { if (this.open) this.toggle(); },\n\t\t\t\texpand() { if (!this.open) this.toggle(); },\n\t\t\t\ttoggle() { click(button); },\n\t\t\t\tdetach() {\n\t\t\t\t\tbutton.replaceWith(buttonPlaceholder);\n\t\t\t\t\tbox.replaceWith(boxPlaceholder);\n\t\t\t\t},\n\t\t\t\treattach() {\n\t\t\t\t\tbuttonPlaceholder.replaceWith(button);\n\t\t\t\t\tboxPlaceholder.replaceWith(box);\n\t\t\t\t},\n\t\t\t\ttypes: _.flatten([\n\t\t\t\t\t'native',\n\t\t\t\t\tbutton.classList.contains('selftext') ? 'selftext' : // This may be muted, depending on its content (not possible to know before expanding)\n\t\t\t\t\t(box.dataset.cachedhtml || '').match(/\\bvideo-player\\b/) ? ['video', 'non-muted'] :\n\t\t\t\t\t(box.dataset.cachedhtml || '').match(/\\<iframe\\b/) ? ['iframe', 'non-muted'] :\n\t\t\t\t\t['image', 'muted'],\n\t\t\t\t]).filter(Boolean),\n\t\t\t\tready: true,\n\t\t\t}: any /* TODO: this is kinda dangerous, there should be a subclass instead */);\n\n\t\t\texpandos.set(button, expando);\n\t\t}\n\n\t\treturn expando;\n\t}\n\n\tstatic getTextExpandosFrom(thing: ?Thing): Expando[] {\n\t\tif (!thing) return [];\n\t\tconst md = thing.entry.querySelector('.md');\n\t\tif (!md) return [];\n\t\treturn filterMap(Array.from(md.querySelectorAll(Expando.expandoSelector)), v => {\n\t\t\tconst exp = expandos.get(v);\n\t\t\tif (exp) return [exp];\n\t\t});\n\t}\n\n\tstatic getAllExpandosFrom(thing: ?Thing): Expando[] {\n\t\treturn _.compact([...Expando.getTextExpandosFrom(thing), Expando.getEntryExpandoFrom(thing)]);\n\t}\n\n\thref: string;\n\tinText: boolean;\n\tready: boolean = false;\n\n\tlock: ?{ open: () => {}, promise: Promise<*> } = null;\n\n\tbox: HTMLElement;\n\tbutton: HTMLElement;\n\n\topen: boolean = false;\n\texpandWanted: boolean = false;\n\n\texpandCallbacks: OnExpandCallback[] = [];\n\n\tmedia: ?Media;\n\tgenerateMedia: ?() => Media;\n\n\ttypes: string[] = [];\n\n\tbuttonInfo: {|\n\t\ttitle: string,\n\t\tmediaClass: string,\n\t|} = {\n\t\ttitle: 'Expando is not yet ready',\n\t\tmediaClass: '',\n\t};\n\n\tconstructor(href: *) {\n\t\tthis.href = href;\n\n\t\tthis.box = document.createElement('div');\n\t\tthis.box.classList.add('res-expando-box');\n\t\tthis.box.hidden = true;\n\n\t\tthis.button = document.createElement('a');\n\t\tthis.button.addEventListener('click', () => this.toggle());\n\t\tthis.updateButton();\n\n\t\t// Reddit may try to override the button classes\n\t\tnew MutationObserver(() => { this.updateButton(); }).observe(this.button, { attributes: true });\n\n\t\texpandos.set(this.button, this);\n\t}\n\n\tonExpand(callback: OnExpandCallback) {\n\t\tthis.expandCallbacks.push(callback);\n\t}\n\n\tupdateButton() {\n\t\tlet { mediaClass, title } = this.buttonInfo;\n\n\t\tif (this.lock) {\n\t\t\tmediaClass = 'expando-button-requires-permission';\n\t\t\ttitle = 'Click to request required permissions';\n\t\t}\n\n\t\tconst classList = [\n\t\t\t'expando-button',\n\t\t\t...(mediaClass.split(' ') || ['expando-button-loading']),\n\t\t\tthis.open || this.expandWanted ? 'expanded' : 'collapsed',\n\t\t].filter(Boolean);\n\n\t\tif (!this.expandWanted && !this.open && opened.has(this.href)) {\n\t\t\tclassList.push('expando-button-duplicate');\n\t\t\ttitle += ' (link has already been opened)';\n\t\t}\n\n\t\t// Only invoke if there's actual changes, to prevent triggering the mutationobserver unnecessarily\n\t\tconst btn = this.button;\n\t\tfor (const v of btn.classList) if (!classList.includes(v)) btn.classList.remove(v);\n\t\tfor (const v of classList) if (!btn.classList.contains(v)) btn.classList.add(v);\n\t\tif (btn.title !== title) btn.title = title;\n\t}\n\n\tinitialize(options: {| generateMedia: *, buttonInfo: *, types: * |}) {\n\t\tthis.generateMedia = options.generateMedia;\n\t\tthis.buttonInfo = options.buttonInfo;\n\t\tthis.types = options.types;\n\t\tthis.ready = true;\n\n\t\tif (this.expandWanted) this.expand();\n\t\telse this.updateButton();\n\t}\n\n\tgetDuplicates() {\n\t\treturn Array.from(expandos.values()).filter(v => v !== this && v.href === this.href);\n\t}\n\n\tasync setLock(lock: *) {\n\t\tthis.lock = lock;\n\t\tthis.updateButton();\n\n\t\tawait lock.promise;\n\n\t\tthis.lock = null;\n\t\tthis.updateButton();\n\t}\n\n\ttoggle() {\n\t\tif (this.open) this.collapse();\n\t\telse this.expand();\n\t}\n\n\texpand() {\n\t\tif (this.lock || !this.ready) {\n\t\t\tthis.expandWanted = true;\n\t\t\tif (this.lock) this.lock.open();\n\t\t\tthis.updateButton();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.box.hidden = false;\n\n\t\tthis.attachMedia();\n\t\tif (this.media) this.media.expand();\n\n\t\tthis.open = true;\n\t\tthis.expandWanted = false;\n\t\tthis.updateButton();\n\n\t\tfor (const callback of this.expandCallbacks) callback();\n\n\t\topened.add(this.href);\n\t\tfor (const duplicate of this.getDuplicates()) duplicate.updateButton();\n\t}\n\n\tcollapse() {\n\t\tthis.box.hidden = true;\n\n\t\tthis.open = false;\n\t\tthis.expandWanted = false;\n\t\tthis.updateButton();\n\n\t\tif (this.media) {\n\t\t\tthis.media.collapse();\n\t\t}\n\t}\n\n\tattachMedia() {\n\t\tconst wrapper = this.box.firstElementChild || document.createElement('div');\n\t\tif (!this.generateMedia) throw new Error('Cannot attach media without `generateMedia`');\n\t\tthis.media = this.media || this.generateMedia();\n\t\twrapper.append(this.media.element);\n\t\twrapper.classList.add('res-expando-box-inner');\n\t\tthis.box.append(wrapper);\n\t\tif (/*:: this.media && */ this.media.onAttach) this.media.onAttach();\n\t\tactiveExpandos.add(this);\n\t}\n\n\tisAttached() {\n\t\treturn document.body.contains(this.button) && document.body.contains(this.box);\n\t}\n\n\tdestroy() {\n\t\tif (this.box) {\n\t\t\tthis.box.remove();\n\t\t\tdelete this.box;\n\t\t}\n\t\tif (this.button) {\n\t\t\texpandos.delete(this.button);\n\t\t\tthis.button.remove();\n\t\t\tdelete this.button;\n\t\t}\n\t\tthis.empty();\n\t}\n\n\tempty() {\n\t\tif (this.media) {\n\t\t\tthis.media.element.remove();\n\t\t\tdelete this.media;\n\t\t}\n\t\tif (this.button) {\n\t\t\tif (this.open) this.collapse();\n\t\t\telse this.updateButton();\n\t\t}\n\t\tactiveExpandos.delete(this);\n\t}\n}\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('aarli', {\n\tname: 'AAR Library',\n\tdomains: ['aar.li'],\n\tlogo: 'https://aar.li/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/a\\/(\\w+)/i).exec(pathname),\n\tasync handleLink(href, [, aarId]) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://aar.li/api.php',\n\t\t\tquery: { aarId },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (info.errors) {\n\t\t\tthrow new Error(info.errors);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\ttitle: info.title,\n\t\t\tcaption: info.description + (info.previousurl ? string.escape`<br/><a href=\"${info.previousurl}\">Previous part.</a>` : ''),\n\t\t\tcredits: string.escape`AAR by <a href=\"${info.authorurl}\">${info.author}</a>`,\n\t\t\tsrc: info.slides.map(({ desc, imglink }) => ({\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tcaption: desc,\n\t\t\t\tsrc: imglink,\n\t\t\t})),\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('adultswim', {\n\tname: 'Adult Swim',\n\tdomains: ['adultswim.com'],\n\tlogo: 'https://www.adultswim.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/videos\\/([^\\/]+\\/[^\\/]+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, path]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://www.adultswim.com/utilities/embed/${path}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('archilogic', {\n\tname: 'archilogic',\n\tdomains: ['spaces.archilogic.com'],\n\tlogo: 'https://about.archilogic.com/wp-content/uploads/2017/01/favicon-96x96.png',\n\tdetect: ({ pathname }) => (/^\\/(3d|model)/).exec(pathname),\n\thandleLink(href) {\n\t\tconst formattedUrl = href\n\t\t\t.replace('/model/', '/3d/') // force /3d/\n\t\t\t.replace('http:', 'https:'); // force https\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: formattedUrl,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('archive.is', {\n\tname: 'archive.is',\n\tdomains: ['archive.is'],\n\tlogo: 'https://archive.is/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(\\w+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://archive.fo/${code}/scr.png`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('bime', {\n\tname: 'Bime Analytics Dashboards',\n\tdomains: ['bime.io'],\n\tlogo: 'https://a.bime.io/assets/favicons/favicon.ico',\n\tdetect: ({ href }) => (/https?:\\/\\/([^.]+)\\.bime\\.io(?:\\/([a-z0-9_-]+))+/i).exec(href),\n\thandleLink: (href, [, user, dashboardId]) => ({\n\t\ttype: 'IFRAME',\n\t\tembed: `https://${user}.bime.io/dashboard/${dashboardId}`,\n\t\texpandoClass: 'selftext',\n\t\twidth: '960px',\n\t\theight: '540px',\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('clyp', {\n\tname: 'clyp',\n\tdomains: ['clyp.it'],\n\tlogo: 'https://d2cjvbryygm0lr.cloudfront.net/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(playlist\\/)?([A-Za-z0-9]+)/i).exec(pathname),\n\thandleLink(href, [, playlist, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://clyp.it/${playlist ? 'playlist/' : ''}${id}/widget`,\n\t\t\theight: '160px',\n\t\t\twidth: '600px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('codepen', {\n\tname: 'CodePen',\n\tdomains: ['codepen.io'],\n\tattribution: false, // shown in embed\n\tdetect: ({ pathname }) => (/^\\/(?!anon)([a-z0-9_-]+)\\/(?:pen|full|details|debug)\\/([a-z]+)\\b/i).exec(pathname),\n\thandleLink(href, [, user, hash]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t\texpandoClass: 'selftext',\n\t\t\tembed: `https://codepen.io/${user}/embed/${hash}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('coub', {\n\tname: 'Coub',\n\tdomains: ['coub.com'],\n\tdetect: ({ pathname }) => (/^\\/(?:view|embed)\\/(\\w+)(\\.gifv)?/i).exec(pathname),\n\thandleLink(href, [, hash, isGifv]) {\n\t\tconst src = isGifv ?\n\t\t\t`https://coub.com/view/${hash}.gifv?res=true` :\n\t\t\t`https://coub.com/embed/${hash}?autoplay=true&res=true`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: !!isGifv,\n\t\t\tembed: src,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('dailymotion', {\n\tname: 'dailymotion',\n\tdomains: ['dailymotion.com'],\n\tlogo: 'https://static1.dmcdn.net/images/favicons/favicon-32x32.png.vb5b47df6329123929',\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:(?:www|touch)\\.)?dailymotion.com[\\w\\-\\/:#]+video[\\/=]([a-z0-9]+)/i).exec(href),\n\thandleLink(href, [, hash]) {\n\t\tconst embed = `https://www.dailymotion.com/embed/video/${hash}?api=postMessage`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}&autoplay=1`,\n\t\t\tpause: 'pause',\n\t\t\tplay: 'play',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('default', {\n\tname: 'default',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(gif|jpe?g|png|svg)$/i).test(pathname),\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('defaultAudio', {\n\tname: 'defaultAudio',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(opus|weba|ogg|wav|mp3|flac)$/i).exec(pathname),\n\thandleLink(href, [, extension]) {\n\t\t// Change weba and opus to their correct containers.\n\t\tif (extension === 'weba') extension = 'webm';\n\t\tif (extension === 'opus') extension = 'ogg';\n\n\t\tconst format = `audio/${extension}`;\n\n\t\treturn {\n\t\t\ttype: 'AUDIO',\n\t\t\tautoplay: true,\n\t\t\tloop: false,\n\t\t\tsources: [{\n\t\t\t\tfile: href,\n\t\t\t\ttype: format,\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('defaultVideo', {\n\tname: 'defaultVideo',\n\tdomains: [],\n\tdetect: ({ pathname }) => (/\\.(webm|mp4|ogv|3gp|mkv)$/i).exec(pathname),\n\thandleLink(href, [, extension]) {\n\t\t// Change ogv to ogg format.\n\t\tif (extension === 'ogv') extension = 'ogg';\n\n\t\tconst format = `video/${extension}`;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tsources: [{\n\t\t\t\tsource: href,\n\t\t\t\ttype: format,\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { batch, string } from '../../utils';\n\nexport default new Host('derpibooru', {\n\tname: 'Derpibooru',\n\tlogo: 'https://derpibooru.org/favicon.ico',\n\tdomains: [\n\t\t'derpibooru.org',\n\t\t'trixiebooru.org',\n\t\t'derpiboo.ru', // Deprecated. Used for old links only.\n\t\t'derpicdn.net', // direct links\n\t],\n\n\tdetect: ({ hostname, pathname }) => (hostname === 'derpicdn.net' ?\n\t\t(/^\\/img\\/view\\/\\d+\\/\\d+\\/\\d+\\/(\\d+)[._]/i).exec(pathname) :\n\t\t(/^\\/(?:images\\/)?(\\d+)$/i).exec(pathname)\n\t),\n\n\thandleLink: (() => {\n\t\tconst fetchInfo = batch(async requests => {\n\t\t\tconst maxDepth = 10;\n\n\t\t\tconst { images } = await ajax({\n\t\t\t\turl: 'https://derpibooru.org/api/v2/images/show.json',\n\t\t\t\tquery: { ids: requests.map(r => r.id).join(',') },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\n\t\t\tconst responseById = _.keyBy(images, img => img.id);\n\n\t\t\treturn requests.map(({ id, depth = 0 }: { id: string, depth?: number }) => {\n\t\t\t\tconst result = responseById[id];\n\n\t\t\t\tif (!result) {\n\t\t\t\t\t// API doesn't return a result for this image for some unknown reason\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=17\n\t\t\t\t\treturn new Error('No result');\n\t\t\t\t} else if (result.duplicate_of) {\n\t\t\t\t\t// Duplicate image.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=975313\n\t\t\t\t\tif (depth > maxDepth) {\n\t\t\t\t\t\treturn new Error(`Exceeded max duplicate depth: ${maxDepth}`);\n\t\t\t\t\t}\n\t\t\t\t\treturn fetchInfo({ id: result.duplicate_of, depth: depth + 1 });\n\t\t\t\t} else if (result.image) {\n\t\t\t\t\t// Normal image.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=0\n\t\t\t\t\treturn result;\n\t\t\t\t} else {\n\t\t\t\t\t// Deleted image, or some other error.\n\t\t\t\t\t// Example: https://derpibooru.org/api/v2/images/show.json?ids=898402\n\t\t\t\t\treturn new Error('Image deleted or other error');\n\t\t\t\t}\n\t\t\t});\n\t\t}, { size: 50 });\n\n\t\treturn async (href, [, id]) => {\n\t\t\tconst { image, description, source_url: source } = await fetchInfo({ id });\n\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: image,\n\t\t\t\tcaption: description,\n\t\t\t\tcredits: source ? string.escape`Source: <a href=\"${source}\">${source}</a>` : undefined,\n\t\t\t};\n\t\t};\n\t})(),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('deviantart', {\n\tname: 'deviantART',\n\tlogo: 'https://i.deviantart.net/icons/da_favicon.ico',\n\tdomains: ['deviantart.com', 'fav.me', 'sta.sh'],\n\tpermissions: ['https://backend.deviantart.com/oembed'],\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:fav\\.me\\/.*|sta\\.sh.*|(?:.+\\.)?deviantart\\.com\\/(?:(?:[\\w-]+\\/)?art\\/.*|[^#]*#\\/d.*))$/i).test(href),\n\tasync handleLink(href) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://backend.deviantart.com/oembed',\n\t\t\tquery: { url: href },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tswitch (info.type) {\n\t\t\tcase 'photo':\n\t\t\tcase 'link':\n\t\t\t\tlet src;\n\t\t\t\tif (info.fullsize_url) {\n\t\t\t\t\tsrc = info.fullsize_url;\n\t\t\t\t} else if ((/\\.(jpg|jpeg|gif|png)/i).test(info.url)) {\n\t\t\t\t\tsrc = info.url;\n\t\t\t\t} else {\n\t\t\t\t\tsrc = info.thumbnail_url;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\ttitle: info.title,\n\t\t\t\t\tcredits: `Art by: <a href=\"${info.author_url}\">${info.author_name}</a> @ deviantART`,\n\t\t\t\t\tsrc,\n\t\t\t\t};\n\t\t\tcase 'rich':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\ttitle: info.title,\n\t\t\t\t\tsrc: info.html + ((/[^\\s\\.]\\s*$/).test(info.html) ? '...' : ''),\n\t\t\t\t\tcredits: `<a href=\"${href}\">Click here to read the full text</a> - Written By: <a href=\"${info.author_url}\">${info.author_name}</a> @ deviantART`,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported deviantART post type: ${info.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { genericHosts } from '../showImages';\n\nexport default new Host('dropbox', {\n\tname: 'dropbox',\n\tdomains: ['dropbox.com'],\n\tlogo: 'https://cfl.dropboxstatic.com/static/images/favicon-vflk5FiAC.ico',\n\tdetect(url) {\n\t\tfor (const host of genericHosts) {\n\t\t\tconst result = host.detect(url);\n\t\t\tif (result) return [host.handleLink, result];\n\t\t}\n\t},\n\thandleLink(href, [handler, result]) {\n\t\tconst originalURL = new URL(href);\n\t\treturn handler(`${originalURL.origin}${originalURL.pathname}?raw=1`, result);\n\t},\n});\n","/**\n *\n * It's worth commenting here that this is essentially \"reverse\" support. There is\n * no support for inline expansion of 500px.com links in RES. This module \"gives back\n * credit\" to 500px.com authors when someone posts their image directly, by figuring\n * out the original 500px.com link and adding a caption / link to 500px.com\n *\n */\n\n/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('fiveHundredPx', {\n\tname: 'fiveHundredPx',\n\tdomains: ['500px.org', '500px.net', '500px.com'],\n\tlogo: 'https://assetcdn.500px.org/assets/favicon-1e8257b93fb787f8ceb66b5522ee853c.ico',\n\tdetect: ({ href }) => (/^https?:\\/\\/\\w*cdn\\.500px\\.(?:net|com|org)\\/(?:photo\\/)?([0-9]+)\\//).exec(href),\n\thandleLink(href, [, photoId]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href.replace(/\\/[0-9]+\\.jpg$/, '/5.jpg'),\n\t\t\tcredits: `View original and details at: <a href=\"https://500px.com/photo/${photoId}\">500px.com</a>`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nfunction base58Encode(num) {\n\tconst alpha = '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ';\n\tlet enc = '';\n\tlet acc = num;\n\n\tdo {\n\t\tconst div = Math.floor(acc / 58);\n\t\tconst mod = acc - (58 * div);\n\t\tenc = `${alpha[mod]}${enc}`;\n\t\tacc = div;\n\t} while (acc);\n\n\treturn enc;\n}\n\nexport default new Host('flickr', {\n\tname: 'flickr',\n\tdomains: ['flickr.com', 'flic.kr', 'staticflickr.com'],\n\tpermissions: ['https://www.flickr.com/services/oembed'],\n\tlogo: 'https://s.yimg.com/pw/favicon.ico',\n\tdetect({ origin, href, pathname }) {\n\t\tif (origin.endsWith('staticflickr.com')) {\n\t\t\t// these urls requires some additional processing\n\t\t\tconst [, id] = (/(?:.+\\/)?\\d{4}\\/(\\d{10,})_/i).exec(pathname) || [];\n\t\t\t// encode the id and use a Flickr short-url\n\t\t\tif (id) return `https://flic.kr/p/${base58Encode(parseInt(id, 10))}`;\n\t\t} else {\n\t\t\treturn href;\n\t\t}\n\t},\n\tasync handleLink(href, oembedTarget) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://www.flickr.com/services/oembed',\n\t\t\tquery: { format: 'json', url: oembedTarget },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst validSuffix = /\\.(jpg|jpeg|gif|png)/i;\n\t\tconst src = validSuffix.test(oembedTarget) ? oembedTarget : // The oembed provides usually proides a ~~low resolution image, while the original link often is to the highest one\n\t\t\tvalidSuffix.test(info.url) ? info.url :\n\t\t\tvalidSuffix.test(info.thumbnail_url) ? info.thumbnail_url :\n\t\t\tundefined;\n\n\t\tif (!src) {\n\t\t\tthrow new Error('No image found.');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle: info.title,\n\t\t\tcredits: `Picture by: <a href=\"${info.author_url}\">${info.author_name}</a> @ Flickr`,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('getyarn', {\n\tname: 'getyarn.io',\n\tlogo: 'https://getyarn.io/favicon.ico',\n\tdomains: ['getyarn.io'],\n\tdetect: ({ pathname }) => (/\\/yarn-clip\\/(?:embed\\/)?([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\tconst embed = `https://getyarn.io/yarn-clip/embed/${code}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}?autoplay=false`,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\theight: '600px', // size as per docs in https://getyarn.io/yarn-clip/embed-test/\n\t\t\twidth: '768px',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('gfycat', {\n\tname: 'gfycat',\n\tdomains: ['gfycat.com'],\n\tlogo: 'https://gfycat.com/favicon.ico',\n\toptions: {\n\t\tuseMobileGfycat: {\n\t\t\ttitle: 'gfycatUseMobileGfycatTitle',\n\t\t\tdescription: 'gfycatUseMobileGfycatDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t},\n\tdetect: ({ pathname }) => (/^\\/(?:(?:ifr|gifs\\/detail)\\/)?(\\w+)(?:\\.gif)?/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst isMobileResolution = this.options.useMobileGfycat.value;\n\n\t\tconst info = (await ajax({\n\t\t\turl: string.encode`https://api.gfycat.com/v1/gfycats/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t})).gfyItem;\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tframeRate: info.frameRate,\n\t\t\tloop: true,\n\t\t\tmuted: !info.hasAudio,\n\t\t\tplaybackRate: +(href.match(/[?|&]speed=([\\d\\.]+)/i) || [undefined, 1])[1],\n\t\t\tposter: isMobileResolution ? info.mobilePosterUrl : info.posterUrl,\n\t\t\tsources: [isMobileResolution && {\n\t\t\t\tsource: info.mobileUrl,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}, {\n\t\t\t\tsource: info.webmUrl,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: info.mp4Url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}].filter(x => x),\n\t\t\ttime: +(href.match(/[?|&]frameNum=([\\d]+)/i) || [undefined, 0])[1] / info.frameRate,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('gifs', {\n\tname: 'gifs.com',\n\tdomains: ['gifs.com', 'gifyoutube.com', 'gifyt.com'],\n\tlogo: 'https://cdn.gifs.com/resources/favicon.png',\n\tdetect: ({ href }) => (\n\t\t(/^https?:\\/\\/(?:beta\\.|www\\.)?(?:gifyoutube|gifyt)\\.com\\/gif\\/(\\w+)\\.?/i).exec(href) ||\n\t\t(/^https?:\\/\\/share\\.gifyoutube\\.com\\/(\\w+)\\.gif/i).exec(href)\n\t),\n\tasync handleLink(href, [, id]) {\n\t\tconst { sauce } = await ajax({\n\t\t\turl: `https://gifs.com/api/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tfallback: `https://share.gifyoutube.com/${id}.gif`,\n\t\t\tmuted: true,\n\t\t\tsource: sauce,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://share.gifyoutube.com/${id}.webm`,\n\t\t\t\ttype: 'video/webm',\n\t\t\t}, {\n\t\t\t\tsource: `https://share.gifyoutube.com/${id}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport logo from '../../images/hosts/giphy-logo.png';\n\nexport default new Host('giphy', {\n\tname: 'giphy',\n\tdomains: ['giphy.com'],\n\tlogo,\n\tdetect: ({ pathname }) => (/^(?:\\/gifs|\\/media|)\\/(?:\\w+-)*([^/.]+)(?:\\/|\\.gif|$)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst { data } = await ajax({\n\t\t\turl: `https://api.giphy.com/v1/gifs/${id}`,\n\t\t\tquery: { api_key: 'dc6zaTOxFJmzC' },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tfallback: data.images.original.url,\n\t\t\tloop: true,\n\t\t\tmuted: true,\n\t\t\tsources: [{\n\t\t\t\tsource: data.images.original.mp4,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t};\n\t},\n});\n","var r;function e(r){for(;0<r.length;){var e=r.shift();if(\"function\"==typeof e)e();else{var i=e.s;\"number\"==typeof i?void 0===e.o?o.dynCall_v(i):o.dynCall_vi(i,e.o):i(void 0===e.o?null:e.o)}}}function i(r){return r.replace(/\\b__Z[\\w\\d_]+/g,function(r){return r==r?r:r+\" [\"+r+\"]\"})}function a(){var e=Error();if(!e.stack){try{throw Error(0)}catch(r){e=r}if(!e.stack)return\"(no stack trace available)\"}return\"\"+e.stack}function f(){e(_),E||(E=!0,m||(e(p),e(y),e(g)))}function n(r){throw o.onAbort&&o.onAbort(r),s(r),u(r),m=!0,\"abort(\"+r+\"). Build with -s ASSERTIONS=1 for more info.\"}function l(r){var e=1+(r.length<<2),i=I(e),a=v,f=i;if(0<e){e=f+e-1;for(var n=0;n<r.length;++n){var t=r.charCodeAt(n);if(55296<=t&&t<=57343&&(t=65536+((1023&t)<<10)|1023&r.charCodeAt(++n)),t<=127){if(e<=f)break;a[f++]=t}else{if(t<=2047){if(e<=f+1)break;a[f++]=192|t>>6}else{if(t<=65535){if(e<=f+2)break;a[f++]=224|t>>12}else{if(e<=f+3)break;a[f++]=240|t>>18,a[f++]=128|t>>12&63}a[f++]=128|t>>6&63}a[f++]=128|63&t}}a[f]=0}return i}function t(r,e,i){var a=q();\"string\"!=typeof e&&(e=\"\");for(var f=l(e),n=0,t=0;t<e.length;++t){var o=e.charCodeAt(t);55296<=o&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++t)),o<=127?++n:n=o<=2047?n+2:o<=65535?n+3:n+4}if(\"object\"==typeof i&&null!==i||(i={}),r=r(f,e=n,n=i.nofollow?1:0,t=\"string\"==typeof i.target?l(i.target):0,o=\"string\"==typeof i.tocIdPrefix?l(i.tocIdPrefix):0,i.enableToc?1:0)){for(f=(i=r)+NaN,e=\"\";!(f<=i)&&(n=v[i++]);)128&n?(t=63&v[i++],192==(224&n)?e+=String.fromCharCode((31&n)<<6|t):(o=63&v[i++],(n=224==(240&n)?(15&n)<<12|t<<6|o:(7&n)<<18|t<<12|o<<6|63&v[i++])<65536?e+=String.fromCharCode(n):e+=String.fromCharCode(55296|(n-=65536)>>10,56320|1023&n))):e+=String.fromCharCode(n);i=e}else i=\"\";return S(r),U(a),i}r||(r={});var o={},c={};for(A in o)o.hasOwnProperty(A)&&(c[A]=o[A]);var s=console.log.bind(console),u=console.warn.bind(console);for(A in c)c.hasOwnProperty(A)&&(o[A]=c[A]);c=null;var b,k,v,d,h,w=0,m=!1;b=h=b=o.buffer?o.buffer:new ArrayBuffer(16777216),o.HEAP8=k=new Int8Array(h),o.HEAP16=new Int16Array(h),o.HEAP32=d=new Int32Array(h),o.HEAPU8=v=new Uint8Array(h),o.HEAPU16=new Uint16Array(h),o.HEAPU32=new Uint32Array(h),o.HEAPF32=new Float32Array(h),o.HEAPF64=new Float64Array(h),d[2340]=5252272;var _=[],p=[],y=[],g=[];o.preloadedImages={},o.preloadedAudios={},c=null,c='\\0\\0\\0\\0\\0\\0\\0\\0\u0002\u0015\\0\\0\u0005\u0015\\0\\0\\b\u0015\\0\\0\u0015\\0\\0\\v\u0015\\0\\0\u0011\u0015\\0\\0\u0017\u0015\\0\\0\u001d\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0%\u0015\\0\\0-\u0015\\0\\x005\u0015\\0\\0A\u0015\\0\\0M\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0O\u0016\\0\\0S\u0015\\0\\0\\\\\u0015\\0\\0c\u0015\\0\\0m\u0015\\0\\0o\u0015\\0\\0v\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0#\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0#\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0015\\0\\0\u0003\u0016\\0\\0\\n\u0016\\0\\0\\r\u0016\\0\\0#\\0\\0\u0016\u0016\\0\\0#\\0\\0\u0019\u0016\\0\\0\u001c\u0016\\0\\0#\\0\\0#\\0\\0 \u0016\\0\\0\\'\u0016\\0\\0*\u0016\\0\\0#\\0\\0~\u0017\\0\\x003\u0016\\0\\0:\u0016\\0\\0=\u0016\\0\\0#\\0\\0#\\0\\0#\\0\\0A\u0016\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0D\u0016\\0\\0G\u0016\\0\\0\\0\\0\\0\\0&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\\b\u001e\u0019\u0014\u000f\\n&&&&&&&&&&\\0&\\0&\u0005\u0005\u0005\u000f\\0&&\\0\u000f\\n\\0&&\u000f\\0\u0005&&&&&&&&&&&&\\0&\\0&\u0005\u0005\u0005\u000f\\0&&\\0\u000f\\n\\0&&\u000f\\0\u0005&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\b\\0\\0\\0\\t\\0\\0\\0\\n\\0\\0\\0\\v\\0\\0\\0\\f\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\\0\\0\u0002\u0002\\0\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\u0002\\0\u0001\\0\u0001\u0001\u0001\\0\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\u0001\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\\0\\0\\0\u0001\\0\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\u0001\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\x000123456789ABCDEF\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\\0\\0\u0007\u0007\\0\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\u0007\\0\\0\u0001\\0\\0\\0\u0002\u0003\\0\\0\\0\\0\\0\\0\\0\u0004\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0005\\0\u0006\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0#\\0\\0\u001c\\0\\0\u0019\\0\\0v\u0016\\0\\0|\u0016\\0\\0\u0019\\0\\0R\u001d\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\u0019\\0\\0$\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0*\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\x000\u0019\\0\\x006\u0019\\0\\0=\u0019\\0\\0#\\0\\0#\\0\\0E\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0K\u0019\\0\\0Q\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0X\u0019\\0\\0^\u0019\\0\\0e\u0019\\0\\0m\u0019\\0\\0#\\0\\0v\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0|\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0#\\0\\0\u0019\\0\\0\u0019\\0\\0#\\0\\0\u0019\\0\\0#\\0\\0\u0002\u001a\\0\\0\\b\u001a\\0\\0\u000f\u001a\\0\\0\u0017\u001a\\0\\0#\\0\\0#\\0\\0 \u001a\\0\\0#\\0\\0%\u001a\\0\\0.\u001a\\0\\x008\u001a\\0\\0>\u001a\\0\\0C\u001a\\0\\0#\\0\\0K\u001a\\0\\0#\\0\\0P\u001a\\0\\0U\u001a\\0\\0#\\0\\0#\\0\\0]\u001a\\0\\0c\u001a\\0\\0j\u001a\\0\\0#\\0\\0#\\0\\0r\u001a\\0\\0#\\0\\0}\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0\u001a\\0\\0#\\0\\0\u0001\u001b\\0\\0\\b\u001b\\0\\0\u000f\u001b\\0\\0#\\0\\0#\\0\\0\u0017\u001b\\0\\0\u001e\u001b\\0\\0%\u001b\\0\\0-\u001b\\0\\0#\\0\\x004\u001b\\0\\0#\\0\\0:\u001b\\0\\0#\\0\\0#\\0\\0B\u001b\\0\\0I\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0P\u001b\\0\\0V\u001b\\0\\0[\u001b\\0\\0c\u001b\\0\\0#\\0\\0#\\0\\0l\u001b\\0\\0#\\0\\0s\u001b\\0\\0#\\0\\0|\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u001b\\0\\0#\\0\\0\u001b\\0\\0\u001b\\0\\0\u0003\u001c\\0\\0\\v\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0014\u001c\\0\\0\u001c\u001c\\0\\0%\u001c\\0\\0#\\0\\0#\\0\\0-\u001c\\0\\x005\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0>\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0E\u001c\\0\\0N\u001c\\0\\0S\u001c\\0\\0Y\u001c\\0\\0`\u001c\\0\\0f\u001c\\0\\0#\\0\\0#\\0\\0o\u001c\\0\\0v\u001c\\0\\0~\u001c\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0\u001c\\0\\0#\\0\\0#\\0\\0\u001c\\0\\0\u001c\\0\\0\\0\u001d\\0\\0\\t\u001d\\0\\0\u000e\u001d\\0\\0\u0016\u001d\\0\\0\u001d\u001d\\0\\0#\\0\\0#\\0\\0%\u001d\\0\\0-\u001d\\0\\0#\\0\\x004\u001d\\0\\0=\u001d\\0\\0E\u001d\\0\\0K\u001d\\0\\0#\\0\\0#\\0\\0R\u001d\\0\\0W\u001d\\0\\0]\u001d\\0\\0d\u001d\\0\\0#\\0\\0n\u001d\\0\\0v\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0#\\0\\0\u001d\\0\\0#\\0\\0#\\0\\0\u001d\\0\\0\u001d\\0\\0#\\0\\0#\\0\\0\u0004\u001e\\0\\0\\f\u001e\\0\\0#\\0\\0\u0015\u001e\\0\\0#\\0\\0\u001e\u001e\\0\\0&\u001e\\0\\0-\u001e\\0\\x005\u001e\\0\\0>\u001e\\0\\0E\u001e\\0\\0M\u001e\\0\\0T\u001e\\0\\0\\\\\u001e\\0\\0#\\0\\0b\u001e\\0\\0j\u001e\\0\\0q\u001e\\0\\0y\u001e\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0#\\0\\0\u001e\\0\\0\u001e\\0\\0\u001e\\0\\0#\\0\\0\u0002\u001f\\0\\0\\n\u001f\\0\\0\u0011\u001f\\0\\0\u001b\u001f\\0\\0#\\0\\0#\\0\\0$\u001f\\0\\0+\u001f\\0\\x003\u001f\\0\\0#\\0\\0<\u001f\\0\\0#\\0\\0C\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0K\u001f\\0\\0S\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\\\\\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0d\u001f\\0\\0n\u001f\\0\\0#\\0\\0#\\0\\0w\u001f\\0\\0#\\0\\0~\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0\u001f\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\\b \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u000f \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u0015 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0\u001b \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0# \\0\\0+ \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\x003 \\0\\0< \\0\\0#\\0\\0#\\0\\0#\\0\\0D \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0M \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0V \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0_ \\0\\0#\\0\\0#\\0\\0#\\0\\0g \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0p \\0\\0y \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0#\\0\\0 \\0\\0\\0\\0\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0_\\0Z\\0\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003s\\0^\\x007\\0\\0\\0\\0\u0019\\0\\0\\0\u001e\\0\\0\u0003\u0003\u001e\\0\u001e\\0\u0005\\0#\\0-\\0-\\0\u0003\u0003\\n\\0\\0\\x002\\0}\\0\u0003\u0003\u0003\u0003\u0005\\0U\\0K\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003(\\0A\\0\u0014\\0\u0019\\0<\\0\\0\\0\\0\\n\\0f\\0\u0014\\0#\\0\\0\\0\\0\u0005\\0\\n\\0\\0\u0014\\0\u0005\\0\\0\\x002\\0K\\0\\n\\0K\\0\\0U\\0\u000f\\0\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\u0003\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\u0002\u0003\u0004\u0005\u0006\u0007\\b\\t\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#\\n\\v\\f\\r\u000e\u000f\u0010\u0011\u0012\u0013\u0014\u0015\u0016\u0017\u0018\u0019\u001a\u001b\u001c\u001d\u001e\u001f !\"#\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0@\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\\0\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0003\\0\\0\\0\u0002\\0\\0\\0\u0004\\0\\0\\0\u0005\\0\\0\\0\u0004\\0\\0\\0\u0006\\0\\0\\0\u0005\\0\\0\\0\u0001\\0\\0\\0\u0001\\0\\0\\0\u0001\\0\\0\\0\u0002\\0\\0\\0\u0003\\0\\0\\0\u0004\\0\\0\\0\u0002\\0\\0\\0\u0001\\0\\0\\0\u0003\\0\\0\\0\\b\\0\\0\\0\u0005\\0\\0\\0\u0006\\0\\0\\0\u0007\\0\\0\\0\\0\\0\\0\\0\u0006\\0\\0\\0\\0\\0\\0\\0\u0003\\0\\0\\0 rel=\"nofollow\"\\0 target=\"\\0tr\\0th\\0td\\0tbody\\0thead\\0tfoot\\0caption\\0colspan\\0rowspan\\0cellspacing\\0cellpadding\\0scope\\0https://\\0ftp://\\0mailto://\\0/\\0git://\\0steam://\\0irc://\\0news://\\0mumble://\\0ssh://\\0ircs://\\0ts3server://\\0#\\0www.\\0?!.,\\0.+-_\\0all-\\0reddit.com\\0t:\\0p\\0dl\\0div\\0math\\0table\\0ul\\0del\\0form\\0blockquote\\0figure\\0ol\\0fieldset\\0h1\\0h6\\0pre\\0script\\0h5\\0noscript\\0iframe\\0h4\\0ins\\0h3\\0h2\\0span\\0http://\\0\\\\`*_{}[]()#+-.!:|&<>/^~\\0&#x27;\\0&#39;\\0&#47;\\0</li>\\n</ul>\\n\\0</div>\\n\\0<sup>\\0</sup>\\0<del>\\0</del>\\0<strong><em>\\0</em></strong>\\0<em>\\0</em>\\0<strong>\\0</strong>\\0<span class=\"md-spoiler-text\">\\0</span>\\0<code>\\0</code>\\0<div class=\"toc\">\\n\\0<ul>\\n<li>\\n\\0</li>\\n\\0</ul>\\n</li>\\n\\0<li>\\n\\0</li>\\n<li>\\n\\0<a href=\"#\\0toc_\\0\">\\0</a>\\n\\0style\\0a\\0img\\0=\"\\0<a href=\"\\0\" title=\"\\0</a>\\0<br>\\n\\0<br/>\\n\\0<img src=\"\\0\" alt=\"\\0\"/>\\0mailto:\\0<th\\0<td\\0 colspan=\"\\0\" \\0 align=\"center\">\\0 align=\"left\">\\0 align=\"right\">\\0>\\0</th>\\n\\0</td>\\n\\0<tr>\\n\\0</tr>\\n\\0<table><thead>\\n\\0</thead><tbody>\\n\\0</tbody></table>\\n\\0<p>\\0</p>\\n\\0<li>\\0<ol>\\n\\0<ul>\\n\\0</ol>\\n\\0</ul>\\n\\0<hr>\\n\\0<hr/>\\n\\0<h\\0 id=\"\\0</h\\0>\\n\\0<blockquote class=\"md-spoiler-text\">\\n\\0</blockquote>\\n\\0<blockquote>\\n\\0<pre><code class=\"\\0<pre><code>\\0</code></pre>\\n\\0&or;\\0&not;\\0&int;\\0&psi;\\0&isin;\\0&notin;\\0&Rho;\\0&phi;\\0&prop;\\0&rho;\\0&nbsp;\\0&thorn;\\0&thinsp;\\0&chi;\\0&prod;\\0&amp;\\0&Psi;\\0&iota;\\0&omicron;\\0&Phi;\\0&and;\\0&sdot;\\0&nu;\\0&Chi;\\0&emsp;\\0&Mu;\\0&ensp;\\0&ocirc;\\0&lt;\\0&uml;\\0&icirc;\\0&sup;\\0&sup1;\\0&Scaron;\\0&cap;\\0&part;\\0&pound;\\0&scaron;\\0&ni;\\0&lowast;\\0&Omicron;\\0&cup;\\0&Xi;\\0&crarr;\\0&Nu;\\0&pi;\\0&theta;\\0&tau;\\0&nsub;\\0&acirc;\\0&thetasym;\\0&Ocirc;\\0&rarr;\\0&ucirc;\\0&loz;\\0&darr;\\0&trade;\\0&para;\\0&ecirc;\\0&larr;\\0&radic;\\0&sub;\\0&Pi;\\0&kappa;\\0&iquest;\\0&eta;\\0&supe;\\0&rceil;\\0&there4;\\0&rArr;\\0&uarr;\\0&Kappa;\\0&dArr;\\0&euro;\\0&Theta;\\0&circ;\\0&Tau;\\0&lceil;\\0&lArr;\\0&ordm;\\0&lrm;\\0&xi;\\0&acute;\\0&ccedil;\\0&sup3;\\0&ntilde;\\0&uArr;\\0&sup2;\\0&piv;\\0&otilde;\\0&shy;\\0&Acirc;\\0&curren;\\0&Ucirc;\\0&oacute;\\0&sube;\\0&nabla;\\0&iacute;\\0&mu;\\0&bull;\\0&oline;\\0&Ccedil;\\0&sum;\\0&copy;\\0&equiv;\\0&Ntilde;\\0&prime;\\0&atilde;\\0&tilde;\\0&Ecirc;\\0&Otilde;\\0&apos;\\0&aacute;\\0&ne;\\0&Eta;\\0&macr;\\0&sim;\\0&Oacute;\\0&Iota;\\0&empty;\\0&uacute;\\0&ouml;\\0&exist;\\0&iuml;\\0&Prime;\\0&eacute;\\0&rsquo;\\0&cent;\\0&zwj;\\0&zwnj;\\0&quot;\\0&sbquo;\\0&sect;\\0&infin;\\0&otimes;\\0&cong;\\0&Icirc;\\0&brvbar;\\0&le;\\0&lsquo;\\0&ordf;\\0&clubs;\\0&oplus;\\0&perp;\\0&Yacute;\\0&micro;\\0&ang;\\0&auml;\\0&gt;\\0&rlm;\\0&Ouml;\\0&upsilon;\\0&minus;\\0&middot;\\0&uuml;\\0&aring;\\0&Atilde;\\0&divide;\\0&rsaquo;\\0&epsilon;\\0&times;\\0&ETH;\\0&euml;\\0&szlig;\\0&frac14;\\0&diams;\\0&oslash;\\0&Aacute;\\0&lsaquo;\\0&Delta;\\0&rdquo;\\0&spades;\\0&Uacute;\\0&raquo;\\0&rang;\\0&frasl;\\0&rfloor;\\0&harr;\\0&ndash;\\0&Yuml;\\0&cedil;\\0&eth;\\0&ldquo;\\0&real;\\0&THORN;\\0&plusmn;\\0&laquo;\\0&lang;\\0&delta;\\0&lfloor;\\0&beta;\\0&omega;\\0&Eacute;\\0&Oslash;\\0&image;\\0&weierp;\\0&Zeta;\\0&OElig;\\0&hArr;\\0&Auml;\\0&asymp;\\0&Lambda;\\0&bdquo;\\0&zeta;\\0&Upsilon;\\0&lambda;\\0&Uuml;\\0&Aring;\\0&yacute;\\0&Beta;\\0&Gamma;\\0&iexcl;\\0&forall;\\0&Omega;\\0&Epsilon;\\0&Iacute;\\0&Euml;\\0&frac34;\\0&frac12;\\0&yen;\\0&yuml;\\0&ograve;\\0&AElig;\\0&igrave;\\0&Iuml;\\0&alpha;\\0&permil;\\0&agrave;\\0&mdash;\\0&Ograve;\\0&ugrave;\\0&upsih;\\0&ge;\\0&egrave;\\0&fnof;\\0&reg;\\0&deg;\\0&Sigma;\\0&sigma;\\0&Alpha;\\0&hearts;\\0&oelig;\\0&Agrave;\\0&Ugrave;\\0&hellip;\\0&aelig;\\0&Egrave;\\0&Igrave;\\0&gamma;\\0&Dagger;\\0&dagger;\\0&alefsym;\\0&sigmaf;\\0\\0\u0001\u0002\u0004\u0007\u0003\u0006\u0005';var A=(function(r,e,i){function t(r,e,i){e|=0;var a=112+(r|=0)|0;if(0|i){i=0|r;var f=0|a;for(ze[f>>2]=0,ze[f+4>>2]=0,ze[f+8>>2]=0,ze[f+12>>2]=0,ze[f+16>>2]=0,ze[f+20>>2]=0,ze[f+24>>2]=0,ze[f+28>>2]=0,ze[f+16>>2]=65,f=5128,e=i+112|0;ze[i>>2]=ze[f>>2],f=f+4|0,(0|(i=i+4|0))<(0|e););}else{i=0|r,e|=0,ze[(f=0|a)>>2]=0,ze[f+4>>2]=0,ze[f+8>>2]=0,ze[f+12>>2]=0,ze[f+16>>2]=0,ze[f+20>>2]=0,ze[f+24>>2]=0,ze[f+28>>2]=0,ze[f+16>>2]=e;for(var n=5240,t=(f=i)+112|0;ze[f>>2]=ze[n>>2],n=n+4|0,(0|(f=f+4|0))<(0|t););4&e|0&&(ze[i+68>>2]=0),8&e|0&&(ze[i+76>>2]=0,ze[i+48>>2]=0),513&e|0&&(ze[i+12>>2]=0)}if(ze[r+140>>2]=7,ze[r+132>>2]=16,ze[r+136>>2]=64,r|=0,a|=0,i=0|L(444)){for(f=(e=i)+112|0;ze[e>>2]=ze[r>>2],r=r+4|0,(0|(e=e+4|0))<(0|f););u(i+404|0,4),u(i+416|0,8),fr(i+148|0,0,256),(0!=(0|ze[i+64>>2])||0!=(0|ze[i+60>>2])||0|ze[i+84>>2])&&(je[i+190>>0]=1,je[i+243>>0]=1,je[i+210>>0]=1,je[i+274>>0]=1),0|ze[i+52>>2]&&(je[i+244>>0]=2),0|ze[i+72>>2]&&(je[i+158>>0]=3),(0!=(0|ze[i+68>>2])||0|ze[i+76>>2])&&(je[i+239>>0]=4),je[i+208>>0]=5,je[i+240>>0]=6,je[i+186>>0]=7,je[i+212>>0]=9,je[i+206>>0]=8,je[i+267>>0]=10,je[i+195>>0]=11,je[i+242>>0]=12,ze[i+428>>2]=155,ze[i+112>>2]=a,ze[i+432>>2]=16,ze[i+436>>2]=64,ze[i+440>>2]=0}else i=0;return 0|i}function o(r,e,i,a,f,n,t){r|=0,e|=0,f|=0,t|=0;var o=0|ze[8368+((n|=0)<<4)>>2],l=0|ze[8372+(n<<4)>>2],c=0|ze[8376+(n<<4)>>2],s=0|ze[8380+(n<<4)>>2];ze[c+144>>2]=0|i,ze[c+148>>2]=0|a;var u=0|C(128);return i=0|ze[(n=c+128|0)>>2],0|t&&(ze[(t=s+124|0)>>2]=f,b(u,r,e,l),ze[t>>2]=0,ze[n>>2]|=64),ze[(a=c+124|0)>>2]=f,b(u,r,e,o),ze[a>>2]=0,ze[n>>2]=i,i=0|L(1+(n=0|ze[u+4>>2])|0),(je[i+n>>0]=0)|(a=0|ze[u>>2])&&ar(0|i,0|a,0|n),S(u),0|i}function k(r,e){r|=0,e|=0;var i=0;r:for(;;){if(14<=i>>>0){var a=0;break}var f=0|D(a=0|ze[96+(i<<2)>>2]);if(f>>>0<e>>>0&&0==(0|F(r,a,f))){if(0|Ke(255&(a=0|je[r+f>>0]))){a=1;break}switch(a<<24>>24){case 35:case 47:case 63:a=1;break r}}i=i+1|0}return 0|a}function v(r,e){var i;if(!(0|Ke(0|Be[(r|=0)>>0])))return 0;var a=(0|e)-1|0;for(e=0,i=1;!(a>>>0<=i>>>0);){var f=0|je[r+i>>0];if(46!=f<<24>>24){if(!(45==f<<24>>24|0!=(0|Ke(255&f))))break}else e=e+1|0;i=i+1|0}return 0|(0==(0|e)?0:i)}function h(r,e){r|=0,e|=0;var i,a,f=0,n=0,t=0,o=0;for(i=0;;){if(e>>>0<=i>>>0){i=e;break}if(60==(0|je[r+i>>0]))break;i=i+1|0}r:for(;;){if(!i){i=0;break}if(!((e=0|je[r+(o=i+-1|0)>>0])<<24>>24))break;do{if(!(0|z(5563,255&e,5))){switch(e<<24>>24){case 34:f=20;break r;case 39:f=21;break r;case 41:n=40,t=41,f=22;break r;case 93:f=18;break r;case 125:f=19;break r;case 59:break;default:break r}for(i=e=i+-2|0;;){if(!i){i=0;break}if(!(((32|Be[r+i>>0])-97|0)>>>0<26|0))break;i=i+-1|0}if(i>>>0<e>>>0&&38==(0|je[r+i>>0]))break}i=o}while(0)}if(18==(0|f)?(n=91,t=93,f=22):19==(0|f)?(n=123,t=125,f=22):20==(0|f)?(t=n=34,f=22):21==(0|f)&&(t=n=39,f=22),22==(0|f)){for(a=f=e=0;(0|e)!=(0|i);){var l=0|je[r+e>>0],c=(0|n)==(255&l|0);e=e+1|0,f=f+(1&c)|0,a=a+(l<<24>>24==t<<24>>24&(1^c)&1)|0}i=(0|a)==(0|f)?i:o}return 0|i}function g(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0,f|=0;do{if(0==(0|e)|a>>>0<2||(0|Be[r+-1>>0])!=(f<<24>>24|0))r=0;else{if(1<e>>>0){if(47==(r=(f=0|je[r+-2>>0])<<24>>24)){r=2;break}if(0|B(r)){r=1;break}return 0!=(0|R(r))|0}r=2<i>>>0&&47==(0|je[r+-2>>0])&&92==(0|je[r+-3>>0])?0:1}}while(0);return 0|r}function A(r,e){if(r|=0,(e|=0)>>>0<=16777216){var i=r+8|0,a=0|ze[i>>2];if(a>>>0<e>>>0){for(var f=0|ze[r+12>>2],n=a;(n=n+f|0)>>>0<e>>>0;);a=(a=0|V(0|ze[r>>2],n))?(ze[r>>2]=a,ze[i>>2]=n,0):-1}else a=0}else a=-1;return 0|a}function C(r){r|=0;var e=0|L(16);return 0|e&&(ze[e>>2]=0,ze[e+8>>2]=0,ze[e+4>>2]=0,ze[e+12>>2]=r),0|e}function de(r,e,i){e|=0;var a=0,f=4+(r|=0)|0,n=0|ze[f>>2],t=n+(i|=0)|0;(0|ze[r+8>>2])>>>0<t>>>0?0<=(0|A(r,t))&&(n=0|ze[f>>2],a=4):a=4,4==(0|a)&&(ar((0|ze[r>>2])+n|0,0|e,0|i),ze[f>>2]=(0|ze[f>>2])+i)}function y(r,e){de(0|r,e|=0,0|D(e))}function he(r,e){e|=0;var i=0,a=4+(r|=0)|0,f=0|ze[a>>2],n=f+1|0;(0|ze[r+8>>2])>>>0<n>>>0?0<=(0|A(r,n))&&(f=0|ze[a>>2],i=4):i=4,4==(0|i)&&(je[(0|ze[r>>2])+f>>0]=e,ze[a>>2]=1+(0|ze[a>>2]))}function l(r,e){r|=0,e|=0;var i=De;De=De+16|0;for(var a=i,f=a+14|0;(0|(a=a+1|(je[a>>0]=0)))<(0|f););var n=(0|e)<0,t=0;for(f=n?0|-e:e;a=t+1|0,je[i+t>>0]=(e=f)+(0|cr(f=(0|f)/10|0,-10))+48,!((0|e)<=9);)t=a;for(n&&(je[i+a>>0]=45,a=t+2|0),f=0;!((0|(a=a+-1|0))<=(0|f));)e=0|je[(t=i+f|0)>>0],je[t>>0]=0|je[(n=i+a|0)>>0],je[n>>0]=e,f=f+1|0;y(r,i),De=i}function S(r){0|(r|=0)&&(Me(0|ze[r>>2]),Me(r))}function x(r){0|(r|=0)&&(Me(0|ze[r>>2]),ze[r>>2]=0,ze[r+8>>2]=0,ze[r+4>>2]=0)}function E(r,e){(e|=0)>>>0<=(0|ze[(r=4+(0|r)|0)>>2])>>>0&&(ze[r>>2]=e)}function b(r,e,i,a){r|=0,e|=0,i|=0,a|=0;var f=0,n=De;De=De+16|0;var t=0|C(64);if(0|t){A(t,i);var o=a+116|0;ze[o>>2]=0,ze[o+4>>2]=0,ze[o+8>>2]=0,ze[o+12>>2]=0,ze[o+16>>2]=0,ze[o+20>>2]=0,ze[o+24>>2]=0;for(var l=2<i>>>(ze[o+28>>2]=0)&&(l=0==(0|j(e,5708,3)))?3:0;!(i>>>0<=l>>>0);)r:do{var c=e,s=l,u=i,b=n,k=o;c|=0,u|=0,b|=0,k|=0;var v,d,h=0,w=3+(s|=0)|0;e:do{if(w>>>0<u>>>0){if(32==(0|je[c+s>>0]))if(32==(0|je[c+(s+1)>>0]))if(32==(0|je[c+(s+2)>>0])){if(32==(0|je[c+w>>0])){w=0;break}w=3}else w=2;else w=1;else w=0;if(91==(0|je[c+(w=w+s|0)>>0])){var m=d=w+1|0;i:for(;;){if(u>>>0<=m>>>0){w=0;break e}switch(0|je[c+m>>0]){case 13:case 10:w=0;break e;case 93:break i}m=m+1|0}var _=m+1|0;if(_>>>0<u>>>0&&58==(0|je[c+_>>0])){w=m+2|0;i:for(;!(u>>>0<=w>>>0);){switch((s=0|je[c+w>>0])<<24>>24){case 13:case 10:h=17;break i;case 32:break;default:break i}w=w+1|0}if(17==(0|h)){var p=w+1|0;w=p>>>0<u>>>0&&10==s<<24>>24&&13==(0|je[c+p>>0])?w+2|0:p}for(;;){if(u>>>0<=w>>>0){w=0;break e}if(32!=(s=0|je[c+w>>0])<<24>>24)break;w=w+1|0}w=_=w+(60==s<<24>>24&1)|0;i:for(;!(u>>>0<=w>>>0);){switch(0|je[c+w>>0]){case 13:case 10:case 32:break i}w=w+1|0}var y=w+-1|0;y=62==(0|je[c+y>>0])?y:w;i:for(;;){if(u>>>0<=w>>>0){h=31;break}switch(0|je[c+w>>0]){case 10:case 13:h=31;break i;case 40:case 39:case 34:s=0;break i;case 32:break;default:w=0;break e}w=w+1|0}if(31==(0|h)&&(s=w),v=(p=w+1|0)>>>0<u>>>0&&10==(0|je[c+w>>0])&&13==(0|je[c+p>>0])?p:s){for(s=v;!(u>>>0<=(w=s+1|0)>>>0)&&32==(0|je[c+w>>0]);)s=w;p=s+2|0}i:do{if(p>>>0<u>>>0){switch(0|je[c+w>>0]){case 40:case 34:case 39:break;default:p=u=0,w=v;break i}s=p;a:for(;;){if(u>>>0<=s>>>0){h=44;break}switch(w=s+1|0,0|je[c+s>>0]){case 10:case 13:break a;default:s=w}}44==(0|h)&&(w=s+1|0),w>>>0<u>>>0&&10==(0|je[c+s>>0])&&13==(0|je[c+w>>0])||(w=s);a:for(;;){if((s=s+-1|0)>>>0<=p>>>0){u=p,p=w,w=v;break i}switch(0|je[c+s>>0]){case 32:break;case 41:case 34:case 39:break a;default:u=p,p=w,w=v;break i}}u=p,p=s}else p=u=0,w=v}while(0);w=(0|y)==(0|_)|0==(0|w)?0:(0|b&&(ze[b>>2]=w),k?(s=k,w=c+d|0,d=m-d|0,s|=0,w|=0,d|=0,(m=0|Re(1,16))?(d=0|U(w,d),ze[m>>2]=d,ze[m+12>>2]=ze[(d=s+((7&d)<<2)|0)>>2],ze[d>>2]=m):m=0,(s=0|m)?(k=0|C(w=y-_|0),de(ze[s+4>>2]=k,c+_|0,w),w=p-u|0,u>>>0<p>>>0&&(k=0|C(w),de(ze[s+8>>2]=k,c+u|0,w)),1):0):1)}else w=0}else w=0}else w=0}while(0);if(0|w)l=0|ze[n>>2];else{b=l;e:for(;!(i>>>0<=b>>>0);){switch(0|je[e+b>>0]){case 10:case 13:break e}b=b+1|0}if(l>>>0<(ze[n>>2]=b)>>>0){for(c=t,u=e+l|0,l=b-l|0,c|=0,u|=0,l|=0,b=p=0;!(l>>>0<=p>>>0);){for(y=p;;){if(l>>>0<=y>>>0){k=0;break}if(9==(0|je[u+y>>0])){k=1;break}y=y+1|0,b=b+1|0}if(p>>>0<y>>>0&&de(c,u+p|0,y-p|0),!k)break;for(;he(c,32),0!=(3&(b=b+1|0)|0););p=y+1|0}l=0|ze[n>>2]}else l=b;for(;;){if(i>>>0<=l>>>0)break r;switch(0|je[e+l>>0]){case 10:f=20;break;case 13:(l=l+1|0)>>>0<i>>>0&&10!=(0|je[e+l>>0])&&(f=20);break;default:break r}20==(0|f)&&(f=0,he(t,10),l=1+(0|ze[n>>2])|0),ze[n>>2]=l}}}while(0);if(A(r,((l=0|ze[(e=t+4|0)>>2])>>>1)+l|0),(b=0|ze[a+104>>2])&&(Fe[3&b](r,0|ze[a+112>>2]),l=0|ze[e>>2]),0|l){switch(0|je[(b=0|ze[t>>2])+(l+-1)>>0]){case 13:case 10:break;default:he(t,10),b=0|ze[t>>2],l=0|ze[e>>2]}we(r,a,b,l)}for(0|(l=0|ze[a+108>>2])&&Fe[3&l](r,0|ze[a+112>>2]),S(t),r=0|o,e=0;8!=(0|e);){for(i=0|ze[r+(e<<2)>>2];i;)a=0|ze[i+12>>2],S(0|ze[i+4>>2]),S(0|ze[i+8>>2]),Me(i),i=a;e=e+1|0}}De=n}function we(r,e,i,a){r|=0,e|=0,i|=0,a|=0;var f=0,n=0,t=0,o=0,l=0,c=0,s=0,u=0,b=0,k=0;r:do{if(((0|ze[e+408>>2])+(0|ze[e+420>>2])|0)>>>0<=(0|ze[e+432>>2])>>>0)for(l=e+12|0,c=e+428|0,s=e+20|0,u=e+112|0,f=0;;){if(a>>>0<=f>>>0)break r;t=i+f|0,o=a-f|0;e:do{if(0|me(e,t,o)){var v=r,d=e,h=t,w=o;v|=0,d|=0,h|=0,w|=0;var m=0,_=0,p=0,y=0,g=0;for(y=0;y>>>0<w>>>0&y>>>0<6&&35==(0|je[h+y>>0]);)y=y+1|0;for(p=y;!(w>>>0<=p>>>0)&&32==(0|je[h+p>>0]);)p=p+1|0;for(g=p;!(w>>>0<=g>>>0)&&10!=(0|je[h+g>>0]);)g=g+1|0;for(w=g;;){if(!w){w=0;break}if(35!=(0|je[h+(m=w+-1|0)>>0]))break;w=m}for(;w;){if(32!=(0|je[h+(m=w+-1|0)>>0])){_=19;break}w=m}19==(0|_)&&p>>>0<w>>>0&&(Pe(m=0|qe(d,1),d,h+p|0,w-p|0),0|(w=0|ze[d+16>>2])&&Ye[7&w](v,m,y,0|ze[d+112>>2]),Oe(d,1)),f=(0|g)+f|0}else if(60==(0|je[t>>0])&&0|ze[l>>2]&&0|(b=0|_e(r,e,t,o,1)))f=b+f|0;else if(0|(n=0|pe(t,o)))f=n+f|0;else if(0|ye(t,o)){for(0|(n=0|ze[s>>2])&&Fe[3&n](r,0|ze[u>>2]);!(a>>>0<=f>>>0);){if(n=f+1|0,10==(0|je[i+f>>0])){f=n;break e}f=n}f=f+1|0}else{if(4&(n=0|ze[c>>2])){var A=r,C=e,S=t,x=o;A|=0,C|=0,S|=0,x|=0;var E,I,U,q=0,P=0,O=0,H=0,T=0,K=0,M=0;if(De=(U=De)+32|0,ze[(I=(E=U)+16|0)>>2]=0,ze[I+4>>2]=0,ze[I+8>>2]=0,q=(ze[I+12>>2]=0)|Ue(S,x,I)){for(M=0|qe(C,0),T=E+4|0;!(x>>>0<=q>>>0);){if(ze[E>>2]=0,ze[E+4>>2]=0,ze[E+8>>2]=0,(ze[E+12>>2]=0)!=(0|(P=0|Ue(H=S+q|0,x-q|0,E)))&0==(0|ze[T>>2])){K=12;break}for(P=q;!(x>>>0<=(O=P+1|0)>>>0)&&10!=(0|je[S+P>>0]);)P=O;q>>>0<=P>>>0&&(0|pe(H,q=O-q|0)?he(M,10):de(M,H,q)),q=O}12==(0|K)&&(q=P+q|0),0|(K=0|ze[M+4>>2])&&10!=(0|je[(0|ze[M>>2])+(K+-1)>>0])&&he(M,10),0|(P=0|ze[C>>2])&&Ye[7&P](A,M,0==(0|ze[I+4>>2])?0:I,0|ze[C+112>>2]),Oe(C,0)}else q=0;if(De=U,n=0|q){f=n+f|0;break e}n=0|ze[c>>2]}var R;if(R=2&n|0){var N=r,j=e,z=t,B=o;N|=0,j|=0,z|=0,B|=0;var D,F,L,Y=0,Z=0,G=0,V=0,W=0,X=0;De=(L=De)+16|0,Y=L+4|0,D=(ze[(G=L)>>2]=0)|qe(j,1),F=0|qe(j,0);var $=void 0,Q=void 0,J=void 0,rr=void 0,er=void 0,ir=void 0,ar=D,fr=j,nr=z,tr=B,or=Y,lr=G;ar|=0,fr|=0,nr|=0,tr|=0,or|=0,lr|=0;var cr=0,sr=0,ur=0;for(rr=J=0;!(tr>>>0<=J>>>0)&&10!=(ir=0|je[nr+J>>0])<<24>>24;)J=J+1|0,rr=rr+(124==ir<<24>>24&1)|0;i:do{if(0==(0|rr)|(0|J)==(0|tr))ir=0;else{for(er=J;;){if(!er){sr=0,er=rr,ir=nr;break}if(!(0|He(0|Be[(ir=nr+(cr=er+-1|0)|0)>>0]))){ur=9;break}er=cr}if(9==(0|ur)&&(sr=er,er=rr+((124==(0|je[nr>>0]))<<31>>31)|0),($=er+((124==(0|je[ir>>0]))<<31>>31)+1|0)>>>0<=(0|ze[fr+436>>2])>>>0){for(Q=0|Re(ze[or>>2]=$,4),ze[lr>>2]=Q,(ir=J+1|0)>>>0<tr>>>0&&(ir=124==(0|je[nr+ir>>0])?J+2|0:ir),or=ir;!(tr>>>0<=or>>>0)&&10!=(0|je[nr+or>>0]);)or=or+1|0;for(rr=0;ir>>>0<or>>>0&(er=rr>>>0<$>>>0);){for(;ir>>>0<or>>>0&32==(er=0|je[nr+ir>>0])<<24>>24;)ir=ir+1|0;58==er<<24>>24?(ze[(er=Q+(rr<<2)|0)>>2]|=1,ir=ir+(er=1)|0):er=0;a:for(;!(or>>>0<=ir>>>0);){switch(0|je[nr+ir>>0]){case 58:ur=28;break a;case 45:break;default:break a}er=er+1|0,ir=ir+1|0}for(28==(0|ur)&&(ze[(ur=Q+(rr<<2)|0)>>2]|=2,er=er+1|0,ir=ir+1|0);;){if(or>>>0<=ir>>>0){ur=34;break}if(32!=(cr=0|je[nr+ir>>0])<<24>>24){ur=33;break}ir=ir+1|0}if(33==(0|ur)){if((ur=0)==(0|er)|124!=cr<<24>>24){ir=0;break i}}else if(34==(0|ur)&&(ur=0)==(0|er)){ir=0;break i}rr=rr+1|0,ir=ir+1|0}ir=er?0:(Te(ar,fr,nr,sr,$,Q,4),or+1|0)}else ir=0}}while(0);if(Z=0|ir){for(X=0|ze[Y>>2],Y=0|ze[G>>2];!(B>>>0<=Z>>>0);){for(G=0,V=Z;!(B>>>0<=V>>>0)&&10!=(W=0|je[z+V>>0])<<24>>24;)G=G+(124==W<<24>>24&1)|0,V=V+1|0;if((0|V)==(0|B)|0==(0|G))break;Te(F,j,z+Z|0,V-Z|0,X,Y,0),Z=V+1|0}(G=0|ze[j+36>>2])&&Ye[7&G](N,D,F,0|ze[j+112>>2])}else Y=(Z=0)|ze[G>>2];Me(Y),Oe(j,1),Oe(j,0),De=L,R=0|(k=0|Z)}if(R)var br=k+f|0;else{if(0|ge(t,o)){var kr=r,vr=e,dr=t,hr=o;kr|=0,dr|=0,hr|=0;var wr,mr=0,_r=0,pr=0,yr=0,gr=0,Ar=0,Cr=0,Sr=0,xr=0;wr=0|qe(vr|=0,0),_r=xr=mr=0;i:for(;;){for(;;){if(hr>>>0<=_r>>>0)break i;for(Cr=_r;;){if(hr>>>0<=(Sr=Cr+1|0)>>>0){pr=0;break}if(10==(0|je[dr+Cr>>0])){pr=1;break}Cr=Sr}if(Ar=0|ge(yr=dr+_r|0,gr=Sr-_r|0))_r=Ar+_r|0;else if(0|pe(yr,gr)){if(!pr){_r=Sr;break i}if(0==(0|ge(pr=dr+Sr|0,yr=hr-Sr|0))&&0==(0|pe(pr,yr))){_r=Sr;break i}}if(!(Cr>>>0<_r>>>0))break;_r=Sr}pr=dr+_r|0,mr?(0|pr)!=(0|(yr=mr+xr|0))&&Ne(0|yr,0|pr,Sr-_r|0):mr=pr,xr=Sr+xr-_r|0,_r=Sr}we(wr,vr,mr,xr),0|(mr=0|ze[vr+4>>2])&&Le[7&mr](kr,wr,0|ze[vr+112>>2]),Oe(vr,0);var Er=(0|_r)+f|0}else{if(0|Ae(t,o)){var Ir=r,Ur=e,qr=t,Pr=o;Ir|=0,qr|=0,Pr|=0;var Or,Hr=0,Tr=0,Kr=0,Mr=0,Rr=0,Nr=0,jr=0,zr=0,Br=0;Or=0|qe(Ur|=0,0),Tr=Br=Hr=0;i:for(;;){for(;;){if(Pr>>>0<=Tr>>>0)break i;for(jr=Tr;;){if(Pr>>>0<=(zr=jr+1|0)>>>0){Kr=0;break}if(10==(0|je[qr+jr>>0])){Kr=1;break}jr=zr}if(Nr=0|Ae(Mr=qr+Tr|0,Rr=zr-Tr|0))Tr=Nr+Tr|0;else if(0|pe(Mr,Rr)){if(!Kr){Tr=zr;break i}if(0==(0|Ae(Kr=qr+zr|0,Mr=Pr-zr|0))&&0==(0|pe(Kr,Mr))){Tr=zr;break i}}if(!(jr>>>0<Tr>>>0))break;Tr=zr}Kr=qr+Tr|0,Hr?(0|Kr)!=(0|(Mr=Hr+Br|0))&&Ne(0|Mr,0|Kr,zr-Tr|0):Hr=Kr,Br=zr+Br-Tr|0,Tr=zr}we(Or,Ur,Hr,Br),0|(Hr=0|ze[Ur+8>>2])&&Le[7&Hr](Ir,Or,0|ze[Ur+112>>2]),Oe(Ur,0);var Dr=(0|Tr)+f|0}else{if(0|Ce(t,o)){var Fr=r,Lr=e,Yr=t,Zr=o;Fr|=0,Yr|=0,Zr|=0;var Gr,Vr=0,Wr=0,Xr=0,$r=0,Qr=0,Jr=0;for(Gr=0|qe(Lr|=0,0),Jr=0;!(Zr>>>0<=Jr>>>0);){for($r=Jr;!(Zr>>>0<=(Qr=$r+1|0)>>>0)&&10!=(0|je[Yr+$r>>0]);)$r=Qr;if(Xr=0|Ce(Vr=Yr+Jr|0,Wr=Qr-Jr|0))Vr=Xr+Jr|0;else{if(!(0|pe(Vr,Wr)))break;Vr=Jr}Vr>>>0<=$r>>>0&&(0|pe(Wr=Yr+Vr|0,Vr=Qr-Vr|0)?he(Gr,10):de(Gr,Wr,Vr)),Jr=Qr}for(Vr=0|ze[(Wr=Gr+4|0)>>2];Vr&&10==(0|je[(0|ze[Gr>>2])+(Vr=Vr+-1|0)>>0]);)ze[Wr>>2]=Vr;he(Gr,10),0|(Vr=0|ze[Lr>>2])&&Ye[7&Vr](Fr,Gr,0,0|ze[Lr+112>>2]),Oe(Lr,0);var re=(0|Jr)+f|0}else{if(0|Se(t,o))var ee=(0|xe(r,e,t,o,0))+f|0;else{if(0|Ee(t,o))var ie=(0|xe(r,e,t,o,1))+f|0;else{var ae=r,fe=e,ne=t,te=o;ae|=0,ne|=0,te|=0;var oe,le,ce=0,se=0,ue=0,be=0,ke=0,ve=0;for(oe=428+(fe|=0)|0,le=fe+12|0,ce=0;;){if(te>>>0<=ce>>>0){ke=0,ve=ce;break}ve=ce;do{if(te>>>0<=(ve=(se=ve)+1|0)>>>0)break}while(10!=(0|je[ne+se>>0]));if(0|ge(ue=ne+ce|0,ve-ce|0)){ke=0,ve=ce;break}if(0|pe(ue,be=te-ce|0)){ke=0;break}if(0|(se=0|Ie(ue,be))){ke=se;break}if(0|me(fe,ue,be)){ke=0,ve=ce;break}if(0|ye(ue,be)){ke=0,ve=ce;break}if(0|ge(ue,be)){ke=0,ve=ce;break}if(256&(se=0|ze[oe>>2])|0&&0==(0|Ke(255&(ke=0|je[ue>>0])))){if(0|Ee(ue,be)){ke=0,ve=ce;break}if(0|Se(ue,be)){ke=0,ve=ce;break}if(60==ke<<24>>24&&0!=(0|ze[le>>2])){if(0|_e(ae,fe,ue,be,0)){ke=0,ve=ce;break}se=0|ze[oe>>2]}if(4&se|0&&0|Ue(ue,be,0)){ke=0,ve=ce;break}}ce=ve}for(;;){if(!ce){ce=se=0;break}if(10!=(0|je[ne+(se=ce+-1|0)>>0])){se=1;break}ce=se}if(ke){i:do{if(se){for(be=ce;;){if(!(se=be+-1|0)){se=0;break}if(10==(0|je[ne+se>>0]))break;be=se}for(;;){if(!se)break i;if(10!=(0|je[ne+(ue=se+-1|0)>>0]))break;se=ue}Pe(ue=0|qe(fe,0),fe,ne,se),0|(se=0|ze[fe+32>>2])&&Le[7&se](ae,ue,0|ze[fe+112>>2]),Oe(fe,0),ne=ne+be|0,ce=ce-be|0}else ce=0}while(0);Pe(se=0|qe(fe,1),fe,ne,ce),0|(ce=0|ze[fe+16>>2])&&Ye[7&ce](ae,se,ke,0|ze[fe+112>>2]),Oe(fe,1)}else Pe(se=0|qe(fe,0),fe,ne,ce),0|(ce=0|ze[fe+32>>2])&&Le[7&ce](ae,se,0|ze[fe+112>>2]),Oe(fe,0);ie=(0|ve)+f|0}ee=ie}re=ee}Dr=re}Er=Dr}br=Er}f=br}}while(0)}}while(0)}function me(r,e,i){r|=0,e|=0,i|=0;var a,f=0;do{if(35==(0|je[e>>0])){if(64&ze[r+428>>2]){for(a=0;;){var n=a>>>0<i>>>0;if(!(n&a>>>0<6)){r=7;break}if(35!=(r=0|je[e+a>>0])<<24>>24){f=r,r=9;break}a=a+1|0}if(7==(0|r)&&n&&(f=0|je[e+a>>0],r=9),9==(0|r)&&32!=f<<24>>24){r=0;break}}r=1}else r=0}while(0);return 0|r}function _e(r,e,i,a,f){r|=0,e|=0,a|=0,f|=0;var n=0,t=0,o=0,l=0,c=0,s=De;De=De+16|0,ze[s>>2]=i|=0;var u=s+4|0;ze[u>>2]=0,ze[s+8>>2]=0,ze[s+12>>2]=0;r:do{if(2<=a>>>0&&60==(0|je[i>>0])){var b,k=1;e:for(;!(a>>>0<=k>>>0);){switch(0|je[i+k>>0]){case 32:case 62:l=7;break e}k=k+1|0}if(b=7==(0|l)){b=i+1|0;var v=k+-1|0;b|=0,v|=0;var d=0;do{if((v+-1|0)>>>0<10){var h=b,w=v;if(h|=0,(h=(w=1==(0|(w|=0))?1:(0|Be[1+(0|Be[h+1>>0])+320>>0])+w|0)+(0|Be[320+(0|Be[h>>0])>>0])|0)>>>0<38&&0==(-33&(je[(d=0|ze[160+(h<<2)>>2])>>0]^je[b>>0]))<<24>>24&&0==(0|F(b,d,v))&&0==(0|je[d+v>>0]))break}d=0}while(0);b=0|(n=0|d)}if(b){if(!(k=0|P(n,i,a,1))){if(!(0|N(n,5693))){k=0;break}if(!(0|N(n,5615))){k=0;break}if(!(k=0|P(n,i,a,0))){k=0;break}}ze[u>>2]=k,f&&(n=0|ze[e+12>>2])&&Le[7&n](r,s,0|ze[e+112>>2])}else{if(5<a>>>0){if(33==(k=0|je[i+1>>0])<<24>>24){if(45!=(0|je[i+2>>0])){k=0;break}if(45!=(0|je[i+3>>0])){k=0;break}for(k=5;;){if(a>>>0<=k>>>0){l=19;break}if(45==(0|je[i+(k+-2)>>0])&&45==(0|je[i+(k+-1)>>0])){if(n=k+1|0,62==(0|je[i+k>>0])){k=n;break}k=n}else k=k+1|0}if(19==(0|l)&&(k=k+1|0),k>>>0<a>>>0&&0!=(0|(t=0|pe(i+k|0,a-k|0)))){if(ze[u>>2]=k=t+k|0,!f)break;if(!(n=0|ze[e+12>>2]))break;Le[7&n](r,s,0|ze[e+112>>2]),k=0|ze[u>>2];break}l=25}}else l=25;if(25==(0|l)){if(a>>>0<=4){k=0;break}k=0|je[i+1>>0]}switch(k<<24>>24){case 72:case 104:break;default:k=0;break r}switch(0|je[i+2>>0]){case 82:case 114:break;default:k=0;break r}for(n=3;;){if(a>>>0<=n>>>0){l=31;break}if(k=n+1|0,62==(0|je[i+n>>0]))break;n=k}31==(0|l)&&(k=n+1|0),k>>>0<a>>>0&&0!=(0|(o=0|pe(i+k|0,a-k|0)))?(ze[u>>2]=k=o+k|0,0!=(0|f)&&0!=(0|(c=0|ze[e+12>>2]))&&(Le[7&c](r,s,0|ze[e+112>>2]),k=0|ze[u>>2])):k=0}}else k=0}while(0);return De=s,0|k}function pe(r,e){r|=0,e|=0;var i=0,a=0;r:for(;;){if(e>>>0<=a>>>0){i=5;break}switch(0|je[r+a>>0]){case 10:i=5;break r;case 32:break;default:a=0;break r}a=a+1|0}return 5==(0|i)&&(a=a+1|0),0|a}function ye(r,e){var i;r|=0,e|=0;r:do{if(3<=e>>>0){var a=32==(0|je[r>>0])?32==(0|je[r+1>>0])?32==(0|je[r+2>>0])?3:2:1:0;if((a+2|0)>>>0<e>>>0){var f=0|je[r+a>>0];switch(f<<24>>24){case 95:case 45:case 42:break;default:a=0;break r}for(i=0;!(e>>>0<=a>>>0);){var n=0|je[r+a>>0];if(10==n<<24>>24)break;if(n<<24>>24!=f<<24>>24){if(32!=n<<24>>24){a=0;break r}}else i=i+1|0;a=a+1|0}a=2<i>>>0&1}else a=0}else a=0}while(0);return 0|a}function ge(r,e){r|=0;var i=0,a=0,f=(e|=0)?32==(0|je[r>>0])&1:0;f>>>0<e>>>0&&(f=f+(32==(0|je[r+f>>0])&1)|0),f>>>0<e>>>0&&(f=f+(32==(0|je[r+f>>0])&1)|0);r:do{if(f>>>0<e>>>0&&62==(0|je[r+f>>0])&&(i=f+1|0)>>>0<e>>>0){switch(0|je[r+i>>0]){case 33:a=12;break r;case 32:break;default:break r}i=f+2|0}else a=12}while(0);return 12==(0|a)&&(i=0),0|i}function Ae(r,e){r|=0;var i=0,a=(e|=0)?32==(0|je[r>>0])&1:0;a>>>0<e>>>0&&(a=a+(32==(0|je[r+a>>0])&1)|0);var f=a>>>0<e>>>0?a+(32==(0|je[r+a>>0])&1)|0:a;if((a=f+1|0)>>>0<e>>>0&&62==(0|je[(i=r+f|0)>>0])&&33==(0|je[r+a>>0])){if(0!=(0|(a=0|q(i+1|0,e+-1-f|0,60)))&(i=a+f|0)>>>0<e>>>0&&33==(0|je[r+i>>0]))a=0;else if((a=f+2|0)>>>0<e>>>0)return 0|(32==(0|je[r+a>>0])?f+3|0:a)}else a=0;return 0|a}function Ce(r,e){return r|=0,0|(3<(0|e)>>>0&&32==(0|je[r>>0])&&32==(0|je[r+1>>0])&&32==(0|je[r+2>>0])&&32==(0|je[r+3>>0])?4:0)}function Se(r,e){r|=0;var i=(e|=0)?32==(0|je[r>>0])&1:0;i>>>0<e>>>0&&(i=i+(32==(0|je[r+i>>0])&1)|0),i>>>0<e>>>0&&(i=i+(32==(0|je[r+i>>0])&1)|0);var a=i+1|0;r:do{if(a>>>0<e>>>0){var f=r+i|0;switch(0|je[f>>0]){case 45:case 43:case 42:break;default:break r}if(32==(0|je[r+a>>0]))return 0|((e=0==(0|c(f,e-i|0)))?i+2|0:0)}}while(0);return 0}function xe(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0;var n=De;De=De+16|0,ze[n>>2]=0|f;var t=0|qe(e,0);f=0;do{if(a>>>0<=f>>>0)break;var o=t,l=e,c=i+f|0,s=a-f|0,u=n;o|=0,l|=0,c|=0,s|=0,u|=0;var b,k,v,d,h,w,m,_=0,p=0;for(m=0;m>>>0<3&m>>>0<s>>>0&&32==(0|je[c+m>>0]);)m=m+1|0;if((b=0|Se(c,s))?(_=b,p=7):(b=0|Ee(c,s))?(_=b,p=7):b=0,7==(0|p)){for(b=_;!(s>>>0<=b>>>0)&&10!=(0|je[c+(b+-1)>>0]);)b=b+1|0;var y=0|qe(l,1),g=0|qe(l,1);de(y,c+_|0,b-_|0);var A=l+428|0,C=y+4|0,S=k=d=0;r:for(;;){for(h=0;;){if(s>>>0<=b>>>0)break r;for(v=b;;){var x=v+1|0;if(s>>>0<=x>>>0)break;if(10==(0|je[c+v>>0]))break;v=x}var E=c+b|0,I=x-b|0;if(!(0|pe(E,I)))break;h=1,b=x}for(w=0;!(4<=w>>>0||v>>>0<(_=w+b|0)>>>0||32!=(0|je[c+_>>0]));)w=w+1|0;var U=E+w|0,q=I-w|0,P=4&ze[A>>2]?(P=0==(0|Ue(U,q,0)))?d:0==(0|d)&1:d;if(P?E=v=0:(E=0|Se(U,q),v=0|Ee(U,q)),I=0!=(0|h)){if(0!=(0|E)&0!=(0|(_=1&(d=0|ze[u>>2])))){p=30;break}if(0!=(0|v)&0==(0|_)){p=30;break}}if(34==(0|(p=E?0!=(0|v)|0==(0|ye(U,q))?34:37:v?34:37))){if(k=I?1:k,((p=0)|w)==(0|m))break;b=S||0|ze[C>>2]}else if(37==(0|p)){if(I&(p=0)==(0|w)){p=38;break}I?(he(y,10),b=S,k=1):b=S}de(y,U,q),d=P,S=b,b=x}30==(0|p)?ze[u>>2]=8|d:38==(0|p)&&(ze[u>>2]|=8),_=0|ze[u>>2],k&&(ze[u>>2]=_|=2),E=0!=(0|S)&S>>>0<(k=0|ze[C>>2])>>>0,v=0|ze[y>>2],2&_?E?(we(g,l,v,S),we(g,l,(0|ze[y>>2])+S|0,(0|ze[C>>2])-S|0)):we(g,l,v,k):E?(Pe(g,l,v,S),we(g,l,(0|ze[y>>2])+S|0,(0|ze[C>>2])-S|0)):Pe(g,l,v,k),0|(_=0|ze[l+28>>2])&&Ye[7&_](o,g,0|ze[u>>2],0|ze[l+112>>2]),Oe(l,1),Oe(l,1)}if(f=(o=0|b)+f|0,!o)break}while(0==(8&ze[n>>2]|0));return 0|(i=0|ze[e+24>>2])&&Ye[7&i](r,t,0|ze[n>>2],0|ze[e+112>>2]),Oe(e,0),De=n,0|f}function Ee(r,e){r|=0;var i=0,a=0,f=0,n=(e|=0)?32==(0|je[r>>0])&1:0;if(n>>>0<e>>>0&&(n=n+(32==(0|je[r+n>>0])&1)|0),n>>>0<e>>>0&&(n=n+(32==(0|je[r+n>>0])&1)|0),n>>>0<e>>>0&&((0|je[r+n>>0])-48&255)<=9){for(;;){if(e>>>0<=n>>>0){f=11;break}if(i=n+1|0,!(((0|je[r+n>>0])-48&255)<10))break;n=i}if(11==(0|f)&&(i=n+1|0),i>>>0<e>>>0&&46==(0|je[(a=r+n|0)>>0])&&32==(0|je[r+i>>0]))return 0|((f=0==(0|c(a,e-n|0)))?n+2|0:0)}return 0}function Ie(r,e){var i;r|=0,e|=0;r:do{switch(0|je[r>>0]){case 61:for(i=1;!(e>>>0<=i>>>0)&&61==(0|je[r+i>>0]);)i=i+1|0;for(;;){if(e>>>0<=i>>>0){i=1;break r}var a=0|je[r+i>>0];if(32!=a<<24>>24)break;i=i+1|0}i=10==a<<24>>24&1;break;case 45:for(i=1;!(e>>>0<=i>>>0)&&45==(0|je[r+i>>0]);)i=i+1|0;for(;;){if(e>>>0<=i>>>0){i=2;break r}if(32!=(a=0|je[r+i>>0])<<24>>24)break;i=i+1|0}i=10==a<<24>>24?2:0;break;default:i=0}}while(0);return 0|i}function Ue(r,e,i){i|=0;var a,f=0,n=0|(r|=0),t=0|(e|=0);r:do{if(3<=t>>>0){var o=32==(0|je[n>>0])?32==(0|je[n+1>>0])?32==(0|je[n+2>>0])?3:2:1:0;if((o+2|0)>>>0<t>>>0){var l=0|je[n+o>>0];switch(l<<24>>24){case 96:case 126:break;default:o=0;break r}for(a=0;!(t>>>0<=o>>>0)&&(0|je[n+o>>0])==l<<24>>24;)a=a+1|0,o=o+1|0;o=a>>>0<3?0:o}else o=0}else o=0}while(0);n=0|o;r:do{if(n){e:for(;;){if(o=r+n|0,e>>>0<=n>>>0){t=6;break}switch(0|je[o>>0]){case 123:t=5;break e;case 32:break;default:t=6;break e}n=n+1|0}e:do{if(5==(0|t)){t=0;i:for(;!(e>>>0<=(f=n+1|0)>>>0);){switch(0|je[r+f>>0]){case 10:case 125:break i}t=t+1|0,n=f}if((0|f)==(0|e)){n=0;break r}if(125!=(0|je[r+f>>0])){n=0;break r}for(f=t,t=o;;){if(o=t+1|0,!f){f=0;break}if(!(0|He(0|Be[o>>0])))break;f=f+-1|0,t=o}for(;;){if(!f){f=0;break}if(!(0|He(0|Be[t+f>>0])))break;f=f+-1|0}n=n+2|0}else if(6==(0|t))for(f=0;;){if(e>>>0<=n>>>0)break e;if(0|He(0|Be[r+n>>0]))break e;n=n+1|0,f=f+1|0}}while(0);for(0|i&&(ze[i>>2]=o,ze[i+4>>2]=f);!(e>>>0<=n>>>0)&&10!=(f=0|je[r+n>>0])<<24>>24;){if(!(0|He(255&f))){n=0;break r}n=n+1|0}n=n+1|0}else n=0}while(0);return 0|n}function qe(r,e){var i=0,a=404+(r|=0)+(12*(e|=0)|0)|0,f=r+404+(12*e|0)+4|0,n=0|ze[f>>2];return n>>>0<(0|ze[r+404+(12*e|0)+8>>2])>>>0&&0!=(0|(i=0|ze[(0|ze[a>>2])+(n<<2)>>2]))?(ze[f>>2]=n+1,ze[i+4>>2]=0):(e=0|(i=0|C(0|ze[5120+(e<<2)>>2])),0<=(0|s(r=0|a,ze[(a=r+4|0)>>2]<<1))&&(f=0|ze[r>>2],ze[a>>2]=1+(r=0|ze[a>>2]),ze[f+(r<<2)>>2]=e)),0|i}function Pe(r,e,i,a){var f,n,t,o;r|=0,e|=0,i|=0,a|=0;var l=De;De=De+16|0,ze[l>>2]=0,ze[l+4>>2]=0,ze[l+8>>2]=0,ze[l+12>>2]=0;r:do{if(((0|ze[e+408>>2])+(0|ze[e+420>>2])|0)>>>0<=(0|ze[e+432>>2])>>>0){var c=e+100|0,s=l+4|0,u=e+112|0;for(o=n=t=f=0;;){if(a>>>0<=o>>>0)break r;for(;;){if(a>>>0<=n>>>0){var b=0;break}if((f=0|je[(0|Be[i+n>>0])+(e+148)>>0])<<24>>24){b=1;break}n=n+1|(f=0)}var k=0|ze[c>>2],v=i+o|0;if(k?(ze[l>>2]=v,ze[s>>2]=n-o,Le[7&k](r,l,0|ze[u>>2])):de(r,v,n-o|0),!b)break r;v=0==(0|(o=0|gr[15&ze[592+((255&f)<<2)>>2]](r,e,i+n|0,n-t|0,n,a-n|0))),o=o+n|0,t=v?t:o,n=v?n+1|0:o}}}while(0);De=l}function Oe(r,e){ze[(e=404+(0|r)+(12*(0|e)|0)+4|0)>>2]=(0|ze[e>>2])-1}function He(r){return 1&(32==(0|(r|=0))|10==(0|r))|0}function p(r,e){var i,a;r|=0;var f=4+(e|=0)|0;for(i=0;;){var n=0|ze[f>>2];if(n>>>0<=i>>>0)break;for(a=i;!(n>>>0<=a>>>0)&&92!=(0|je[(0|ze[e>>2])+a>>0]);)a=a+1|0;if(i>>>0<a>>>0&&(de(r,(0|ze[e>>2])+i|0,a-i|0),n=0|ze[f>>2]),n>>>0<=(i=a+1|0)>>>0)break;he(r,0|Be[(0|ze[e>>2])+i>>0]),i=a+2|0}}function I(r,e,i){for(e=(0|r)+((7&(i=0|U(0|e,0|i)))<<2)|0;;){if(!(e=0|ze[e>>2])){e=0;break}if((0|ze[e>>2])==(0|i))break;e=e+12|0}return 0|e}function U(r,e){var i,a;for(r|=0,e|=0,a=i=0;(0|a)!=(0|e);)i=(65599*i|0)+(0|T(0|Be[r+a>>0]))|0,a=a+1|0;return 0|i}function m(r,e,i,a,f){var n;r|=0,i|=0,a|=0,f|=0;var t=64+(e|=0)|0;r:do{if(0|ze[t>>2]){var o=1<a>>>0&&(0|je[i>>0])==f<<24>>24?(0|je[i+1>>0])==f<<24>>24&1:0,l=e+428|0;for(n=95!=f<<24>>24;;){if(a>>>0<=o>>>0){o=0;break r}var c=0|q(i+o|0,a-o|0,f);if(!c){o=0;break r}if(a>>>0<=(o=c+o|0)>>>0){o=0;break r}if((0|je[i+o>>0])==f<<24>>24&&0==(0|He(0|Be[i+(o+-1)>>0]))){if(0==(1&ze[l>>2]|0)|n|(0|(c=o+1|0))==(0|a))break;var s=0|Be[i+c>>0];if(0|He(s))break;if(0|B(s))break}}Pe(f=0|qe(e,1),e,i,o),o=0|_r[15&ze[t>>2]](r,f,0|ze[e+112>>2]),Oe(e,1),o=0==(0|o)?0:c}else o=0}while(0);return 0|o}function _(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0;var n=0|ze[(126==(f|=0)<<24>>24?e+88|0:e+60|0)>>2];r:do{if(n){var t=0;do{if(a>>>0<=t>>>0){t=0;break r}var o=0|q(i+t|0,a-t|0,f);if(!o){t=0;break r}t=1+(o=o+t|0)|0}while(!(t>>>0<a>>>0&&(0|je[i+o>>0])==f<<24>>24&&0|o&&(0|je[i+t>>0])==f<<24>>24&&0==(0|He(0|Be[i+(o+-1)>>0]))));Pe(t=0|qe(e,1),e,i,o),t=0|_r[15&n](r,t,0|ze[e+112>>2]),Oe(e,1),t=0==(0|t)?0:o+2|0}else t=0}while(0);return 0|t}function q(r,e,i){r|=0,e|=0;var a,f=0,n=60==(i|=0)<<24>>24,t=1,o=0;r:for(;;){var l=t;e:for(;;){for(;;){if(e>>>0<=l>>>0){l=0;break r}i:for(;;){if(e>>>0<=l>>>0){t=0;break}if((t=0|je[r+l>>0])<<24>>24==i<<24>>24){t=1;break}switch(t<<24>>24){case 91:case 96:t=1;break i}l=l+1|0}if((0|l)==(0|e)){l=0;break r}var c=0|je[r+l>>0];if(n&t&60==c<<24>>24){if(33==(0|je[r+(l+-1)>>0]))break r;c=60}if(c<<24>>24==i<<24>>24)break r;if(!l){t=0;break}if(92!=(0|je[r+(l+-1)>>0])){t=l;break}l=l+1|0}switch(c<<24>>24){case 91:break e;case 96:for(f=0;;){if(e>>>0<=t>>>0){l=0;break r}if(96!=(0|je[r+t>>0]))break;f=f+1|0,t=t+1|0}for(a=l=0;(c=t>>>0<e>>>0)&a>>>0<f>>>0;)c=0|je[r+t>>0],l=0==(0|l)?c<<24>>24==i<<24>>24?t:0:l,a=96==c<<24>>24?a+1|0:0,t=t+1|0;if(!c)break r;l=t;break;default:l=t}}for(l=0;!(e>>>0<=(c=t+1|0)>>>0)&&93!=(a=0|je[r+c>>0])<<24>>24;)l=0==(0|l)&&a<<24>>24==i<<24>>24?c:l,t=c;t=t+2|0;e:for(;;){if(e>>>0<=t>>>0)break r;switch(0|je[r+t>>0]){case 91:f=93,c=36;break e;case 40:c=35;break e;case 10:case 32:break;default:c=41;break e}t=t+1|0}if(35==(0|c))f=41,c=36;else if(41==(0|c)&&(l=(f=(c=0)==(0|l))?o:l,!f))break;if(36==(0|c)){for(;;){if(e>>>0<=(c=t+1|0)>>>0)break r;if((0|f)==(255&(a=0|je[r+c>>0])|0))break;l=0==(0|l)&&a<<24>>24==i<<24>>24?c:l,t=c}l=o,t=t+2|0}o=l}return 0|l}function c(r,e){r|=0,e|=0;var i,a=0,f=0;for(i=0;;){if(e>>>0<=i>>>0){f=3;break}if(a=i+1|0,10==(0|je[r+i>>0]))break;i=a}return 3==(0|f)&&(a=i+1|0),0|(a>>>0<e>>>0?0|Ie(r+a|0,e-a|0):0)}function Te(r,e,i,a,f,n,t){r|=0,i|=0,a|=0,f|=0,n|=0,t|=0;var o,l,c,s,u=0,b=De;De=De+16|0;var k=44+(e|=0)|0;if(0|ze[k>>2]&&0|ze[(u=e+40|0)>>2]){var v=0|qe(e,1),d=a?124==(0|je[i>>0])&1:0,h=e+112|0;for(s=0;s>>>0<f>>>0&d>>>0<a>>>0;){for(c=0|qe(e,1);!(a>>>0<=d>>>0)&&0|He(0|Be[i+d>>0]);)d=d+1|0;for(l=d;!(a>>>0<=l>>>0)&&124!=(0|je[i+l>>0]);)l=l+1|0;for(o=l;;){var w=o+-1|0;if(w>>>0<=d>>>0)break;if(!(0|He(0|Be[i+w>>0])))break;o=w}Pe(c,e,i+d|0,o-d|0),Ar[1&ze[k>>2]](v,c,ze[n+(s<<2)>>2]|t,0|ze[h>>2],0),Oe(e,1),s=s+1|0,d=l+1|0}0|(d=f-s|0)&&(ze[b>>2]=0,ze[b+4>>2]=0,ze[b+8>>2]=0,ze[b+12>>2]=0,Ar[1&ze[k>>2]](v,b,ze[n+(s<<2)>>2]|t,0|ze[h>>2],d)),Le[7&ze[u>>2]](r,v,0|ze[h>>2]),Oe(e,1)}De=b}function P(r,e,i,a){e|=0,i|=0;var f,n=0,t=0,o=0,l=0|D(r|=0),c=0!=(0|a),s=l+3|0,u=i+1|0;for(a=0,f=1;;){if(i>>>0<=f>>>0){a=0;break}for(t=f;!(i>>>0<=(f=t+1|0)>>>0||47==(n=0|je[e+f>>0])<<24>>24&&60==(0|je[e+t>>0]));)a=a+(10==n<<24>>24&1)|0,t=f;if(!(c&0<(0|a)&&10!=(0|je[e+(t+-1)>>0]))){if(i>>>0<=(s+t|0)>>>0){a=0;break}n=r;var b=l,k=e+t|0,v=u+~t|0;k|=0;var d=0,h=3+(b|=0)|0;if(n=h>>>0<(v|=0)>>>0&&0==(0|F(k+2|0,0|n,b))&&62==(0|je[k+(b+2)>>0])&&0!=(0|(d=0|pe(k+h|0,v-h|0)))?(n=(b=d+h|0)>>>0<v>>>0?0|pe(k+b|0,v-b|0):0)+b|0:0,0|(n|=0)){o=12;break}}}return 12==(0|o)&&(a=n+t|0),0|a}function s(r,e){var i,a=8+(r|=0)|0;if((0|ze[a>>2])>>>0<(e|=0)>>>0)if(i=0|V(0|ze[r>>2],e<<2)){var f=0|ze[a>>2];fr(i+(f<<2)|0,0,e-f<<2|0),ze[r>>2]=i,(ze[a>>2]=e)>>>0<(0|ze[(r=r+4|0)>>2])>>>0&&(ze[r>>2]=e),r=0}else r=-1;else r=0;return 0|r}function u(r,e){ze[(r|=0)>>2]=0,ze[r+4>>2]=0,s(r,(ze[r+8>>2]=0)|e)}function d(r,e,i){var a,f;e|=0;var n=De;De=De+16|0,A(r|=0,((12*(i|=0)|0)>>>0)/10|0),je[n>>0]=37;var t=n+1|0,o=n+2|0;for(a=0;!(i>>>0<=a>>>0);){for(f=a;;){if(i>>>0<=f>>>0){var l=0;break}if(1!=(0|je[656+(0|Be[e+f>>0])>>0])){l=1;break}f=f+1|0}if(a>>>0<f>>>0&&de(r,e+a|0,f-a|0),!l)break;l=255&(a=0|je[e+f>>0]);r:do{if(2!=(0|je[656+l>>0]))switch(a<<24>>24){case 38:de(r,6531,5);break r;case 39:de(r,5743,6);break r;default:je[t>>0]=0|je[912+(l>>>4)>>0],je[o>>0]=0|je[912+(15&a)>>0],de(r,n,3);break r}}while(0);a=f+1|0}De=n}function O(r,e,i){var a,f;r|=0,e|=0,i|=0;r:do{if(3<=e>>>0&&60==(0|je[r>>0])){for(a=f=47==(0|je[r+1>>0])?2:1;!(e>>>0<=a>>>0);){var n=0|je[i>>0];if(!(n<<24>>24))break;if((0|Be[r+a>>0])!=(n<<24>>24|0))break r;i=i+1|0,a=a+1|0}if((0|a)!=(0|e))return 0|((e=62==(e=0|je[r+a>>0])<<24>>24|0!=(0|R(255&e)))?f:0)}}while(0);return 0}function n(r,e){ze[(e|=0)>>2]=0,ze[e+4>>2]=0,ze[e+8>>2]=0}function H(r,e,i){e|=0;var a,f,n,t=0,o=0;for(A(r|=0,((12*(i|=0)|0)>>>0)/10|0),f=a=0;!(i>>>0<=f>>>0);){for(n=f;;){if(i>>>0<=n>>>0){t=0;break}if((a=0|je[944+(0|Be[e+n>>0])>>0])<<24>>24){o=7;break}n=n+1|(a=0)}if(7==(0|o)&&(o=0,a=a<<24>>24,t=1),f>>>0<n>>>0&&de(r,e+f|0,n-f|0),!t)break;47!=(t=0|je[e+n>>0])<<24>>24?7!=(0|je[944+(255&t)>>0])&&y(r,0|ze[1200+(a<<2)>>2]):he(r,47),f=n+1|0}}function w(r,e){return y(0|r,0==(256&ze[16+(0|e)>>2]|0)?6054:6060),1}function T(r){return 0|(0==(((0|(r|=0))-65|0)>>>0<26|0)?r:32|r)}function K(r){var e=112+(r|=0)|0;ze[e>>2]=0;var i=(e=(ze[e+4>>2]=0)|ze[r+8>>2])-(0|ze[r+4>>2])|0,a=r+120|0;ze[a>>2]=i,ze[a+4>>2]=((0|i)<0)<<31>>31,ze[r+104>>2]=e}function M(r){var e,i=0,a=0,f=0,n=e=112+(r|=0)|0,t=0|ze[n>>2];if(0==(0|t)&0==(0|(n=0|ze[n+4>>2]))||(0|(i=0|ze[4+(a=r+120|0)>>2]))<(0|n)|((0|i)==(0|n)?(0|ze[a>>2])>>>0<t>>>0:0)){De=(n=De)+16|0;var o=t=0|r;if(je[(i=74+(o|=0)|0)>>0]=255+(a=0|je[i>>0])|a,(0|ze[(a=o+28|0)>>2])>>>0<(0|ze[(i=o+20|0)>>2])>>>0&&_r[15&ze[o+36>>2]](o,0,0),ze[o+16>>2]=0,ze[a>>2]=0,t=(ze[i>>2]=0)==(0|(i=4&(i=0|ze[o>>2])?(ze[o>>2]=32|i,-1):(ze[o+8>>2]=a=(0|ze[o+44>>2])+(0|ze[o+48>>2])|0,ze[o+4>>2]=a,i<<27>>31)))&&1==(0|_r[15&ze[t+32>>2]](t,n,1))?0|Be[n>>0]:-1,De=n,0<=(0|(t|=0))){if(a=0|ze[r+8>>2],0==(0|(n=0|ze[(o=e)>>2]))&0==(0|(o=0|ze[o+4>>2])))e=r+4|0,n=a,f=9;else{var l=a-(i=0|ze[(e=r+4|0)>>2])|0,c=((0|l)<0)<<31>>31,s=r+120|0;o=0|$(0|n,0|o,0|ze[s>>2],0|ze[s+4>>2]),n=a,(0|c)<(0|(s=0|kr()))|(0|s)==(0|c)&l>>>0<o>>>0?f=9:ze[r+104>>2]=i+(o+-1)}9==(0|f)&&(ze[r+104>>2]=a),n=n?(l=n+1-(s=0|ze[e>>2])|0,c=n=r+120|0,l=0|X(0|ze[c>>2],0|ze[c+4>>2],0|l,((0|l)<0)<<31>>31|0),c=0|kr(),ze[n>>2]=l,ze[n+4>>2]=c,s):0|ze[e>>2],(0|t)!=(0|Be[(n=n+-1|0)>>0])&&(je[n>>0]=t)}else f=4}else f=4;return 4==(0|f)&&(ze[r+104>>2]=0,t=-1),0|t}function R(r){return 1&(32==(0|(r|=0))|(r+-9|0)>>>0<5)|0}function N(r,e){var i=0|je[(r|=0)>>0],a=0|je[(e|=0)>>0];if(0!=i<<24>>24&&i<<24>>24==a<<24>>24)for(;i=0|je[(r=r+1|0)>>0],a=0|je[(e=e+1|0)>>0],0!=i<<24>>24&&i<<24>>24==a<<24>>24;);return(255&i)-(255&a)|0}function j(r,e,i){r|=0,e|=0,i|=0;for(var a,f,n=0;;){if((a=0|je[r>>0])<<24>>24!=(f=0|je[e>>0])<<24>>24){n=4;break}if(!(i=i+-1|0)){r=0;break}r=r+1|0,e=e+1|0}return 4==(0|n)&&(r=(255&a)-(255&f)|0),0|r}function z(r,e,i){r|=0,i|=0;var a=255&(e|=0),f=255&e;r:do{if(3&r){do{if((0|je[r>>0])==f<<24>>24){var n=6;break r}r=r+1|0,e=0!=(0|(i=i+-1|0))}while(e&0!=(3&r|0));n=e?6:16}else n=6}while(0);r:do{if(6==(0|n))if((0|je[r>>0])==f<<24>>24)i||(n=16);else{e=0|cr(a,16843009);e:do{if(3<i>>>0)for(;;){if((-2139062144&(a=ze[r>>2]^e)^-2139062144)&a+-16843009|0)break e;if(r=r+4|0,(i=i+-4|0)>>>0<=3){n=11;break}}else n=11}while(0);if(11!=(0|n)||i)for(;;){if((0|je[r>>0])==f<<24>>24)break r;if(!(i=i+-1|0)){n=16;break}r=r+1|0}else n=16}}while(0);return 16==(0|n)&&(r=0),0|r}function Ke(r){return 0|(((32|(r|=0))-97|0)>>>0<26|0?1:0!=(((0|r)-48|0)>>>0<10|0)&1)}function B(r){return 0|(((0|(r|=0))-33|0)>>>0<94|0?0==(0|Ke(r))&1:0)}function D(r){var e,i=0,a=r|=0;r:do{if(3&a)for(e=a;;){if(!(0|je[r>>0])){r=e;break r}if(!(3&(e=r=r+1|0))){i=5;break}}else i=5}while(0);if(5==(0|i)){for(;!((-2139062144&(e=0|ze[r>>2])^-2139062144)&e+-16843009);)r=r+4|0;if((255&e)<<24>>24)for(;0!=(0|je[(r=r+1|0)>>0]););}return r-a|0}function F(r,e,i){if(r|=0,e|=0,i|=0){var a=0|je[r>>0];r:do{if(a<<24>>24){var f=r;for(r=a,a&=255;;){var n=0|je[e>>0];if(!(0!=(0|(i=i+-1|0))&0!=n<<24>>24))break r;if(r<<24>>24!=n<<24>>24&&(0|(a=0|T(a)))!=(0|T(255&n)))break r;if(e=e+1|0,!((a=0|je[(f=f+1|0)>>0])<<24>>24)){r=0;break}r=a,a&=255}}else r=0}while(0);r=(r=0|T(255&r))-(0|T(0|Be[e>>0]))|0}else r=0;return 0|r}function L(r){var e=0,i=0,a=0;if(!(r|=0))return 0;var f=8<r>>>0?r:8,n=31-(0|sr(0|f))|0;n=(0==(0|f)?1:n)+(1!=(0|ir(0|r))&1)|0;r:do{if(3<n>>>0&r>>>0<1<<n>>>0&&0!=(0|(e=0|ze[8400+(n+-1<<2)>>2]))){for(f=0;!(r>>>0<=(((0|ze[e+-8>>2])>>>1)-8|0)>>>0);)if(!((f=f+1|0)>>>0<32&0!=(0|(e=0|ze[e+4>>2])))){i=8;break r}n=0|Y(e,r)}else i=8}while(0);r:do{if(8==(0|i)){e:do{if(n>>>0<32){for(;e=0|ze[8400+(n<<2)>>2],n=n+1|0,!(0|e);)if(32<=n>>>0)break e;n=0|Y(e,r);break r}}while(0);if(0|(n=0|ze[2287])&&0==(1&(a=0|ze[n>>2])|0)){if(ze[n>>2]=1|a,e=31-(0|sr(0|(f=8<(f=(a>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=n+12|0,(0|ze[e>>2])==(0|(i=n+8|0))&&(ze[e>>2]=ze[f>>2]),0|(n=0|ze[i>>2])&&(ze[n+4>>2]=ze[f>>2]),0|(n=0|ze[f>>2])&&(ze[n>>2]=ze[i>>2]),r=0==(0|Z(r)),n=0|ze[2287],r)return ze[n>>2]&=-2,(r=0)|r;if(n)break;return(n=0)|n}if(-1==(0|(e=0|nr(0|(i=r+15&-8)))))return(r=0)|r;if((0|(f=e))!=(0|(a=n=f+7&-8))&&-1==(0|nr(n-f|0)))return(r=0)|r;(e=0|ze[2287])?ze[n+4>>2]=e:ze[2286]=a,ze[2287]=a,ze[n>>2]=i<<1|1}}while(0);return n+8|0}function Y(r,e){e|=0;var i=(r|=0)-8|0,a=((0|ze[i>>2])>>>1)-8|0,f=31-(0|sr(0|(a=8<a>>>0?a:8)))|0;if(f=8400+((0==(0|a)?1:f)<<2)|0,a=r+4|0,(0|ze[f>>2])==(0|r)&&(ze[f>>2]=ze[a>>2]),0|(f=0|ze[r>>2])&&(ze[f+4>>2]=ze[a>>2]),0|(f=0|ze[a>>2])&&(ze[f>>2]=ze[r>>2]),ze[i>>2]=1|(a=0|ze[i>>2]),(0|ze[2287])==(0|i)&8==(-8&(f=(a>>>=1)+(-8-e)|0)|0)){if(!(0|Z(a)))return 0|i;f=f+8|0}return f>>>0<=15||(e=a=r=r+e+7&-8,ze[i>>2]=1&(f=0|ze[i>>2])|r-i<<1,ze[e>>2]=(r=i+(f>>>1)-r|0)<<1|1&ze[e>>2],ze[e+4>>2]=i,ze[((0|ze[2287])==(0|i)?9148:a+(2147483647&r)+4|0)>>2]=a,G(e)),0|i}function Z(r){var e=(15+(0|r)&-8)-((0|ze[ze[2287]>>2])>>>1)|0;if(-1==(0|nr(0|e)))return 0;var i=0|ze[2287];if(!(1&(r=0|ze[i>>2]))){var a=(r>>>1)-8|0;r=31-(0|sr(0|(a=8<a>>>0?a:8)))|0;var f=i+8|0;r=8400+((0==(0|a)?1:r)<<2)|0,a=i+12|0,(0|ze[r>>2])==(0|f)&&(ze[r>>2]=ze[a>>2]),0|(r=0|ze[f>>2])&&(ze[r+4>>2]=ze[a>>2]),0|(r=0|ze[a>>2])&&(ze[r>>2]=ze[f>>2])}return 1&(ze[i>>2]=r=(0|ze[i>>2])+(e<<1)|0)|0||(e=31-(0|sr(0|(a=8<(a=(r>>>1)-8|0)>>>0?a:8)))|0,a=0|ze[(e=8400+((0==(0|a)?1:e)<<2)|0)>>2],ze[e>>2]=r=i+8|0,ze[r>>2]=0,(ze[i+12>>2]=a)&&(ze[a>>2]=r)),1}function G(r){var e=0,i=0,a=0,f=0|ze[(r|=0)>>2];ze[r>>2]=-2&f;var n=0|ze[r+4>>2],t=0|ze[2287],o=(0|t)==(0|r),l=r+(f>>>=1)|0,c=o?0:l;if(l=o?0:l,0|n&&0==(1&(e=0|ze[n>>2])|0)){e=31-(0|sr(0|(o=8<(o=(e>>>1)-8|0)>>>0?o:8)))|0;var s=n+8|0;e=8400+((0==(0|o)?1:e)<<2)|0,o=n+12|0,(0|ze[e>>2])==(0|s)&&(ze[e>>2]=ze[o>>2]),0|(e=0|ze[s>>2])&&(ze[e+4>>2]=ze[o>>2]),0|(e=0|ze[o>>2])&&(ze[e>>2]=ze[s>>2]),ze[n>>2]=(0|ze[n>>2])+(-2&ze[r>>2]),l?(ze[l+4>>2]=n,1&(e=0|ze[l>>2])||(e=31-(0|sr(0|(f=8<(f=(e>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=l+12|0,(0|ze[e>>2])==(0|(i=l+8|0))&&(ze[e>>2]=ze[f>>2]),0|(e=0|ze[i>>2])&&(ze[e+4>>2]=ze[f>>2]),(e=0|ze[f>>2])&&(ze[e>>2]=ze[i>>2],t=0|ze[2287]),ze[n>>2]=(0|ze[n>>2])+(-2&ze[l>>2]),e=(0|l)==(0|t)?9148:c+((0|ze[l>>2])>>>1)+4|0,a=19)):(e=9148,a=19),19==(0|a)&&(ze[e>>2]=n),l=31-(0|sr(0|(e=8<(e=((0|ze[n>>2])>>>1)-8|0)>>>0?e:8)))|0,e=0|ze[(l=8400+((0==(0|e)?1:l)<<2)|0)>>2],ze[l>>2]=s,ze[s>>2]=0,(ze[o>>2]=e)&&(ze[e>>2]=s)}else t=0|l&&0==(1&(i=0|ze[l>>2])|0)?(e=31-(0|sr(0|(f=8<(f=(i>>>1)-8|0)>>>0?f:8)))|0,e=8400+((0==(0|f)?1:e)<<2)|0,f=l+12|0,(0|ze[e>>2])==(0|(i=l+8|0))&&(ze[e>>2]=ze[f>>2]),0|(e=0|ze[i>>2])&&(ze[e+4>>2]=ze[f>>2]),(e=0|ze[f>>2])&&(ze[e>>2]=ze[i>>2],t=0|ze[2287]),ze[r>>2]=e=(0|ze[r>>2])+(-2&ze[l>>2])|0,(0|l)==(0|t)?ze[2287]=r:(ze[c+((0|ze[l>>2])>>>1)+4>>2]=r,e=0|ze[r>>2]),(e>>>1)-8|0):f+-8|0,l=31-(0|sr(0|(t=8<t>>>0?t:8)))|0,t=0|ze[(l=8400+((0==(0|t)?1:l)<<2)|0)>>2],ze[l>>2]=e=r+8|0,ze[e>>2]=0,(ze[r+12>>2]=t)&&(ze[t>>2]=e)}function Me(r){(r|=0)&&G(r+-8|0)}function Re(r,e){var i=0,a=0,f=0,n=0|cr(0|e,0|r);if(!n)return 0;var t=8<n>>>0?n:8;r=31-(0|sr(0|t))|0,r=(0==(0|t)?1:r)+(1!=(0|ir(0|n))&1)|0;r:do{if(3<r>>>0&n>>>0<1<<r>>>0&&0!=(0|(i=0|ze[8400+(r+-1<<2)>>2]))){for(t=0,e=i;!(n>>>0<=(((0|ze[e+-8>>2])>>>1)-8|0)>>>0);)if(!((t=t+1|0)>>>0<32&0!=(0|(e=0|ze[e+4>>2])))){a=8;break r}r=0|Y(e,n)}else a=8}while(0);r:do{if(8==(0|a)){e:do{if(r>>>0<32){for(;e=0|ze[8400+(r<<2)>>2],r=r+1|0,!(0|e);)if(32<=r>>>0)break e;r=0|Y(e,n);break r}}while(0);if(0|(r=0|ze[2287])&&0==(1&(f=0|ze[r>>2])|0)){if(ze[r>>2]=1|f,e=31-(0|sr(0|(t=8<(t=(f>>>1)-8|0)>>>0?t:8)))|0,e=8400+((0==(0|t)?1:e)<<2)|0,t=r+12|0,(0|ze[e>>2])==(0|(i=r+8|0))&&(ze[e>>2]=ze[t>>2]),0|(r=0|ze[i>>2])&&(ze[r+4>>2]=ze[t>>2]),0|(r=0|ze[t>>2])&&(ze[r>>2]=ze[i>>2]),f=0==(0|Z(n)),r=0|ze[2287],f)return ze[r>>2]&=-2,(n=0)|n;if(r)break;return(r=0)|r}if(-1==(0|(e=0|nr(0|(i=n+15&-8)))))return(n=0)|n;if((0|(t=e))!=(0|(a=r=t+7&-8))&&-1==(0|nr(r-t|0)))return(n=0)|n;(e=0|ze[2287])?ze[r+4>>2]=e:ze[2286]=a,ze[2287]=a,ze[r>>2]=i<<1|1}}while(0);return fr(0|(f=r+8|0),0,0|n),0|f}function V(r,e){var i,a=0,f=0,n=0,t=0,o=0,l=0==(0|(e|=0));if(!(r|=0)){if(l)return 0;l=31-(0|sr(0|(r=8<e>>>0?e:8)))|0,l=(0==(0|r)?1:l)+(1!=(0|ir(0|e))&1)|0;r:do{if(3<l>>>0&e>>>0<1<<l>>>0&&0!=(0|(a=0|ze[8400+(l+-1<<2)>>2]))){for(i=0;!(e>>>0<=(((0|ze[a+-8>>2])>>>1)-8|0)>>>0);)if(!((i=i+1|0)>>>0<32&0!=(0|(a=0|ze[a+4>>2])))){o=9;break r}l=0|Y(a,e)}else o=9}while(0);r:do{if(9==(0|o)){e:do{if(l>>>0<32){for(;a=0|ze[8400+(l<<2)>>2],l=l+1|0,!(0|a);)if(32<=l>>>0)break e;l=0|Y(a,e);break r}}while(0);if(0|(l=0|ze[2287])&&0==(1&(f=0|ze[l>>2])|0)){if(ze[l>>2]=1|f,a=31-(0|sr(0|(i=8<(i=(f>>>1)-8|0)>>>0?i:8)))|0,a=8400+((0==(0|i)?1:a)<<2)|0,i=l+12|0,(0|ze[a>>2])==(0|(f=l+8|0))&&(ze[a>>2]=ze[i>>2]),0|(l=0|ze[f>>2])&&(ze[l+4>>2]=ze[i>>2]),0|(l=0|ze[i>>2])&&(ze[l>>2]=ze[f>>2]),e=0==(0|Z(e)),l=0|ze[2287],e)return ze[l>>2]&=-2,(e=0)|e;if(l)break;return(l=0)|l}if(-1==(0|(a=0|nr(0|(f=e+15&-8)))))return(e=0)|e;var c=l=(i=a)+7&-8;if((0|a)!=(0|c)&&-1==(0|nr(l-i|0)))return(e=0)|e;(a=0|ze[2287])?ze[l+4>>2]=a:ze[2286]=c,ze[2287]=c,ze[l>>2]=f<<1|1}}while(0);return l+8|0}var s=r+-8|0;if(l)return G(s),0;if(e>>>0<=((a=(l=0|ze[s>>2])>>>1)-8|0)>>>0){if(ze[s>>2]=1|l,8==(-8&(l=a+(-8-e)|0)|0)&(0|ze[2287])==(0|s)){if(!(0|Z(a)))return 0|r;l=l+8|0}return l>>>0<=15||(e=t=o=r+e+7&-8,ze[s>>2]=1&(n=0|ze[s>>2])|o-s<<1,ze[e>>2]=(o=s+(n>>>1)-o|0)<<1|1&ze[e>>2],ze[e+4>>2]=s,ze[((0|ze[2287])==(0|s)?9148:t+(2147483647&o)+4|0)>>2]=t,G(e)),0|r}if(f=(0|(c=0|ze[2287]))!=(0|s)?1&(a=0|ze[(f=s+a|0)>>2])?c:(l=31-(0|sr(0|(a=8<(a=(a>>>1)-8|0)>>>0?a:8)))|0,l=8400+((0==(0|a)?1:l)<<2)|0,a=f+12|0,(0|ze[l>>2])==(0|(i=f+8|0))&&(ze[l>>2]=ze[a>>2]),0|(l=0|ze[i>>2])&&(ze[l+4>>2]=ze[a>>2]),0|(l=0|ze[a>>2])&&(ze[l>>2]=ze[i>>2]),ze[s>>2]=l=(0|ze[s>>2])+(-2&ze[f>>2])|0,(0|c)==(0|f)?ze[2287]=s:(ze[f+((0|ze[f>>2])>>>1)+4>>2]=s,c)):s,e>>>0<=((a=l>>>1)-8|0)>>>0){if(ze[s>>2]=1|l,(0|f)==(0|s)&8==(-8&(l=a+(-8-e)|0)|0)){if(!(0|Z(a)))return 0|r;l=l+8|0}return l>>>0<=15||(e=t=o=r+e+7&-8,ze[s>>2]=1&(n=0|ze[s>>2])|o-s<<1,ze[e>>2]=(o=s+(n>>>1)-o|0)<<1|1&ze[e>>2],ze[e+4>>2]=s,ze[((0|ze[2287])==(0|s)?9148:t+(2147483647&o)+4|0)>>2]=t,G(e)),0|r}l=31-(0|sr(0|(c=8<e>>>0?e:8)))|0,l=(0==(0|c)?1:l)+(1!=(0|ir(0|e))&1)|0;r:do{if(3<l>>>0&e>>>0<1<<l>>>0&&0!=(0|(n=0|ze[8400+(l+-1<<2)>>2]))){for(i=0,a=n;!(e>>>0<=(((0|ze[a+-8>>2])>>>1)-8|0)>>>0);)if(!((i=i+1|0)>>>0<32&0!=(0|(a=0|ze[a+4>>2])))){o=64;break r}l=0|Y(a,e)}else o=64}while(0);r:do{if(64==(0|o)){e:do{if(l>>>0<32){for(;a=0|ze[8400+(l<<2)>>2],l=l+1|0,!(0|a);)if(32<=l>>>0)break e;l=0|Y(a,e);break r}}while(0);if((0|f)==(0|s)){if(0|Z(e))return 0|r;l=0|ze[2287]}else l=f;if(0|l&&0==(1&(t=0|ze[l>>2])|0)){if(ze[l>>2]=1|t,a=31-(0|sr(0|(i=8<(i=(t>>>1)-8|0)>>>0?i:8)))|0,a=8400+((0==(0|i)?1:a)<<2)|0,i=l+12|0,(0|ze[a>>2])==(0|(f=l+8|0))&&(ze[a>>2]=ze[i>>2]),0|(l=0|ze[f>>2])&&(ze[l+4>>2]=ze[i>>2]),0|(l=0|ze[i>>2])&&(ze[l>>2]=ze[f>>2]),o=0==(0|Z(e)),l=0|ze[2287],o)return ze[l>>2]&=-2,(e=0)|e;if(l)break;return(l=0)|l}if(-1==(0|(a=0|nr(0|(f=e+15&-8)))))return(e=0)|e;if((0|(i=a))!=(0|(c=l=i+7&-8))&&-1==(0|nr(l-i|0)))return(e=0)|e;(a=0|ze[2287])?ze[l+4>>2]=a:ze[2286]=c,ze[2287]=c,ze[l>>2]=f<<1|1}}while(0);return ar(0|(o=l+8|0),0|r,0|(e>>>0<(t=((0|ze[s>>2])>>>1)-8|0)>>>0?e:t)),G(s),0|o}function W(r,e,i,a){e|=0,a|=0;var f=0|r,n=0|i,t=65535&(r=0|f),o=65535&(i=0|n),l=0|cr(o,t),c=r>>>16;return r=(l>>>16)+(0|cr(o,c))|0,i=0|cr(o=i>>>16,t),i=0|(br((r>>>16)+(0|cr(o,c))+(((65535&r)+i|0)>>>16)|0),r+i<<16|65535&l|0),r=0|kr(),0|(br((0|cr(e,n))+(0|cr(a,f))+r|0&r|0),0|i)}function X(r,e,i,a){return 0|(br((0|e)+(0|a)+((i=(r|=0)+(0|i)>>>0)>>>0<r>>>0|0)>>>0|0),0|i)}function $(r,e,i,a){return 0|(br((0|e)-(0|a)-((r|=0)>>>0<(i|=0)>>>0|0)>>>0|0),r-i>>>0|0)}function Q(r){return 0|((r|=0)?31-(0|sr(r^r-1))|0:32)}function J(r,e,i,a){return 0|(function(r,e,i,a,f){var n,t;f|=0;var o=r|=0,l=n=e|=0,c=i|=0,s=t=a|=0;if(!l){var u=0!=(0|f);if(s){if(!u)return(f=0)|(br(0),f);ze[f>>2]=0|r,ze[f+4>>2]=0&e,f=t=0}else u&&(ze[f>>2]=(o>>>0)%(c>>>0),ze[f+4>>2]=0),f=(o>>>(t=0))/(c>>>0)>>>0;return 0|(br(0|t),f)}u=0==(0|s);do{if(c){if(!u){if((u=(0|sr(0|s))-(0|sr(0|l))|0)>>>0<=31){var b=u+1|0;r=o>>>((c=b)>>>0)&(e=u-31>>31)|l<<(s=31-u|0),e&=l>>>(b>>>0),u=0,s=o<<s;break}return f&&(ze[f>>2]=0|r,ze[f+4>>2]=n|0&e),f=t=0,0|(br(0|t),f)}if((u=c-1|0)&c|0){var k=64-(s=33+(0|sr(0|c))-(0|sr(0|l))|0)|0,v=s-32|0;r=(b=32-s|0)-1>>31&l>>>(v>>>0)|(l<<b|o>>>((c=s)>>>0))&(e=v>>31),e&=l>>>(s>>>0),u=o<<k&(n=b>>31),s=(l<<k|o>>>(v>>>0))&n|o<<b&s-33>>31;break}0|f&&(ze[f>>2]=u&o,ze[f+4>>2]=0),k=1==(0|c)?(v=n|0&e,0|r):(v=l>>>((k=0|Q(0|c))>>>0)|0,l<<32-k|o>>>(k>>>0)|0)}else{if(u)return 0|f&&(ze[f>>2]=(l>>>0)%(c>>>0),ze[f+4>>2]=0),k=(l>>>(v=0))/(c>>>0)>>>0,0|(br(0|v),k);if(!o)return 0|f&&(ze[f>>2]=0,ze[f+4>>2]=(l>>>0)%(s>>>0)),k=(l>>>(v=0))/(s>>>0)>>>0,0|(br(0|v),k);if(!((u=s-1|0)&s))return 0|f&&(ze[f>>2]=0|r,ze[f+4>>2]=u&l|0&e),k=l>>>(((v=0)|Q(0|s))>>>0),0|(br(0|v),k);if((u=(0|sr(0|s))-(0|sr(0|l))|0)>>>0<=30){r=l<<(s=31-u|0)|o>>>((c=e=u+1|0)>>>0),e=l>>>(e>>>0),u=0,s=o<<s;break}if(!f)return k=v=0,0|(br(0|v),k);ze[f>>2]=0|r,ze[f+4>>2]=n|0&e,k=v=0}return 0|(br(0|v),k)}while(0);if(c){for(l=0|X(0|(b=0|i),0|(o=t|0&a),-1,-1),i=0|kr(),n=s,s=0;n=u>>>31|(a=n)<<1,u=s|u<<1,$(0|l,0|i,0|(a=r<<1|a>>>31|0),0|(t=r>>>31|e<<1|0)),s=1&(v=(k=0|kr())>>31|((0|k)<0?-1:0)<<1),r=0|$(0|a,0|t,v&b|0,(((0|k)<0?-1:0)>>31|((0|k)<0?-1:0)<<1)&o|0),e=0|kr(),0!=(0|(c=c-1|0)););l=n,n=0}else l=s,s=n=0;return(c=0)|f&&(ze[f>>2]=r,ze[f+4>>2]=e),k=-2&(u<<1|0)|s,0|(br((0|u)>>>31|(l|c)<<1|0&(c<<1|u>>>31)|n|0),k)})(0|r,0|e,0|i,0|a,0)}function rr(r,e,i){return r|=0,e|=0,(0|(i|=0))<32?(br(e>>>i|0),r>>>i|(e&(1<<i)-1)<<32-i):(br(0),e>>>i-32|0)}function er(r,e,i){return r|=0,(0|(i|=0))<32?(br((e|=0)<<i|(r&(1<<i)-1<<32-i)>>>32-i|0),r<<i):(br(r<<i-32|0),0)}function ir(r){return cr((r=(858993459&(r=(r|=0)-(r>>>1&1431655765)|0))+(r>>>2&858993459)|0)+(r>>>4)&252645135,16843009)>>>24|0}function ar(r,e,i){if(r|=0,e|=0,8192<=(0|(i|=0)))return hr(0|r,0|e,0|i),0|r;var a=0|r,f=r+i|0;if((3&r)==(3&e)){for(;3&r;){if(!i)return 0|a;je[r>>0]=0|je[e>>0],r=r+1|0,e=e+1|0,i=i-1|0}for(i=-4&f|0;(0|r)<(0|i);)ze[r>>2]=ze[e>>2],r=r+4|0,e=e+4|0}else for(i=f-4|0;(0|r)<(0|i);)je[r>>0]=0|je[e>>0],je[r+1>>0]=0|je[e+1>>0],je[r+2>>0]=0|je[e+2>>0],je[r+3>>0]=0|je[e+3>>0],r=r+4|0,e=e+4|0;for(;(0|r)<(0|f);)je[r>>0]=0|je[e>>0],r=r+1|0,e=e+1|0;return 0|a}function Ne(r,e,i){if((0|(e|=0))<(0|(r|=0))&(0|r)<(e+(i|=0)|0)){var a=r;for(e=e+i|0,r=r+i|0;0<(0|i);)i=i-1|0,je[(r=r-1|0)>>0]=0|je[(e=e-1|0)>>0];r=a}else ar(r,e,i);return 0|r}function fr(r,e,i){var a,f=(r|=0)+(i|=0)|0;if(e=255&(0|e),67<=(0|i)){for(;3&r;)je[r>>0]=e,r=r+1|0;var n=-4&f|0;for(a=e|e<<8|e<<16|e<<24;(0|r)<(0|n);)ze[r>>2]=a,r=r+4|0}for(;(0|r)<(0|f);)je[r>>0]=e,r=r+1|0;return f-i|0}function nr(r){r|=0;var e=0|dr(),i=0|ze[lr>>2],a=i+r|0;return 0<(0|r)&(0|a)<(0|i)|(0|a)<0||(0|e)<(0|a)&&!(0|wr(0|a))?(vr(12),-1):(ze[lr>>2]=a,0|i)}function a(){return ur(1),0}function f(){return ur(4),0}function tr(){ur(7)}var je=new r.Int8Array(i);new r.Int16Array(i);var ze=new r.Int32Array(i),Be=new r.Uint8Array(i),or=new r.Uint16Array(i),lr=0|e.m,cr=r.Math.imul,sr=r.Math.clz32,ur=e.a,br=e.b,kr=e.c,vr=e.d,dr=e.e,hr=e.f,wr=e.g,De=9392,mr=[function(){return ur(0),0},w],_r=[a,function(r,e){return e|=0,de(r|=0,5906,6),0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,5913,7),1},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5867,30),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5898,7),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5848,8),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5857,9),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5837,4),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5842,5),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5809,12),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5822,14),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5796,5),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5802,6),1):0)},function(r,e){r|=0;var i=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(i=e+4|0)>>2])?(de(r,5783,5),de(r,0|ze[e>>2],0|ze[i>>2]),de(r,5789,6),1):0)},function(r,e,i){r|=0,e|=0;var a,f,n=0,t=0|ze[20+(i|=0)>>2],o=0|ze[i+16>>2];r:do{if(0!=(0|t)&0!=(1024&o|0)){var l=e+4|0;for(a=0;;){var c=0|ze[t+(a<<2)>>2];if(!c){n=6;break r}if(f=0|O(0|ze[e>>2],0|ze[l>>2],c))break;a=a+1|0}a=r,l=e;var s=0|ze[i+24>>2];l|=0,c|=0,s|=0,f|=0;var u,b,k=0;if(he(a|=0,60),2==(0|f))he(a,47),y(a,c);else{y(a,c),c=0|D(c);var v=0|C(16),d=0|C(16),h=l+4|0,w=v+4|0,m=d+4|0;for(f=1,u=b=0;;){var _=c+1|0;if(!(f&_>>>0<(0|ze[h>>2])>>>0))break;var p=0|je[(0|ze[l>>2])+_>>0];e:do{switch(0|p){case 62:f=0;break;case 34:case 39:if(b)if(u){if((0|u)!=(0|p)){he(d,p),f=1;break e}for(f=0;;){if(!(u=0|ze[s+(f<<2)>>2])){k=27;break e}if((0|(p=0|D(u)))==(0|ze[w>>2])){for(c=0;!(p>>>0<=c>>>0)&&(0|(k=0|T(0|je[u+c>>0])))==(0|T(0|Be[(0|ze[v>>2])+c>>0]));)c=c+1|0;if((0|c)==(0|p))break}f=f+1|0}0==(0|p)|0==(0|ze[m>>2])||(he(a,32),H(a,0|ze[v>>2],0|ze[w>>2]),y(a,6026),H(a,0|ze[d>>2],0|ze[m>>2]),he(a,34)),k=27}else f=1,u=p;else k=27;break;case 32:u?(he(d,32),f=1):k=27;break;case 61:b?k=27:b=f=1;break;default:0==(0|u)&(c=0!=(0|b))?(f=1,u=0):(he(c?d:v,p),f=1)}}while(0);27==(0|k)&&(k=0,x(v),x(d),f=1,u=b=0),c=_}S(v),S(d)}he(a,62)}else n=6}while(0);return 6==(0|n)&&(512&o|0?H(r,0|ze[e>>2],0|ze[e+4>>2]):1&o||2&o|0&&0|O(0|ze[e>>2],0|ze[e+4>>2],6014)||(l=0|ze[e>>2],a=0|ze[e+4>>2],8&o|0&&0|O(l,a,6020)||4&o|0&&0|O(l,a,6022)||de(r,l,a))),1},a,a,a,a,a,a,a],pr=[function(){return ur(2),0},function(r,e,i,a){r|=0,i|=0,a|=0;var f=0,n=0;if(0!=(0|(e|=0))&&0!=(0|(f=0|ze[(n=e+4|0)>>2])))if(32&ze[a+16>>2]|0&&2!=(0|i)&0==(0|k(0|ze[e>>2],f)))i=0;else{de(r,6029,9),2==(0|i)&&de(r,6090,7),d(0|r,0|ze[e>>2],0|ze[n>>2]),0|ze[(i=a+28|0)>>2]?(he(r,34),Le[7&ze[i>>2]](r,e,a),he(r,62)):de(r,6005,2);var t=f=0,o=0,l=0|ze[4+(i=0|e)>>2];for(a=0;;){if(l>>>0<=a>>>0){a=0;break}if(t=0|je[6090+a>>0],7==(0|a)){a=0;break}if((0|(f=0|Be[(0|ze[i>>2])+a>>0]))!=(0|t)){o=5;break}a=a+1|0}5==(0|o)&&(a=f-t|0),i=0|ze[e>>2],0==(0|a)?H(r,i+7|0,(0|ze[n>>2])-7|0):H(r,i,0|ze[n>>2]),de(r,6049,4),i=1}else i=0;return 0|i}],yr=[function(){return ur(3),0},function(r,e,i,a){return(e=0)|(a|=0)&&0|(e=0|ze[a+4>>2])&&de(0|r,0|ze[a>>2],e),1},function(r,e,i,a,f){r|=0,i|=0,a|=0,f|=0;var n=0,t=0,o=0;return 0|(0!=(0|(e|=0))&&0!=(0|ze[(o=e+4|0)>>2])?(de(r,6067,10),d(0|r,0|ze[e>>2],0|ze[o>>2]),de(r,6078,7),0|a&&0|(n=0|ze[a+4>>2])&&H(r,0|ze[a>>2],n),0|i&&0|ze[(t=i+4|0)>>2]&&(de(r,6039,9),H(r,0|ze[i>>2],0|ze[t>>2])),y(r,0==(256&ze[f+16>>2]|0)?6005:6086),1):0)},function(r,e,i,a,f){r|=0,e|=0,i|=0,a|=0,f|=0;var n=0,t=0,o=0,l=0;do{if(e){if(32&ze[f+16>>2]){if(!(0|k(0|ze[e>>2],0|ze[(n=e+4|0)>>2]))){n=0;break}}else n=e+4|0;de(r,6029,9),(n=0|ze[n>>2])&&d(0|r,0|ze[e>>2],0|n)}else de(r,6029,9);t=8}while(0);return 8==(0|t)&&(0|i&&0|ze[(o=i+4|0)>>2]&&(de(r,6039,9),H(r,0|ze[i>>2],0|ze[o>>2])),0|ze[(n=f+28|0)>>2]?(he(r,34),Le[7&ze[n>>2]](r,e,f),he(r,62)):de(r,6005,2),0|a&&0|(l=0|ze[a+4>>2])&&de(r,0|ze[a>>2],l),de(r,6049,4),n=1),0|n}],gr=[f,function(r,e,i,a,f,n){r|=0,e|=0,a|=0,f|=0;var t=0,o=0,l=0,c=0|je[(i|=0)>>0],s=3<(n|=0)>>>0;if(s&62==c<<24>>24)if(33==(f=0|je[(a=i+1|0)>>0])<<24>>24){if(!(0|He(0|Be[(a=i+2|0)>>0]))){r:{r|=0,i=0|a,n=n+-2|0,o=(t=0)|ze[56+(e|=0)>>2];e:do{if(0|o){for(s=0;;){if(n>>>0<=s>>>0)break e;if(!(c=0|q(i+s|0,n-s|0,60)))break e;if((s=c+s|0)>>>0<n>>>0&&60==(0|je[i+s>>0])&&33==(0|je[i+(t=s+-1|0)>>0]))break;s=s+1|0}Pe(n=0|qe(e,1),e,i,t),o=0|_r[15&o](r,n,0|ze[e+112>>2]),Oe(e,1),n=0|(0==(0|o)?0:s+1|0);break r}}while(0);n=0}return 0|(0==(0|(n|=0))?0:n+2|0)}a=0}else l=7;else l=2<n>>>0?(a=f=i+1|0,f=0|je[f>>0],7):11;r:do{if(7==(0|l)){var u=255&f;if(f<<24>>24!=c<<24>>24){switch(c<<24>>24){case 62:case 126:a=0;break r}a=0|He(u)?0:0==(0|(a=0|m(r,e,a,n+-1|0,c)))?0:a+1|0}else l=11}}while(0);r:do{if(11==(0|l))if(s&&(0|je[i+1>>0])==c<<24>>24)if((f=0|je[(a=i+2|0)>>0])<<24>>24!=c<<24>>24)a=0|He(255&f)?0:0==(0|(a=0|_(r,e,a,n+-2|0,c)))?0:a+2|0;else if(5<=n>>>0&&(o=255&(l=0|je[(t=i+3|0)>>0]),l<<24>>24!=c<<24>>24)){switch(c<<24>>24){case 62:case 126:a=0;break r}if(0|He(o))a=0;else{e:{a=r,f=e,u=t;var b=n+-3|0,k=c;a|=0,f|=0,u|=0,b|=0,k|=0;var v,d=0,h=0,w=0;for(v=0;;){if(b>>>0<=v>>>0){v=0;break}if(!(d=0|q(u+v|0,b-v|0,k))){v=0;break}if((0|je[u+(d=d+v|0)>>0])==k<<24>>24&&0==(0|He(0|Be[u+(d+-1)>>0]))){w=7;break}v=d}if(7==(0|w))if(v=d+1|0,(w=d+2|0)>>>0<b>>>0&&(0|je[u+v>>0])==k<<24>>24&&(0|je[u+w>>0])==k<<24>>24&&0|ze[(h=f+84|0)>>2])Pe(v=0|qe(f,1),f,u,d),v=0|_r[15&ze[h>>2]](a,v,0|ze[f+112>>2]),Oe(f,1),v=0==(0|v)?0:d+3|0;else{if(v>>>0<b>>>0&&(0|je[u+v>>0])==k<<24>>24){a=0|(0==(0|(w=0|m(a,f,u+-2|0,b+2|0,k)))?0:w+-2|0);break e}v=0==(0|(v=0|_(a,f,u+-1|0,b+1|0,k)))?0:v+-1|0}a=0|v}a=0==(0|(a|=0))?0:a+3|0}}else a=0;else a=0}while(0);return 0|a},function(r,e,i,a,f,n){var t,o;r|=0,e|=0,i|=0,n|=0;var l=De;for(De=De+16|0,t=0;!(n>>>0<=t>>>0)&&96==(0|je[i+t>>0]);)t=t+1|0;for(a=0,o=t;(f=o>>>0<n>>>0)&a>>>0<t>>>0;)a=96==(0|je[i+o>>0])?a+1|0:0,o=o+1|0;if(f|t>>>0<=a>>>0){for(f=t;!(o>>>0<=f>>>0)&&32==(0|je[i+f>>0]);)f=f+1|0;for(a=o-t|0;!(a>>>0<=t>>>0)&&32==(0|je[i+(n=a+-1|0)>>0]);)a=n;if(!(f>>>0<a>>>0))return i=0==(0|_r[15&ze[e+52>>2]](r,0,0|ze[e+112>>2])),De=l,0|(i?0:o);ze[l>>2]=i+f,ze[l+4>>2]=a-f,ze[l+8>>2]=0,a=(a=(ze[l+12>>2]=0)==(0|_r[15&ze[e+52>>2]](r,l,0|ze[e+112>>2])))?0:o}else a=0;return De=l,0|a},function(r,e,i,a){if(r|=0,e|=0,i|=0,2<=(0|a)>>>0&&32==(0|je[i+-1>>0])&&32==(0|je[i+-2>>0])){for(i=0|ze[(a=r+4|0)>>2];i&&32==(0|je[(0|ze[r>>2])+(i=i+-1|0)>>0]);)ze[a>>2]=i;i=0!=(0|mr[1&ze[e+72>>2]](r,0|ze[e+112>>2]))&1}else i=0;return 0|i},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=0,o=0,l=0,c=0,s=0,u=0,b=0;if(0|a)if(f=0|ze[(a=e+420|0)>>2],33==(0|je[i+-1>>0]))if(0|ze[e+68>>2]){u=f,s=a,c=1;var k=6}else k=89;else k=5;else f=0|ze[(a=e+420|0)>>2],k=5;5==(0|k)&&(k=0|ze[e+76>>2]?(u=f,s=a,c=0,6):89);r:do{if(6==(0|k)){var v=a=1;f=0;e:for(;;){if(n>>>0<=v>>>0){f=u,a=s,k=89;break r}var d=0|je[i+v>>0];i:do{if(10!=d<<24>>24){var h=v+-1|0;if(92!=(0|je[i+h>>0]))switch(d<<24>>24){case 91:a=a+1|0;break i;case 93:if((0|a)<2)break e;a=a+-1|0;break i;default:break i}}else f=1}while(0);v=v+1|0}for(d=a=v+1|0;;){if(n>>>0<=d>>>0){k=66;break}if(!(0|He(255&(t=0|je[i+d>>0])))){k=18;break}d=d+1|0}e:do{if(18==(0|k)){switch(t<<24>>24){case 40:break;case 91:for(t=a=d+1|0;;){if(n>>>0<=t>>>0){f=u,a=s,k=89;break r}if(93==(0|je[i+t>>0]))break;t=t+1|0}if((0|t)==(0|a))if(f){for(d=0|qe(e,1),a=1;!(v>>>0<=a>>>0);)10==(f=0|je[i+a>>0])<<24>>24?32!=(0|je[i+(a+-1)>>0])&&he(d,32):he(d,255&f),a=a+1|0;f=0|ze[d>>2],a=0|ze[d+4>>2]}else f=i+1|0,a=h;else f=i+a|0,a=t-a|0;if(!(f=0|I(e+116|0,f,a))){f=u,a=s,k=89;break r}a=t+1|0,o=0|ze[f+8>>2],d=0|ze[f+4>>2];break e;default:k=66;break e}for(;;){var w=d+1|0;if(n>>>0<=w>>>0)break;if(!(0|He(0|Be[i+w>>0])))break;d=w}var m=w;i:for(;;){if(n>>>0<=m>>>0){f=u,a=s,k=89;break r}switch((t=0|je[i+m>>0])<<24>>24){case 41:n=l=0,o=a=m;break i;case 92:a=2;break;default:if(0!=(0|m)&&0!=(0|He(0|Be[i+(m+-1)>>0])))switch(t<<24>>24){case 34:case 39:k=29;break i;default:a=1}else a=1}m=m+a|0}i:do{if(29==(0|k)){var _=m+1|0;for(a=1,o=_;;){if(n>>>0<=o>>>0){f=u,a=s,k=89;break r}if(92!=(f=0|je[i+o>>0])<<24>>24)if(f<<24>>24!=t<<24>>24){if(!(0!=(0|a)|41!=f<<24>>24))break;f=1}else a=0,f=1;else f=2;o=o+f|0}f=o;do{if(a=0|je[i+(f=f+-1|0)>>0],f>>>0<=_>>>0)break}while(0!=(0|He(255&a)));switch(a<<24>>24){case 34:case 39:a=m,l=_,n=f;break i}a=o,n=l=0}}while(0);for(;_=0|je[i+(t=a+-1|0)>>0],!(a>>>0<=w>>>0)&&0|He(255&_);)a=t;(f=60==(0|je[i+w>>0])?d+2|0:w)>>>0<(a=62==_<<24>>24?t:a)>>>0?de(d=0|qe(e,1),i+f|0,a-f|0):d=0,l>>>0<n>>>0?de(f=0|qe(e,1),i+l|0,n-l|0):f=0,a=o+1|0,o=f}}while(0);if(66==(0|k)){if(f){for(t=0|qe(e,1),f=1;!(v>>>0<=f>>>0);)10==(d=0|je[i+f>>0])<<24>>24?32!=(0|je[i+(f+-1)>>0])&&he(t,32):he(t,255&d),f=f+1|0;d=0|ze[t>>2],f=0|ze[t+4>>2]}else d=i+1|0,f=h;if(!(f=0|I(e+116|0,d,f))){f=u,a=s,k=89;break}o=0|ze[f+8>>2],d=0|ze[f+4>>2]}t=1<v>>>0?(f=0|qe(e,1),c?de(f,i+1|0,h):(Pe(f,e,i+(ze[(t=e+440|0)>>2]=1)|0,h),ze[t>>2]=0),f):0,d?(p(_=0|qe(e,1),d),f=c?(0|(d=0|ze[(f=r+4|0)>>2])&&33==(0|je[(0|ze[r>>2])+(b=d+-1|0)>>0])&&(ze[f>>2]=b),0|yr[3&ze[e+68>>2]](r,_,o,t,0|ze[e+112>>2])):0|yr[3&ze[e+76>>2]](r,_,o,t,0|ze[e+112>>2]),ze[s>>2]=u,f||(k=91)):(f=u,a=s,k=89)}}while(0);return 89==(0|k)&&(ze[a>>2]=f,k=91),91==(0|k)&&(a=0),0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0;var t=0,o=De;De=De+32|0,a=(ze[(f=o+16|0)>>2]=0)|i,n|=0;var l=0|f,c=0,s=0,u=0;r:do{if(3<=n>>>0&&60==(0|je[a>>0])&&0!=(0|Ke(0|Be[a+(c=47==(0|je[a+1>>0])?2:1)>>0]))){ze[l>>2]=0;e:for(;!(n>>>0<=c>>>0);){var b=0|je[a+c>>0];if(!(0|Ke(255&b)))switch(b<<24>>24){case 45:case 43:case 46:break;default:break e}c=c+1|0}if(1<c>>>0){var k,v=0|je[(b=a+c|0)>>0];if(k=64==v<<24>>24){var d,h=b,w=n-c|0;h|=0,w|=0;var m=0;b=d=0;e:for(;;){if(w>>>0<=b>>>0){d=0;break}k=0|je[h+b>>0];i:do{if(!(0|Ke(255&k))){switch(k<<24>>24){case 62:m=6;break e;case 95:case 46:case 45:break i;case 64:break;default:d=0;break e}d=d+1|0}}while(0);b=b+1|0}6==(0|m)&&(d=1==(0|d)?b+1|0:0),k=0|(s=0|d)}if(k){ze[l>>2]=2,b=s+c|0;break}b=2<c>>>0?58==v<<24>>24?(c=c+(ze[l>>2]=1)|0,1):0:(c=2,0)}else b=0;if(c>>>0<n>>>0){if(b){v=c;e:for(;;){if(n>>>0<=v>>>0){b=0;break r}switch((b=0|je[a+v>>0])<<24>>24){case 10:case 32:case 34:case 39:case 62:break e;case 92:b=2;break;default:b=1}v=v+b|0}if(c>>>0<v>>>0&62==b<<24>>24){b=v+1|0;break}c=v,u=25}}else u=25;for(25==(0|u)&&(ze[l>>2]=0);;){if(n>>>0<=c>>>0){b=0;break r}if(b=c+1|0,62==(0|je[a+c>>0]))break;c=b}}else b=0}while(0);a=0|b,ze[o>>2]=i,ze[(l=o+4|0)>>2]=a,ze[o+8>>2]=0,ze[o+12>>2]=0;do{if(2<a>>>0){if(0!=(0|ze[(n=e+48|0)>>2])&0!=(0|(f=0|ze[f>>2])))c=0|qe(e,1),ze[o>>2]=i+1,ze[l>>2]=a+-2,p(c,o),f=0|pr[1&ze[n>>2]](r,c,f,0|ze[e+112>>2]),Oe(e,1);else{if(!(f=0|ze[e+80>>2])){t=7;break}f=0|_r[15&f](r,o,0|ze[e+112>>2])}f||(t=7)}else t=7}while(0);return 7==(0|t)&&(a=0),De=o,0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=De;return De=De+16|0,ze[t>>2]=0,ze[t+4>>2]=0,ze[t+8>>2]=0,a=1<n>>>(ze[t+12>>2]=0)?0|z(5719,a=0|Be[(i=i+1|0)>>0],24)?((f=0|ze[e+100>>2])?(ze[t>>2]=i,ze[t+4>>2]=1,Le[7&f](r,t,0|ze[e+112>>2])):he(r,a),2):0:(1==(0|n)&&he(r,0|Be[i>>0]),2),De=t,0|a},function(r,e,i,a,f,n){r|=0,e|=0,i|=0,n|=0;var t=0,o=De;if(De=De+16|0,ze[o>>2]=0,ze[o+4>>2]=0,ze[o+8>>2]=0,1<n>>>(ze[o+12>>2]=0))if(f=(a=35==(0|je[i+1>>0]))?2:1,a&f>>>0<n>>>0){var l=120==(0|T(0|Be[i+f>>0])),c=1^l,s=1;l=f+(1&l)|0}else c=1,s=a,l=f;else s=0,l=c=1;var u=l;r:for(;;){if(n>>>0<=u>>>0){a=0;break}if(f=(a=0|je[i+u>>0])<<24>>24,c){if(s){if(!((f+-48|0)>>>0<10)){t=12;break r}}else if(!(0|Ke(f))){t=12;break r}}else if(!(1&(((32|(f|=0))-97|0)>>>0<6|0!=(((0|f)-48|0)>>>0<10|0))|0)){t=12;break r}u=u+1|0}do{if(12==(0|t))if(l>>>0<u>>>0&59==a<<24>>24){if(a=u+1|0,s){if(7<(u-l|0)>>>0){a=0;break}f=i+l|0;var b=0|(n=c?10:16);f|=0,b|=0,De=(n=De)+144|0;var k,v=n;ze[v>>2]=0,ze[v+4>>2]=f,ze[v+44>>2]=f,ze[v+8>>2]=(0|f)<0?-1:f+2147483647|0,ze[v+76>>2]=-1,K(v),f=v;var d=b;f|=0,d|=0;var h=0;r:do{if(36<d>>>0)var w=k=0;else{for(v=f+4|0,b=f+104|0;0!=(0|R(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))););e:do{switch(0|k){case 43:case 45:if(k=(45==(0|k))<<31>>31,(w=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0){ze[v>>2]=w+1;var m=k;k=0|Be[w>>0]}else m=k,k=0|M(f);break e;default:m=0}}while(0);if(w=0==(0|d),16==(16|d)&48==(0|k))if(120!=(32|(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))))if(w){w=8;var _=42}else w=d,_=27;else{if(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),15<(0|Be[4849+k>>0])){if(!(0|ze[b>>2])){w=k=0;break r}ze[v>>2]=(0|ze[v>>2])-2,w=k=0;break r}w=16,_=42}else{if(!((0|Be[4849+k>>0])>>>0<(w=w?10:d)>>>0)){0|ze[b>>2]&&(ze[v>>2]=(0|ze[v>>2])-1),K(f),w=k=0;break r}_=27}e:do{if(27==(0|_))if(10==(0|w))if((k=k+-48|0)>>>0<10){d=0;for(var p=k;d=(10*d|0)+p|0,(w=(p=(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))-48|0)>>>0<10)&d>>>0<429496729;);if(w){var y=d;d=0;do{w=0|W(0|y,0|d,10,0);var g=((0|p)<0)<<31>>31,A=~g;if(A>>>0<(h=0|kr())>>>0|(0|h)==(0|A)&~p>>>0<w>>>0){w=10,h=y,_=71;break e}y=0|X(0|w,0|h,0|p,0|g),d=0|kr(),p=(k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f))-48|0}while(p>>>0<10&(d>>>0<429496729|429496729==(0|d)&y>>>0<2576980378));9<p>>>0?(w=d,k=y):(w=10,h=y,_=71)}else w=0,k=d}else k=w=0;else _=42}while(0);e:do{if(42==(0|_)){if(!(w+-1&w)){if(A=0|je[8358+((23*w|0)>>>5&7)>>0],(d=255&(p=0|je[4849+k>>0]))>>>0<w>>>0){for(h=0;h=d|h<<A,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),h>>>0<134217728&(d=255&(p=0|je[4849+k>>0]))>>>0<w>>>0;);g=d,d=0}else g=d,h=d=0;if(y=0|rr(-1,-1,0|A),w>>>0<=g>>>0|(_=0|kr())>>>0<d>>>0|(0|_)==(0|d)&y>>>0<h>>>0){_=71;break}for(;;)if(h=0|er(0|h,0|d,0|A),d=0|kr(),h|=255&p,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),w>>>0<=(255&(p=0|je[4849+k>>0]))>>>0|_>>>0<d>>>0|(0|d)==(0|_)&y>>>0<h>>>0){_=71;break e}}if((p=255&(d=0|je[4849+k>>0]))>>>0<w>>>0){for(h=0;h=p+(0|cr(h,w))|0,k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),h>>>0<119304647&(p=255&(d=0|je[4849+k>>0]))>>>0<w>>>0;);g=d}else g=d,h=0;if(p>>>(d=0)<w>>>0)for(_=0|J(-1,-1,0|w,0),A=0|kr(),p=g;;){if(A>>>0<d>>>0|(0|d)==(0|A)&_>>>0<h>>>0){_=71;break e}if(g=0|W(0|h,0|d,0|w,0),4294967295<(y=0|kr())>>>0|-1==(0|y)&~(p&=255)>>>0<g>>>0){_=71;break e}if(h=0|X(0|g,0|y,0|p,0),d=0|kr(),k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),w>>>0<=(255&(p=0|je[4849+k>>0]))>>>0){_=71;break}}else _=71}}while(0);if(71==(0|_))if((0|Be[4849+k>>0])>>>0<w>>>0){for(;k=(k=0|ze[v>>2])>>>0<(0|ze[b>>2])>>>0?(ze[v>>2]=k+1,0|Be[k>>0]):0|M(f),(0|Be[4849+k>>0])>>>0<w>>>0;);w=0,k=-2147483648}else w=d,k=h;if(0|ze[b>>2]&&(ze[v>>2]=(0|ze[v>>2])-1),!(w>>>0<0|0==(0|w)&k>>>0<2147483648)){if(!m){k=0,w=2147483647;break}if(0<w>>>0|0==(0|w)&2147483648<k>>>0){k=0,w=-2147483648;break}}w=0|$(k^m|0,w^(b=((0|m)<0)<<31>>31)|0,0|m,0|b),k=0|kr()}}while(0);if(br(0|k),b=0|w,br(0|kr()),De=n,n=0|b,kr(),n|=0,!(0|(17<((n|=0)-14|0)>>>0&8<n>>>0&1<(n+-11|0)>>>0?n>>>0<1114112&65535!=(1|n)&55296!=(-2048&n|0)&1|0:0))){a=0;break}}else{n=i,f=a,n|=0,f|=0,b=0;do{if((f+-4|0)>>>0<7){switch(v=n,m=f,v|=0,(A=0)|(m|=0)){case 6:m=6,A=3;break;case 5:m=5,A=4;break;case 4:m=4,A=5;break;case 3:m=3,A=6;break;case 2:m=2;break;default:m=(0|or[4320+((0|Be[v+6>>0])<<1)>>1])+m|0,A=3}if(3==(0|A)&&(m=m+(0|or[4320+((0|Be[v+5>>0])<<1)>>1])|0,A=4),4==(0|A)&&(m=m+(0|or[4320+((0|Be[v+4>>0])<<1)>>1])|0,A=5),5==(0|A)&&(m=m+(0|or[4320+((0|Be[v+3>>0])<<1)>>1])|0,A=6),6==(0|A)&&(m=m+(0|or[4320+(1+(0|Be[v+2>>0])<<1)>>1])|0),v=(v=m+(0|or[4320+((0|Be[v+1>>0])<<1)>>1])|0)>>>0<771&&(0|je[n>>0])==(0|je[(b=0|ze[1232+(v<<2)>>2])>>0])){if(A=n+1|0,_=b+1|0,y=f+-1|0,A|=0,_|=0,y|=0){m=0|je[A>>0];r:do{if(m<<24>>24)for(;;){if(!(m<<24>>24==(v=0|je[_>>0])<<24>>24&0!=(0|(y=y+-1|0))&0!=v<<24>>24))break r;if(_=_+1|0,!((m=0|je[(A=A+1|0)>>0])<<24>>24)){m=0;break}}else m=0}while(0);m=(255&m)-(0|Be[_>>0])|0}else m=0;v=0==(0|m)}if(v&&0==(0|je[b+f>>0]))break}b=0}while(0);if(!(0|b)){a=0;break}}0|(f=0|ze[e+96>>2])?(ze[o>>2]=i,ze[o+4>>2]=a,Le[7&f](r,o,0|ze[e+112>>2])):(he(r,38),s&&he(r,35),c||he(r,120),de(r,i+l|0,a-l|0))}else a=0}while(0);return De=o,0|a},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=48+(e|=0)|0;if(0!=(0|ze[o>>2])&&0==(0|ze[e+440>>2])){var l=0|qe(e,1);f=0|t;var c=0|l;i|=0,a|=0;var s,u=0;if(4<=(n|=0)>>>0&&47==(0|je[i+1>>0])&&47==(0|je[i+2>>0])){for(s=0;!(a>>>0<=s>>>0)&&((32|Be[i+~s>>0])-97|0)>>>0<26|0;)s=s+1|0;var b=i+-s|0;if(0!=(0|k(b,s+n|0))&&0!=(0|(u=0|v(i+3|0,n+-3|0)))){for(a=u+3|0;!(n>>>0<=a>>>0||0|R(0|Be[i+a>>0]));)a=a+1|0;(a=0|h(i,a))?(de(c,b,a+s|0),ze[f>>2]=s):a=0}else a=0}else a=0;0|(f=0|a)&&(E(r,(0|ze[r+4>>2])-(0|ze[t>>2])|0),pr[1&ze[o>>2]](r,l,1,0|ze[e+112>>2])),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=48+(e|=0)|0;if(0!=(0|ze[o>>2])&&0==(0|ze[e+440>>2])){var l=0|qe(e,1);f=0|t;var c=0|l;i|=0,a|=0,n|=0;var s,u,b=0;for(u=0;!(a>>>0<=u>>>0);){var k=0|je[i+~u>>0],v=255&k;if(!(k<<24>>24))break;if(0==(0|Ke(v))&&0==(0|z(5568,v,5)))break;u=u+1|0}if(u){k=n+-1|0,v=a=s=0;r:for(;!(n>>>0<=s>>>0);){var d=0|je[i+s>>0];e:do{if(!(0|Ke(255&d))){switch(d<<24>>24){case 95:case 45:break e;case 64:v=v+1|0;break e;case 46:break;default:break r}if(k>>>0<=s>>>0)break r;a=a+1|0}}while(0);s=s+1|0}0==(0|a)|1!=(0|v)|s>>>0<2||0==(0|(b=0|h(i,s)))?b=0:(de(c,i+-u|0,b+u|0),ze[f>>2]=u)}else b=0;0|(f=0|b)&&(E(r,(0|ze[r+4>>2])-(0|ze[t>>2])|0),pr[1&ze[o>>2]](r,l,2,0|ze[e+112>>2])),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,n|=0;var t=De;De=De+16|0;var o=t,l=76+(e|=0)|0;if(0!=(0|ze[l>>2])&&0==(0|ze[e+440>>2])){var c=0|qe(e,1);f=0|o;var s=0|c;i|=0,n|=0;var u=0,b=0,k=0;if(0!=(0|a)&&0==(0|B(b=0|Be[i+-1>>0]))?n>>>0<4|0==(0|R(b))?u=0:k=5:n>>>0<4?u=0:k=5,5==(0|k))if(0==(0|j(i,5558,4))&&0!=(0|(u=0|v(i,n)))){for(;!(n>>>0<=u>>>0||0|R(0|Be[i+u>>0]));)u=u+1|0;(u=0|h(i,u))?(de(s,i,u),ze[f>>2]=0):u=0}else u=0;0|(f=0|u)&&(de(a=0|qe(e,1),5711,7),de(a,0|ze[c>>2],0|ze[c+4>>2]),E(r,(0|ze[r+4>>2])-(0|ze[o>>2])|0),0|ze[(i=e+100|0)>>2]?(n=0|qe(e,1),Le[7&ze[i>>2]](n,c,0|ze[(o=e+112|0)>>2]),yr[3&ze[l>>2]](r,a,0,n,0|ze[o>>2]),Oe(e,1)):yr[3&ze[l>>2]](r,a,0,c,0|ze[e+112>>2]),Oe(e,1)),Oe(e,1)}else f=0;return De=t,0|f},function(r,e,i,a,f,n){r|=0,i|=0,a|=0,f|=0,n|=0;var t=0,o=De;De=De+16|0;var l=o+4|0,c=o;if(0!=(0|ze[48+(e|=0)>>2])&&0==(0|ze[e+440>>2])){var s,u=0|qe(e,1),b=0|l,k=0|u,v=0|i,d=0|n,h=0|c,w=0,m=0|g(v,0|a,0|f,d,114);r:do{if(m){for(w=4<d>>>0?0==(0|F(v+1|0,5573,4)):0,s=1;;){var _=s+10|0;if(_>>>0<=d>>>0&&0==(0|F(v+s|0,5578,10)))var p=10;else{if(_=(_=s+2|0)>>>0<d>>>0&&(p=0==(0|F(v+s|0,5589,2)))?_:s,!(0|Ke(0|Be[v+_>>0]))){_=0;break r}p=24,_=_+1|0}for(;;){if(d>>>0<=_>>>0){var y=0;break}if(!(95==(y=0|je[v+_>>0])<<24>>24|0!=(0|Ke(255&y)))){y=1;break}_=_+1|0}if(!((s=_-s|0)>>>0<=p>>>0&1<s>>>0)){_=0;break r}if(!y)break;if(!(43==(s=0|je[v+_>>0])<<24>>24|w&45==s<<24>>24))break;if(!_){_=1;break}s=_+1|0}e:do{if(_>>>0<d>>>0&&47==(0|je[v+_>>0]))for(;;){if(d>>>0<=_>>>0)break e;if(!(0|Ke(255&(y=0|je[v+_>>0]))))switch(y<<24>>24){case 45:case 47:case 95:break;default:break e}_=_+1|0}}while(0);de(k,v+-m|0,_+m|0),ze[h>>2]=1==(0|m)&1,ze[b>>2]=m}else _=0}while(0);if(b=0|_)t=5;else{b=0|l,k=0|u,i|=0,a|=0,f|=0,n|=0,v=0|c,_=0;r:do{if(3<=n>>>0&&0!=(0|(_=0|g(i,a,f,n,117)))){if(!(0|Ke(255&(a=0|je[i+1>>0]))))switch(a<<24>>24){case 45:case 95:break;default:a=0;break r}a=2;e:for(;!(n>>>0<=a>>>0);){if(!(0|Ke(255&(f=0|je[i+a>>0]))))switch(f<<24>>24){case 45:case 47:case 95:break;default:break e}a=a+1|0}de(k,i+-_|0,a+_|0),ze[v>>2]=1==(0|_)&1,ze[b>>2]=_}else a=0}while(0);(b=0|a)?t=5:b=0}5==(0|t)&&(a=0|qe(e,1),0|ze[c>>2]&&he(a,47),de(a,0|ze[u>>2],0|ze[u+4>>2]),E(r,(0|ze[r+4>>2])-(0|ze[l>>2])|0),0|ze[(i=e+100|0)>>2]?(c=0|qe(e,1),Le[7&ze[i>>2]](c,u,0|ze[(t=e+112|0)>>2]),yr[3&ze[e+76>>2]](r,a,0,c,0|ze[t>>2]),Oe(e,1)):yr[3&ze[e+76>>2]](r,a,0,u,0|ze[e+112>>2]),Oe(e,1)),Oe(e,1)}else b=0;return De=o,0|b},function(r,e,i,a,f,n){r|=0,i|=0,n|=0;var t=92+(e|=0)|0;r:do{if(n>>>0<2|0==(0|ze[t>>2]))a=0;else{e:do{if(40==(0|je[i+1>>0])){for(a=2;!(n>>>0<=a>>>0)&&41!=(0|je[i+a>>0])&&92!=(0|je[i+(a+-1)>>0]);)a=a+1|0;if((0|a)==(0|n)){a=0;break r}n=2}else for(a=1;;){if(n>>>0<=a>>>0){n=1;break e}if(0|He(0|Be[i+a>>0])){n=1;break e}a=a+1|0}}while(0);if(f=a-n|0){var o=0|qe(e,1);Pe(o,e,i+n|0,f),_r[15&ze[t>>2]](r,o,0|ze[e+112>>2]),Oe(e,1),a=a+(2==(0|n)&1)|0}else a=2==(0|n)?3:0}}while(0);return 0|a},f,f,f],Fe=[function(){ur(5)},function(r,e){var i;r|=0;var a=4+(e|=0)|0,f=0;for(i=0|ze[a>>2];!((0|i)<=0);)de(r,5762,12),ze[a>>2]=i=(0|ze[a>>2])-1|0,f=1;f&&de(r,5775,7),n(0,e)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),y(r,0==(256&ze[e+16>>2]|0)?6289:6295)},n],Le=[function(){ur(6)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6371,13),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6356,14)},function(r,e){e|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6318,37),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6356,14)},function(r,e,i){var a;r|=0,e|=0;r:do{if(0|e){for(i=0|ze[e+4>>2];;){if(!i){i=0;break}var f=i+-1|0;if(10!=(0|je[(0|ze[e>>2])+f>>0]))break;i=f}for(a=0;;){if(i>>>0<=a>>>0)break r;if(10!=(0|je[(f=(0|ze[e>>2])+a|0)>>0]))break;a=a+1|0}0|ze[r+4>>2]&&(he(r,10),f=(0|ze[e>>2])+a|0),de(r,f,i-a|0),he(r,10)}}while(0)},function(r,e,i){e|=0,i|=0;var a,f,n=0,t=0;if(0|ze[4+(r|=0)>>2]&&he(r,10),0|e&&0|(n=0|ze[(t=e+4|0)>>2])){for(a=0;!(n>>>0<=a>>>0)&&0|R(0|Be[(0|ze[e>>2])+a>>0]);)a=a+1|0;if((0|a)!=(0|n)){de(r,6248,3);r:do{if(128&ze[i+16>>2])for(;;){if((n=0|ze[t>>2])>>>0<=a>>>0)break r;for(f=a;!(n>>>0<=f>>>0)&&10!=(0|je[(0|ze[e>>2])+f>>0]);)f=f+1|0;if(((a=a>>>0<f>>>0?(de(r,(0|ze[e>>2])+a|0,f-a|0),0|ze[t>>2]):n)+-1|0)>>>0<=f>>>0)break r;w(r,i),a=f+1|0}else de(r,(0|ze[e>>2])+a|0,(0|ze[t>>2])-a|0)}while(0);de(r,6252,5)}}},function(r,e){e|=0,de(r|=0,6184,5),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6190,6)},function(r,e){0|(e|=0)&&H(0|r,0|ze[e>>2],0|ze[e+4>>2])},function(r,e,i){r|=0,0|ze[32+(i|=0)>>2]&&de(r,5352,15),0|ze[(e=i+36|0)>>2]&&(de(r,5368,9),y(r,0|ze[e>>2]),he(r,34))}],Ye=[tr,function(r,e,i,a){r|=0,e|=0,i|=0;var f=4+(a|=0)|0,n=0|ze[f>>2],t=a+8|0;n?t=0|ze[t>>2]:(n=i+-1|0,de(r,5921,18),t=ze[t>>2]=n,n=0|ze[f>>2]),t=i-t|0;r:do{if((0|n)<(0|t))for(;;){if((0|t)<=(0|n))break r;de(r,5940,10),ze[f>>2]=n=1+(0|ze[f>>2])|0}else if((0|n)<=(0|t))de(r,5977,11);else{for(de(r,5951,6),n=0|ze[f>>2];!((0|n)<=(0|t));)de(r,5958,12),ze[f>>2]=n=(0|ze[f>>2])-1|0;de(r,5971,5)}}while(0);de(r,5989,10),0|(n=0|ze[a+12>>2])&&y(r,n),de(r,6e3,4),ze[a>>2]=1+(f=0|ze[a>>2]),l(r,f),de(r,6005,2),0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6008,5)},function(r,e,i,a){e|=0,i|=0;var f,n,t=0,o=0,l=0,c=0;if(0|ze[4+(r|=0)>>2]&&he(r,10),0!=(0|i)&&0!=(0|ze[(l=i+4|0)>>2])){for(de(r,6385,18),a=n=0;;){var s=0|ze[l>>2];if(s>>>0<=a>>>0)break;for(;!(s>>>0<=a>>>0);){if(!(0|R(255&(t=0|je[(o=0|ze[i>>2])+a>>0])))){c=10;break}a=a+1|0}if(10==(0|c)){for(c=0,f=a;!(s>>>0<=f>>>0||0|R(0|Be[o+f>>0]));)f=f+1|0;t=a+(46==t<<24>>24&1)|0,H(r,(a=n?(he(r,32),0|ze[i>>2]):o)+t|0,f-t|0),a=f}n=n+1|0,a=a+1|0}de(r,6005,2)}else de(r,6404,11);0|e&&H(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6416,14)},function(r,e,i,a){e|=0,i|=0,a|=0,0|ze[4+(r|=0)>>2]&&he(r,10);var f=0==(64&ze[a+16>>2]|0);de(r,6302,2),l(r,i),f?de(r,6168,1):(de(r,6305,5),0|(f=0|ze[a+12>>2])&&y(r,f),de(r,6e3,4),ze[a>>2]=1+(f=0|ze[a>>2]),l(r,f),de(r,6005,2)),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6311,3),l(r,i),de(r,6315,2)},function(r,e,i){e|=0,i|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,(i=0!=(1&i|0))?6263:6269,5),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,i?6275:6282,6)},function(r,e,i,a){if(e|=0,de(r|=0,6258,4),0|e){var f=0|ze[e>>2];for(i=0|ze[e+4>>2];;){if(!i){i=0;break}if(10!=(0|je[f+(a=i+-1|0)>>0]))break;i=a}de(r,f,i)}de(r,5951,6)},function(r,e,i){e|=0,i|=0,0|ze[4+(r|=0)>>2]&&he(r,10),de(r,6197,15),0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,6213,16),0|i&&de(r,0|ze[i>>2],0|ze[i+4>>2]),de(r,6230,17)},tr],Ar=[function(){ur(8)},function(r,e,i,a,f){switch(r|=0,e|=0,f|=0,(a=0!=(4&(i|=0)|0))?de(r,6098,3):de(r,6102,3),1<(0|f)&&(de(r,6106,10),l(r,f),de(r,6117,2)),3&i){case 3:de(r,6120,16);break;case 1:de(r,6137,14);break;case 2:de(r,6152,15);break;default:de(r,6168,1)}0|e&&de(r,0|ze[e>>2],0|ze[e+4>>2]),de(r,a?6170:6177,6)}];return{___muldi3:W,___udivdi3:J,_bitshift64Lshr:rr,_bitshift64Shl:er,_default_renderer:function(r,e,i,a,f,n){return r|=0,e|=0,i|=0,a|=0,f|=0,n|=0,0|ze[2284]||(ze[2284]=1,ze[2092]=0|t(8528,805,0),ze[2093]=0|t(8680,805,1),ze[2094]=8528,ze[2095]=8680),0|o(r,e,i,a,f,0,n)},_free:Me,_i64Add:X,_i64Subtract:$,_llvm_ctpop_i32:ir,_malloc:L,_memcpy:ar,_memmove:Ne,_memset:fr,_sbrk:nr,_wiki_renderer:function(r,e,i,a,f,n){return r|=0,e|=0,i|=0,a|=0,f|=0,n|=0,0|ze[2285]||(ze[2285]=1,ze[2096]=0|t(8832,1825,0),ze[2097]=0|t(8984,1825,1),ze[2098]=8832,ze[2099]=8984),0|o(r,e,i,a,f,1,n)},dynCall_iii:function(r,e,i){return 0|mr[1&(0|r)](0|e,0|i)},dynCall_iiii:function(r,e,i,a){return 0|_r[15&(0|r)](0|e,0|i,0|a)},dynCall_iiiii:function(r,e,i,a,f){return 0|pr[1&(0|r)](0|e,0|i,0|a,0|f)},dynCall_iiiiii:function(r,e,i,a,f,n){return 0|yr[3&(0|r)](0|e,0|i,0|a,0|f,0|n)},dynCall_iiiiiii:function(r,e,i,a,f,n,t){return 0|gr[15&(0|r)](0|e,0|i,0|a,0|f,0|n,0|t)},dynCall_vii:function(r,e,i){Fe[3&(0|r)](0|e,0|i)},dynCall_viii:function(r,e,i,a){Le[7&(0|r)](0|e,0|i,0|a)},dynCall_viiii:function(r,e,i,a,f){Ye[7&(0|r)](0|e,0|i,0|a,0|f)},dynCall_viiiii:function(r,e,i,a,f,n){Ar[1&(0|r)](0|e,0|i,0|a,0|f,0|n)},establishStackSpace:function(r){De=0|r},stackAlloc:function(r){var e=De;return De=15+(De=De+(0|r)|0)&-16,0|e},stackRestore:function(r){De=0|r},stackSave:function(){return 0|De}}})({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},{a:n,b:function(r){w=r},c:function(){return w},d:function(){return 0},e:function(){return k.length},f:function(r,e,i){v.set(v.subarray(e,e+i),r)},g:function(){return!1},h:function(r){return r},i:i,j:a,k:function(){var r=a();return o.extraStackTrace&&(r+=\"\\n\"+o.extraStackTrace()),i(r)},l:9376,m:9360},b);o.___muldi3=A.___muldi3,o.___udivdi3=A.___udivdi3,o._bitshift64Lshr=A._bitshift64Lshr,o._bitshift64Shl=A._bitshift64Shl;var C=o._default_renderer=A._default_renderer,S=o._free=A._free;o._i64Add=A._i64Add,o._i64Subtract=A._i64Subtract,o._llvm_ctpop_i32=A._llvm_ctpop_i32,o._malloc=A._malloc,o._memcpy=A._memcpy,o._memmove=A._memmove,o._memset=A._memset,o._sbrk=A._sbrk;var x=o._wiki_renderer=A._wiki_renderer;o.establishStackSpace=A.establishStackSpace;var E,I=o.stackAlloc=A.stackAlloc,U=o.stackRestore=A.stackRestore,q=o.stackSave=A.stackSave;o.dynCall_iii=A.dynCall_iii,o.dynCall_iiii=A.dynCall_iiii,o.dynCall_iiiii=A.dynCall_iiiii,o.dynCall_iiiiii=A.dynCall_iiiiii,o.dynCall_iiiiiii=A.dynCall_iiiiiii,o.dynCall_vii=A.dynCall_vii,o.dynCall_viii=A.dynCall_viii,o.dynCall_viiii=A.dynCall_viiii,o.dynCall_viiiii=A.dynCall_viiiii,o.asm=A,c&&(function(r){var e,i=r.length;for(e=0;e<i;++e)v[8+e]=r.charCodeAt(e)})(c),o.run=f,o.abort=n,f();export function markdown(r,e){return t(C,r,e)};export function markdownWiki(r,e){return t(x,r,e)};","/* @flow */\n\nimport { markdown } from 'snudown-js';\nimport { Host } from '../../core/host';\nimport { DAY, string } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('github', {\n\tdomains: ['gist.github.com'],\n\tlogo: 'https://assets-cdn.github.com/favicon.ico',\n\tname: 'github gists',\n\tdetect: ({ pathname }) => (/^\\/(?:[\\w-]+\\/)?([a-z0-9]{20,}|\\d+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst { files, description } = await ajax({\n\t\t\turl: `https://api.github.com/gists/${id}`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tlet src = '';\n\n\t\tfor (const [filename, { content, language, truncated }] of Object.entries(files)) {\n\t\t\tsrc += string.escape`<h5>${filename}:</h5>`;\n\n\t\t\tif (language === 'Markdown') {\n\t\t\t\tsrc += markdown(content);\n\t\t\t} else {\n\t\t\t\tsrc += string.escape`<pre><code>${content}</code></pre>`;\n\t\t\t}\n\n\t\t\tif (truncated) {\n\t\t\t\tsrc += '<p>&lt;file truncated&gt;</p>';\n\t\t\t}\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'TEXT',\n\t\t\ttitle: description,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('googlemaps', {\n\tdomains: ['maps.google.ca', 'maps.google.com', 'google.co.uk', 'google.com', 'google.ca'],\n\tlogo: 'https://maps.google.com/favicon.ico',\n\tname: 'Google Maps',\n\tdetect: ({ host, searchParams, pathname }) => {\n\t\t// Only valid if we can find some coords to display\n\t\tif (host.startsWith('maps.') || pathname.startsWith('/maps')) {\n\t\t\tconst coords = searchParams.get('ll') || searchParams.get('q');\n\t\t\tif (coords) {\n\t\t\t\t// Handle old style maps.google urls\n\t\t\t\treturn [\n\t\t\t\t\tcoords,\n\t\t\t\t\tsearchParams.get('z'),\n\t\t\t\t\tsearchParams.has('maptype') ? searchParams.get('maptype') : 'roadmap',\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\t// Parse new style google map urls\n\t\t\t\tconst location = pathname.split('/').find(part => part.startsWith('@'));\n\t\t\t\tif (location) {\n\t\t\t\t\tconst [long, lat, zoom] = location.substring(1).split(',');\n\n\t\t\t\t\treturn [\n\t\t\t\t\t\t`${long},${lat}`,\n\t\t\t\t\t\tzoom.endsWith('z') ? zoom : 16, // passing a meter zoom level to maps does not make it happy\n\t\t\t\t\t\tzoom.endsWith('z') ? 'roadmap' : 'satellite',\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\thandleLink(href, [coords, zoom, mapType]) {\n\t\tlet embed = `https://www.google.com/maps/embed/v1/view?center=${coords}&key=AIzaSyCtnLZP1XwkgIK53Asx_5qtZa2k9eZcdDc`;\n\t\tif (zoom) embed += `&zoom=${zoom}`;\n\t\tif (mapType) embed += `&maptype=${mapType}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tmuted: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('gyazo', {\n\tname: 'gyazo',\n\tdomains: ['gyazo.com'],\n\tpermissions: ['https://api.gyazo.com/api/oembed'],\n\tlogo: 'https://gyazo.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(\\w{32})\\b/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst info = await ajax({\n\t\t\turl: 'https://api.gyazo.com/api/oembed',\n\t\t\tquery: { url: href },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tswitch (info.type) {\n\t\t\tcase 'photo':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\tsrc: info.url,\n\t\t\t\t};\n\t\t\tcase 'video':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'VIDEO',\n\t\t\t\t\tmuted: true,\n\t\t\t\t\tloop: true,\n\t\t\t\t\tfallback: `https://i.gyazo.com/${id}.gif`,\n\t\t\t\t\tsources: [{\n\t\t\t\t\t\tsource: `https://i.gyazo.com/${id}.mp4`,\n\t\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t\t}],\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Invalid media type: ${info.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('hastebin', {\n\tname: 'hastebin',\n\tdomains: ['hastebin.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:raw\\/)?([^\\/]+)/i).exec(pathname),\n\thandleLink(href, [, filename]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://hastebin.com/${filename}`,\n\t\t\theight: '500px',\n\t\t\twidth: '800px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('iloopit', {\n\tname: 'iLoopit - gif maker',\n\tdomains: ['iloopit.net'],\n\tlogo: 'https://iloopit.net/favicon.ico',\n\tdetect: ({ href }) => (\n\t\t(/^https?:\\/\\/(\\w+\\.)?iloopit\\.net\\/.+?\\/\\?type=looplayer&loopid=(\\d+)/i).exec(href) ||\n\t\t(/^https?:\\/\\/(\\w+\\.)?iloopit\\.net(\\/tube)?\\/(\\d+)\\/.+?\\/(\\?type=(looplayer)|(embed))?/i).exec(href)\n\t),\n\thandleLink(href) {\n\t\tlet link = '';\n\t\tconst testWithTitle = /iloopit\\.net(?:\\/tube)?\\/(\\d+)\\/(.+)?\\//;\n\t\tconst titleResult = testWithTitle.exec(href);\n\n\t\tif (titleResult) {\n\t\t\tlink = `https://iloopit.net/${titleResult[1]}/${titleResult[2]}/?type=embed`;\n\t\t} else {\n\t\t\tlink = href.replace('type=looplayer', 'type=embed');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\tembed: link,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('imgflip', {\n\tname: 'imgflip',\n\tdomains: ['imgflip.com'],\n\tlogo: 'https://imgflip.com/favicon02.png',\n\tdetect: ({ pathname }) => (/^\\/(i|gif)\\/([a-z0-9]+)/).exec(pathname),\n\thandleLink(href, [, type, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://i.imgflip.com/${id}.${type === 'gif' ? 'gif' : 'jpg'}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('imgur', {\n\tname: 'imgur',\n\tdomains: ['imgur.com'],\n\tlogo: 'https://i.imgur.com/favicon.ico',\n\toptions: {\n\t\tpreferResAlbums: {\n\t\t\ttitle: 'imgurPreferResAlbumsTitle',\n\t\t\tdescription: 'imgurPreferResAlbumsDesc',\n\t\t\tvalue: true,\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tuseGifOverGifv: {\n\t\t\ttitle: 'imgurUseGifOverGifVTitle',\n\t\t\tdescription: 'imgurUseGifOverGifVDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t\tpreferredImgurLink: {\n\t\t\ttitle: 'imgurPreferredImgurLinkTitle',\n\t\t\tdescription: 'imgurPreferredImgurLinkDesc',\n\t\t\ttype: 'enum',\n\t\t\tvalue: 'share',\n\t\t\tvalues: [{\n\t\t\t\tname: 'full page (imgur.com)',\n\t\t\t\tvalue: 'share',\n\t\t\t}, {\n\t\t\t\tname: 'direct image (i.imgur.com)',\n\t\t\t\tvalue: 'direct',\n\t\t\t}],\n\t\t},\n\t\timgurImageResolution: {\n\t\t\ttitle: 'imgurImageResolutionTitle',\n\t\t\tdescription: 'imgurImageResolutionDesc',\n\t\t\ttype: 'enum',\n\t\t\tvalue: '', // image id suffix\n\t\t\tvalues: [{\n\t\t\t\tname: 'Full Resolution',\n\t\t\t\tvalue: '',\n\t\t\t}, {\n\t\t\t\tname: 'Retina (1360px)',\n\t\t\t\tvalue: 'r',\n\t\t\t}, {\n\t\t\t\tname: 'Huge (1024px)',\n\t\t\t\tvalue: 'h',\n\t\t\t}, {\n\t\t\t\tname: 'Giant (680px)',\n\t\t\t\tvalue: 'g',\n\t\t\t}, {\n\t\t\t\tname: 'Large (640px)',\n\t\t\t\tvalue: 'l',\n\t\t\t}],\n\t\t},\n\t},\n\tdetect({ pathname, href }) {\n\t\tconst cdnUrl = 'https://i.imgur.com/';\n\t\tconst apiPrefix = 'https://api.imgur.com/3/';\n\t\tconst apiId = '1d8d9b36339e0e2';\n\t\tconst hashRe = /^https?:\\/\\/(?:i\\.|m\\.|edge\\.|www\\.)*imgur\\.com\\/(r\\/\\w+\\/)*(?!gallery)(?!removalrequest)(?!random)(?!memegen)((?:\\w{5}|\\w{7})(?:[&,](?:\\w{5}|\\w{7}))*)(?:#\\d+)?[a-z]?(\\.(?:jpe?g|gifv?|png))?(\\?.*)?$/i;\n\t\tconst hostedHashRe = /^https?:(\\/\\/i\\.\\w+\\.*imgur\\.com\\/)((?:\\w{5}|\\w{7})(?:[&,](?:\\w{5}|\\w{7}))*)(?:#\\d+)?[a-z]?(\\.(?:jpe?g|gif|png))?(\\?.*)?$/i;\n\t\tconst galleryHashRe = /^https?:\\/\\/(?:m\\.|www\\.)?imgur\\.com\\/gallery\\/(\\w+)(?:[/#]|$)/i;\n\t\tconst albumHashRe = /^https?:\\/\\/(?:m\\.|www\\.)?imgur\\.com\\/a\\/(\\w+)(?:[/#]|$)/i;\n\n\t\tif (pathname === '/rules' || pathname === '/inbox') return null;\n\n\t\thref = href.split('?')[0];\n\n\t\tlet groups;\n\n\t\tif ((groups = galleryHashRe.exec(href))) {\n\t\t\tconst hash = groups[1];\n\t\t\treturn () => _api(string.encode`gallery/${hash}`)\n\t\t\t\t// may have been removed from the gallery, try looking up the album\n\t\t\t\t.catch(() => _api(string.encode`album/${hash}`));\n\t\t} else if ((groups = albumHashRe.exec(href))) {\n\t\t\tif (this.options.preferResAlbums.value) {\n\t\t\t\tconst hash = groups[1];\n\t\t\t\treturn () => _api(string.encode`album/${hash}`);\n\t\t\t}\n\t\t} else if ((groups = hostedHashRe.exec(href))) {\n\t\t\tconst hash = groups[2];\n\t\t\treturn () => _handleImage(hash, href);\n\t\t} else if ((groups = hashRe.exec(href))) {\n\t\t\tconst [, subreddit, hash] = groups;\n\t\t\tif (subreddit) return () => _api(string.encode`gallery/${subreddit}${hash}`);\n\t\t\tif (hash.search(/[&,]/) > -1) {\n\t\t\t\t// handle separated list of IDs\n\t\t\t\treturn () => _handleImageCollection(hash.split(/[&,]/), href);\n\t\t\t} else {\n\t\t\t\treturn () => _handleImage(hash, href);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\n\t\tasync function _api(endpoint) {\n\t\t\tconst { data } = await ajax({\n\t\t\t\turl: apiPrefix + endpoint,\n\t\t\t\ttype: 'json',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Client-ID ${apiId}`,\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (data.error) {\n\t\t\t\tthrow new Error(`Imgur API error: ${data.error}`);\n\t\t\t}\n\n\t\t\treturn data;\n\t\t}\n\n\t\tfunction _mockImageAPI(hash, url) {\n\t\t\tlet thisCdnUrl = cdnUrl;\n\t\t\tlet matches, extension;\n\n\t\t\tif ((matches = hostedHashRe.exec(url))) {\n\t\t\t\tthisCdnUrl = matches[1];\n\t\t\t\textension = matches[3];\n\t\t\t} else if ((matches = hashRe.exec(url))) {\n\t\t\t\textension = matches[3];\n\t\t\t}\n\n\t\t\tif (!extension) {\n\t\t\t\t// Imgur doesn't really care about the extension except video and the browsers don't seem to either.\n\t\t\t\textension = '.jpg';\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tid: hash,\n\t\t\t\tanimated: false,\n\t\t\t\tlooping: false,\n\t\t\t\thas_sound: false,\n\t\t\t\tlink: `${thisCdnUrl}${hash}${extension}`,\n\t\t\t\tgifv: undefined,\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleImage(hash, url) {\n\t\t\tconst [,,, extension] = hashRe.exec(url) || [];\n\n\t\t\tif (['.png', '.jpg', '.jpeg'].includes(extension)) {\n\t\t\t\t// Extension is given and hopefully correct, so we can intuit the mimetype\n\t\t\t\t// removed caption API calls as they don't seem to exist/matter for single images, only albums...\n\t\t\t\t// If we don't show captions and know the mimetype, then we can skip the API call.\n\t\t\t\t// We must hit the API for gif(v) even when the extension is given, to determine if it should loop\n\t\t\t\treturn _mockImageAPI(hash, url);\n\t\t\t} else if (hostedHashRe.test(url)) {\n\t\t\t\t// Hosted images do not support gifv or albums, so we never need to hit the API\n\t\t\t\treturn _mockImageAPI(hash, url);\n\t\t\t} else {\n\t\t\t\t// Check if image is gifv\n\t\t\t\treturn _api(`image/${hash}`);\n\t\t\t}\n\t\t}\n\n\t\tfunction _handleImageCollection(hashes, url) {\n\t\t\treturn {\n\t\t\t\tis_album: true,\n\t\t\t\timages: hashes.map(hash => _mockImageAPI(hash, url)),\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t};\n\t\t}\n\t},\n\tasync handleLink(href, getInfo) {\n\t\tconst baseUrl = 'https://imgur.com/';\n\t\tconst shareLinkPreferred = this.options.preferredImgurLink.value === 'share';\n\t\tconst resolutionSuffix = this.options.imgurImageResolution.value;\n\t\tconst useGif = this.options.useGifOverGifv.value;\n\n\t\tconst info = await getInfo();\n\n\t\tif (info.images && info.images.length) {\n\t\t\treturn _handleAlbum(href, info);\n\t\t} else if (info.gifv && !useGif) {\n\t\t\treturn _handleGifv(info);\n\t\t} else if (info.link) {\n\t\t\treturn _handleSingleImage(info);\n\t\t}\n\n\t\tthrow new Error('could not handle info');\n\n\t\tfunction _handleAlbum(href, info) {\n\t\t\treturn {\n\t\t\t\ttype: 'GALLERY',\n\t\t\t\ttitle: info.title,\n\t\t\t\tcaption: info.description,\n\t\t\t\tsrc: info.images.map(info => {\n\t\t\t\t\tconst media = info.gifv && !useGif ?\n\t\t\t\t\t\t_handleGifv(info) :\n\t\t\t\t\t\t_handleSingleImage(info);\n\t\t\t\t\tmedia.href = shareLinkPreferred ? `${href.split('#')[0]}#${info.id}` : `${info.link}`;\n\t\t\t\t\treturn media;\n\t\t\t\t}),\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleSingleImage(info) {\n\t\t\tconst src = info.link\n\t\t\t\t.replace('http:', 'https:')\n\t\t\t\t.replace(`/${info.id}.`, `/${info.id}${resolutionSuffix}.`);\n\n\t\t\treturn {\n\t\t\t\tsrc,\n\t\t\t\thref: shareLinkPreferred ? `${baseUrl}${info.id}` : `${info.link}`,\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tcaption: info.description,\n\t\t\t\ttitle: info.title,\n\t\t\t};\n\t\t}\n\n\t\tfunction _handleGifv(info) {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\thref: shareLinkPreferred ? `${baseUrl}${info.id}` : `${info.link}`,\n\t\t\t\tfallback: info.link.replace('http:', 'https:'),\n\t\t\t\tcaption: info.description,\n\t\t\t\ttitle: info.title,\n\t\t\t\tloop: info.looping !== false, // may be missing from API responses (randomly), so explicitly check for false\n\t\t\t\tmuted: !info.has_sound,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: info.mp4.replace('http:', 'https:'),\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('instagram', {\n\tname: 'Instagram',\n\tdomains: ['instagram.com', 'instagr.am'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/p\\/([a-z0-9_\\-]{10,})(?:\\/|$)/i).exec(pathname),\n\thandleLink: (href, [, id]) => ({\n\t\ttype: 'IFRAME',\n\t\texpandoClass: 'image',\n\t\tembed: `https://instagram.com/p/${id}/embed/captioned/`,\n\t\twidth: '600px',\n\t\theight: '700px',\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { getPostMetadata } from '../../utils';\n\nexport default new Host('ireddit', {\n\tname: 'i.redd.it',\n\tdomains: ['i.redd.it'],\n\tattribution: false,\n\tdetect({ pathname }, thing) { return pathname.endsWith('.gif') && thing && thing.isLinkPost() && thing.getFullname(); },\n\tasync handleLink(href, fullname) {\n\t\tconst postMetadata = await getPostMetadata({ id: fullname.replace('t3_', '') });\n\t\tif (!postMetadata.preview) throw new Error('Post has no preview.');\n\t\tconst preview = postMetadata.preview.images[0];\n\t\tif (preview.variants.mp4) {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tfallback: preview.variants.gif && preview.variants.gif.source.url,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: preview.variants.mp4.source.url,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: preview.source.url,\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('jsfiddle', {\n\tname: 'jsfiddle',\n\tdomains: ['jsfiddle.net'],\n\tlogo: 'https://jsfiddle.net/favicon.png',\n\tdetect: ({ pathname }) => (/^(\\/(?:\\w+\\/(?!embedded\\/))?[a-z0-9]{5,}(?:\\/\\d+)?(?=\\/|$))(\\/embedded\\/[\\w,]+\\/)?/i).exec(pathname),\n\thandleLink(href, [, path, categories]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://jsfiddle.net${path}${categories || '/embedded/result,js,resources,html,css/'}`,\n\t\t\twidth: '800px',\n\t\t\theight: '500px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('liveleak', {\n\tname: 'LiveLeak',\n\tdomains: ['liveleak.com'],\n\tlogo: 'https://www.liveleak.com/favicon.ico',\n\tdetect: ({ pathname, search }) => (pathname === '/view' && search),\n\thandleLink: (href, query) => ({\n\t\ttype: 'IFRAME',\n\t\tembed: `https://www.liveleak.com/ll_embed${query}`,\n\t\tembedAutoplay: `https://www.liveleak.com/ll_embed${query}&autostart=true`,\n\t\tfixedRatio: true,\n\t}),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('livememe', {\n\tname: 'livememe',\n\tdomains: ['livememe.com'],\n\tlogo: 'https://livememe.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?!edit)(\\w{7})(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://e.lvme.me/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('makeameme', {\n\tname: 'makeameme',\n\tdomains: ['makeameme.org'],\n\tlogo: 'https://makeameme.org/images/favicons/favicon-32x32.png',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://makeameme.org/media/created/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('memecrunch', {\n\tname: 'memecrunch',\n\tdomains: ['memecrunch.com'],\n\tlogo: 'https://memecrunch.com/static/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([0-9A-Z]+)\\/([\\w\\-]+)(\\/image\\.(png|jpg))?/i).exec(pathname),\n\thandleLink(href, [, id, format]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://memecrunch.com/meme/${id}/${format || 'null'}/image.png`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('memedad', {\n\tname: 'memedad',\n\tdomains: ['memedad.com'],\n\tlogo: 'https://memedad.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/meme\\/([0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://memedad.com/memes/${id}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('mixer', {\n\tname: 'Mixer',\n\tdomains: ['beam.pro', 'mixer.com'],\n\tlogo: 'https://mixer.com/_latest/assets/favicons/favicon-32x32.png',\n\tdetect: ({ pathname }) => (/^\\/(\\w+)$/).exec(pathname),\n\thandleLink(href, [, clipId]) {\n\t\tconst embed = `https://mixer.com/embed/player/${clipId}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tmuted: true,\n\t\t\tembed,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('onedrive', {\n\tdomains: ['onedrive.live.com', '1drv.ms'],\n\tname: 'Microsoft OneDrive',\n\tdetect: () => true,\n\tasync handleLink(href) {\n\t\t// Encode the URL in base64 then convert it to unpadded base64url format\n\t\t// https://dev.onedrive.com/shares/shares.htm\n\t\tconst encodedUrl = `u!${btoa(href)}`\n\t\t\t.replace(/=+$/g, '')\n\t\t\t.replace(/\\//g, '_')\n\t\t\t.replace(/\\+/g, '-');\n\n\t\tconst json = await ajax({\n\t\t\turl: `https://api.onedrive.com/v1.0/shares/${encodedUrl}/root?expand=children`,\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tif (json.children.length) {\n\t\t\treturn {\n\t\t\t\ttype: 'GALLERY',\n\t\t\t\tsrc: json.children.map(processFile),\n\t\t\t};\n\t\t} else {\n\t\t\treturn processFile(json);\n\t\t}\n\n\t\tfunction processFile({\n\t\t\tname,\n\t\t\tdescription,\n\t\t\twebUrl,\n\t\t\t'@content.downloadUrl': src,\n\t\t\tfile: { mimeType },\n\t\t}) {\n\t\t\tconst type = mimeType.slice(0, mimeType.indexOf('/'));\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'image':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\tcaption: description,\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\thref: webUrl,\n\t\t\t\t\t};\n\t\t\t\tcase 'video':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'VIDEO',\n\t\t\t\t\t\ttitle: name,\n\t\t\t\t\t\tcaption: description,\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tsources: [{\n\t\t\t\t\t\t\tsource: src,\n\t\t\t\t\t\t\ttype: mimeType,\n\t\t\t\t\t\t}],\n\t\t\t\t\t};\n\t\t\t\tcase 'audio':\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'AUDIO',\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tsources: [{\n\t\t\t\t\t\t\tfile: src,\n\t\t\t\t\t\t\ttype: mimeType,\n\t\t\t\t\t\t}],\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Invalid type: ${type}`);\n\t\t\t}\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pastebin', {\n\tname: 'pastebin',\n\tdomains: ['pastebin.com'],\n\tattribution: false,\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:www\\.)?pastebin\\.com\\/(?:raw\\.php\\?i=|index\\/)?([a-z0-9]{8})/i).exec(href),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://pastebin.com/embed_iframe.php?i=${id}`,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('peertube', {\n\tname: 'peertube',\n\tdomains: [\n\t\t'peervideo.net',\n\t\t'peertube.social',\n\t\t'peertube.mastodon.host',\n\t\t'evertron.tv',\n\t\t'mplayer.demouliere.eu',\n\t\t'cloud.allplayer.tk',\n\t\t'video.tedomum.net',\n\t\t'peertube.fr',\n\t\t'hostyour.tv',\n\t\t'videobit.cc',\n\t\t'videoshare.cc',\n\t\t'peertube.openstreetmap.fr',\n\t\t'video.ploud.fr',\n\t\t'tube.kdy.ch',\n\t\t'lostpod.space',\n\t\t'pe.ertu.be',\n\t\t'peertube.live',\n\t\t'peer.tube',\n\t\t'watching.cypherpunk.observer',\n\t\t'queertube.org',\n\t\t'exode.me',\n\t\t'framatube.org',\n\t\t'peervideo.net',\n\t],\n\tattribution: false,\n\tdetect: ({ hostname, pathname }) => {\n\t\tconst [, route, , id] = pathname.split('/');\n\t\tif (route === 'videos') {\n\t\t\treturn [hostname, id];\n\t\t}\n\t},\n\thandleLink(href, [hostname, id]) {\n\t\tconst embed = `https://${hostname}/videos/embed/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('photobucket', {\n\tname: 'photobucket',\n\tdomains: ['photobucket.com'],\n\tlogo: 'https://pic2.pbsrc.com/common/favicon.ico',\n\tdetect: ({ href }) => (/([is]?)[0-9]+|media|smg|img(?=.photobucket.com)/i).exec(href),\n\tasync handleLink(href, [, prefix]) {\n\t\tlet src = href.replace('.html', '');\n\n\t\t// user linked direct image so no need to hit API\n\t\tif (prefix !== 'i') {\n\t\t\tconst { imageUrl } = await ajax({\n\t\t\t\turl: 'https://api.photobucket.com/v2/media/fromurl',\n\t\t\t\tquery: { url: src },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\t\t\tsrc = imageUrl.replace('http:', 'https:');\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pixiv', {\n\tname: 'pixiv',\n\tdomains: ['pixiv.net'],\n\tlogo: 'https://www.pixiv.net/favicon.ico',\n\tdetect: ({ pathname, search }) => (pathname === '/member_illust.php' && (/illust_id=(\\d+)/).exec(search)) ||\n\t\t\t\t\t\t\t\t\t\t(/(?:\\/en|^)\\/artworks\\/(\\d+)\\/?$/).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'image',\n\t\t\tmuted: true,\n\t\t\tembed: `https://embed.pixiv.net/embed_mk2.php?id=${id}&size=large`,\n\t\t\twidth: '700px',\n\t\t\theight: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('poly', {\n\tname: 'Poly',\n\tdomains: ['poly.google.com'],\n\t// Embed already contains attribution\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/view\\/([a-zA-Z0-9-]+)\\/?$/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://poly.google.com/view/${id}/embed`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('pornhub', {\n\tname: 'Pornhub',\n\tdomains: [\n\t\t'www.pornhub.com',\n\t\t'www.pornhubpremium.com',\n\t],\n\tattribution: false,\n\tdetect: ({ searchParams }) => searchParams.get('viewkey'),\n\thandleLink(href, path) {\n\t\tconst url = `https://www.pornhub.com/embed/${path}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: url,\n\t\t\tembedAutoplay: `${url}?autoplay=1`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('ppy.sh', {\n\tname: 'ppy.sh',\n\tdomains: ['osu.ppy.sh'],\n\tlogo: 'https://s.ppy.sh/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/ss\\/(\\d+(?:\\/[0-9a-f]+)?)/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://osu.ppy.sh/ss/${code}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('redditbooru', {\n\tname: 'redditbooru',\n\tdomains: ['redditbooru.com'],\n\tlogo: 'https://redditbooru.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/gallery\\/([\\w]+)(\\/[\\w\\-]+)?/i).exec(pathname),\n\tasync handleLink(href, [, id, base36]) {\n\t\t// this will only be set for base36 IDs\n\t\tif (base36) {\n\t\t\tid = parseInt(id, 36);\n\t\t}\n\n\t\tconst info = await ajax({\n\t\t\turl: 'https://redditbooru.com/images/',\n\t\t\tquery: { postId: id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (!info.length) {\n\t\t\tthrow new Error('Gallery was empty.');\n\t\t}\n\n\t\tconst src = info.map(({ caption, cdnUrl, sourceUrl }) => ({\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle: caption,\n\t\t\tsrc: cdnUrl,\n\t\t\tcaption: sourceUrl ? `Source: <a href=\"${sourceUrl}\">${sourceUrl}</a>` : '',\n\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\ttitle: info[0].title,\n\t\t\tsrc,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('redditmedia', {\n\tname: 'redditmedia',\n\tdomains: ['redditmedia.com'],\n\tattribution: false,\n\tdetect: ({ hostname, searchParams }) => hostname !== 'pixel.redditmedia.com' && searchParams,\n\thandleLink(href, searchParams) {\n\t\tif (searchParams.get('fm') === 'mp4') {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: href,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('reddituploads', {\n\tname: 'reddituploads',\n\tdomains: ['reddituploads.com'],\n\tattribution: false,\n\tdetect: () => true,\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('ridewithgps', {\n\tname: 'ridewithgps',\n\tdomains: ['ridewithgps.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(trips|routes)\\/(\\d+)/i).exec(pathname),\n\thandleLink(href, [, type, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://ridewithgps.com/${type}/${id}/embed`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('simplecove', {\n\tname: 'SimpleCove',\n\tdomains: ['simplecove.com'],\n\tlogo: 'https://simplecove.com/static/images/reslogo.jpg',\n\tdetect: ({ pathname }) => (/^\\/(\\d+)/i).exec(pathname),\n\tasync handleLink(elem, [, id]) {\n\t\tconst data = await ajax({\n\t\t\turl: `https://www.simplecove.com/resapi/${id}`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst images = data.map(x => ({\n\t\t\tsrc: x.photo_src.replace('http:', 'https:'),\n\t\t\tcaption: x.photo_caption,\n\t\t\ttype: 'IMAGE',\n\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'GALLERY',\n\t\t\tsrc: images,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('snag', {\n\tname: 'snag.gy',\n\tlogo: 'https://snaggys3static-snaggy.netdna-ssl.com/favicon.png',\n\tdomains: ['snag.gy'],\n\tdetect: ({ pathname }) => (/^\\/(\\w+)(?:\\.(\\w+))?$/i).exec(pathname),\n\thandleLink(href, [, id, extension]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `https://i.snag.gy/${id}.${extension || 'jpg'}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { string } from '../../utils';\n\nexport default new Host('soundcloud', {\n\tname: 'soundcloud',\n\tdomains: ['soundcloud.com'],\n\tlogo: 'https://a-v2.sndcdn.com/assets/images/sc-icons/favicon-2cadd14b.ico',\n\tdetect: () => true,\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: string.encode`https://w.soundcloud.com/player/?url=${href}`,\n\t\t\theight: '166px',\n\t\t\twidth: '700px',\n\t\t\tpause: '{\"method\":\"pause\"}',\n\t\t\tplay: '{\"method\":\"play\"}',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('spotify', {\n\tname: 'spotify',\n\tdomains: ['spotify.com'],\n\tlogo: 'https://spotify.com/favicon.ico',\n\t/*\n\t* Match the following:\n\t* https://open.spotify.com/track/id\n\t* https://play.spotify.com/artist/id\n\t* https://play.spotify.com/album/id\n\t* https://open.spotify.com/user/someUser/playlist/id\n\t* TODO: Check username restrictions, match with something better than \\w+\n\t*/\n\tdetect: ({ href }) => (/^https:\\/\\/(?:open|play)\\.spotify\\.com\\/((?:track|artist|album|user\\/\\w+\\/playlist)\\/[a-zA-z0-9]+)$/i).exec(href),\n\thandleLink(href, [, uri]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://embed.spotify.com/?uri=spotify:${uri.replace(/\\//g, ':')}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('steamcommunity', {\n\tname: 'Steam Community',\n\tlogo: 'https://store.steampowered.com/favicon.ico',\n\tdomains: ['steamcommunity.com'],\n\tdetect: ({ pathname, searchParams }) => pathname.startsWith('/sharedfiles/filedetails') && searchParams.get('id'),\n\tpermissions: ['https://api.steampowered.com/ISteamRemoteStorage/GetPublishedFileDetails/*'],\n\tasync handleLink(href, id) {\n\t\tconst {\n\t\t\tresponse: {\n\t\t\t\tpublishedfiledetails: [{\n\t\t\t\t\ttitle,\n\t\t\t\t\tdescription: caption,\n\t\t\t\t\tpreview_url: previewUrl,\n\t\t\t\t\tfile_url: fileUrl,\n\t\t\t\t\tfilename,\n\t\t\t\t}],\n\t\t\t},\n\t\t} = await ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://api.steampowered.com/ISteamRemoteStorage/GetPublishedFileDetails/v0001/?format=json',\n\t\t\tdata: { itemcount: '1', 'publishedfileids[0]': id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (!filename) throw new Error('Response missing filename. (Private Steam Community profile?)');\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tsrc: ['.png', '.jpg', '.gif'].some(ext => filename.endsWith(ext)) ? fileUrl : previewUrl,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('steampowered', {\n\tname: 'Steam',\n\tlogo: 'https://store.steampowered.com/favicon.ico',\n\tdomains: ['steampowered.com', 'steamusercontent.com'],\n\tdetect: ({ pathname }) => (/^\\/ugc\\/(\\d{15,20}\\/\\w{40})(?:$|\\/)/i).exec(pathname),\n\thandleLink(href, [pathname]) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: `http://images.akamai.steamusercontent.com${pathname}`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('strawpoll.com', {\n\tname: 'strawpoll.com',\n\tdomains: ['strawpoll.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:embed\\/)?([a-z0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://www.strawpoll.com/embed/${id}`,\n\t\t\theight: '450px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('strawpoll', {\n\tname: 'strawpoll.me',\n\tdomains: ['strawpoll.me'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/(?:embed_\\d\\/)?(\\d+)/i).exec(pathname),\n\thandleLink(href, [, uid]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\texpandoClass: 'selftext',\n\t\t\tmuted: true,\n\t\t\tembed: `https://www.strawpoll.me/embed_1/${uid}`,\n\t\t\theight: '500px',\n\t\t\twidth: '700px',\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('streamable', {\n\tname: 'streamable',\n\tdomains: ['streamable.com'],\n\tlogo: 'https://cdn-e2.streamable.com/static/14a98f7cb1ddc5213329c039dc39cac543ba410f/img/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:[es]\\/)?(\\w+)(?:\\/\\w+)?$/i).exec(pathname),\n\tasync handleLink(href, [, hash]) {\n\t\tconst {\n\t\t\ttitle,\n\t\t\tfiles: { mp4: { url } },\n\t\t\tthumbnail_url: thumbnail,\n\t\t\tsource,\n\t\t} = await ajax({\n\t\t\turl: `https://api.streamable.com/videos/${hash}`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\ttitle,\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: url,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: thumbnail,\n\t\t\tsource,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('streamja', {\n\tname: 'streamja',\n\tdomains: ['streamja.com'],\n\tlogo: 'https://streamja.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/([^\\/]+)$/i).exec(pathname),\n\thandleLink(href, [, code]) {\n\t\tconst short = code.substring(0, 2).toLowerCase();\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tsources: [{\n\t\t\t\tsource: `https://upload.streamja.com/mp4/${short}/${code}.mp4`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}],\n\t\t\tposter: `https://upload.streamja.com/i/${short}/${code}.jpg`,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('supgif', {\n\tname: 'Supgif',\n\tdomains: ['supgif.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/c\\/([\\w\\-]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://www.supgif.com/embed/${id}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { DAY } from '../../utils';\nimport { ajax } from '../../environment';\n\nexport default new Host('supload', {\n\tname: 'supload',\n\tdomains: ['supload.com'],\n\tlogo: 'https://supload.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/([A-Za-z0-9_-]+)/i).exec(pathname),\n\tasync handleLink(href, [, id]) {\n\t\tconst data = await ajax({\n\t\t\turl: 'https://www.supload.com/oembed',\n\t\t\tquery: { url: `https://supload.com/${id}`, format: 'json' },\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\tif (data.type === 'photo') {\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: data.url,\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\ttype: 'VIDEO',\n\t\t\t\tloop: true,\n\t\t\t\tmuted: true,\n\t\t\t\tsources: [{\n\t\t\t\t\tsource: data.webmUrl,\n\t\t\t\t\ttype: 'video/webm',\n\t\t\t\t}, {\n\t\t\t\t\tsource: data.mp4Url,\n\t\t\t\t\ttype: 'video/mp4',\n\t\t\t\t}],\n\t\t\t};\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('tenor', {\n\tname: 'tenor',\n\tdomains: ['tenor.co'],\n\tlogo: 'https://www.tenor.co/favicon.ico',\n\tdetect: (() => {\n\t\tconst alphabet = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n\t\tconst alphabetMap = alphabet\n\t\t\t.split('')\n\t\t\t.reduce((obj, c, i) => {\n\t\t\t\tobj[c] = i;\n\t\t\t\treturn obj;\n\t\t\t}, {});\n\n\t\tfunction parseViewShortId(s) {\n\t\t\treturn s\n\t\t\t\t.split('')\n\t\t\t\t.reduce((n, c) => (n * alphabet.length) + alphabetMap[c], 0);\n\t\t}\n\n\t\treturn ({ hostname, pathname }) => {\n\t\t\tif (hostname === 'tenor.co') {\n\t\t\t\t// short URL\n\t\t\t\tconst pathMatch = (/^\\/([a-zA-Z0-9]+)\\.gif$/i).exec(pathname);\n\t\t\t\treturn pathMatch && { id: parseViewShortId(pathMatch[1]) };\n\t\t\t} else if (hostname === 'media.tenor.co') {\n\t\t\t\treturn { id: null };\n\t\t\t} else {\n\t\t\t\tconst pathMatch = (/^\\/view\\/.+\\-(\\d+)(\\.gif)?$/i).exec(pathname);\n\t\t\t\treturn pathMatch && { id: pathMatch[1] };\n\t\t\t}\n\t\t};\n\t})(),\n\tasync handleLink(href, { id }) {\n\t\tif (id === null) {\n\t\t\t// Some files on our CDN are named \"raw\", with no file extension,\n\t\t\t// so they won't load without this.\n\t\t\treturn {\n\t\t\t\ttype: 'IMAGE',\n\t\t\t\tsrc: href,\n\t\t\t};\n\t\t}\n\n\t\tconst { results: [gif] } = await ajax({\n\t\t\turl: 'https://api.tenor.co/v1/gifs',\n\t\t\tquery: { key: 'JJHDC7UK73EH', ids: id },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: gif.media[0].gif.url,\n\t\t\ttitle: gif.h1_title,\n\t\t\tcaption: gif.generatedcaption,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { markdown } from 'snudown-js';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('tumblr', {\n\tname: 'tumblr',\n\tdomains: ['tumblr.com'],\n\tpermissions: ['https://api.tumblr.com/v2/blog/*/posts'],\n\tlogo: 'https://secure.assets.tumblr.com/images/favicons/favicon.ico',\n\tdetect({ hostname, pathname }) {\n\t\tconst pathMatch = (/^\\/(?:post|image)\\/(\\d+)(?:\\/|$)/i).exec(pathname);\n\t\treturn pathMatch && [hostname, pathMatch[1]];\n\t},\n\tasync handleLink(href, [blog, id]) {\n\t\tconst { response } = await ajax({\n\t\t\turl: `https://api.tumblr.com/v2/blog/${blog}/posts`,\n\t\t\tquery: {\n\t\t\t\tapi_key: 'WeJQquHCAasi5EzaN9jMtIZkYzGfESUtEvcYDeSMLICveo3XDq',\n\t\t\t\tid,\n\t\t\t\tfilter: 'raw',\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst post = response.posts[0];\n\n\t\tfunction render(string) {\n\t\t\treturn post.format === 'markdown' ?\n\t\t\t\tmarkdown(string) :\n\t\t\t\tstring;\n\t\t}\n\n\t\tconst defaults = {\n\t\t\ttitle: post.title,\n\t\t\tcaption: post.caption,\n\t\t\tcredits: `Posted by: <a href=\"${response.blog.url}\">${response.blog.name}</a> @ Tumblr`,\n\t\t};\n\n\t\tswitch (post.type) {\n\t\t\tcase 'photo':\n\t\t\t\tif (!post.photos.length) throw new Error('No images in gallery.');\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'GALLERY',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: post.photos.map(photo => ({\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\tsrc: photo.original_size.url,\n\t\t\t\t\t\tcaption: photo.caption,\n\t\t\t\t\t})),\n\t\t\t\t};\n\t\t\tcase 'text':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: render(post.body),\n\t\t\t\t};\n\t\t\tcase 'quote':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tcredits: post.source,\n\t\t\t\t\tsrc: `<blockquote><p>${render(post.text)}</p></blockquote>`,\n\t\t\t\t};\n\t\t\tcase 'link':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\ttitle: `<a href=\"${post.url}\">${post.title}</a>`,\n\t\t\t\t\tsrc: render(post.description),\n\t\t\t\t};\n\t\t\tcase 'chat':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: post.dialogue.reduce((prev, { label, phrase }) => `${prev}<blockquote><p><b>${label}</b> ${phrase}</p></blockquote>`, ''),\n\t\t\t\t};\n\t\t\tcase 'answer':\n\t\t\t\tconst asking = post.asking_url ?\n\t\t\t\t\t`<a href=\"${post.asking_url}\">${post.asking_name}</a>` :\n\t\t\t\t\tpost.asking_name;\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'TEXT',\n\t\t\t\t\t...defaults,\n\t\t\t\t\tsrc: `<blockquote><p>${asking} sent: ${post.question}</p></blockquote>${render(post.answer)}`,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`Unsupported post type: ${post.type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twimg', {\n\tname: 'twimg',\n\tdomains: ['pbs.twimg.com'],\n\tlogo: 'https://twitter.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/media\\/[\\w\\-]+\\.\\w+/i).test(pathname),\n\thandleLink(href) {\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\tsrc: href,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twitch', {\n\tname: 'twitch.tv',\n\tdomains: ['twitch.tv'],\n\tlogo: 'https://www.twitch.tv/favicon.ico',\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:www\\.)?twitch\\.tv\\/(\\w+)(?:\\/([cbv])\\/([0-9]+))?\\/?(?:\\?t=(?:([0-9]+)h)?(?:([0-9]+)m)?(?:([0-9]+)s)?)?$/i).exec(href),\n\thandleLink(href, [, channel, typeId, videoId, h, m, s]) {\n\t\tconst channelOrVideo = videoId ?\n\t\t\t`video=${typeId.replace('b', 'a')}${videoId}` :\n\t\t\t`channel=${channel}`;\n\n\t\tconst embed = `https://player.twitch.tv/?${channelOrVideo}&time=${+h || 0}h${+m || 0}m${+s || 0}s`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}&autoplay=false`,\n\t\t\tembedAutoplay: `${embed}&autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('twitchclips', {\n\tname: 'twitch.tv clips',\n\tdomains: ['twitch.tv'],\n\tlogo: 'https://www.twitch.tv/favicon.ico',\n\t// clips.twitch.tv domain:\n\t// \t require capital first character for old-style URLs to avoid ambiguity\n\t//   old: /username/NameOfClip\n\t//   new: /NameOfClip\n\t//        /NameOfClip/edit (bad link to private edit page, but Twitch redirects so we should handle it)\n\t// (www.)twitch.tv domain:\n\t//   support clip name as a subcomponent of a channel URL\n\t//   ex: www.twitch.tv/<CHANNEL_NAME>/clip/<CLIP_NAME>\n\tdetect: ({ hostname, pathname }) => hostname === 'clips.twitch.tv' ? (/^\\/(\\w+(?:\\/[A-Z]\\w+)?)(?:\\/|$)/).exec(pathname) : (/^\\/\\w+\\/clip\\/(\\w+(?:\\/[A-Z]\\w+)?)(?:\\/|$)/).exec(pathname),\n\thandleLink(href, [, clipId]) {\n\t\tconst embed = `https://clips.twitch.tv/embed?clip=${clipId}`;\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `${embed}&autoplay=false`,\n\t\t\tembedAutoplay: `${embed}&autoplay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('twitter', {\n\tname: 'twitter',\n\tdomains: ['twitter.com'],\n\tpermissions: ['https://api.twitter.com/1/statuses/oembed.json'],\n\tattribution: false,\n\tdetect: ({ href }) => (/^https?:\\/\\/(?:mobile\\.)?twitter\\.com\\/(?:#!\\/)?[\\w]+\\/status(?:es)?\\/([\\d]+)/i).exec(href),\n\tasync handleLink(href, [, id]) {\n\t\t// we have to omit the script tag and all of the nice formatting it brings us in Firefox\n\t\t// because AMO does not permit externally hosted script tags being pulled in from\n\t\t// oEmbed like this...\n\t\tconst { html } = await ajax({\n\t\t\turl: 'https://api.twitter.com/1/statuses/oembed.json',\n\t\t\tquery: { id, omit_script: process.env.BUILD_TARGET === 'firefox' },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\t// Script requires element to be attached to document when starting\n\t\tconst $dummy = $('<div>');\n\n\t\treturn {\n\t\t\ttype: 'GENERIC_EXPANDO',\n\t\t\tmuted: true,\n\t\t\texpandoClass: 'selftext',\n\t\t\tgenerate: () => $dummy[0],\n\t\t\tonAttach: _.once(() => { $dummy.replaceWith(html); }),\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { string } from '../../utils';\n\nexport default new Host('vidble', {\n\tname: 'vidble',\n\tdomains: ['vidble.com'],\n\tlogo: 'https://vidble.com/assets/ico/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(show|album)\\/([a-z0-9]+)/i).exec(pathname),\n\tasync handleLink(href, [, type, hash]) {\n\t\tswitch (type) {\n\t\t\tcase 'show':\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\tsrc: `https://vidble.com/${hash}_med.jpg`,\n\t\t\t\t};\n\t\t\tcase 'album':\n\t\t\t\tconst urlObj = new URL(href);\n\t\t\t\tconst { pics } = await ajax({\n\t\t\t\t\turl: string.encode`https://vidble.com/album/album/${hash}?json=1`,\n\t\t\t\t\ttype: 'json',\n\t\t\t\t});\n\n\t\t\t\tif (!pics.length) throw new Error('No images in gallery.');\n\n\t\t\t\tconst src = pics.map((src, i) => {\n\t\t\t\t\turlObj.hash = `#pic_${i}`;\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\t\tsrc,\n\t\t\t\t\t\thref: urlObj.href,\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'GALLERY',\n\t\t\t\t\tsrc,\n\t\t\t\t};\n\t\t\tdefault:\n\t\t\t\tthrow new Error(`This should never happen. Invalid type: ${type}`);\n\t\t}\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vimeo', {\n\tname: 'vimeo',\n\tdomains: ['vimeo.com'],\n\tattribution: false,\n\tdetect: ({ pathname }) => (/^\\/([0-9]+)(?:\\/|$)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\tconst embed = `https://player.vimeo.com/video/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoplay=true`,\n\t\t\tpause: '{\"method\":\"pause\"}',\n\t\t\tplay: '{\"method\":\"play\"}',\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vlipsy', {\n\tname: 'Vlipsy',\n\tdomains: ['vlipsy.com'],\n\tlogo: 'https://vlipsy.com/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/vlip\\/(?:\\w+-)*(\\w+)$/).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://vlipsy.com/embed/${id}`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('vlive', {\n\tname: 'VLive',\n\tdomains: ['vlive.tv'],\n\tlogo: 'https://www.vlive.tv/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(?:video)\\/([0-9]+)/i).exec(pathname),\n\thandleLink(href, [, id]) {\n\t\tconst embed = `https://vlive.tv/embed/${id}`;\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed,\n\t\t\tembedAutoplay: `${embed}?autoPlay=true`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('vreddit', {\n\tname: 'v.redd.it',\n\tdomains: ['v.redd.it'],\n\tpermissions: ['https://v.redd.it/*/DASHPlaylist.mpd'],\n\tattribution: false,\n\toptions: {\n\t\treplaceNativeExpando: {\n\t\t\ttitle: 'showImagesReplaceNativeExpandoTitle',\n\t\t\tdescription: 'showImagesReplaceNativeExpandoDesc',\n\t\t\tvalue: false,\n\t\t\ttype: 'boolean',\n\t\t},\n\t},\n\tdetect: ({ pathname }) => pathname.slice(1),\n\tasync handleLink(href, id) {\n\t\tconst mpd = await ajax({ url: `https://v.redd.it/${id}/DASHPlaylist.mpd` });\n\t\tconst manifest = new DOMParser().parseFromString(mpd, 'text/xml');\n\t\t// Audio is in a seperate stream, and requires a heavy dash dependency to add to the video\n\t\tif (manifest.querySelector('AudioChannelConfiguration')) throw new Error('Audio is not supported');\n\t\tconst reps = Array.from(manifest.querySelectorAll('Representation'));\n\t\tconst sources = _.sortBy(reps, rep => parseInt(rep.getAttribute('bandwidth'), 10))\n\t\t\t.reverse()\n\t\t\t.map(rep => rep.querySelector('BaseURL'))\n\t\t\t.map(baseUrl => ({\n\t\t\t\tsource: `https://v.redd.it/${id}/${baseUrl.textContent}`,\n\t\t\t\ttype: 'video/mp4',\n\t\t\t}));\n\n\t\treturn {\n\t\t\ttype: 'VIDEO',\n\t\t\tloop: true,\n\t\t\tmuted: true,\n\t\t\tsources,\n\t\t};\n\t},\n});\n","export default {\"announcementsSubreddit\":\"RESAnnouncements\",\"name\":\"Reddit Enhancement Suite\",\"version\":\"5.18.4\",\"isBeta\":false,\"isPatch\":true,\"isMinor\":false,\"isMajor\":false,\"updatedURL\":\"https://redditenhancementsuite.com/releases/#v5.18.4\",\"homepageURL\":\"https://redditenhancementsuite.com\",\"gitDescription\":\"v5.18.4\"};","/* @flow */\n\nimport packageInfo from 'exec-loader?cache!./packageInfo';\n\nexport const {\n\tannouncementsSubreddit,\n\tname,\n\tversion,\n\tisBeta,\n\tisPatch,\n\tisMinor,\n\tisMajor,\n\tupdatedURL,\n\thomepageURL,\n\tgitDescription,\n} = packageInfo;\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Host } from '../../core/host';\nimport * as Metadata from '../../core/metadata';\nimport { ajax } from '../../environment';\n\nconst req = url => ajax({\n\turl,\n\ttype: 'json',\n\theaders: {\n\t\t// See https://www.mediawiki.org/wiki/API:Main_page#Identifying_your_client\n\t\t'Api-User-Agent': `Reddit-Enhancement-Suite/${Metadata.version} ( ${Metadata.homepageURL} )`,\n\t},\n});\n\nexport default new Host('wikipedia', {\n\tname: 'wikipedia',\n\tdomains: ['wikipedia.org', 'wikipedia.com'],\n\tlogo: 'https://en.wikipedia.org/static/favicon/wikipedia.ico',\n\tdetect: url => (url.pathname.startsWith('/wiki/') && {\n\t\tarticle: url.pathname.substr(6), // remove \"/wiki/\"\n\t\tlanguage: url.host.split('.')[0],\n\t\thash: decodeURIComponent(url.hash.substr(1)),\n\t}),\n\tasync handleLink(href, { language, article, hash }) {\n\t\t// Fix links with a www, or no lang code. These default to en\n\t\tif (language === 'www' || language === 'wikipedia') language = 'en';\n\n\t\t// If there's a hash, look up its section number\n\t\tconst { index: sectionId = 0 } = hash && (await req(`https://${language}.wikipedia.org/w/api.php?action=parse&format=json&prop=sections&page=${article}&origin=*`)).parse.sections.find(({ anchor }) => anchor === hash) || {};\n\n\t\tconst { parse: html } = await req(`https://${language}.wikipedia.org/w/api.php?action=parse&format=json&prop=text|displaytitle&section=${sectionId}&page=${article}&origin=*`);\n\n\t\t// Clean up returned html\n\t\t// DOMParser won't preload linked resources\n\t\tconst cleanDoc = new DOMParser().parseFromString(html.text['*'], 'text/html');\n\n\t\t// Remove unwanted sections\n\t\tfor (const e of cleanDoc.querySelectorAll('.metadata, .hatnote, .mw-editsection, .mwe-math-mathml-inline, .reference, .references')) e.remove();\n\n\t\t// Update all links to use the article's URL as baseURL\n\t\tfor (const e of cleanDoc.querySelectorAll('a')) {\n\t\t\te.href = new URL(e.getAttribute('href'), `https://${language}.wikipedia.org/wiki/${article}`).href;\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'TEXT',\n\t\t\ttitle: $('<div>', { html: html.displaytitle || html.title }).text(), // get title without html (jquery got quite unhappy when brackets appeared)\n\t\t\tsrc: cleanDoc.body.innerHTML,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('xboxdvr', {\n\tname: 'XboxDVR',\n\tdomains: ['xboxdvr.com'],\n\tlogo: 'https://xboxdvr.com/assets/favicon.ico',\n\tdetect: ({ pathname }) => (/^\\/(gamer\\/[^\\/]+\\/\\w+\\/\\d+)(?:\\/|$)/).exec(pathname),\n\thandleLink(href, [, path]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://xboxdvr.com/${path}/embed`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\n\nexport default new Host('xkcd', {\n\tname: 'xkcd',\n\tdomains: ['xkcd.com'],\n\tpermissions: ['https://xkcd.com/*/info.0.json'],\n\tlogo: 'https://xkcd.com/favicon.ico',\n\tdetect: ({ hostname, pathname }) => (\n\t\t// primarily to exclude what-if.xkcd.com\n\t\t['xkcd.com', 'www.xkcd.com'].includes(hostname) &&\n\t\t(/^\\/([0-9]+)(?:\\/|$)/i).exec(pathname)\n\t),\n\tasync handleLink(href, [, id]) {\n\t\tconst { title, alt, img } = await ajax({\n\t\t\turl: `https://xkcd.com/${id}/info.0.json`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\treturn {\n\t\t\ttype: 'IMAGE',\n\t\t\ttitle,\n\t\t\tcaption: alt,\n\t\t\tsrc: img,\n\t\t};\n\t},\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\nimport { ajax } from '../../environment';\nimport { DAY, batch } from '../../utils';\n\nexport default new Host('youtube', {\n\tname: 'youtube',\n\tattribution: false,\n\tdomains: ['youtube.com', 'youtu.be'],\n\tdetect: ({ pathname, hostname, searchParams }) => {\n\t\t// split path excluding first /\n\t\tconst split = pathname.substring(1).split('/');\n\t\t// livestream channel url\n\t\tif (split[0] === 'channel' && split[2] === 'live') return [`live_stream?channel=${split[1]}`, searchParams];\n\t\t// short url\n\t\tif (hostname.endsWith('youtu.be')) return [split[0], searchParams];\n\t\t// long url\n\t\t//   ?v=\n\t\tconst vParam = searchParams.get('v');\n\t\tif (vParam) return [vParam, searchParams];\n\t\t//   watch/embed/v\n\t\tif ((/watch|embed|v/i).exec(split[0])) return [split[1], searchParams];\n\t\t//   attribution_link\n\t\tconst uParam = searchParams.get('u');\n\t\tif (split[0] === 'attribution_link' && uParam !== null) {\n\t\t\tconst vParam = new URLSearchParams(uParam.split('?')[1]).get('v');\n\t\t\tif (vParam) return [vParam, searchParams];\n\t\t}\n\t},\n\thandleLink(href, [id, searchParams]) {\n\t\tconst url = new URL(`https://www.youtube.com/embed/${id}`);\n\t\turl.searchParams.set('version', '3');\n\t\turl.searchParams.set('rel', '0');\n\n\t\tconst tParam = searchParams.get('t');\n\t\tif (tParam) {\n\t\t\tlet start = 0;\n\t\t\tconst timeBlocks = { h: 3600, m: 60, s: 1 };\n\t\t\tconst timeRe = /[0-9]+[hms]/ig;\n\t\t\t// Get each segment e.g. 8m and calculate its value in seconds\n\t\t\tconst timeMatch = tParam.match(timeRe);\n\n\t\t\tif (timeMatch) {\n\t\t\t\tfor (const ts of timeMatch) {\n\t\t\t\t\tconst unit = timeBlocks[ts.slice(-1)];\n\t\t\t\t\tconst amount = parseInt(ts.slice(0, -1), 10);\n\t\t\t\t\t// Add each unit to start\n\t\t\t\t\tstart += unit * amount;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// support direct timestamp e.g. t=200\n\t\t\t\tstart = parseInt(tParam, 10);\n\t\t\t\tif (isNaN(start)) start = 0;\n\t\t\t}\n\t\t\turl.searchParams.set('start', String(start));\n\t\t}\n\n\t\tfor (const k of ['end', 'start', 'list']) {\n\t\t\tconst param = searchParams.get(k);\n\t\t\tif (param) url.searchParams.set(k, param);\n\t\t}\n\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: url.href,\n\t\t\tembedAutoplay: `${url.href}&autoplay=1`,\n\t\t\tfixedRatio: true,\n\t\t};\n\t},\n\tgetVideoData: batch(async ids => {\n\t\tconst { items } = await ajax({\n\t\t\turl: 'https://www.googleapis.com/youtube/v3/videos',\n\t\t\tquery: {\n\t\t\t\tid: [...ids].sort().join(','), // sorted to improve cache hit likelyhood\n\t\t\t\tpart: ['id', 'contentDetails', 'snippet', 'statistics'].join(','),\n\t\t\t\tfields: `items(${['id', 'contentDetails(duration)', 'snippet(title,publishedAt)', 'statistics(viewCount)'].join(',')})`,\n\t\t\t\tkey: 'AIzaSyB8ufxFN0GapU1hSzIbuOLfnFC0XzJousw',\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t});\n\n\t\treturn ids\n\t\t\t.map(id => {\n\t\t\t\tconst data = items.find(({ id: _id }) => _id === id);\n\t\t\t\ttry {\n\t\t\t\t\tconst { contentDetails: { duration: rawDuration }, snippet: { title, publishedAt }, statistics: { viewCount } } = data;\n\n\t\t\t\t\tconst duration = ['0']\n\t\t\t\t\t\t.concat(rawDuration.match(/^PT(?:(\\d+)H)?(?:(\\d+)M)?(?:(\\d+)S)?$/i).slice(1)) // PT1H11M46S\n\t\t\t\t\t\t.map(time => `0${time || 0}`.slice(-2))\n\t\t\t\t\t\t.filter((time, i, { length }) => +time !== 0 || i >= length - 2)\n\t\t\t\t\t\t.join(':');\n\n\t\t\t\t\treturn { title, duration, publishedAt, viewCount };\n\t\t\t\t} catch (e) { /* empty */ }\n\t\t\t});\n\t}, { size: 50, delay: 0 }),\n});\n","/* @flow */\n\nimport { Host } from '../../core/host';\n\nexport default new Host('znipe', {\n\tname: 'ZnipeTV',\n\tdomains: ['beta.znipe.tv', 'www.znipe.tv'],\n\tlogo: 'https://assets.znipe.tv/icons/favicon.jpg',\n\tdetect: ({ searchParams }) => {\n\t\tconst mParam = searchParams.get('m');\n\t\tif (mParam) return ['m', mParam];\n\n\t\tconst vParam = searchParams.get('v');\n\t\tif (vParam) return ['v', vParam];\n\t},\n\thandleLink(href, [clipType, clipId]) {\n\t\treturn {\n\t\t\ttype: 'IFRAME',\n\t\t\tembed: `https://beta.znipe.tv/watch?${clipType}=${clipId}`,\n\t\t};\n\t},\n});\n","/* generated by sibling-loader */\nimport { default as _0 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/aarli.js\";\nimport { default as _1 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/adultswim.js\";\nimport { default as _2 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/archilogic.js\";\nimport { default as _3 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/archiveis.js\";\nimport { default as _4 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/bime.js\";\nimport { default as _5 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/clyp.js\";\nimport { default as _6 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/codepen.js\";\nimport { default as _7 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/coub.js\";\nimport { default as _8 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/dailymotion.js\";\nimport { default as _9 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/default.js\";\nimport { default as _10 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/defaultAudio.js\";\nimport { default as _11 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/defaultVideo.js\";\nimport { default as _12 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/derpibooru.js\";\nimport { default as _13 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/deviantart.js\";\nimport { default as _14 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/dropbox.js\";\nimport { default as _15 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/fiveHundredPx.js\";\nimport { default as _16 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/flickr.js\";\nimport { default as _17 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/getyarn.js\";\nimport { default as _18 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gfycat.js\";\nimport { default as _19 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gifyoutube.js\";\nimport { default as _20 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/giphy.js\";\nimport { default as _21 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/github.js\";\nimport { default as _22 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/googlemaps.js\";\nimport { default as _23 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/gyazo.js\";\nimport { default as _24 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/hastebin.js\";\nimport { default as _25 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/iloopit.js\";\nimport { default as _26 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/imgflip.js\";\nimport { default as _27 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/imgur.js\";\nimport { default as _28 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/instagram.js\";\nimport { default as _29 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ireddit.js\";\nimport { default as _30 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/jsfiddle.js\";\nimport { default as _31 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/liveleak.js\";\nimport { default as _32 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/livememe.js\";\nimport { default as _33 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/makeameme.js\";\nimport { default as _34 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/memecrunch.js\";\nimport { default as _35 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/memedad.js\";\nimport { default as _36 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/mixer.js\";\nimport { default as _37 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/onedrive.js\";\nimport { default as _38 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pastebin.js\";\nimport { default as _39 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/peertube.js\";\nimport { default as _40 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/photobucket.js\";\nimport { default as _41 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pixiv.js\";\nimport { default as _42 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/poly.js\";\nimport { default as _43 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/pornhub.js\";\nimport { default as _44 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ppy.js\";\nimport { default as _45 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redditbooru.js\";\nimport { default as _46 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/redditmedia.js\";\nimport { default as _47 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/reddituploads.js\";\nimport { default as _48 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/ridewithgps.js\";\nimport { default as _49 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/simplecove.js\";\nimport { default as _50 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/snag.js\";\nimport { default as _51 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/soundcloud.js\";\nimport { default as _52 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/spotify.js\";\nimport { default as _53 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/steamcommunity.js\";\nimport { default as _54 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/steampowered.js\";\nimport { default as _55 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/strawpollcom.js\";\nimport { default as _56 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/strawpollme.js\";\nimport { default as _57 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamable.js\";\nimport { default as _58 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/streamja.js\";\nimport { default as _59 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/supgif.js\";\nimport { default as _60 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/supload.js\";\nimport { default as _61 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/tenor.js\";\nimport { default as _62 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/tumblr.js\";\nimport { default as _63 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twimg.js\";\nimport { default as _64 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitch.js\";\nimport { default as _65 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitchclips.js\";\nimport { default as _66 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/twitter.js\";\nimport { default as _67 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vidble.js\";\nimport { default as _68 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vimeo.js\";\nimport { default as _69 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vlipsy.js\";\nimport { default as _70 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vlive.js\";\nimport { default as _71 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/vreddit.js\";\nimport { default as _72 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/wikipedia.js\";\nimport { default as _73 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/xboxdvr.js\";\nimport { default as _74 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/xkcd.js\";\nimport { default as _75 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/youtube.js\";\nimport { default as _76 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hosts/znipe.js\";\nexport default { \"aarli.js\": _0, \"adultswim.js\": _1, \"archilogic.js\": _2, \"archiveis.js\": _3, \"bime.js\": _4, \"clyp.js\": _5, \"codepen.js\": _6, \"coub.js\": _7, \"dailymotion.js\": _8, \"default.js\": _9, \"defaultAudio.js\": _10, \"defaultVideo.js\": _11, \"derpibooru.js\": _12, \"deviantart.js\": _13, \"dropbox.js\": _14, \"fiveHundredPx.js\": _15, \"flickr.js\": _16, \"getyarn.js\": _17, \"gfycat.js\": _18, \"gifyoutube.js\": _19, \"giphy.js\": _20, \"github.js\": _21, \"googlemaps.js\": _22, \"gyazo.js\": _23, \"hastebin.js\": _24, \"iloopit.js\": _25, \"imgflip.js\": _26, \"imgur.js\": _27, \"instagram.js\": _28, \"ireddit.js\": _29, \"jsfiddle.js\": _30, \"liveleak.js\": _31, \"livememe.js\": _32, \"makeameme.js\": _33, \"memecrunch.js\": _34, \"memedad.js\": _35, \"mixer.js\": _36, \"onedrive.js\": _37, \"pastebin.js\": _38, \"peertube.js\": _39, \"photobucket.js\": _40, \"pixiv.js\": _41, \"poly.js\": _42, \"pornhub.js\": _43, \"ppy.js\": _44, \"redditbooru.js\": _45, \"redditmedia.js\": _46, \"reddituploads.js\": _47, \"ridewithgps.js\": _48, \"simplecove.js\": _49, \"snag.js\": _50, \"soundcloud.js\": _51, \"spotify.js\": _52, \"steamcommunity.js\": _53, \"steampowered.js\": _54, \"strawpollcom.js\": _55, \"strawpollme.js\": _56, \"streamable.js\": _57, \"streamja.js\": _58, \"supgif.js\": _59, \"supload.js\": _60, \"tenor.js\": _61, \"tumblr.js\": _62, \"twimg.js\": _63, \"twitch.js\": _64, \"twitchclips.js\": _65, \"twitter.js\": _66, \"vidble.js\": _67, \"vimeo.js\": _68, \"vlipsy.js\": _69, \"vlive.js\": _70, \"vreddit.js\": _71, \"wikipedia.js\": _72, \"xboxdvr.js\": _73, \"xkcd.js\": _74, \"youtube.js\": _75, \"znipe.js\": _76 };","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { sanitize } from 'dompurify';\nimport { flow, keyBy, map } from 'lodash/fp';\nimport type {\n\tExpandoMedia,\n\tGalleryMedia,\n\tImageMedia,\n\tVideoMedia,\n\tAudioMedia,\n\tTextMedia,\n\tIframeMedia,\n\tGenericMedia,\n} from '../core/host';\nimport { Host } from '../core/host';\nimport { Module } from '../core/module';\nimport {\n\tpositiveModulo,\n\tdowncast,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tbatch,\n\tCreateElement,\n\telementInViewport,\n\tscrollToElement,\n\tforEachSeq,\n\tidleThrottle,\n\tframeThrottle,\n\tisPageType,\n\tisAppType,\n\tstring,\n\twaitForEvent,\n\twatchForElements,\n\twatchForThings,\n\twatchForRedditEvents,\n\tgetPercentageVisibleYAxis,\n\tgetViewportSize,\n} from '../utils';\nimport {\n\taddURLToHistory,\n\tajax,\n\tdownload,\n\tisPrivateBrowsing,\n\topenNewTab,\n\tPermissions,\n\tStorage,\n} from '../environment';\nimport * as Options from '../core/options';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport {\n\taudioTemplate,\n\tcrosspostMetadataTemplate,\n\tgalleryTemplate,\n\timageTemplate,\n\tiframeTemplate,\n\tmediaControlsTemplate,\n\tsiteAttributionTemplate,\n\ttextTemplate,\n\tvideoTemplate,\n} from './showImages/templates';\nimport {\n\tExpando,\n\texpandos,\n\tactiveExpandos,\n} from './showImages/expando';\nimport __hosts from 'sibling-loader?import=default!./hosts/default';\n\nconst siteModules: { [string]: Host<any, any> } = flow(\n\t() => Object.values(__hosts),\n\tmap(host => downcast(host, Host)), // ensure that all hosts are instances of `Host`\n\tkeyBy(host => host.moduleID)\n)();\n\nexport const genericHosts: Host<any, any>[] = [siteModules.default, siteModules.defaultVideo, siteModules.defaultAudio];\n\nexport const module: Module<*> = new Module('showImages');\n\nmodule.moduleName = 'showImagesName';\nmodule.category = 'productivityCategory';\nmodule.description = 'showImagesDesc';\nmodule.bodyClass = true;\nmodule.options = {\n\tmediaBrowse: {\n\t\ttitle: 'showImagesMediaBrowseTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMediaBrowseDesc',\n\t},\n\tbrowsePreloadCount: {\n\t\ttitle: 'showImagesBrowsePreloadCountTitle',\n\t\ttype: 'text',\n\t\tvalue: '1',\n\t\tdescription: 'showImagesBrowsePreloadCountDesc',\n\t\tdependsOn: options => options.mediaBrowse.value,\n\t},\n\tgalleryPreloadCount: {\n\t\ttitle: 'showImagesGalleryPreloadCountTitle',\n\t\ttype: 'text',\n\t\tvalue: '2',\n\t\tdescription: 'showImagesGalleryPreloadCountDesc',\n\t},\n\tconserveMemory: {\n\t\ttitle: 'showImagesConserveMemoryTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesConserveMemoryDesc',\n\t},\n\tmaxWidth: {\n\t\ttitle: 'showImagesMaxWidthTitle',\n\t\ttype: 'text',\n\t\tvalue: '100%',\n\t\tdescription: 'showImagesMaxWidthDesc',\n\t\tadvanced: true,\n\t},\n\tmaxHeight: {\n\t\ttitle: 'showImagesMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '80%',\n\t\tdescription: 'showImagesMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tdisplayOriginalResolution: {\n\t\ttitle: 'showImagesDisplayOriginalResolutionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesDisplayOriginalResolutionDesc',\n\t},\n\tselfTextMaxHeight: {\n\t\ttitle: 'showImagesSelfTextMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesSelfTextMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tcommentMaxHeight: {\n\t\ttitle: 'showImagesCommentMaxHeightTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesCommentMaxHeightDesc',\n\t\tadvanced: true,\n\t},\n\tautoMaxHeight: {\n\t\ttitle: 'showImagesAutoMaxHeightTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesAutoMaxHeightDesc',\n\t\tdependsOn: options => !!parseInt(options.selfTextMaxHeight.value, 10) || !!parseInt(options.commentMaxHeight.value, 10),\n\t\tadvanced: true,\n\t},\n\topenInNewWindow: {\n\t\ttitle: 'showImagesOpenInNewWindowTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesOpenInNewWindowDesc',\n\t},\n\thideNSFW: {\n\t\ttitle: 'showImagesHideNSFWTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesHideNSFWDesc',\n\t},\n\thighlightNSFWButton: {\n\t\ttitle: 'showImagesHighlightNSFWButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesHighlightNSFWButtonDesc',\n\t\tbodyClass: true,\n\t},\n\thighlightSpoilerButton: {\n\t\ttitle: 'showImagesHighlightSpoilerButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesHighlightSpoilerButtonDesc',\n\t\tbodyClass: true,\n\t},\n\timageZoom: {\n\t\ttitle: 'showImagesImageZoomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesImageZoomDesc',\n\t},\n\timageMove: {\n\t\ttitle: 'showImagesImageMoveTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesImageMoveDesc',\n\t},\n\tmediaControls: {\n\t\ttitle: 'showImagesMediaControlsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMediaControlsDesc',\n\t},\n\tmediaControlsPosition: {\n\t\ttitle: 'showImagesMediaControlsPositionTitle',\n\t\tdependsOn: options => options.mediaControls.value,\n\t\ttype: 'enum',\n\t\tvalue: 'top-left',\n\t\tvalues: [{\n\t\t\tname: 'Top left',\n\t\t\tvalue: 'top-left',\n\t\t}, {\n\t\t\tname: 'Top right',\n\t\t\tvalue: 'top-right',\n\t\t}, {\n\t\t\tname: 'Bottom left.',\n\t\t\tvalue: 'bottom-left',\n\t\t}, {\n\t\t\tname: 'Bottom right.',\n\t\t\tvalue: 'bottom-right',\n\t\t}],\n\t\tdescription: 'showImagesMediaControlsPositionDesc',\n\t},\n\tclippy: {\n\t\ttitle: 'showImagesClippyTitle',\n\t\tdependsOn: options => options.mediaControls.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesClippyDesc',\n\t},\n\tcrossposts: {\n\t\ttitle: 'showImagesCrosspostsTitle',\n\t\tdescription: 'showImagesCrosspostsDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'withMetadata',\n\t\tvalues: [{\n\t\t\tname: 'Do not replace Reddit crosspost expando',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Show with original post\\'s metadata',\n\t\t\tvalue: 'withMetadata',\n\t\t}, {\n\t\t\tname: 'Show without metadata',\n\t\t\tvalue: 'plain',\n\t\t}],\n\t},\n\tdisplayImageCaptions: {\n\t\ttitle: 'showImagesDisplayImageCaptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesDisplayImageCaptionsDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tcaptionsPosition: {\n\t\ttitle: 'showImagesCaptionsPositionTitle',\n\t\tdependsOn: options => options.displayImageCaptions.value,\n\t\ttype: 'enum',\n\t\tvalue: 'titleAbove',\n\t\tvalues: [{\n\t\t\tname: 'Display all captions above image.',\n\t\t\tvalue: 'allAbove',\n\t\t}, {\n\t\t\tname: 'Display title and caption above image, credits below.',\n\t\t\tvalue: 'creditsBelow',\n\t\t}, {\n\t\t\tname: 'Display title above image, caption and credits below.',\n\t\t\tvalue: 'titleAbove',\n\t\t}, {\n\t\t\tname: 'Display all captions below image.',\n\t\t\tvalue: 'allBelow',\n\t\t}],\n\t\tdescription: 'showImagesCaptionsPositionDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tmarkVisited: {\n\t\ttitle: 'showImagesMarkVisitedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesMarkVisitedDesc',\n\t\tadvanced: true,\n\t},\n\tmarkSelftextVisited: {\n\t\ttitle: 'showImagesMarkSelftextVisitedTitle',\n\t\tdependsOn: options => options.markVisited.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesMarkSelftextVisitedDesc',\n\t\tadvanced: true,\n\t},\n\tsfwHistory: {\n\t\ttitle: 'showImagesSfwHistoryTitle',\n\t\tdependsOn: options => options.markVisited.value,\n\t\ttype: 'enum',\n\t\tvalue: 'add',\n\t\tvalues: [{\n\t\t\tname: 'Add links to history',\n\t\t\tvalue: 'add',\n\t\t}, {\n\t\t\tname: 'Do not add or color links.',\n\t\t\tvalue: 'none',\n\t\t}],\n\t\tdescription: 'showImagesSfwHistoryDesc',\n\t},\n\tgalleryRememberWidth: {\n\t\ttitle: 'showImagesGalleryRememberWidthTitle',\n\t\tdependsOn: options => options.imageZoom.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesGalleryRememberWidthDesc',\n\t},\n\tgalleryAsFilmstrip: {\n\t\ttitle: 'showImagesGalleryAsFilmstripTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesGalleryAsFilmstripDesc',\n\t},\n\tfilmstripLoadIncrement: {\n\t\ttitle: 'showImagesFilmstripLoadIncrementTitle',\n\t\tdependsOn: options => options.galleryAsFilmstrip.value,\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'showImagesFilmstripLoadIncrementDesc',\n\t},\n\tuseSlideshowWhenLargerThan: {\n\t\ttitle: 'showImagesUseSlideshowWhenLargerThanTitle',\n\t\tdependsOn: options => options.galleryAsFilmstrip.value,\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesUseSlideshowWhenLargerThanDesc',\n\t},\n\tshowViewImagesTab: {\n\t\ttitle: 'showImagesShowViewImagesTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesShowViewImagesTabDesc',\n\t},\n\tautoExpandTypes: {\n\t\ttitle: 'showImagesAutoExpandTypesTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'any',\n\t\tvalues: [{\n\t\t\tname: 'Images (but occasionally also .gif)',\n\t\t\tvalue: 'image',\n\t\t}, {\n\t\t\tname: 'Images, text',\n\t\t\tvalue: 'image text',\n\t\t}, {\n\t\t\tname: 'Images, text, galleries, and muted videos',\n\t\t\tvalue: 'image text gallery video',\n\t\t}, {\n\t\t\tname: 'All muted expandos (includes iframes)',\n\t\t\tvalue: 'any',\n\t\t}],\n\t\tdescription: 'showImagesAutoExpandTypesDesc',\n\t},\n\tautoExpandSelfText: {\n\t\ttitle: 'showImagesAutoExpandSelfTextTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoExpandSelfTextDesc',\n\t},\n\tautoExpandSelfTextFirstVisibleNonMuted: {\n\t\ttitle: 'showImagesAutoExpandSelfTextFirstVisibleNonMutedTitle',\n\t\tdependsOn: options => options.autoExpandSelfText.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoExpandSelfTextFirstVisibleNonMutedDesc',\n\t},\n\tautoExpandSelfTextNSFW: {\n\t\ttitle: 'showImagesAutoExpandSelfTextNSFWTitle',\n\t\tdependsOn: options => options.autoExpandSelfText.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesAutoExpandSelfTextNSFWDesc',\n\t},\n\tshowSiteAttribution: {\n\t\ttitle: 'showImagesShowSiteAttributionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesShowSiteAttributionDesc',\n\t},\n\texpandoCommentRedirects: {\n\t\ttitle: 'showImagesExpandoCommentRedirectsTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'expando',\n\t\tvalues: [{\n\t\t\tname: 'Do nothing',\n\t\t\tvalue: 'nothing',\n\t\t}, {\n\t\t\tname: 'Create expandos',\n\t\t\tvalue: 'expando',\n\t\t}, {\n\t\t\tname: 'Create expandos, redirect the link back to the image',\n\t\t\tvalue: 'rewrite',\n\t\t}],\n\t\tdescription: 'showImagesExpandoCommentRedirectsDesc',\n\t},\n\tstartVideosMuted: {\n\t\ttitle: 'showImagesStartVideosMutedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesStartVideosMutedDesc',\n\t},\n\tonlyPlayMutedWhenVisible: {\n\t\ttitle: 'showImagesOnlyPlayMutedWhenVisibleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesOnlyPlayMutedWhenVisibleDesc',\n\t},\n\tmaxSimultaneousPlaying: {\n\t\ttitle: 'showImagesMaxSimultaneousPlayingTitle',\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'showImagesMaxSimultaneousPlayingDesc',\n\t},\n\tautoplayVideo: {\n\t\ttitle: 'showImagesAutoplayVideoTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showImagesAutoplayVideoDesc',\n\t},\n\thidePinnedRedditVideos: {\n\t\ttitle: 'showImagesHidePinnedRedditVideosTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showImagesHidePinnedRedditVideosDesc',\n\t\tbodyClass: true,\n\t},\n\t...Object.values(siteModules).reduce((options, siteModule) => {\n\t\t// Ignore default\n\t\tif (genericHosts.includes(siteModule)) return options;\n\n\t\t// Create on/off options\n\t\toptions[siteModuleOptionKey(siteModule)] = {\n\t\t\ttitle: siteModule.name,\n\t\t\tdescription: 'showImagesHostToggleDesc',\n\t\t\tvalue: true,\n\t\t\ttype: 'boolean',\n\t\t};\n\n\t\t// Find out if module has any additional options - if it does add them\n\t\tObject.assign(options, siteModule.options);\n\n\t\treturn options;\n\t}, {}),\n};\nmodule.exclude = [\n\t/^\\/ads\\/[\\-\\w\\._\\?=]*/i,\n\t'submit',\n\t/^\\/subreddits/i,\n];\n\nmodule.beforeLoad = () => {\n\tconst selfTextMaxHeight = parseInt(module.options.selfTextMaxHeight.value, 10);\n\tif (selfTextMaxHeight) {\n\t\t// Strange selector necessary to select tumblr expandos, etc.\n\t\taddCSS(`\n\t\t\t.selftext.expanded ~ * .md {\n\t\t\t\tmax-height: ${selfTextMaxHeight}px;\n\t\t\t\toverflow-y: auto !important;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t`);\n\t}\n\n\tconst commentMaxHeight = parseInt(module.options.commentMaxHeight.value, 10);\n\tif (commentMaxHeight) {\n\t\taddCSS(`\n\t\t\t.comment .md {\n\t\t\t\tmax-height: ${commentMaxHeight}px;\n\t\t\t\toverflow-y: auto !important;\n\t\t\t\tposition: relative;\n\t\t\t}\n\t\t`);\n\t}\n\n\twatchForElements(['selfText'], null, scanBody);\n\twatchForThings(['comment', 'message'], thing => scanBody(thing.getTextBody()), { id: module });\n\twatchForThings(['post'], thing => checkElementForMedia(thing.getPostLink()), { id: module });\n\n\twatchForRedditEvents('comment', (placeholder, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst comment = placeholder.closest('.Comment');\n\t\t// TODO `comment` should be refined to the text body, but it doesn't yet have a class\n\t\tscanBody(comment);\n\t});\n\n\t// selftexts in comment pages evidently does not emit an event\n\t// TODO this prevent expando from being added when there's already media there\n\twatchForRedditEvents('postAuthor', (placeholder, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst body = placeholder.closest('[data-test-id=\"post-content\"]');\n\t\t// Ignore posts that has native media\n\t\tif (body && body.querySelector('.media-element')) return;\n\t\tscanBody(body);\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (module.options.showViewImagesTab.value && isAppType('r2')) {\n\t\tviewImagesButton();\n\t}\n\n\tif (module.options.mediaBrowse.value) {\n\t\tSelectedThing.addListener(mediaBrowse, 'instantly');\n\t}\n\n\tif (module.options.autoMaxHeight.value) {\n\t\t$(document.body).on('mediaResize', '.thing > .entry', updateParentHeight);\n\t}\n};\n\nmodule.go = () => {\n\tif (isPageType('wiki')) scanBody(document.querySelector('.wiki-page-content'));\n\n\t// Handle spotlight next/prev hiding open expando's\n\tconst spotlight = document.querySelector('#siteTable_organic');\n\tif (spotlight) {\n\t\tconst nextprev = spotlight.querySelector('.nextprev');\n\t\tif (nextprev) {\n\t\t\tnextprev.addEventListener('click', () => {\n\t\t\t\tconst open = spotlight.querySelector('.expando-button.expanded');\n\t\t\t\tif (open) open.click();\n\t\t\t});\n\t\t}\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.conserveMemory.value) {\n\t\tenableConserveMemory();\n\t}\n};\n\nfunction siteModuleOptionKey(siteModule) {\n\tconst id = siteModule.moduleID;\n\treturn `display_${id}`;\n}\n\nfunction isSiteModuleEnabled(siteModule) {\n\tconst key = siteModuleOptionKey(siteModule);\n\treturn !module.options[key] || module.options[key].value;\n}\n\nconst sitesMap = _.once(() =>\n\tObject.values(siteModules)\n\t\t.filter(isSiteModuleEnabled)\n\t\t.reduce((map, siteModule) => {\n\t\t\tfor (const domain of siteModule.domains) {\n\t\t\t\tmap.set(domain, (map.get(domain) || []).concat(siteModule));\n\t\t\t}\n\t\t\treturn map;\n\t\t}, new Map())\n);\n\n// A missing subdomain matches all subdomains, for example:\n// A module with `domains: ['example.com']` will match `www.example.com` and `example.com`\n// A module with `domains: ['www.example.com']` will match only `www.example.com`\nfunction* modulesForHostname(hostname) {\n\tdo {\n\t\tfor (const m of sitesMap().get(hostname) || []) yield m;\n\t} while ((hostname = hostname.replace(/^.+?(\\.|$)/, '')));\n\n\tfor (const m of genericHosts) yield m;\n}\n\n/**\n * enableConserveMemory\n * attempt to unload collapsed expando's & images that are off screen in order\n * to save memory\n *\n * @returns {void}\n */\nfunction enableConserveMemory() {\n\t// Making elements fullscreen makes the intersectionobserver report that nothing is intersecting\n\t// $FlowIssue `mozFullScreenElement` is not recognized\n\tconst fullscreenActive = () => !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement: any);\n\n\t// x-axis is set to 100000% in order to not unload images when scrolling too far horizontally\n\tconst rootMargin = '50% 100000%';\n\n\tconst boxMap = new WeakMap();\n\tconst ioBox = new IntersectionObserver(entries => {\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tif (!isIntersecting && fullscreenActive()) return;\n\t\t\tconst { media } = downcast(boxMap.get(target), Expando);\n\t\t\tif (media) media.setLoaded(isIntersecting);\n\t\t\telse ioBox.unobserve(target);\n\t\t}\n\t}, { rootMargin });\n\n\tconst buttonMap = new WeakMap();\n\tconst ioButton = new IntersectionObserver(entries => {\n\t\tif (fullscreenActive()) return;\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tconst expando = downcast(buttonMap.get(target), Expando);\n\t\t\tconst { open } = expando;\n\t\t\tif (!isIntersecting && !open) {\n\t\t\t\tioButton.unobserve(target);\n\t\t\t\texpando.empty();\n\t\t\t}\n\t\t}\n\t}, { rootMargin });\n\n\twindow.addEventListener('scroll', idleThrottle(() => {\n\t\tfor (const expando of activeExpandos.values()) {\n\t\t\tif (expando.isAttached()) {\n\t\t\t\tconst { box, media, button } = expando;\n\t\t\t\tif (!media) continue;\n\t\t\t\tif (media.supportsUnload()) {\n\t\t\t\t\tioBox.observe(box);\n\t\t\t\t\tboxMap.set(box, expando);\n\t\t\t\t} else {\n\t\t\t\t\tioButton.observe(button);\n\t\t\t\t\tbuttonMap.set(button, expando);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\texpando.destroy();\n\t\t\t}\n\t\t}\n\t}));\n}\n\nlet autoExpandActive = false;\nlet mediaBrowseModeActive = false;\n\nexport const viewImagesButton = _.once(() => CreateElement.tabMenuItem({\n\ttext: 'show images',\n\tclassName: 'res-show-images',\n\tonChange: active => {\n\t\tautoExpandActive = active;\n\t\t// When activated, open the new ones in addition to the ones already open\n\t\t// When deactivated, close all which are open\n\t\tfor (const expando of Array.from(expandos.values()).filter(expando => expando instanceof Expando && expando.button.offsetParent)) {\n\t\t\tconst open = isExpandWanted(expando);\n\t\t\tif (open) expando.expand();\n\t\t\telse if (!autoExpandActive) expando.collapse();\n\t\t}\n\t},\n}));\n\nexport function toggleThingExpandos(thing: Thing, { scrollOnToggle }: {| scrollOnToggle?: boolean |} = {}): void {\n\tconst expandos = Expando.getAllExpandosFrom(thing);\n\tif (!expandos.length) return;\n\n\tconst openExpandos = expandos.filter(v => v.open);\n\n\t// If any open expandos exists within thing, collapse all\n\t// Else, expand all\n\tif (openExpandos.length) {\n\t\tfor (const expando of openExpandos) expando.collapse();\n\n\t\tif (scrollOnToggle) {\n\t\t\t// Only scroll downwards to the top of the entry, to make more space for the expandos\n\t\t\tscrollToElement(thing.entry, null, { scrollStyle: 'directional', restrictDirectionTo: 'up' });\n\t\t}\n\t} else {\n\t\tfor (const expando of expandos) {\n\t\t\tif (\n\t\t\t\t!(expando instanceof Expando) ||\n\t\t\t\tisExpandWanted(expando, { thing, autoExpandFirstVisibleNonMutedInThing: true, autoExpand: true, autoExpandTypes: [], ignoreDuplicatesScope: thing.entry })\n\t\t\t) {\n\t\t\t\texpando.expand();\n\t\t\t}\n\t\t}\n\n\t\tif (scrollOnToggle) {\n\t\t\t// Only scroll downwards to the top of the entry, to make more space for the expandos\n\t\t\tscrollToElement(thing.entry, null, { scrollStyle: 'top', restrictDirectionTo: 'down' });\n\t\t}\n\t}\n}\n\n// idleThrottle since this is low-priority\nconst preloadExpandos = idleThrottle((fromThing, direction, preloadCount = parseInt(module.options.browsePreloadCount.value, 10)) => {\n\tconst pieces = [];\n\tlet target = fromThing;\n\n\tdo {\n\t\tconst expando = Expando.getEntryExpandoFrom(target);\n\t\tif (expando && expando instanceof Expando) pieces.push(expando);\n\t} while ((target = target.getNext({ direction })) && pieces.length <= preloadCount);\n\n\tpreloadMedia(pieces);\n});\n\nfunction mediaBrowse(selected, unselected, options) {\n\tif (!selected || !options.allowMediaBrowse || autoExpandActive) return;\n\n\tconst oldExpando = Expando.getEntryExpandoFrom(unselected);\n\tconst newExpando = Expando.getEntryExpandoFrom(selected);\n\n\tif (oldExpando) {\n\t\tmediaBrowseModeActive = oldExpando.expandWanted || oldExpando.open;\n\t\toldExpando.collapse();\n\t}\n\n\tif (mediaBrowseModeActive && newExpando) {\n\t\tnewExpando.expand();\n\t\toptions.scrollStyle = 'top';\n\n\t\tpreloadExpandos(selected, options.direction);\n\t}\n}\n\nfunction hasEntryAnyExpandedNonMuted(thing) {\n\treturn Expando.getTextExpandosFrom(thing).some(expando =>\n\t\texpando.types.includes('non-muted') && (expando.open || expando.expandWanted)\n\t);\n}\n\nexport const types = ['selftext', 'video', 'image', 'iframe', 'gallery', 'native', 'muted', 'non-muted'];\n\nexport function matchesTypes(wantedTypes: string[], expandoTypes: string[] = types): boolean {\n\treturn !wantedTypes.length || !!_.intersection(expandoTypes, wantedTypes).length;\n}\n\nfunction isExpandWanted(expando: Expando, {\n\tthing,\n\tautoExpand = autoExpandActive,\n\tautoExpandTypes = module.options.autoExpandTypes.value.replace('any', '').split(' ').filter(Boolean),\n\tignoreDuplicates = true,\n\tignoreDuplicatesScope,\n\tonlyExpandMuted = true,\n\tautoExpandFirstVisibleNonMutedInThing = false,\n}: {|\n\tthing?: ?Thing,\n\tautoExpand?: boolean,\n\tautoExpandTypes?: string[],\n\tignoreDuplicates?: boolean,\n\tignoreDuplicatesScope?: HTMLElement,\n\tonlyExpandMuted?: boolean,\n\tautoExpandFirstVisibleNonMutedInThing?: boolean,\n|} = {}) {\n\tif (ignoreDuplicates) {\n\t\tconst duplicates = expando.getDuplicates().filter(v => activeExpandos.has(v));\n\t\tif (duplicates.length) {\n\t\t\tif (!ignoreDuplicatesScope) return false;\n\t\t\tif (duplicates.some(v => ignoreDuplicatesScope.contains(v.button))) return false;\n\t\t}\n\t}\n\n\tconst expandoIsNonMuted = expando.types.includes('non-muted');\n\n\tconst typeCriteriaOK = matchesTypes(autoExpandTypes, expando.types);\n\tconst muteCriteriaOK = !(onlyExpandMuted && expandoIsNonMuted) ||\n\t\t(autoExpandFirstVisibleNonMutedInThing && elementInViewport(expando.button) && !hasEntryAnyExpandedNonMuted(thing));\n\n\treturn autoExpand && muteCriteriaOK && typeCriteriaOK;\n}\n\nfunction resolveMediaUrl(element, thing) {\n\tif (\n\t\tmodule.options.expandoCommentRedirects.value !== 'nothing' &&\n\t\tthing &&\n\t\telement.classList.contains('title')\n\t) {\n\t\tconst dataUrl = thing.element.getAttribute('data-url');\n\t\tconst fullDataUrl = dataUrl && new URL(dataUrl, location.href);\n\t\tif (fullDataUrl && fullDataUrl.href !== thing.getCommentsLink().href) {\n\t\t\treturn fullDataUrl;\n\t\t}\n\t}\n\n\treturn new URL(element.href, location.href);\n}\n\nfunction promptSiteModulePermissions(siteModule) {\n\tconst { name, permissions = [] } = siteModule;\n\tconst urlStripRe = /((?:\\w+\\.)+\\w+)(?=\\/|$)/i;\n\n\tconst message = string.html`<div>\n\t\t<p>In order to inline expand content from ${name}, RES needs permission to access these sites:</p>\n\t\t<p><code>${permissions.map(url => `${(urlStripRe.exec(url): any)[0]}`).join(', \\n')}</code></p>\n\t\t<p>Be assured RES does not access/modify any of your information on these domains - it only accesses the public API.</p>\n\t\t<hr>\n\t\t<p>If you prefer not to use RES' expando for these sites, you may:</p>\n\t\t<button>Disable this host</button>\n\t</div>`;\n\n\tconst notification = Notifications.showNotification({\n\t\theader: 'Permission required',\n\t\tmoduleID: 'permissions',\n\t\tcloseDelay: Infinity,\n\t\tmessage,\n\t});\n\n\tconst disableHostButton = message.querySelector('button');\n\n\treturn Promise.race([\n\t\tPermissions.request(permissions).catch(() => new Promise(() => { /* don't resolve if permissions aren't granted */ })),\n\t\twaitForEvent(disableHostButton, 'click').then(() => {\n\t\t\tconst opt = module.options[siteModuleOptionKey(siteModule)];\n\t\t\topt.value = false;\n\t\t\tOptions.save(opt);\n\t\t\treturn Promise.reject(new Error('Host disabled'));\n\t\t}),\n\t]).finally(() => { notification.close(); });\n}\n\nconst generateSiteModuleLock = _.memoize(async siteModule => {\n\tif (!siteModule.permissions || await Permissions.has(siteModule.permissions)) return;\n\n\tlet resolve, reject;\n\treturn {\n\t\tpromise: new Promise((_resolve, _reject) => { resolve = _resolve; reject = _reject; }),\n\t\topen: () => promptSiteModulePermissions(siteModule).then(resolve, reject),\n\t};\n});\n\nfunction scanBody(element: ?Element) {\n\tif (!element) return;\n\tfor (const link of element.querySelectorAll('a')) {\n\t\tcheckElementForMedia(downcast(link, HTMLAnchorElement));\n\t}\n}\n\nconst linksMap: WeakMap<HTMLAnchorElement, Expando> = new WeakMap();\nexport function getLinkExpando(link: HTMLAnchorElement): ?Expando {\n\treturn linksMap.get(link);\n}\n\nconst inText = element => !!element.closest('.md, .search-result-footer');\n\nasync function checkElementForMedia(element: HTMLAnchorElement) {\n\tconst thing = Thing.from(element);\n\tconst entryExpando = !inText(element) && Expando.getEntryExpandoFrom(thing);\n\tconst nativeExpando = entryExpando instanceof Expando ? null : entryExpando;\n\n\tif (module.options.hideNSFW.value && thing && thing.isNSFW()) {\n\t\tif (nativeExpando) nativeExpando.detach();\n\t\treturn;\n\t}\n\n\tif (nativeExpando) {\n\t\ttrackNativeExpando(nativeExpando, element, thing);\n\n\t\tif (nativeExpando.open) {\n\t\t\tconsole.log('Native expando has already been opened; skipping.', element.href);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tif (thing && thing.isCrosspost() && module.options.crossposts.value === 'none') {\n\t\treturn;\n\t}\n\n\tconst mediaUrl = resolveMediaUrl(element, thing);\n\n\tif (mediaUrl && module.options.expandoCommentRedirects.value === 'rewrite') {\n\t\telement.href = mediaUrl.href;\n\t\telement.removeAttribute('data-inbound-url');\n\t}\n\n\tfor (const siteModule of modulesForHostname(mediaUrl.hostname)) {\n\t\tif (nativeExpando) {\n\t\t\tconst { options: { replaceNativeExpando } = {} } = siteModule;\n\t\t\tif (replaceNativeExpando && !replaceNativeExpando.value) continue;\n\t\t}\n\n\t\tconst detectResult = siteModule.detect(mediaUrl, thing);\n\t\tif (!detectResult) continue;\n\n\t\tconst expando = new Expando(mediaUrl.href);\n\n\t\tif (nativeExpando) nativeExpando.detach();\n\t\tplaceExpando(expando, element, thing);\n\t\texpando.onExpand(() => { trackMediaLoad(element, thing); });\n\t\tlinksMap.set(element, expando);\n\n\t\tconst lock = await generateSiteModuleLock(siteModule); // eslint-disable-line no-await-in-loop\n\t\tif (lock) expando.setLock(lock);\n\n\t\ttry {\n\t\t\tif (lock) await lock.promise; // eslint-disable-line no-await-in-loop\n\t\t\tawait completeExpando(expando, thing, siteModule, detectResult); // eslint-disable-line no-await-in-loop\n\t\t\tbreak;\n\t\t} catch (e) {\n\t\t\tconsole.error(`showImages: could not create expando for ${mediaUrl.href}`, e);\n\t\t\tif (nativeExpando) nativeExpando.reattach();\n\t\t\texpando.destroy();\n\t\t\tlinksMap.delete(element);\n\t\t}\n\t}\n}\n\nfunction placeExpando(expando, element, thing) {\n\tif (!inText(element) && thing && thing.getTitleElement()) {\n\t\tif (element.parentElement) element.parentElement.after(expando.button);\n\t\t// Position our expando button after the original button if possible, to not break Reddit's expando\n\t\tconst sibling = expando.button.nextElementSibling;\n\t\tif (sibling && sibling.classList.contains('expando-button')) sibling.after(expando.button);\n\t\tthing.entry.appendChild(expando.box);\n\t} else {\n\t\t$(element).add($(element).next('.keyNavAnnotation')).last()\n\t\t\t.after(expando.box)\n\t\t\t.after($('<span class=\"res-freetext-expando\">').append(expando.button));\n\t}\n}\n\nasync function completeExpando(expando, thing, siteModule, detectResult) {\n\tconst mediaOptions = await siteModule.handleLink(expando.href, detectResult);\n\n\tif (mediaOptions.title && thing && string.areSimilar(mediaOptions.title, thing.getTitle())) {\n\t\tmediaOptions.title = '';\n\t}\n\n\tconst attribution = module.options.showSiteAttribution.value &&\n\t\tthing && thing.isPost() && !thing.isSelfPost() &&\n\t\tsiteModule.domains.length && siteModule.attribution !== false;\n\n\tconst isMuted = media => media.muted || ['IMAGE', 'TEXT'].includes(media.type);\n\tconst muted = mediaOptions.type === 'GALLERY' ? mediaOptions.src.every(isMuted) : isMuted(mediaOptions);\n\n\texpando.initialize({\n\t\ttypes: [\n\t\t\tmediaOptions.type,\n\t\t\tmuted ? 'muted' : 'non-muted',\n\t\t\t...((mediaOptions.expandoClass || '').split(' ')),\n\t\t].filter(v => v).map(s => s.toLowerCase()),\n\t\tbuttonInfo: getMediaButtonInfo(mediaOptions),\n\t\tgenerateMedia() {\n\t\t\tconst media = generateMedia(mediaOptions, { href: expando.href });\n\t\t\tif (module.options.crossposts.value === 'withMetadata' && thing && thing.isCrosspost()) {\n\t\t\t\tmedia.element.prepend(crosspostMetadataTemplate(thing.element.dataset));\n\t\t\t}\n\t\t\tif (attribution) addSiteAttribution(siteModule, media);\n\t\t\treturn media;\n\t\t},\n\t});\n\n\texpando.button.setAttribute('data-host', siteModule.moduleID);\n\texpando.box.setAttribute('data-host', siteModule.moduleID);\n\n\tconst hideButton = thing && thing.getHideElement();\n\tif (hideButton) hideButton.addEventListener('click', () => { expando.destroy(); });\n\n\tif (thing && thing.isComment()) {\n\t\texpando.onExpand(_.once(() => {\n\t\t\tlet wasOpen;\n\n\t\t\t// Collapse / restore expandos when toggling comment visibility\n\t\t\t$([thing, ...thing.getParents()].map(e => e.entry))\n\t\t\t\t.find('.tagline > .expand, > .buttons .toggleChildren')\n\t\t\t\t.click(() => {\n\t\t\t\t\tif (thing.isContentVisible()) {\n\t\t\t\t\t\tif (wasOpen && expando.media) expando.expand();\n\t\t\t\t\t} else {\n\t\t\t\t\t\twasOpen = expando.open;\n\t\t\t\t\t\tif (expando.open) expando.collapse();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}));\n\t}\n\n\t// The d2x lightbox hides overflowing media\n\texpando.onExpand(() => {\n\t\tconst lightbox = expando.media.element.closest('#overlayScrollContainer');\n\t\tif (lightbox) lightbox.firstChild.style.overflowY = 'initial';\n\t});\n\n\t// Start loading media early to make it snappier\n\texpando.button.addEventListener('mousedown', () => { preloadMedia([expando]); });\n\n\tif (!expando.open) {\n\t\tlet autoExpand;\n\t\tlet autoExpandFirstVisibleNonMutedInThing;\n\n\t\tif (module.options.autoExpandSelfText.value && inText(expando.button) && thing && thing.isSelfPost() && !isPageType('comments')) {\n\t\t\tconst dontAutoExpandNSFW = !module.options.autoExpandSelfTextNSFW.value && thing.isNSFW();\n\t\t\tautoExpand = !dontAutoExpandNSFW;\n\t\t\tautoExpandFirstVisibleNonMutedInThing = module.options.autoExpandSelfTextFirstVisibleNonMuted.value;\n\t\t}\n\n\t\tif (isExpandWanted(expando, { thing, autoExpand, autoExpandFirstVisibleNonMutedInThing })) {\n\t\t\texpando.expand();\n\t\t}\n\t}\n}\n\nfunction updateParentHeight(e) {\n\tconst thing = Thing.checkedFrom(e.target);\n\n\tconst basisHeight = (\n\t\tthing.isSelfPost() && parseInt(module.options.selfTextMaxHeight.value, 10) ||\n\t\tthing.isComment() && parseInt(module.options.commentMaxHeight.value, 10) ||\n\t\t0\n\t);\n\n\tif (basisHeight > 0) {\n\t\t// .expando-button causes a line break\n\t\tconst expandoHeight = Array\n\t\t\t.from(thing.entry.querySelectorAll('.res-expando-box, .expando-button.expanded'))\n\t\t\t.reduce((a, b) => a + b.getBoundingClientRect().height, 0);\n\n\t\tthing.element.querySelector('.md').style.maxHeight = `${basisHeight + expandoHeight}px`;\n\t}\n}\n\nfunction trackNativeExpando(expando, element, thing) {\n\tif (!module.options.markSelftextVisited.value && expando.button.classList.contains('selftext')) return;\n\n\tconst trackLoad = _.once(() => trackMediaLoad(element, thing));\n\n\tif (expando.open) trackLoad();\n\telse expando.button.addEventListener('click', trackLoad);\n}\n\nfunction getMediaButtonInfo(options) {\n\tlet title = '';\n\n\tlet type = options.type;\n\n\tif (options.type === 'GALLERY') {\n\t\tif (options.src.length === 1) {\n\t\t\ttype = options.src[0].type;\n\t\t} else {\n\t\t\ttitle += `${options.src.length} items in gallery`;\n\t\t}\n\t}\n\n\tconst defaultClass = {\n\t\tIMAGE: 'image',\n\t\tGALLERY: 'image gallery',\n\t\tTEXT: 'selftext',\n\t\tVIDEO: options.muted ? 'video-muted' : 'video',\n\t\tIFRAME: options.muted ? 'video-muted' : 'video',\n\t\tAUDIO: 'video', // yes, still class \"video\", that's what reddit uses.\n\t\tGENERIC_EXPANDO: 'selftext',\n\t}[type];\n\n\treturn {\n\t\ttitle,\n\t\tmediaClass: options.expandoClass || defaultClass,\n\t};\n}\n\nlet lastPreloadIndex = 0;\nfunction preloadMedia(pieces) {\n\t// Avoid potentially unwanted side-effects by only allowing one concurrent preload sequence\n\tconst index = ++lastPreloadIndex;\n\n\treturn forEachSeq(pieces, piece => {\n\t\tif (!piece.generateMedia) return;\n\t\tif (lastPreloadIndex !== index) return;\n\n\t\tpiece.media = piece.media || piece.generateMedia();\n\t\treturn piece.media.ready;\n\t});\n}\n\nfunction generateMedia(options: ExpandoMedia, context: {| href: string |}): Media {\n\tif (options.credits) options.credits = sanitize(options.credits);\n\tif (options.caption) options.caption = sanitize(options.caption);\n\n\tswitch (options.type) {\n\t\tcase 'GALLERY': return new Gallery(options, context);\n\t\tcase 'IMAGE': return new Image(options, context);\n\t\tcase 'TEXT': return new Text(options);\n\t\tcase 'IFRAME': return new Iframe(options);\n\t\tcase 'VIDEO': return new Video(options, context);\n\t\tcase 'AUDIO': return new Audio(options);\n\t\tcase 'GENERIC_EXPANDO': return new Generic(options);\n\t\tdefault: throw new Error(`Unreachable: invalid media type ${options.type}`);\n\t}\n}\n\nconst observed = new WeakMap();\nconst resizeObserver = new ResizeObserver(entries => {\n\tfor (const { target, contentRect } of entries) {\n\t\tconst callback = observed.get(target);\n\t\tif (callback) callback(contentRect);\n\t}\n});\n\nexport class Media {\n\telement: HTMLElement;\n\n\tready: ?Promise<any>;\n\n\tonAttach: ?() => void;\n\tisAttached(): boolean { return document.body.contains(this.element); }\n\n\texpand(): void | Promise<void> { this.setLoaded(true); }\n\tcollapse(): void { this.setLoaded(false); }\n\n\tonResize: Array<* => mixed> = [];\n\tresizing: ?(contentRect: *) => void;\n\trotationState = 0;\n\n\tsupportsUnload(): boolean { return false; }\n\t_state: 'loaded' | 'unloaded' = 'loaded';\n\t_unload(): void {}\n\t_restore(): void {}\n\n\tsetLoaded(state: boolean) {\n\t\tif (state) {\n\t\t\tthis._state = 'loaded';\n\t\t\tthis._restore();\n\t\t} else {\n\t\t\tthis._state = 'unloaded';\n\t\t\tthis._unload();\n\t\t}\n\t}\n\n\tmakeIndependent(element: HTMLElement) {\n\t\tconst wrapper = document.createElement('div');\n\t\tconst independent = document.createElement('div');\n\t\telement.replaceWith(wrapper);\n\t\twrapper.appendChild(independent);\n\t\tindependent.appendChild(element);\n\n\t\tindependent.classList.add('res-media-independent');\n\t\twrapper.style.willChange = 'height';\n\n\t\tthis.resizing = (contentRect: * = element.getBoundingClientRect()) => {\n\t\t\tfor (const callback of this.onResize) callback(contentRect);\n\t\t\twrapper.style.height = `${this.rotationState % 2 ? contentRect.width : contentRect.height}px`;\n\t\t};\n\n\t\tthis.onResize.push(contentRect => {\n\t\t\tthis.element.dispatchEvent(new CustomEvent('mediaResize', { detail: contentRect, bubbles: true }));\n\t\t});\n\n\t\tobserved.set(element, contentRect => {\n\t\t\tif (this._state === 'unloaded') return;\n\t\t\tif (this.resizing) this.resizing(contentRect);\n\t\t});\n\t\tresizeObserver.observe(element);\n\n\t\twaitForEvent(element, 'mediaManuallyMovedVertically').then(() => { resizeObserver.unobserve(element); });\n\t}\n\n\tkeepVisible(element: HTMLElement) {\n\t\telement.classList.add('res-element-keep-visible');\n\n\t\tconst basisLeft = _.once(() => downcast(element.parentElement, HTMLElement).getBoundingClientRect().left);\n\t\tlet isAligned = false;\n\n\t\tthis.onResize.push(({ width: elementWidth }: *) => {\n\t\t\tconst { width: viewportWidth } = getViewportSize();\n\n\t\t\tif (!isAligned && basisLeft() + elementWidth < viewportWidth) return;\n\n\t\t\tconst { left: elementLeft, right: elementRight } = element.getBoundingClientRect();\n\n\t\t\tconst deltaLeft = elementLeft - basisLeft();\n\n\t\t\tif (elementWidth > viewportWidth) { // Left align\n\t\t\t\tisAligned = true;\n\t\t\t\tmove(element, -elementLeft, 0);\n\t\t\t} else if (elementRight - deltaLeft > viewportWidth) { // Right align\n\t\t\t\tisAligned = true;\n\t\t\t\tmove(element, viewportWidth - elementRight, 0);\n\t\t\t} else if (deltaLeft) { // Reset\n\t\t\t\tisAligned = false;\n\t\t\t\tmove(element, -deltaLeft, 0);\n\t\t\t}\n\t\t});\n\t}\n\n\tsetMaxSize(element: HTMLElement) {\n\t\tlet value = module.options.maxWidth.value;\n\t\tlet isPercentage = value.endsWith('%');\n\t\tconst maxWidth = (isPercentage ? getViewportSize().width / 100 : 1) * parseInt(value, 10);\n\t\tif (maxWidth) element.style.maxWidth = `${maxWidth}px`;\n\n\t\tvalue = module.options.maxHeight.value;\n\t\tisPercentage = value.endsWith('%');\n\t\tconst maxHeight = (isPercentage ? getViewportSize().height / 100 : 1) * parseInt(value, 10);\n\t\tif (maxHeight) element.style.maxHeight = `${maxHeight}px`;\n\t}\n\n\tmakeZoomable(element: HTMLElement, dragInitiater: HTMLElement = element, absoluteSizing: boolean = false) {\n\t\tif (!module.options.imageZoom.value) return;\n\n\t\telement.classList.add('res-media-zoomable');\n\n\t\tlet initialWidth, initialDiagonal, left, top;\n\n\t\tfunction getDiagonal(x, y) {\n\t\t\tconst w = Math.max(1, x - left);\n\t\t\tconst h = Math.max(1, y - top);\n\t\t\treturn Math.round(Math.hypot(w, h));\n\t\t}\n\n\t\taddDragListener({\n\t\t\tmedia: this.element,\n\t\t\telement: dragInitiater,\n\t\t\tatShiftKey: false,\n\t\t\tonStart(x, y) {\n\t\t\t\t({ left, top, width: initialWidth } = element.getBoundingClientRect());\n\t\t\t\tinitialDiagonal = getDiagonal(x, y);\n\t\t\t},\n\t\t\tonMove(x, y, deltaX, deltaY) {\n\t\t\t\tif (absoluteSizing) {\n\t\t\t\t\tconst { width, height } = element.getBoundingClientRect();\n\t\t\t\t\tresize(element, width + deltaX, height + deltaY);\n\t\t\t\t} else {\n\t\t\t\t\tconst newWidth = getDiagonal(x, y) / initialDiagonal * initialWidth;\n\t\t\t\t\tresize(element, newWidth);\n\t\t\t\t}\n\t\t\t},\n\t\t});\n\t}\n\n\tmakeMovable(element: HTMLElement, dragInitiater: HTMLElement = element) {\n\t\tif (!module.options.imageMove.value) return;\n\n\t\telement.classList.add('res-media-movable');\n\n\t\taddDragListener({\n\t\t\tmedia: this.element,\n\t\t\telement: dragInitiater,\n\t\t\tatShiftKey: true,\n\t\t\tonMove(x, y, deltaX, deltaY) { move(element, deltaX, deltaY); },\n\t\t});\n\t}\n\n\taddControls(element: HTMLElement, lookupUrl: *, downloadUrl: *) {\n\t\tif (!module.options.mediaControls.value) return element;\n\n\t\tconst [y, x] = module.options.mediaControlsPosition.value.split('-');\n\n\t\tconst wrapper = mediaControlsTemplate({ clippy: module.options.clippy.value, lookupUrl, downloadUrl, x, y });\n\t\telement.replaceWith(wrapper);\n\t\twrapper.appendChild(element);\n\n\t\telement.classList.add('res-media-rotatable');\n\n\t\tconst updateRotation = () => {\n\t\t\telement.setAttribute('rotation', String(positiveModulo(this.rotationState, 4)));\n\t\t\tif (this.resizing) this.resizing();\n\t\t};\n\n\t\twrapper.querySelector('.res-media-controls').addEventListener('click', (e: Event) => {\n\t\t\tswitch (e.target.dataset.action) {\n\t\t\t\tcase 'rotateLeft':\n\t\t\t\t\t--this.rotationState;\n\t\t\t\t\tupdateRotation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotateRight':\n\t\t\t\t\t++this.rotationState;\n\t\t\t\t\tupdateRotation();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'download':\n\t\t\t\t\tPermissions.request(['downloads']).then(() => {\n\t\t\t\t\t\tconst re = /(?:\\.([^.]+))?$/;\n\t\t\t\t\t\tconst ext = re.exec(downloadUrl);\n\t\t\t\t\t\tconst thing = Thing.from(wrapper);\n\t\t\t\t\t\tlet title = thing && thing.getTitle();\n\t\t\t\t\t\tif (title && ext) {\n\t\t\t\t\t\t\tlet extension = ext[1];\n\t\t\t\t\t\t\tif (extension.includes('?')) extension = extension.split('?')[0];\n\t\t\t\t\t\t\ttitle = title.replace(/[*|?:\"<>\\\\\\/]/gi, '');\n\t\t\t\t\t\t\tconst filename = `${title}.${extension}`;\n\t\t\t\t\t\t\tdownload(downloadUrl, filename);\n\t\t\t\t\t\t} else download(downloadUrl);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'imageLookup':\n\t\t\t\t\t// Google doesn't like image url's without a protacol\n\t\t\t\t\tlookupUrl = new URL(downcast(lookupUrl, 'string'), location.href).href;\n\n\t\t\t\t\t// Escape query string parameters\n\t\t\t\t\topenNewTab(string.encode`https://images.google.com/searchbyimage?image_url=${lookupUrl}`);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'showImageSettings':\n\t\t\t\t\tSettingsNavigation.open(module.moduleID, 'mediaControls');\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'clippy':\n\t\t\t\t\te.target.textContent = [\n\t\t\t\t\t\tmodule.options.imageZoom.value && 'drag to resize',\n\t\t\t\t\t\tmodule.options.imageMove.value && 'shift-drag to move',\n\t\t\t\t\t].filter(Boolean).join(' or ');\n\t\t\t\t\tmodule.options.clippy.value = false;\n\t\t\t\t\tOptions.save(module.options.clippy);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// do nothing if action is unknown\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t});\n\n\t\treturn wrapper;\n\t}\n}\n\nclass Gallery extends Media {\n\tfilmstripLoadIncrement = parseInt(module.options.filmstripLoadIncrement.value, 10) || Infinity;\n\tpreloadCount = parseInt(module.options.galleryPreloadCount.value, 10) || 0;\n\n\tindividualCtrl;\n\tmsgPosition;\n\tctrlToFilmstrip;\n\tctrlConcurrentIncrease;\n\n\tpieces: Array<{\n\t\tgenerateMedia: () => Media,\n\t\tmedia: ?Media,\n\t\twrapper: HTMLElement,\n\t}>;\n\n\tlastRevealedPiece = null;\n\tfilmstripActive: boolean;\n\trememberResizeWidth: boolean;\n\tlastResizedWidth: number;\n\n\tconstructor(options: GalleryMedia, context) {\n\t\tsuper();\n\n\t\tthis.element = galleryTemplate({\n\t\t\ttitle: options.title,\n\t\t\tcaption: options.caption,\n\t\t\tcredits: options.credits,\n\t\t\tsrc: options.src,\n\t\t});\n\n\t\tconst piecesContainer = this.element.querySelector('.res-gallery-pieces');\n\t\tthis.individualCtrl = this.element.querySelector('.res-gallery-individual-controls');\n\t\tconst ctrlPrev = this.individualCtrl.querySelector('.res-gallery-previous');\n\t\tconst ctrlNext = this.individualCtrl.querySelector('.res-gallery-next');\n\t\tthis.msgPosition = this.individualCtrl.querySelector('.res-gallery-position');\n\t\tthis.ctrlToFilmstrip = this.individualCtrl.querySelector('.res-gallery-to-filmstrip');\n\t\tthis.ctrlConcurrentIncrease = this.element.querySelector('.res-gallery-increase-concurrent');\n\n\t\tthis.pieces = options.src.map(src => ({\n\t\t\tgenerateMedia: () => generateMedia(src, context),\n\t\t\tmedia: null,\n\t\t\twrapper: document.createElement('div'),\n\t\t}));\n\t\tpiecesContainer.append(...this.pieces.map(({ wrapper }) => wrapper));\n\n\t\tconst slideshowWhenLargerThan = parseInt(module.options.useSlideshowWhenLargerThan.value, 10) || Infinity;\n\t\tthis.filmstripActive = module.options.galleryAsFilmstrip.value && this.pieces.length < slideshowWhenLargerThan;\n\n\t\tif (this.filmstripActive || this.pieces.length === 1) {\n\t\t\tthis.ready = this.expandFilmstrip();\n\t\t\tthis.ctrlConcurrentIncrease.addEventListener('click', () => this.expandFilmstrip());\n\t\t} else {\n\t\t\tthis.element.classList.add('res-gallery-slideshow');\n\t\t\tthis.ready = this.changeSlideshowPiece(0);\n\t\t\tctrlPrev.addEventListener('click', () => { this.changeSlideshowPiece(-1); });\n\t\t\tctrlNext.addEventListener('click', () => { this.changeSlideshowPiece(1); });\n\n\t\t\twaitForEvent(this.ctrlToFilmstrip, 'click').then(() => {\n\t\t\t\tthis.expandFilmstrip();\n\t\t\t\tthis.ctrlConcurrentIncrease.addEventListener('click', () => this.expandFilmstrip());\n\t\t\t\tthis.element.classList.remove('res-gallery-slideshow');\n\t\t\t});\n\t\t}\n\t}\n\n\tshouldRememberResizeWidth() {\n\t\treturn module.options.galleryRememberWidth.value && !this.filmstripActive;\n\t}\n\n\trememberWidth(piece) {\n\t\tconst resizedElement = piece.media && piece.media.element.querySelector('.res-media-zoomable');\n\t\t// Only resized elements have style.width\n\t\tconst resizedWidth = resizedElement && parseInt(resizedElement.style.width, 10);\n\t\tif (resizedWidth) this.lastResizedWidth = resizedWidth;\n\t}\n\n\trestoreWidth(piece) {\n\t\tif (!this.lastResizedWidth) return;\n\t\tconst resizeElement = piece.media && piece.media.element.querySelector('.res-media-zoomable');\n\t\tif (resizeElement) resize(resizeElement, this.lastResizedWidth);\n\t}\n\n\trevealPiece(piece) {\n\t\tif (this.shouldRememberResizeWidth() && this.lastRevealedPiece) this.rememberWidth(this.lastRevealedPiece);\n\t\tthis.lastRevealedPiece = piece;\n\n\t\tpiece.media = piece.media || piece.generateMedia();\n\t\tconst { media, wrapper } = piece;\n\t\tif (!media.isAttached()) wrapper.appendChild(media.element);\n\t\twrapper.hidden = false;\n\t\tif (this.shouldRememberResizeWidth()) this.restoreWidth(piece);\n\t\t// When preloading the gallery object, don't run the `expand` method on the piece as that may cause audio to play\n\t\tif (this.isAttached()) media.expand();\n\t}\n\n\tpreloadAhead() {\n\t\tconst preloadFrom = this.pieces.indexOf(this.lastRevealedPiece);\n\t\tconst preloadTo = Math.min(preloadFrom + this.preloadCount + 1, this.pieces.length);\n\n\t\treturn preloadMedia(this.pieces.slice(preloadFrom, preloadTo));\n\t}\n\n\tasync expandFilmstrip() {\n\t\tconst revealFrom = this.lastRevealedPiece ? this.pieces.indexOf(this.lastRevealedPiece) : 0;\n\t\tconst revealTo = Math.min(revealFrom + this.filmstripLoadIncrement, this.pieces.length);\n\n\t\tthis.ctrlConcurrentIncrease.hidden = true;\n\n\t\t// reveal new pieces\n\t\tawait forEachSeq(this.pieces.slice(revealFrom, revealTo), piece => {\n\t\t\tthis.revealPiece(piece);\n\t\t\treturn piece.media && piece.media.ready;\n\t\t});\n\n\t\tif (revealTo < this.pieces.length) {\n\t\t\tthis.ctrlConcurrentIncrease.innerText = `Show next ${Math.min(this.filmstripLoadIncrement, this.pieces.length - revealTo)} pieces`;\n\t\t\tthis.ctrlConcurrentIncrease.hidden = false;\n\t\t}\n\n\t\treturn this.preloadAhead();\n\t}\n\n\tchangeSlideshowPiece(step) {\n\t\tconst previous = this.lastRevealedPiece;\n\t\tconst previousIndex = previous ? this.pieces.indexOf(previous) : 0;\n\n\t\tlet newIndex = previousIndex + step;\n\t\t// Allow wrap-around\n\t\tnewIndex = positiveModulo(newIndex, this.pieces.length);\n\n\t\tthis.individualCtrl.setAttribute('first-piece', String(newIndex === 0));\n\t\tthis.individualCtrl.setAttribute('last-piece', String(newIndex === this.pieces.length - 1));\n\t\tthis.msgPosition.innerText = String(newIndex + 1);\n\n\t\tthis.revealPiece(this.pieces[newIndex]);\n\n\t\tif (previous) {\n\t\t\tconst { media, wrapper } = previous;\n\t\t\tif (!media) throw new Error();\n\t\t\tmedia.collapse();\n\t\t\twrapper.hidden = true;\n\t\t}\n\n\t\treturn this.preloadAhead();\n\t}\n\n\tsupportsUnload() {\n\t\treturn this.pieces.every(({ media }) => !media || media.supportsUnload()) || false;\n\t}\n\n\tsetLoaded(state) {\n\t\tfor (const { media } of this.pieces) {\n\t\t\tif (media) media.setLoaded(state);\n\t\t}\n\t}\n}\n\nclass Image extends Media {\n\timage: HTMLImageElement;\n\tsrc: string;\n\n\tconstructor({\n\t\ttitle,\n\t\tcaption,\n\t\tcredits,\n\t\tsrc,\n\t\thref,\n\t}: ImageMedia, context) {\n\t\tsuper();\n\n\t\tthis.src = src;\n\n\t\tthis.element = imageTemplate({\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tcredits,\n\t\t\tsrc,\n\t\t\thref: href || context.href,\n\t\t\topenInNewWindow: module.options.openInNewWindow.value,\n\t\t});\n\t\tthis.image = downcast(this.element.querySelector('img.res-image-media'), HTMLImageElement);\n\t\tconst anchor = this.element.querySelector('a.res-expando-link');\n\n\t\tthis.ready = waitForEvent(this.image, 'load', 'error');\n\n\t\tthis.image.addEventListener('error', () => {\n\t\t\tthis.element.classList.add('res-media-load-error');\n\t\t});\n\n\t\tif (module.options.displayOriginalResolution.value) {\n\t\t\tthis.image.addEventListener('load', () => {\n\t\t\t\tthis.image.title = `${this.image.naturalWidth}  ${this.image.naturalHeight} px`;\n\t\t\t});\n\t\t}\n\n\t\tthis.setMaxSize(this.image);\n\t\tconst wrapper = this.addControls(anchor, src, src);\n\t\tthis.makeZoomable(this.image);\n\t\tthis.makeMovable(wrapper);\n\t\tthis.keepVisible(wrapper);\n\t\tthis.makeIndependent(wrapper);\n\t}\n\n\tsupportsUnload() {\n\t\treturn true;\n\t}\n\n\t_unload() {\n\t\tthis.image.src = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\n\t}\n\n\t_restore() {\n\t\tthis.image.src = this.src;\n\t}\n}\n\nclass Iframe extends Media {\n\tloaded: boolean = false;\n\tiframe: HTMLIFrameElement;\n\tpauseCommand: ?string;\n\tplayCommand: ?string;\n\n\tconstructor({\n\t\tembed,\n\t\tembedAutoplay,\n\t\twidth = '640px',\n\t\theight = '360px',\n\t\tfixedRatio = false,\n\t\tpause: pauseCommand,\n\t\tplay: playCommand,\n\t}: IframeMedia) {\n\t\tsuper();\n\n\t\tthis.pauseCommand = pauseCommand;\n\t\tthis.playCommand = playCommand;\n\n\t\tthis.element = iframeTemplate({\n\t\t\turl: (module.options.autoplayVideo.value && embedAutoplay) ? embedAutoplay : embed,\n\t\t\twidth,\n\t\t\theight,\n\t\t});\n\t\tthis.iframe = downcast(this.element.querySelector('iframe'), HTMLIFrameElement);\n\t\tconst iframeWrapper = downcast(this.element.firstElementChild, HTMLElement);\n\t\tconst dragHandle = this.element.querySelector('.res-iframe-expando-drag-handle');\n\n\t\tthis.makeZoomable(this.iframe, dragHandle, !fixedRatio);\n\t\tthis.makeMovable(iframeWrapper, dragHandle);\n\t\tthis.keepVisible(iframeWrapper);\n\t\tthis.makeIndependent(iframeWrapper);\n\t}\n\n\tasync expand() {\n\t\tif (module.options.autoplayVideo.value && this.playCommand) {\n\t\t\tif (!this.loaded) await waitForEvent(this.iframe, 'load');\n\t\t\tthis.loaded = true;\n\n\t\t\ttry {\n\t\t\t\tthis.iframe.contentWindow.postMessage(this.playCommand, '*');\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not post \"play\" command to iframe', this, e);\n\t\t\t}\n\t\t}\n\t}\n\n\tcollapse() {\n\t\tif (this.pauseCommand) {\n\t\t\ttry {\n\t\t\t\tthis.iframe.contentWindow.postMessage(this.pauseCommand, '*');\n\t\t\t\treturn;\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not post \"pause\" command to iframe', this, e);\n\t\t\t}\n\t\t}\n\n\t\t// If we couldn't pause the iframe, remove it\n\t\tthis.element.remove();\n\t}\n}\n\nclass Text extends Media {\n\tconstructor({\n\t\ttitle,\n\t\tcredits,\n\t\tsrc,\n\t}: TextMedia) {\n\t\tsuper();\n\n\t\tthis.element = textTemplate({\n\t\t\ttitle,\n\t\t\tcredits,\n\t\t\tsrc: sanitize(src),\n\t\t});\n\t}\n}\n\nclass Audio extends Media {\n\tautoplay: boolean;\n\taudio: HTMLAudioElement;\n\n\tconstructor({\n\t\tautoplay = false,\n\t\tloop,\n\t\tsources,\n\t}: AudioMedia) {\n\t\tsuper();\n\n\t\tthis.autoplay = autoplay;\n\n\t\tthis.element = audioTemplate({\n\t\t\tloop,\n\t\t\tsources,\n\t\t});\n\t\tthis.audio = downcast(this.element.querySelector('audio'), HTMLAudioElement);\n\t}\n\n\tcollapse() {\n\t\t// Audio is auto-paused when detached from DOM\n\t\tif (!this.isAttached()) return;\n\n\t\tthis.autoplay = !this.audio.paused;\n\t\tif (!this.audio.paused) this.audio.pause();\n\t}\n\n\texpand() {\n\t\tif (this.autoplay) this.audio.play();\n\t}\n}\n\nclass Generic extends Media {\n\tconstructor(options: GenericMedia) {\n\t\tsuper();\n\n\t\tthis.onAttach = options.onAttach;\n\n\t\tthis.element = document.createElement('div');\n\t\tthis.element.appendChild(options.generate());\n\t}\n\n\t// Always remove content, in case it contains audio or other unwanted things\n\tcollapse() {\n\t\tthis.element.remove();\n\t}\n}\n\nconst trackVisitNative = batch(async things => {\n\t// this API only works for gold users\n\tif (!document.body.classList.contains('gold')) return;\n\n\tif (isPrivateBrowsing()) return;\n\n\tawait ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/store_visits',\n\t\tdata: { links: things.map(t => t.getFullname()).join(',') },\n\t});\n}, { delay: 10000, size: 50 });\n\nfunction trackMediaLoad(link, thing) {\n\tif (!module.options.markVisited.value) return;\n\n\tif (thing) trackVisitNative(thing);\n\n\tif (!(thing && thing.isNSFW() && module.options.sfwHistory.value !== 'add')) {\n\t\taddURLToHistory(link.href);\n\t}\n}\n\nfunction addSiteAttribution(siteModule, media) {\n\tconst $element = $(siteAttributionTemplate({\n\t\tname: siteModule.name,\n\t\turl: siteModule.landingPage || `https://${siteModule.domains[0]}`,\n\t\tlogoUrl: siteModule.logo,\n\t\tsettingsLink: SettingsNavigation.makeUrlHash(module.moduleID, siteModuleOptionKey(siteModule)),\n\t}));\n\tconst $replace = $('.res-expando-siteAttribution', media.element);\n\tif ($replace.length) {\n\t\t$element.replaceAll($replace);\n\t} else {\n\t\t$element.addClass('res-expando-siteAttribution-generic').appendTo(media.element);\n\t}\n}\n\nfunction addDragListener({ media, element, atShiftKey, onStart, onMove }: {|\n\tmedia: HTMLElement,\n\telement: HTMLElement,\n\tatShiftKey: boolean,\n\tonStart?: (x: number, y: number) => void,\n\tonMove: (x: number, y: number, moveX: number, moveY: number) => void,\n|}) {\n\t// Invoke handleMove immediately to avoid pauses, but only once per frame\n\tlet hasFrameExecution = false;\n\tconst setFrameExecution = (() => {\n\t\tconst throttle = frameThrottle(() => { hasFrameExecution = false; });\n\t\treturn () => {\n\t\t\tthrottle();\n\t\t\thasFrameExecution = true;\n\t\t};\n\t})();\n\n\tlet isActive, hasMoved, lastX, lastY;\n\n\tconst handleMove = (e: MouseEvent) => {\n\t\tconst movementX = e.clientX - lastX;\n\t\tconst movementY = e.clientY - lastY;\n\n\t\tif (!movementX && !movementY) {\n\t\t\t// Mousemove may be triggered even without movement\n\t\t\treturn;\n\t\t} else if (1 & ~e.buttons) {\n\t\t\t// Mouseup may not trigger in some circumstances\n\t\t\tstop();\n\t\t\treturn;\n\t\t} else if (atShiftKey !== e.shiftKey) {\n\t\t\tisActive = false;\n\t\t\t({ clientX: lastX, clientY: lastY } = e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (!isActive) {\n\t\t\tif (onStart) onStart(lastX, lastY);\n\t\t\tisActive = true;\n\t\t\thasMoved = true;\n\t\t\trequestAnimationFrame(() => { media.classList.add('res-media-dragging'); });\n\t\t}\n\n\t\tif (hasFrameExecution) return;\n\t\tsetFrameExecution();\n\n\t\tonMove(e.clientX, e.clientY, movementX, movementY);\n\t\t({ clientX: lastX, clientY: lastY } = e);\n\t};\n\n\tfunction handleClick(e: Event) {\n\t\tif (hasMoved) e.preventDefault();\n\t}\n\n\tfunction stop() {\n\t\trequestAnimationFrame(() => { media.classList.remove('res-media-dragging'); });\n\n\t\tdocument.removeEventListener('mousemove', handleMove);\n\t\tdocument.removeEventListener('mouseup', stop);\n\n\t\t// `handleClick` is only invoked if the mouse target is `element`\n\t\t// `setTimeout` is necessary since `mouseup` is emitted before `click`\n\t\tsetTimeout(() => document.removeEventListener('click', handleClick));\n\t}\n\n\tfunction initiate(e: MouseEvent) {\n\t\tif (e.button !== 0) return;\n\n\t\t({ clientX: lastX, clientY: lastY } = e);\n\n\t\thasMoved = false;\n\t\tisActive = false;\n\n\t\tdocument.addEventListener('mousemove', handleMove);\n\t\tdocument.addEventListener('mouseup', stop);\n\t\tdocument.addEventListener('click', handleClick);\n\n\t\te.preventDefault();\n\t}\n\n\telement.addEventListener('mousedown', initiate);\n}\n\n// When videos is added, this will pause or play them individually depending on their visibility\nconst mutedVideoManager = _.once(() => {\n\tconst maxSimultaneousPlaying = parseInt(module.options.maxSimultaneousPlaying.value, 10) || Infinity;\n\tconst videos: HTMLVideoElement[] = [];\n\n\tconst updatePlay = frameThrottle(() => {\n\t\tconst all = videos.map(video => {\n\t\t\tconst thing = Thing.from(video);\n\t\t\treturn {\n\t\t\t\tvideo,\n\t\t\t\tvisibility: getPercentageVisibleYAxis(video),\n\t\t\t\ttop: video.getBoundingClientRect().top,\n\t\t\t\tselected: Number(thing && thing.isSelected()),\n\t\t\t};\n\t\t});\n\n\t\tconst notVisible = all.filter(({ visibility }) => visibility === 0);\n\t\tfor (const { video } of notVisible) if (!video.paused) video.pause();\n\n\t\t_.without(all, ...notVisible)\n\t\t\t.sort((a, b) => b.selected - a.selected || b.visibility - a.visibility || a.top - b.top)\n\t\t\t.forEach(({ video }, index) => {\n\t\t\t\tconst play = index < maxSimultaneousPlaying;\n\t\t\t\tif (play === video.paused) {\n\t\t\t\t\tif (play) video.play();\n\t\t\t\t\telse video.pause();\n\t\t\t\t}\n\t\t\t});\n\t});\n\n\tlet intervalId = null;\n\n\treturn {\n\t\tobserve(video) {\n\t\t\tvideos.push(video);\n\t\t\tupdatePlay();\n\t\t\tif (intervalId === null) intervalId = setInterval(updatePlay, 100);\n\t\t},\n\t\tunobserve(video) {\n\t\t\t_.pull(videos, video);\n\t\t\tif (!videos.length && intervalId) {\n\t\t\t\tclearInterval(intervalId);\n\t\t\t\tintervalId = null;\n\t\t\t}\n\t\t},\n\t};\n});\n\nclass Video extends Media {\n\tstatic volumeStorage = Storage.wrap('showImages.video.volume', (1: number));\n\n\tvideo: HTMLVideoElement;\n\tautoplay: boolean;\n\ttime: number;\n\tframeRate: number;\n\tuseVideoManager: boolean;\n\n\tconstructor({\n\t\ttitle,\n\t\tcaption,\n\t\tcredits,\n\t\tfallback,\n\t\tframeRate = 24,\n\t\thref,\n\t\tloop = false,\n\t\tmuted = false,\n\t\tplaybackRate = 1,\n\t\tposter,\n\t\treversable = false,\n\t\treversed = false,\n\t\tsource,\n\t\tsources,\n\t\ttime = 0,\n\t}: VideoMedia, context) {\n\t\tsuper();\n\n\t\tthis.useVideoManager = module.options.onlyPlayMutedWhenVisible.value && muted;\n\n\t\tthis.autoplay = muted || module.options.autoplayVideo.value;\n\t\tthis.time = time;\n\t\tthis.frameRate = frameRate;\n\n\t\tthis.element = videoTemplate({\n\t\t\ttitle,\n\t\t\tcaption,\n\t\t\tcredits,\n\t\t\thref: href || context.href,\n\t\t\tsource,\n\t\t\t// Prevent poster from flashing before the video is ready when autoplaying\n\t\t\tposter: !this.autoplay && poster || '',\n\t\t\thasAudio: !muted,\n\t\t\tloop,\n\t\t\treversable,\n\t\t\topenInNewWindow: module.options.openInNewWindow.value,\n\t\t\tformattedPlaybackRate: this.formatMultilineNumber(playbackRate, 'x'),\n\t\t});\n\t\tthis.video = downcast(this.element.querySelector('video'), HTMLVideoElement);\n\t\tconst container = this.element.querySelector('.res-video-container');\n\n\t\tconst msgError = this.element.querySelector('.res-video-error');\n\t\tconst displayError = (error: Error | ProgressEvent) => {\n\t\t\tif (msgError.hidden) {\n\t\t\t\tmsgError.hidden = false;\n\t\t\t\t$('<span>').text(`Could not play video: ${error.message ? String(error.message) : 'Unknown error'}`).appendTo(msgError);\n\t\t\t}\n\t\t};\n\n\t\tconst sourceElements = $(_.compact(sources.map(v => {\n\t\t\tif (!this.video.canPlayType(v.type)) return null;\n\t\t\tconst source = document.createElement('source');\n\t\t\tsource.src = v.source;\n\t\t\tsource.type = v.type;\n\t\t\tif (v.reverse) source.dataset.reverse = v.reverse;\n\t\t\treturn source;\n\t\t}))).appendTo(this.video).get();\n\n\t\tif (!sourceElements.length) {\n\t\t\tif (fallback) {\n\t\t\t\treturn new Image({\n\t\t\t\t\ttype: 'IMAGE',\n\t\t\t\t\ttitle,\n\t\t\t\t\tcaption,\n\t\t\t\t\tcredits,\n\t\t\t\t\tsrc: fallback,\n\t\t\t\t}, context);\n\t\t\t} else {\n\t\t\t\tdisplayError(new Error('No playable sources were found'));\n\t\t\t}\n\t\t}\n\n\t\tconst lastSource = sourceElements[sourceElements.length - 1];\n\t\tlastSource.addEventListener('error', displayError);\n\n\t\tif (reversed) this.reverse();\n\n\t\tthis.ready = Promise.race([waitForEvent(this.video, 'suspend'), waitForEvent(lastSource, 'error')]);\n\n\t\tconst setPlayIcon = () => {\n\t\t\tif (!this.video.paused) this.element.setAttribute('playing', '');\n\t\t\telse this.element.removeAttribute('playing');\n\t\t};\n\n\t\tthis.video.addEventListener('pause', () => {\n\t\t\tsetPlayIcon();\n\t\t\t// If browser controls are shown, stop auto mananging since that could cause conflicts (e.g. force play when paused by user)\n\t\t\tif (this.video.controls && this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t\t});\n\t\tthis.video.addEventListener('play', setPlayIcon);\n\n\t\tthis.video.addEventListener('loadedmetadata', () => { if (this.time !== this.video.currentTime) this.video.currentTime = this.time; });\n\t\tthis.video.playbackRate = playbackRate;\n\n\t\t// Ignore events which might be meant for controls\n\t\tthis.video.addEventListener('mousedown', (e: MouseEvent) => {\n\t\t\tif (this.video.hasAttribute('controls')) {\n\t\t\t\tconst { height, top } = this.video.getBoundingClientRect();\n\t\t\t\tlet controlsBottomHeight = 0;\n\t\t\t\tif (process.env.BUILD_TARGET === 'firefox') controlsBottomHeight = 40;\n\t\t\t\tif ((height - controlsBottomHeight) < (e.clientY - top)) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tPromise.all([waitForEvent(this.element, 'mouseenter'), waitForEvent(this.video, 'loadedmetadata')])\n\t\t\t.then(() => this.addVideoControls());\n\n\t\tnew MutationObserver(() =>\n\t\t\tthis.element.classList.toggle('res-video-has-native-controls', this.video.hasAttribute('controls'))\n\t\t).observe(this.video, { attributes: true });\n\n\t\tif (!loop && this.autoplay) {\n\t\t\twaitForEvent(this.video, 'ended').then(() => this.stopAutoplay());\n\t\t}\n\n\t\tif (!muted) {\n\t\t\tif (module.options.startVideosMuted.value) this.video.muted = true;\n\t\t\tPromise.all([waitForEvent(this.video, 'canplay'), Video.volumeStorage.get()]).then(([, volume]) => {\n\t\t\t\tthis.video.volume = volume;\n\t\t\t});\n\t\t}\n\n\t\tthis.setMaxSize(this.video);\n\t\tthis.makeZoomable(this.video);\n\t\tthis.addControls(this.video, undefined, sources[0].source);\n\t\tthis.makeMovable(container);\n\t\tthis.keepVisible(container);\n\t\tthis.makeIndependent(container);\n\t}\n\n\treverse() {\n\t\tthis.time = this.video.duration - this.video.currentTime;\n\t\tif (isNaN(this.time)) this.time = 0;\n\n\t\tfor (const v of this.video.querySelectorAll('source')) {\n\t\t\t// $FlowIssue\n\t\t\t[v.src, v.dataset.reverse] = [v.dataset.reverse, v.src];\n\t\t}\n\n\t\tthis.video.load();\n\t\tthis.video.play();\n\n\t\t// $FlowIssue\n\t\tthis.element.toggleAttribute('reversed');\n\t}\n\n\tformatMultilineNumber(value: number, suffix: string) {\n\t\treturn `${value.toFixed(2).replace('.', '.\\u200B'/* zwsp */)}${suffix}`;\n\t}\n\n\taddVideoControls() {\n\t\tconst ctrlContainer = this.element.querySelector('.res-video-controls');\n\t\tconst ctrlReverse = ctrlContainer.querySelector('.res-video-reverse');\n\t\tconst ctrlTogglePause = ctrlContainer.querySelector('.res-video-toggle-pause');\n\t\tconst ctrlSpeedDecrease = ctrlContainer.querySelector('.res-video-speed-decrease');\n\t\tconst ctrlSpeedIncrease = ctrlContainer.querySelector('.res-video-speed-increase');\n\t\tconst ctrlTimeDecrease = ctrlContainer.querySelector('.res-video-time-decrease');\n\t\tconst ctrlTimeIncrease = ctrlContainer.querySelector('.res-video-time-increase');\n\n\t\tconst progress = this.element.querySelector('.res-video-progress');\n\t\tconst indicatorPosition = progress.querySelector('.res-video-position');\n\t\tconst ctrlPosition = progress.querySelector('.res-video-position-thumb');\n\n\t\tconst msgSpeed = ctrlContainer.querySelector('.res-video-speed');\n\t\tconst msgTime = ctrlContainer.querySelector('.res-video-time');\n\n\t\tctrlTogglePause.addEventListener('click', () => {\n\t\t\tif (this.video.paused) this.video.play(); else this.video.pause();\n\t\t\tif (this.video.paused) this.stopAutoplay();\n\t\t});\n\t\tif (ctrlReverse) ctrlReverse.addEventListener('click', () => this.reverse());\n\n\t\tctrlSpeedDecrease.addEventListener('click', () => { this.video.playbackRate /= 1.1; });\n\t\tctrlSpeedIncrease.addEventListener('click', () => { this.video.playbackRate *= 1.1; });\n\t\tctrlTimeDecrease.addEventListener('click', () => { this.video.currentTime -= 1 / this.frameRate; });\n\t\tctrlTimeIncrease.addEventListener('click', () => { this.video.currentTime += 1 / this.frameRate; });\n\n\t\tthis.video.addEventListener('ratechange', () => {\n\t\t\tmsgSpeed.textContent = this.formatMultilineNumber(this.video.playbackRate, 'x');\n\t\t});\n\t\tthis.video.addEventListener('timeupdate', () => {\n\t\t\tindicatorPosition.style.left = `${(this.video.currentTime / this.video.duration) * 100}%`;\n\t\t\tmsgTime.textContent = this.formatMultilineNumber(this.video.currentTime, 's');\n\t\t});\n\n\t\tprogress.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\tlet left = e.offsetX;\n\t\t\tif (e.target === ctrlPosition) { left += e.target.offsetLeft; }\n\t\t\tctrlPosition.style.left = `${left}px`;\n\n\t\t\tif (e.buttons === 1 /* left mouse button */) ctrlPosition.click();\n\t\t});\n\t\tctrlPosition.addEventListener('click', (e: MouseEvent) => {\n\t\t\tconst percentage = (e.target.offsetLeft + e.target.clientWidth / 2) / progress.clientWidth;\n\t\t\tthis.video.currentTime = this.video.duration * percentage;\n\t\t});\n\n\t\tconst ctrlVolume = ctrlContainer.querySelector('.res-video-volume');\n\t\tif (ctrlVolume) {\n\t\t\tconst ctrlVolumeLevel = ctrlVolume.querySelector('.res-video-volume-level');\n\t\t\tconst volumePercentage = ctrlVolume.querySelector('.res-video-volume-percentage');\n\n\t\t\tconst updateVolume = e => {\n\t\t\t\tconst base = ctrlVolumeLevel.clientHeight;\n\t\t\t\tconst click = base - e.offsetY;\n\t\t\t\tconst level = Math.min(click / base, 1);\n\t\t\t\tif (level > 0.05) {\n\t\t\t\t\tthis.video.volume = level;\n\t\t\t\t\tthis.video.muted = false;\n\t\t\t\t\tVideo.volumeStorage.set(level);\n\t\t\t\t} else {\n\t\t\t\t\tthis.video.muted = true;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tctrlVolume.addEventListener('click', () => {\n\t\t\t\tthis.video.muted = !this.video.muted;\n\t\t\t});\n\t\t\tctrlVolumeLevel.addEventListener('mousemove', (e: MouseEvent) => {\n\t\t\t\tif (e.buttons === 1 /* left mouse button */) updateVolume(e);\n\t\t\t});\n\t\t\tctrlVolumeLevel.addEventListener('click', (e: MouseEvent) => {\n\t\t\t\tupdateVolume(e);\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\n\t\t\tconst refresh = () => {\n\t\t\t\tctrlVolume.setAttribute('level', (this.video.muted || !this.video.volume) ? '0' : String(Math.ceil(this.video.volume * 3)));\n\t\t\t\tvolumePercentage.style.height = `${this.video.volume * 100}%`;\n\t\t\t};\n\n\t\t\tthis.video.addEventListener('volumechange', refresh);\n\t\t\trefresh();\n\t\t}\n\t}\n\n\tstopAutoplay() {\n\t\tthis.autoplay = false;\n\t\tif (this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t}\n\n\tsupportsUnload() {\n\t\t// Due to issues brougth about by with `pause` and `play` being asynchronous and conserveMemory and mutedVideoManager\n\t\t// could end up in a race condition, only unload paused videoes\n\t\treturn this.video.paused;\n\t}\n\n\t_unload() {\n\t\t// Video is auto-paused when detached from DOM\n\t\tif (!this.isAttached()) return;\n\n\t\tif (!this.video.paused) this.video.pause();\n\n\t\tthis.time = this.video.currentTime;\n\t\tthis.video.setAttribute('src', ''); // this.video.src has precedence over any child source element\n\t\tthis.video.load();\n\n\t\tif (this.useVideoManager) mutedVideoManager().unobserve(this.video);\n\t}\n\n\t_restore() {\n\t\tif (this.video.hasAttribute('src')) {\n\t\t\tthis.video.removeAttribute('src');\n\t\t\tthis.video.load();\n\t\t}\n\n\t\tthis.video.currentTime = this.time;\n\n\t\tif (this.autoplay) {\n\t\t\tif (this.useVideoManager) mutedVideoManager().observe(this.video);\n\t\t\telse this.video.play();\n\t\t}\n\t}\n}\n\nexport function move(ele: HTMLElement, deltaX: number, deltaY: number): void {\n\tele.style.marginLeft = `${((parseFloat(ele.style.marginLeft) || 0) + deltaX).toFixed(2)}px`;\n\tele.style.marginTop = `${((parseFloat(ele.style.marginTop) || 0) + deltaY).toFixed(2)}px`;\n\n\tif (deltaY) ele.dispatchEvent(new CustomEvent('mediaManuallyMovedVertically', { bubbles: true }));\n}\n\nexport function resize(ele: HTMLElement, newWidth: number, newHeight?: number): void {\n\t// ele should always be grippable, so ignore resizes that are too tiny\n\tif (newWidth < 20) return;\n\n\tif (typeof newHeight === 'number') {\n\t\tele.style.height = `${newHeight}px`;\n\t} else if (ele.style.height) { // If height is previously set, keep the ratio\n\t\tconst { width, height } = ele.getBoundingClientRect();\n\t\tele.style.height = `${((height / width) * newWidth).toFixed(2)}px`;\n\t}\n\n\tele.style.width = `${newWidth}px`;\n\tele.style.maxWidth = ele.style.maxHeight = 'none';\n}\n","/* @flow */\n\nimport * as ShowImages from '../../showImages';\nimport { Expando as E /* avoids name conflict */ } from '../../showImages/expando';\nimport { Case } from '../Case';\n\nexport class Expando extends Case {\n\tstatic text = 'Expando';\n\n\tstatic parseCriterion(input: string) { return { types: input.split(/[\\s|]/).filter(Boolean) }; }\n\tstatic thingToCriterion(thing: *) {\n\t\tconst expando = thing.isPost() ? E.getEntryExpandoFrom(thing) : E.getTextExpandosFrom(thing)[0];\n\t\treturn expando && expando.types.join(' & ') || '';\n\t}\n\n\tstatic defaultConditions = { types: [] };\n\tstatic fields = ['post has expando, and (if specified) expando types intersects with ', { type: 'checkset', items: ShowImages.types, id: 'types' }];\n\tstatic slow = 9; // In order to evaluate whether an expando matches, the expando must be built first (which is slow due to API requests)\n\n\tstatic pattern = `[(${ShowImages.types.join('|')})]`;\n\tstatic criterionOperators = true;\n\n\ttrueText = this.conditions.types.length ? `expando ${this.conditions.types.join('|')}` : 'expando';\n\n\tisValid() { return ShowImages.matchesTypes(this.value.types); }\n\n\t_matches(e: ?E) {\n\t\tif (!e) return false;\n\t\tif (!e.ready) return null;\n\t\treturn ShowImages.matchesTypes(this.value.types, e.types);\n\t}\n\n\t_waitTillReady(thing: *) {\n\t\tconst completeTask = thing.tasks.byId.get(ShowImages.module);\n\t\tif (completeTask) {\n\t\t\tconst promise = completeTask();\n\t\t\tif (!(promise instanceof Promise)) return;\n\t\t\t// Wait at most 1 s for the task; if it takes longer, refresh this filter when it's done\n\t\t\treturn Promise.race([\n\t\t\t\tpromise.catch(() => { /* resolve also when it rejects */ }),\n\t\t\t\tnew Promise(rej => setTimeout(rej, 1000)),\n\t\t\t]).catch(() => {\n\t\t\t\tpromise.finally(() => { this.refresh(); });\n\t\t\t});\n\t\t}\n\t}\n\n\tasync evaluate(thing: *) {\n\t\tawait this._waitTillReady(thing);\n\n\t\tif (thing.isPost()) {\n\t\t\tconst expando = E.getEntryExpandoFrom(thing);\n\t\t\treturn this._matches(expando);\n\t\t} else {\n\t\t\tconst expandos = E.getTextExpandosFrom(thing);\n\t\t\tconst res = expandos.map(this._matches.bind(this));\n\t\t\tif (res.some(Boolean)) return true;\n\t\t\tif (res.some(v => v === null)) return null;\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tonObserve() {\n\t\treturn true;\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsLocked extends Case {\n\tstatic text = 'Locked';\n\n\tstatic fields = ['post is locked'];\n\tstatic unique = true;\n\n\ttrueText = 'locked';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isLocked();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsNSFW extends Case {\n\tstatic text = 'NSFW';\n\n\tstatic fields = ['post is marked NSFW'];\n\n\tstatic unique = true;\n\n\ttrueText = 'nsfw';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isNSFW();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsSpoiler extends Case {\n\tstatic text = 'Spoiler';\n\n\tstatic fields = ['post is marked spoiler'];\n\n\tstatic unique = true;\n\n\ttrueText = 'spoiler';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isSpoiler();\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { isURLVisited } from '../../../environment';\n\nexport class IsVisited extends Case {\n\t/* Not available for Edge, it lacks isURLVisited */\n\tstatic text = 'Visited';\n\n\tstatic fields = ['link has been visited'];\n\tstatic slow = 2;\n\n\tstatic unique = true;\n\n\ttrueText = 'visited';\n\n\tevaluate(thing: *) {\n\t\tif (thing.element.classList.contains('visited')) return true;\n\n\t\tconst link = thing.getPostLink();\n\t\tif (!link) return null;\n\t\treturn isURLVisited(link.href);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class LinkFlair extends PatternCase {\n\tstatic text = 'Link flair';\n\n\tstatic thingToCriterion(thing: *) { return thing.getPostFlairText(); }\n\n\tstatic fields = ['post has link flair matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `link flair ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(false, '/./');\n\n\tevaluate(thing: *) {\n\t\tconst text = thing.getPostFlairText();\n\t\treturn this.value.some(v => v.test(text));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class PostAfter extends Case {\n\tstatic text = 'Post after';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\tstatic thingToCriterion(thing: *) { return thing.getTimestamp().toISOString(); }\n\n\tstatic defaultConditions = { patt: (new Date()).toISOString() };\n\tstatic fields = ['posted after date ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = 'Date  string representing a RFC2822 or ISO 8601 date';\n\n\ttrueText = `after ${this.conditions.patt}`;\n\n\tvalue = new Date(this.conditions.patt);\n\n\tisValid() { return !isNaN(this.value); }\n\n\tevaluate(thing: *) {\n\t\tconst postTime = thing.getTimestamp();\n\t\tif (!postTime) return null;\n\t\treturn postTime >= this.value;\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nconst qualifiers = [['Y', 12], ['M', 30.44], ['d', 24], ['h', 60], ['m', 60], ['s', 1000]];\nconst now = new Date();\n\nfunction prettifyAge(remainder) {\n\tlet remainderQualifier = '';\n\tfor (const [qualifier, multiplier] of qualifiers.slice().reverse()) {\n\t\tif (remainder < multiplier) break;\n\t\tremainder /= multiplier;\n\t\tremainderQualifier = qualifier;\n\t}\n\n\treturn remainder.toFixed(2) + remainderQualifier;\n}\n\nexport class PostAge extends Case {\n\tstatic text = 'Post age';\n\n\tstatic parseCriterion(input: *) {\n\t\tlet age = parseInt(input, 10);\n\t\tif (isNaN(age)) throw new Error('Invalid age');\n\n\t\tconst ageQualifier = _.head(input.match(/Y|M|d|h|m|s/)) || 's';\n\t\tage = _.dropWhile(qualifiers, ([qualifier]) => qualifier !== ageQualifier)\n\t\t\t.reduce((a, [, multiplier]) => a * multiplier, age);\n\n\t\treturn { op: '<=', age };\n\t}\n\n\tstatic thingToCriterion(thing: *) {\n\t\tconst remainder = (now - new Date(thing.getTimestamp()));\n\t\tif (isNaN(remainder)) throw new Error('Could not determine Thing date');\n\t\treturn prettifyAge(remainder);\n\t}\n\n\tstatic defaultConditions = { op: '<=', age: 4 * 60 * 60 * 1000 };\n\tstatic fields = ['post is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'duration', id: 'age' }, ' old'];\n\n\tstatic pattern = 'x[(Y|M|d|h|m)]  where x is the number of seconds or Y year, M month, h hour, m minute (case sensitive)';\n\n\ttrueText = `age ${prettyOperator(this.conditions.op)} ${prettifyAge(this.conditions.age)}`;\n\tfalseText = `age ${prettyOperator(inverseOperator(this.conditions.op))} ${prettifyAge(this.conditions.age)}`;\n\n\tevaluate(thing: *) {\n\t\tconst postTime = thing.getTimestamp();\n\t\tif (!postTime) return null;\n\t\treturn numericalCompare(this.value.op, now - postTime, this.value.age);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class PostTitle extends PatternCase {\n\tstatic text = 'Post title';\n\n\tstatic fields = ['post\\'s title contains ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `title contains ${this.conditions.patt}`;\n\n\tvalue = this.build(false);\n\n\tevaluate(thing: *) {\n\t\tconst title = thing.getTitle();\n\t\treturn this.value.some(v => v.test(title));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst options = [\n\t['link post', 'link'],\n\t['self post', 'self'],\n];\n\nexport class PostType extends Case {\n\tstatic text = 'Post type';\n\n\tstatic parseCriterion(input: *) { return { kind: input }; }\n\n\tstatic defaultConditions = { kind: 'link' };\n\tstatic fields = ['post is a ', { type: 'select', id: 'kind', options }];\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = `type ${this.conditions.kind}`;\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.kind); }\n\n\tevaluate(thing: *) {\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'link': return thing.isLinkPost();\n\t\t\tcase 'self': return thing.isSelfPost();\n\t\t\tdefault: return null;\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class Score extends Case {\n\tstatic text = 'Score';\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['post has ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' points'];\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getScore()); }\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `score ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `score ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst score = thing.getScore();\n\t\tif (isNaN(score)) return null;\n\t\treturn numericalCompare(this.value.op, score, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Case } from '../Case';\n\nexport class Selector extends Case {\n\tstatic text = 'Selector';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['thing matches jQuery selector ', { type: 'text', id: 'patt' }];\n\tstatic slow = 10; // Can cause reflow, e.g. by using `:contains()`\n\n\tstatic pattern = 'string';\n\n\ttrueText = `$('${this.conditions.patt.replace(/\\'/g, '\\\\\\'')}')`;\n\tfalseText = `$(':not(${this.conditions.patt.replace(/\\'/g, '\\\\\\'')}'))`;\n\n\tisValid() { return this.value.patt && !!$(this.value.patt); }\n\n\tevaluate(thing: *) {\n\t\treturn $(thing.element).is(this.value.patt) ||\n\t\t\t$(thing.entry).is(this.value.patt) ||\n\t\t\t!!$(thing.entry).has(this.value.patt).length;\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Subreddit extends PatternCase {\n\tstatic text = 'Subreddit';\n\n\tstatic thingToCriterion(thing: *) { return thing.getSubreddit(); }\n\n\tstatic fields = ['posted in /r/', { type: 'text', id: 'patt' }];\n\n\ttrueText = `in ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst subreddit = thing.getSubreddit();\n\t\tif (!subreddit) return null;\n\t\treturn this.value.some(v => v.test(subreddit));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { loggedInUser } from '../../../utils';\n\nconst options = [\n\t['a friend', 'friend'],\n\t['a moderator', 'moderator'],\n\t['an admin', 'admin'],\n\t['me', 'me'],\n\t['op', 'submitter'],\n];\n\nexport class UserAttr extends Case {\n\tstatic text = 'User attribute';\n\n\tstatic parseCriterion(input: *) { return { attr: input }; }\n\n\tstatic fields = ['user is ', { type: 'select', id: 'attr', options }];\n\tstatic defaultConditions = { attr: 'friend' };\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = `by ${this.conditions.attr}`;\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.attr); }\n\n\tevaluate(thing: *) {\n\t\tif (this.value.attr === 'me') {\n\t\t\t// No standard marker for my own posts so compare against the logged in user\n\t\t\tconst myName = loggedInUser();\n\t\t\tconst author = thing.getAuthor();\n\t\t\tif (!myName || !author) return null;\n\t\t\treturn author.trim().toLowerCase() === myName.trim().toLowerCase();\n\t\t} else {\n\t\t\t// The other cases have hardcoded class names\n\t\t\tconst element = thing.getAuthorElement();\n\t\t\tif (!element) return null;\n\t\t\treturn element.classList.contains(this.value.attr);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class UserFlair extends PatternCase {\n\tstatic text = 'User flair';\n\n\tstatic thingToCriterion(thing: *) { return thing.getUserFlairText(); }\n\n\tstatic fields = ['author of this post has flair matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `user flair ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(false, '/./');\n\n\tevaluate(thing: *) {\n\t\tconst text = thing.getUserFlairText();\n\t\treturn this.value.some(v => v.test(text));\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { CreateElement, frameThrottle, string } from '../utils';\nimport { multicast } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('customToggles');\n\nmodule.moduleName = 'customTogglesName';\nmodule.category = 'coreCategory';\nmodule.description = 'customTogglesDesc';\n\nmodule.options = {\n\ttoggle: {\n\t\tdescription: 'customTogglesToggleDesc',\n\t\ttitle: 'customTogglesToggleTitle',\n\t\ttype: 'table',\n\t\tfields: [{\n\t\t\tkey: 'key',\n\t\t\tname: 'key',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'enabled',\n\t\t\tname: 'enabled',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: true,\n\t\t}, {\n\t\t\tkey: 'text',\n\t\t\tname: 'text',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, boolean, string]>),\n\t},\n};\n\nconst toggles: Map<string, Toggle> = new Map();\nconst customToggles: Array<Toggle> = [];\n\nmodule.beforeLoad = () => {\n\tfor (const instance of module.options.toggle.value) {\n\t\tconst [key, initialEnabled, text] = instance;\n\n\t\tif (toggles.has(key)) {\n\t\t\tconsole.error(`A toggle with key ${key} already exists`, instance);\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst toggle = new Toggle(key, text, initialEnabled);\n\t\tcustomToggles.push(toggle);\n\n\t\ttoggle.onStateChange(() => {\n\t\t\t// Keep the settings data current to avoid overwriting modifications from other tabs\n\t\t\tinstance[1] = toggle.enabled;\n\n\t\t\t// For modules which update dynamically\n\t\t\t$(module).trigger($.Event('toggle')); // eslint-disable-line new-cap\n\t\t});\n\n\t\ttoggle.onToggle(() => {\n\t\t\tOptions.save(module.options.toggle);\n\t\t});\n\n\t\ttoggle.addMenuItem();\n\t}\n};\n\nmodule.contentStart = () => {\n\tregisterCommandLine();\n};\n\nexport class Toggle {\n\ttext: string;\n\tenabled: boolean;\n\n\tstateChangeCallbacks: Array<() => void> = []; // Invoked on all tabs\n\ttoggleCallbacks: Array<(type: 'multicast' | 'auto' | 'manual') => void> = []; // Invoked on the tab which caused the change\n\n\tmulticast: boolean => any;\n\n\tconstructor(key: string, text: *, enabled: *) {\n\t\tthis.text = text;\n\t\tthis.enabled = enabled;\n\n\t\tthis.multicast = multicast(frameThrottle((enabled: boolean) => {\n\t\t\tthis.toggle('multicast', enabled);\n\t\t}), { local: false, name: `toggle.${key}` });\n\n\t\ttoggles.set(key, this);\n\t}\n\n\ttoggle(type: * = 'manual', state: boolean = !this.enabled) {\n\t\tif (this.enabled === state) return;\n\t\tthis.enabled = state;\n\n\t\tfor (const callback of this.stateChangeCallbacks) callback();\n\t\tif (type !== 'multicast') {\n\t\t\tfor (const callback of this.toggleCallbacks) callback(type);\n\t\t\tthis.multicast(state);\n\t\t}\n\t}\n\n\tonStateChange(callback: *) {\n\t\tthis.stateChangeCallbacks.push(callback);\n\t}\n\n\tonToggle(callback: *) {\n\t\tthis.toggleCallbacks.push(callback);\n\t}\n\n\taddMenuItem(title: string = `Toggle ${this.text}`, order: number = 9, on?: string, off?: string) {\n\t\tMenu.addMenuItem(\n\t\t\t_.once(() => {\n\t\t\t\tconst item = string.html`<div title=\"${title}\">${this.text || '\\u00A0'}</div>`;\n\t\t\t\tconst toggle = CreateElement.toggleButton(undefined, this.text, this.enabled, on, off);\n\t\t\t\titem.append(toggle);\n\t\t\t\tthis.onStateChange(() => { toggle.classList.toggle('enabled', this.enabled); });\n\t\t\t\treturn item;\n\t\t\t}),\n\t\t\te => {\n\t\t\t\tthis.toggle();\n\t\t\t\te.stopPropagation();\n\t\t\t},\n\t\t\torder\n\t\t);\n\t}\n\n\taddCLI(commandPredicate: string) {\n\t\tCommandLine.registerCommand(commandPredicate, `${commandPredicate} - toggle ${this.text}`,\n\t\t\t() => ` ${this.enabled ? 'Disable' : 'Enable'} ${this.text}`,\n\t\t\t() => { this.toggle(); }\n\t\t);\n\t}\n\n\tbuildCheckbox(): HTMLInputElement {\n\t\tconst checkbox = document.createElement('input');\n\t\tcheckbox.setAttribute('type', 'checkbox');\n\t\tcheckbox.checked = this.enabled;\n\t\tcheckbox.addEventListener('change', () => { this.toggle('manual', checkbox.checked); });\n\t\tthis.onStateChange(() => { checkbox.checked = this.enabled; });\n\t\treturn checkbox;\n\t}\n}\n\nfunction registerCommandLine() {\n\tconst getToggles = val => Array.from(toggles.values())\n\t\t.filter(({ text }) => text.startsWith(val))\n\t\t.sort(({ text: a }, { text: b }) => a.localeCompare(b));\n\n\tCommandLine.registerCommand('toggle', 'toggle - toggle any custom toggle',\n\t\t(command, val) => getToggles(val).length ?\n\t\t\t`Toggle ${getToggles(val).map((toggle, i) => i === 0 ? `<b>${toggle.text}</b>` : toggle.text).join('|')}` :\n\t\t\t`No toggles matching <i>${val}</i>`,\n\t\t(command, val) => {\n\t\t\tconst match = getToggles(val)[0];\n\t\t\tif (match) match.toggle();\n\t\t\telse return `${val} does not match a valid toggle`;\n\t\t}\n\t);\n}\n\nexport function toggleActive(key: string): boolean {\n\tconst toggle = toggles.get(key);\n\treturn !!toggle && toggle.enabled;\n}\n\n// Stage may have the most recent toggles, in case this is invoked while in settingsConsole\nexport const getToggles = () => (Options.stage.get(module.moduleID) || module.options)\n\t.toggle.value.map(([key, , text]) => ({ key, text }));\n","/* @flow */\n\nimport _ from 'lodash';\nimport type { Thing } from '../../utils';\nimport {\n\tfastAsync,\n\tstring,\n} from '../../utils';\nimport type { FilterStorageValues } from '../filteReddit';\nimport { Case } from './Case';\nimport type { Filterline } from './Filterline';\n\nexport class Filter {\n\tid: string;\n\tname: string;\n\tparent: ?Filterline;\n\n\tupdatePromise: ?Promise<*>;\n\n\tBaseCase: Class<Case>;\n\tcase: Case;\n\tstate: boolean;\n\n\tactive: boolean = false;\n\n\telement: HTMLElement;\n\n\teffects: { [key: string]: boolean } = {};\n\n\tconstructor(id: *, BaseCase: *, name: *, conditions: * = null, state: * = true, effects: * = {}) {\n\t\tthis.id = id;\n\t\tthis.BaseCase = BaseCase;\n\t\tthis.name = name;\n\t\tthis.state = state;\n\t\t// Add only active effects in order to minimize the number of effects to keep track of\n\t\tObject.assign(this.effects, _.pickBy(effects, Boolean));\n\t\tthis.setCase(BaseCase.fromConditions(conditions));\n\t}\n\n\tisActive() {\n\t\treturn !!this.getEffects().length && this.case.isEvaluatable();\n\t}\n\n\tcreateElement() {}\n\n\tsetParent(parent: *) {\n\t\tthis.parent = parent;\n\t}\n\n\tgetStateText(state: boolean = this.state, cased: Case = this.case): string {\n\t\treturn state !== false ?\n\t\t\tthis.name || cased.trueText || (this.BaseCase.text || this.BaseCase.type).toLowerCase() :\n\t\t\tthis.name && ` ${this.name}` || cased.falseText || ` ${this.getStateText(true, cased)}`;\n\t}\n\n\tgetSaveValues() {\n\t\tconst values: FilterStorageValues = { type: this.BaseCase.type, state: this.state, effects: this.effects };\n\n\t\tif (this.BaseCase.variant === 'basic') {\n\t\t\tvalues.conditions = this.case.conditions;\n\n\t\t\tif (this.name && this.name !== this.case.trueText) {\n\t\t\t\tvalues.name = this.name;\n\t\t\t}\n\t\t}\n\n\t\treturn values;\n\t}\n\n\tremove() {\n\t\tfor (const effect of Object.keys(this.effects)) this.effects[effect] = false;\n\t\tif (this.parent) this.parent.removeFilter(this);\n\t}\n\n\tgetEffects(): Array<string> {\n\t\treturn Object.entries(this.effects).filter(([, enabled]) => enabled).map(([name]) => name);\n\t}\n\n\tsetCase(newCase: Case) {\n\t\tthis.case = newCase;\n\t\tthis.active = this.isActive(); // XXX Make sure to update this anytime effects or case changes\n\t\tif (this.active) this.case.observe(this);\n\t}\n\n\tupdate(state: boolean = this.state, conditions?: *, effects: * = {}, describeOnly: boolean = false) {\n\t\tconst cased = conditions === undefined ? this.case : this.BaseCase.fromConditions(conditions, true);\n\t\tif (!cased.isValid()) throw new Error('Invalid conditions');\n\n\t\tif (describeOnly) {\n\t\t\treturn `Show only posts which matches \"${this.getStateText(state, cased)}\"`;\n\t\t}\n\n\t\tthis.state = state;\n\t\tObject.assign(this.effects, effects);\n\t\tthis.setCase(cased);\n\n\t\tthis.refresh();\n\t\tif (this.parent) this.parent.save();\n\t}\n\n\trefresh = (thing?: Thing) => {\n\t\tif (!this.parent) return;\n\t\tthis.updatePromise = this.parent.refresh(this, thing ? [thing] : undefined);\n\t};\n\n\tasync updateByInputConstruction({\n\t\tcriterion,\n\t\tdisableFilter,\n\t\treverseActive,\n\t\tfromSelected,\n\t}: {\n\t\tcriterion?: string,\n\t\tdisableFilter?: boolean,\n\t\treverseActive?: boolean,\n\t\tfromSelected?: boolean,\n\t}, describeOnly?: boolean = false): Promise<?string> {\n\t\tif (disableFilter) {\n\t\t\tif (describeOnly) return 'Disable filter';\n\t\t\treturn this.update(undefined, undefined, { hide: false });\n\t\t}\n\n\t\tlet state, conditions;\n\n\t\tif (fromSelected) {\n\t\t\t({ state, conditions } = await this.BaseCase.getSelectedEntryValue());\n\t\t} else {\n\t\t\tif (criterion) conditions = this.BaseCase.criterionToConditions(criterion);\n\t\t\tstate = this.state;\n\t\t}\n\n\t\tif (reverseActive) state = !state;\n\n\t\treturn this.update(state, conditions, { hide: true }, describeOnly);\n\t}\n\n\tmatches = fastAsync(function*(thing: Thing) {\n\t\ttry {\n\t\t\tconst result = yield this.case.evaluate(thing);\n\t\t\treturn result === null ? false : this.state === !result;\n\t\t} catch (e) {\n\t\t\t// evaluate may fail due to `downcast` etc\n\t\t\treturn false;\n\t\t}\n\t});\n\n\tgetMatchingEntry(thing: Thing) { // eslint-disable-line no-unused-vars\n\t\treturn this.case.conditions;\n\t}\n\n\tremoveEntry(entry: *, effect: string) { // eslint-disable-line no-unused-vars\n\t\tthis.update(undefined, undefined, { [effect]: false });\n\t}\n\n\tasync buildReasonElement(thing: Thing, effect: string) {\n\t\tconst entry = await this.getMatchingEntry(thing);\n\t\tconst element = string.html`\n\t\t\t<div class=\"res-thing-filter-remove-matching-entry\" title=\"${JSON.stringify(entry, null, '  ')}\">\n\t\t\t\t${effect}: ${this.getStateText(!this.state)}  click to remove matching filter entry\n\t\t\t</div>\n\t\t`;\n\t\telement.addEventListener('click', () => { this.removeEntry(entry, effect); });\n\t\treturn element;\n\t}\n}\n","/* @flow */\n\nimport { string, CreateElement } from '../../utils';\nimport * as FilteReddit from '../filteReddit';\nimport * as SettingsNavigation from '../settingsNavigation';\nimport * as Cases from './cases';\nimport { Filter } from './Filter';\n\nexport class ExternalFilter extends Filter {\n\ttoggleEffects: $ReadOnlyArray<string> = ['hide'];\n\n\tisActive() {\n\t\t// If the case will always evaluate false, prevent this filter from making Filterline believe it's being useful\n\t\treturn this.case.constructor.type !== 'false' && super.isActive();\n\t}\n\n\tcreateElement() {\n\t\tthis.element = string.html`\n\t\t\t<div class=\"res-filterline-external-filter\" type=\"${this.BaseCase.type}\">\n\t\t\t\t<div>${this.name || this.BaseCase.type}</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tif (FilteReddit.module.options.hasOwnProperty(this.BaseCase.type)) {\n\t\t\tthis.element.prepend(string.html`${string.safe(\n\t\t\t\tSettingsNavigation.makeUrlHashLink(FilteReddit.module.moduleID, this.BaseCase.type, ' ', 'gearIcon')\n\t\t\t)}`);\n\t\t}\n\n\t\tconst setActive = active => {\n\t\t\tconst effects = this.toggleEffects\n\t\t\t\t.reduce((acc, val) => { acc[val] = active; return acc; }, {});\n\t\t\tthis.update(undefined, undefined, effects);\n\t\t};\n\n\t\tif (Cases.isUseful(this.case.constructor.type)) {\n\t\t\tconst t = CreateElement.toggleButton(setActive, null, this.isActive(), '', '');\n\t\t\tthis.element.appendChild(t);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Sortable } from '../../vendor';\nimport {\n\tasyncFilter,\n\tcaseBuilder,\n\tstring,\n\twaitForEvent,\n\tdowncast,\n\tframeThrottle,\n} from '../../utils';\nimport * as CommentNavigator from '../commentNavigator';\nimport * as Hover from '../hover';\nimport * as FilteReddit from '../filteReddit';\nimport * as Cases from './cases';\nimport * as Modules from './../../core/modules';\nimport { Filter } from './Filter';\n\nexport class LineFilter extends Filter {\n\tinitialConditions: *;\n\n\tconstructor(id: *, BaseCase: *, name: *, conditions: * = null, state: * = true, effects: * = {}) {\n\t\tif (BaseCase.variant === 'ondemand') {\n\t\t\tconst externOpts = BaseCase._customFilter && BaseCase._customFilter.opts;\n\t\t\tif (externOpts) {\n\t\t\t\tif (!name) ({ name } = externOpts);\n\n\t\t\t\tif (!effects.hasOwnProperty('propagate')) {\n\t\t\t\t\tconst { propagate } = externOpts;\n\t\t\t\t\tObject.assign(effects, { propagate });\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tsuper(id, BaseCase, name, conditions, state, effects);\n\t}\n\n\tupdate(state: * = this.state, conditions?: *, effects: *, describeOnly: *) {\n\t\tif (this.BaseCase.variant === 'ondemand' && conditions && !describeOnly) {\n\t\t\tFilteReddit.updateCustomFilter(this.BaseCase.getCustomFilter(), { body: conditions });\n\t\t\tconditions = null; // Force create new case\n\t\t}\n\n\t\tconst message = super.update(state, conditions, effects, describeOnly);\n\t\tif (this.element) this.refreshElement();\n\t\treturn message;\n\t}\n\n\tsetParent(parent: *) {\n\t\tsuper.setParent(parent);\n\t\tthis.getBuilder.cache.clear();\n\t}\n\n\tcreateElement() {\n\t\tthis.element = string.html`<div class=\"res-filterline-filter\" type=\"${this.BaseCase.type}\"></div>`;\n\t\tthis.refreshElement();\n\n\t\tthis.element.addEventListener('click', () => {\n\t\t\tif (!this.effects.hide) this.update(undefined, undefined, { hide: true });\n\t\t\telse if (this.state) this.update(false, undefined, { hide: true });\n\t\t\telse this.update(true, undefined, { hide: false });\n\t\t});\n\n\t\tthis.element.addEventListener('contextmenu', (e: Event) => { // Right click\n\t\t\tif (this.effects.hide) this.update(undefined, undefined, { hide: false });\n\t\t\telse this.remove();\n\t\t\te.preventDefault(); // Do not show context menu\n\t\t});\n\n\t\tthis.element.addEventListener('mouseenter', async () => {\n\t\t\t// To prevent this from triggering and clearing other cards when moving the curser quickly through,\n\t\t\t// wait a little in order to be sure about the user's intent\n\t\t\tawait new Promise(res => setTimeout(res, 150));\n\t\t\tif (this.element.matches(':hover')) this.showInfocard();\n\t\t});\n\t\t// When just clicking the button, avoid showing the infocard as it can be a nuisance\n\t\tthis.element.addEventListener('click', () => Hover.infocard('filterline-filter').resetShowTimer());\n\t\tthis.element.addEventListener('contextmenu', () => Hover.infocard('filterline-filter').resetShowTimer());\n\t}\n\n\tshowInfocard(immediately: boolean = false) {\n\t\tconst card = Hover.infocard('filterline-filter');\n\t\tif (card.visible) immediately = true;\n\t\tcard\n\t\t\t.target(this.element)\n\t\t\t.options({ width: 570, openDelay: immediately ? 0 : 550, pin: Hover.pin.bottom })\n\t\t\t.populateWith(this.populateHover.bind(this))\n\t\t\t.begin();\n\t}\n\n\trefreshElement() {\n\t\tthis.element.setAttribute('text', this.getStateText());\n\t\t// Don't display external filters that are not active\n\t\tthis.element.classList.toggle('res-filterline-filter-disabled', this.BaseCase.variant !== 'basic' && !this.case.isEvaluatable());\n\t\tthis.element.classList.toggle('res-filterline-filter-hiding', this.case.isEvaluatable() && !!this.effects.hide);\n\t}\n\n\t// Memoize in order to preserve the builder when infocard closes\n\tgetBuilder = _.memoize((filterline, card) => {\n\t\tconst builderCases = Cases.getByContext(filterline.thingType);\n\n\t\tlet lastConditions = this.case.conditions;\n\n\t\tif (this.BaseCase.variant === 'ondemand') {\n\t\t\tObject.assign(builderCases, Cases.getByContext('browse'));\n\n\t\t\t// Use customFilter conditions\n\t\t\tlastConditions = this.BaseCase.getCustomFilter().body;\n\t\t}\n\n\t\tif (!this.initialConditions) this.initialConditions = lastConditions;\n\n\t\tconst $builderBlock = caseBuilder.drawBuilderBlock(lastConditions, builderCases, false);\n\t\t$builderBlock.on('change input', frameThrottle(() => {\n\t\t\tconst conditions = caseBuilder.readBuilderBlock($builderBlock, builderCases);\n\t\t\tif (!_.isEqual(lastConditions, conditions)) {\n\t\t\t\tlastConditions = conditions;\n\t\t\t\tthis.update(undefined, conditions);\n\t\t\t\t// Keep track of what is focused when redrawing\n\t\t\t\tconst lastFocus = $builderBlock.get(0).contains(document.activeElement) && document.activeElement;\n\t\t\t\tif (lastFocus) card.refresh().then(() => lastFocus.focus());\n\t\t\t}\n\t\t}));\n\n\t\tSortable.create($builderBlock.get(0), { handle: '.handle' });\n\n\t\treturn {\n\t\t\tget builder() { return $builderBlock.get(0); },\n\t\t\tisCaseChanged: () => !_.isEqual(this.initialConditions, lastConditions),\n\t\t};\n\t});\n\n\tpopulateHover(card: *) {\n\t\tconst { parent: filterline } = this;\n\t\tif (!filterline) throw new Error('Filter not attached');\n\n\t\tconst redraw = () => {\n\t\t\tthis.getBuilder.cache.clear();\n\t\t\tcard.refresh();\n\t\t};\n\n\t\tconst head = string.html`\n\t\t\t<div class=\"res-filterline-filter-hover-preamble\">\n\t\t\t\t<span>Filter ${this.BaseCase.text}</span>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"case-actions\">\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tconst body = string.html`\n\t\t\t<div class=\"res-filterline-filter-hover\">\n\t\t\t\t<span class=\"res-filterline-filter-hover-options\"></span>\n\t\t\t\t<span>For posts (<span class=\"res-filterline-filter-hover-number-matches\"></span>) ${this.state ? 'not ' : ''}matching:</span>\n\t\t\t\t<div class=\"builderItem\"></div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-notice\">${ // Keep element empty when no text due to :empty selector\n\tthis.BaseCase.variant === 'ondemand' && 'By adding browse context conditions such as \"Date\", \"Logged in user\", and \"Custom toggle\", you control where and when this filter is available.'}</div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"match-effects\">\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-filterline-filter-hover-group\" group=\"match-actions\" hidden>\n\t\t\t\t\t<div class=\"res-filterline-filter-hover-buttons\"></div>\n\t\t\t\t</div>\n\t\t`;\n\n\t\tconst { builder, isCaseChanged } = this.getBuilder(filterline, card);\n\t\tbody.querySelector('.builderItem').appendChild(builder);\n\n\t\t// Focus first input in builder, since it's likely the user want to modify that condition\n\t\tsetTimeout(() => {\n\t\t\tif (!builder.contains(document.activeElement)) {\n\t\t\t\t// If an `input` element is not found, look for `select`\n\t\t\t\tconst e = [...builder.querySelectorAll('input'), ...builder.querySelectorAll('select')]\n\t\t\t\t\t.find(e => e.offsetParent);\n\t\t\t\tif (e) e.focus();\n\t\t\t}\n\t\t});\n\n\t\tif (filterline.thingType === 'comment') {\n\t\t\tconst options = body.querySelector('.res-filterline-filter-hover-options');\n\t\t\tconst propagate = string.html`<label style=\"display: flex; align-items: center;\"><input style=\"margin-right: 3px;\" type=\"checkbox\" ${this.effects.propagate && 'checked'}>Also hide children</label>`;\n\t\t\toptions.append(propagate);\n\t\t\twaitForEvent(propagate, 'change').then(() => {\n\t\t\t\tthis.effects.propagate = downcast(propagate.querySelector('input'), HTMLInputElement).checked;\n\t\t\t\tthis.refresh();\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tfunction addButton(container, text, groupName, action) {\n\t\t\tconst button = string.html`<button class=\"res-filterline-filter-hover-button\" action=\"${action}\">${text}</button>`;\n\t\t\tconst group = downcast(container.querySelector(`[group=${groupName}]`), HTMLElement);\n\t\t\tgroup.hidden = false;\n\t\t\tconst buttons = downcast(group.querySelector('.res-filterline-filter-hover-buttons'), HTMLElement);\n\t\t\tbuttons.appendChild(button);\n\t\t\treturn waitForEvent(button, 'click');\n\t\t}\n\n\t\tif (this.BaseCase.variant === 'basic' && this.BaseCase === Cases.Group) {\n\t\t\taddButton(head, 'To on-demand', 'case-actions', 'to-ondemand').then(() => {\n\t\t\t\tconst conditions = Cases.getGroup('all', [\n\t\t\t\t\tCases.getConditions('currentLocation'),\n\t\t\t\t\tCases.getGroup(this.state ? 'all' : 'none', [this.case.conditions]),\n\t\t\t\t]);\n\n\t\t\t\tif (!this.name) this.name = window.prompt('Filter name:');\n\n\t\t\t\tthis.BaseCase = FilteReddit.addOndemandCase(\n\t\t\t\t\tFilteReddit.addCustomFilter({\n\t\t\t\t\t\tbody: Cases.resolveGroup(conditions, false, true),\n\t\t\t\t\t\topts: {\n\t\t\t\t\t\t\tondemand: true,\n\t\t\t\t\t\t\tname: this.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t})\n\t\t\t\t);\n\n\t\t\t\tthis.update(true, null);\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tif (isCaseChanged()) {\n\t\t\taddButton(head, 'Reset change', 'case-actions', 'reset').then(() => {\n\t\t\t\tthis.update(undefined, this.initialConditions);\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\tif (this.BaseCase.variant === 'ondemand' || this.BaseCase === Cases.Group) {\n\t\t\taddButton(head, 'Rename', 'case-actions', 'rename').then(() => {\n\t\t\t\tconst name = window.prompt('New filter name:', this.case.trueText);\n\t\t\t\tif (!name) return;\n\n\t\t\t\tif (this.BaseCase.variant === 'ondemand') {\n\t\t\t\t\tconst customFilter = this.BaseCase.getCustomFilter();\n\t\t\t\t\tFilteReddit.updateCustomFilter(customFilter, { opts: { name } });\n\t\t\t\t}\n\n\t\t\t\tthis.name = name;\n\t\t\t\tthis.update();\n\t\t\t}).then(redraw);\n\t\t}\n\n\t\taddButton(head, 'Invert', 'case-actions', 'invert')\n\t\t\t.then(() => { this.update(!this.state); })\n\t\t\t.then(redraw);\n\n\t\taddButton(head, 'Remove', 'case-actions', 'remove')\n\t\t\t.then(() => { this.remove(); })\n\t\t\t.then(card.close.bind(card));\n\n\t\taddButton(body, this.effects.hide ? 'Don\\'t hide' : 'Hide', 'match-effects', `hide-${this.effects.hide ? 'false' : 'true'}`)\n\t\t\t.then(() => { this.update(undefined, undefined, { hide: !this.effects.hide }); })\n\t\t\t.then(redraw);\n\n\t\taddButton(body, this.effects.highlight ? 'Don\\'t highlighting' : 'Highlight', 'match-effects', 'highlight').then(() => {\n\t\t\tthis.update(undefined, undefined, { highlight: !this.effects.highlight });\n\t\t}).then(redraw);\n\n\t\tif (Modules.isRunning(CommentNavigator) && !this.effects.hide) {\n\t\t\taddButton(body, 'Navigate by', 'match-actions', 'navigate-by').then(() => {\n\t\t\t\tCommentNavigator.updateCustomConditions(Cases.getGroup(this.state ? 'none' : 'all', [this.case.conditions]));\n\t\t\t\tCommentNavigator.setCategory('custom');\n\t\t\t\tcard.close();\n\t\t\t});\n\t\t}\n\n\t\tasyncFilter(Array.from(filterline.things), async thing => await this.matches(thing)) // eslint-disable-line no-return-await\n\t\t\t.then(matches => {\n\t\t\t\tconst numberSpan = body.querySelector('.res-filterline-filter-hover-number-matches');\n\t\t\t\tnumberSpan.textContent = String(matches.length);\n\n\t\t\t\tif (filterline.thingType === 'post' && matches.length) {\n\t\t\t\t\taddButton(body, 'Permanently hide', 'match-actions', 'native-hide')\n\t\t\t\t\t\t.then(() => { filterline.hidePermanently(matches); });\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn [head, body];\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport type { Thing } from '../../utils';\nimport {\n\tBodyClasses,\n\tSelectedThing,\n\tfastAsync,\n\twaitForEvent,\n\tdowncast,\n\thide as redditHide,\n\tunhide as redditUnhide,\n\tframeThrottle,\n\tforEachChunked,\n\tidleThrottle,\n\tloggedInUser,\n\tkeyedMutex,\n\tfilterMap,\n\tstring,\n} from '../../utils';\nimport { i18n } from '../../environment';\nimport * as Hover from '../hover';\nimport * as Notifications from '../notifications';\nimport * as FilteReddit from '../filteReddit';\nimport * as RESTips from '../RESTips';\nimport * as Cases from './cases';\nimport { ExternalFilter } from './ExternalFilter';\nimport { LineFilter } from './LineFilter';\nimport type { Filter } from './Filter';\nimport type { Case } from './Case';\n\ntype NewFilterOpts = {|\n\tFilter?: Class<Filter>,\n\tid?: string,\n\tadd?: boolean,\n\tsave?: boolean,\n\t...FilteReddit.FilterStorageValues,\n|};\n\nexport class Filterline {\n\tthings: Set<Thing> = new Set();\n\tthingType: string;\n\n\tstorage: *;\n\tfilters: Filter[] = [];\n\tsortedFilters: Filter[] = []; // Filters sorted by slowness\n\n\tcurrentMatches: Map<Thing, { [string]: Filter | null }> = new Map();\n\n\tpermanentlyHiddenThings: Set<Thing> = new Set();\n\tdisplayReasons: boolean = false;\n\n\telement: HTMLElement;\n\tdropdown: HTMLElement;\n\tpreamble: HTMLElement;\n\tfilterContainer: HTMLElement;\n\tpoweredElement: HTMLInputElement;\n\tpermanentlyHideCheckbox: HTMLInputElement;\n\n\tinitialized: boolean = false;\n\n\tconstructor(storage: *, thingType: *) {\n\t\tthis.storage = storage;\n\t\tthis.thingType = thingType;\n\t}\n\n\t// Initialize once things are being processed\n\tisInitialized(): boolean {\n\t\tif (this.initialized) return true;\n\n\t\tif (!this.things.size || !this.getActiveFilters().length) return false;\n\n\t\tthis.initialized = true;\n\t\t// It is possible to optimize the order of filters until things are filtered\n\t\t// if order is changed thereafter, `getFiltersToTest` may return invalid results\n\t\tthis.sortedFilters = _.sortBy(this.filters, ({ case: { constructor: { slow } } }) => slow);\n\n\t\tif (this.thingType === 'post') {\n\t\t\t// Improve performance by not evaluating these effects on post filters\n\t\t\t// TODO Move this closer to the effect list\n\t\t\tdelete this.availableEffects.collapse;\n\t\t\tdelete this.availableEffects.propagate;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\tisPowered() { return !document.documentElement.classList.contains('res-filters-disabled'); }\n\n\ttogglePowered = (powered: boolean = !this.isPowered()) => {\n\t\tBodyClasses.toggle(!powered, 'res-filters-disabled');\n\t\tthis.poweredElement.checked = powered;\n\t}\n\n\tcreateElement() {\n\t\tconst element = this.element = string.html`\n\t\t\t<div class=\"res-filterline\">\n\t\t\t\t<div class=\"res-filterline-preamble\"></div>\n\t\t\t\t<div class=\"res-filterline-filters\">\n\t\t\t\t\t<input type=\"checkbox\" ${this.isPowered() && 'checked'} class=\"res-filterline-toggle-powered\" title=\"Stop filtering temporarily\"></input>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\t\tthis.preamble = element.querySelector('.res-filterline-preamble');\n\t\tthis.filterContainer = element.querySelector('.res-filterline-filters');\n\n\t\tthis.addFilterElements(this.filters);\n\n\t\twaitForEvent(this.preamble, 'mouseenter', 'click').then(() => this.createDropdown());\n\n\t\tthis.poweredElement = downcast(element.querySelector('.res-filterline-toggle-powered'), HTMLInputElement);\n\t\tthis.poweredElement.addEventListener('change', () => { this.togglePowered(); });\n\t}\n\n\taddFilterElements(filters: Filter[]) {\n\t\tfor (const filter of filters) {\n\t\t\tif (filter instanceof ExternalFilter) continue; // ExternalFilter elements are created when dropdown is bulit\n\t\t\tfilter.createElement();\n\t\t\tthis.filterContainer.appendChild(filter.element);\n\t\t}\n\t}\n\n\tgetFiltersOfCase(CaseClass: *) {\n\t\treturn this.filters.filter(v => v.BaseCase === CaseClass);\n\t}\n\n\tgetPickable(): Class<Case>[] {\n\t\treturn Object.values(Cases.getByContext(this.thingType, false))\n\t\t\t.filter(v => !v.disabled && v.variant !== 'external');\n\t}\n\n\tcreateDropdown() {\n\t\tconst element = string.html`\n\t\t\t<div class=\"res-filterline-dropdown\">\n\t\t\t\t<div class=\"res-filterline-dropdown-other\"></div>\n\t\t\t\t<div class=\"res-filterline-dropdown-toggles\">\n\t\t\t\t\t<div class=\"res-filterline-display-match-reason\">\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t<input type=\"checkbox\" ${this.displayReasons && 'checked'}\">\n\t\t\t\t\t\t\t<span>Show matching filters</span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"res-filterline-show-help\">\n\t\t\t\t\tUsage information\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\tthis.preamble.append(element);\n\n\t\t// Hover cards may be in front of the dropdown\n\t\tthis.preamble.addEventListener('mouseenter', () => {\n\t\t\tHover.infocard('filterline-filter').close();\n\t\t});\n\n\t\tfunction addDetails(summary, className: string, ...elements) {\n\t\t\tconst e = string.html`<details class=\"${className}\"><summary>${summary}</summary></details>`;\n\t\t\te.append(...elements);\n\t\t\telement.querySelector('.res-filterline-dropdown-other').append(e);\n\t\t}\n\n\t\taddDetails('Modify external filters', 'res-filterline-external',\n\t\t\t...this.filters\n\t\t\t\t.filter(filter => filter instanceof ExternalFilter)\n\t\t\t\t.map(filter => { filter.createElement(); return filter.element; })\n\t\t);\n\n\t\t// `Cases.Group` is separated\n\t\tconst dp = _.groupBy(_.without(this.getPickable(), Cases.Group), v => v.variant);\n\t\tfor (const [name, CaseClasses] of Object.entries(dp)) {\n\t\t\taddDetails(`New ${name} filter`, `res-filterline-new-${name}`,\n\t\t\t\t...CaseClasses\n\t\t\t\t\t.sort((a, b) => a.type.localeCompare(b.type))\n\t\t\t\t\t.map(CaseClass => this.createNewFilterElement(CaseClass))\n\t\t\t);\n\t\t}\n\n\t\tconst _getAsConditions = this.getAsConditions.bind(this);\n\t\taddDetails('New complex filter', 'res-filterline-new-group',\n\t\t\tthis.createNewFilterElement(Cases.Group, 'Copy active filters', { get conditions() { return _getAsConditions(); } }),\n\t\t\t...Cases.Group.fields[0].options\n\t\t\t\t.map(op => this.createNewFilterElement(Cases.Group, `Matches ${op}`, { conditions: { op, of: [] } }))\n\t\t);\n\n\t\taddDetails('Use as default', 'res-filterline-set-default',\n\t\t\t...FilteReddit.defaultFilters.map(({ type, text }) => {\n\t\t\t\tconst e = string.html`<div class=\"res-filterline-dropdown-action\">${text}</div>`;\n\t\t\t\te.addEventListener('click', () => FilteReddit.saveFilterlineStateAsDefault(type));\n\t\t\t\treturn e;\n\t\t\t}),\n\t\t\t(() => {\n\t\t\t\tconst e = string.html`<div class=\"res-filterline-dropdown-action\">Reset this Filterline</div>`;\n\t\t\t\te.addEventListener('click', () => {\n\t\t\t\t\tthis.storage.delete();\n\t\t\t\t\tif (confirm('Reload page to restore default')) location.reload();\n\t\t\t\t});\n\t\t\t\treturn e;\n\t\t\t})()\n\t\t);\n\n\t\tconst displayReasonsCheckbox = downcast(element.querySelector('.res-filterline-display-match-reason input'), HTMLInputElement);\n\t\tdisplayReasonsCheckbox.addEventListener('change', () => {\n\t\t\tthis.toggleDisplayReasons(displayReasonsCheckbox.checked);\n\t\t});\n\n\t\tif (this.thingType === 'post' && loggedInUser()) {\n\t\t\tconst permanentlyHide = string.html`\n\t\t\t\t<div class=\"res-filterline-permanently-hide\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type=\"checkbox\">\n\t\t\t\t\t\t<span>Permanently hide</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t`;\n\t\t\tconst checkbox = this.permanentlyHideCheckbox = downcast(permanentlyHide.querySelector('input'), HTMLInputElement);\n\t\t\tthis.updatePermanentlyHideCheckbox();\n\t\t\tpermanentlyHide.addEventListener('click', async () => {\n\t\t\t\tcheckbox.disabled = true;\n\t\t\t\tawait (this.permanentlyHiddenThings.size ? this.unhidePermanently() : this.hidePermanently());\n\t\t\t\tcheckbox.disabled = false;\n\t\t\t});\n\t\t\telement.querySelector('.res-filterline-dropdown-toggles').append(permanentlyHide);\n\t\t}\n\n\t\tdowncast(element.querySelector('.res-filterline-show-help'), HTMLElement).addEventListener('click', () => {\n\t\t\tRESTips.showFeatureTip('filterlineVisible');\n\t\t});\n\t}\n\n\tupdatePermanentlyHideCheckbox() {\n\t\tif (!this.permanentlyHideCheckbox) return;\n\t\tthis.permanentlyHideCheckbox.checked = this.permanentlyHideCheckbox.indeterminate = false;\n\t\tif (!this.permanentlyHiddenThings.size) return;\n\t\tif (this.getThings('hide').length === this.permanentlyHiddenThings.size) this.permanentlyHideCheckbox.checked = true;\n\t\telse this.permanentlyHideCheckbox.indeterminate = true;\n\t}\n\n\tcreateNewFilterElement(CaseClass: Class<Case>, text: string = CaseClass.text, newOpts?: $Shape<NewFilterOpts>) {\n\t\tlet fromSelected = false;\n\n\t\tconst element = string.html`<div class=\"res-filterline-dropdown-action res-filterline-filter-new\" type=\"${CaseClass.type}\">${text}</div>`;\n\t\telement.addEventListener('click', () => {\n\t\t\tconst existing = CaseClass.unique && this.getFiltersOfCase(CaseClass)[0];\n\t\t\tlet filter;\n\t\t\tif (existing) {\n\t\t\t\tif (!(existing instanceof LineFilter)) throw new Error();\n\t\t\t\tfilter = existing;\n\t\t\t} else {\n\t\t\t\tfilter = downcast(this.createFilter({ type: CaseClass.type, add: true, ...newOpts }), LineFilter);\n\t\t\t}\n\n\t\t\tif (fromSelected) filter.updateByInputConstruction({ fromSelected });\n\t\t\telse filter.showInfocard(true);\n\t\t});\n\n\t\tif (CaseClass.thingToCriterion || !CaseClass.defaultConditions) {\n\t\t\tconst c = string.html`<div class=\"res-filterline-filter-new-from-selected\" title=\"From selected entry\"></div>`;\n\t\t\tc.addEventListener('click', () => {\n\t\t\t\tfromSelected = true;\n\t\t\t\tsetTimeout(() => { fromSelected = false; });\n\t\t\t});\n\t\t\telement.append(c);\n\t\t}\n\n\t\treturn element;\n\t}\n\n\tasync hidePermanently(things: Array<Thing> = this.getThings('hide')) {\n\t\tawait Promise.all(_.difference(things, Array.from(this.permanentlyHiddenThings)).map(thing => redditHide(thing)));\n\t\tfor (const v of things) this.permanentlyHiddenThings.add(v);\n\t\tthis.updatePermanentlyHideCheckbox();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\tnotificationID: 'hideThings',\n\t\t\tmessage: string.html`<div><p>Reddit has now hidden ${things.length} things. Undo by unchecking the checkbox in the menu.</p><p><a href=\"/user/me/hidden/\">See all hidden posts</a></p>`,\n\t\t});\n\t}\n\n\tasync unhidePermanently(things: Array<Thing> = [...this.permanentlyHiddenThings]) {\n\t\tawait Promise.all(_.intersection(things, Array.from(this.permanentlyHiddenThings)).map(thing => redditUnhide(thing)));\n\t\tfor (const v of things) this.permanentlyHiddenThings.delete(v);\n\t\tthis.updatePermanentlyHideCheckbox();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\tnotificationID: 'unhideThings',\n\t\t\tmessage: `${things.length} things are no longer hidden.`,\n\t\t});\n\t}\n\n\tgetAsConditions(hasEffect: string = 'hide'): * {\n\t\tconst extracted = filterMap(this.filters, v => v.effects[hasEffect] && v instanceof LineFilter && [v] || undefined);\n\t\treturn Cases.resolveGroup(\n\t\t\tCases.getGroup(\n\t\t\t\t'all',\n\t\t\t\textracted.map(v => v.state ? v.case.conditions : Cases.getGroup('none', [v.case.conditions])),\n\t\t\t),\n\t\t\tfalse,\n\t\t\ttrue\n\t\t);\n\t}\n\n\tdeferredFilters: { [id: string]: * } = {};\n\n\tresumeDeferredTypes(types: Array<string>) {\n\t\tObject.entries(this.deferredFilters)\n\t\t\t.filter(([, { type }]) => types.includes(type))\n\t\t\t.forEach(([id]) => this.createFilterFromStateValues(id));\n\t}\n\n\trestoreState(filters: *) {\n\t\tfor (const [id, opts] of Object.entries(filters)) {\n\t\t\ttry {\n\t\t\t\tif (opts.type === 'inert') throw new Error('Requested inert filter. This state is likely due to a bug. Ignoring.');\n\n\t\t\t\tconst filter = this.getFilter(id);\n\t\t\t\tif (filter) throw new Error(`Filter with id ${id} already exists`);\n\n\t\t\t\tif (\n\t\t\t\t\tCases.has(opts.type) &&\n\t\t\t\t\t// External filter needs a specific variant of `Filter`\n\t\t\t\t\t!(Cases.get(opts.type).variant === 'external')\n\t\t\t\t) {\n\t\t\t\t\tthis.createFilterFromStateValues(id, opts);\n\t\t\t\t} else {\n\t\t\t\t\tthis.deferredFilters[id] = opts;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Could not create filter', id, opts);\n\t\t\t\tthis.storage.deletePath('filters', id);\n\t\t\t}\n\t\t}\n\t}\n\n\tcreateFilterFromStateValues(id: *, opts: *) {\n\t\tconst deferredOpts = this.deferredFilters[id];\n\t\tdelete this.deferredFilters[id];\n\t\treturn this.createFilter({ id, ...opts, ...deferredOpts, add: true, save: false });\n\t}\n\n\tsave = idleThrottle(async () => {\n\t\tconst filters = this.filters.reduce((acc, v) => {\n\t\t\tacc[v.id] = v.getSaveValues();\n\t\t\treturn acc;\n\t\t}, { ...this.deferredFilters });\n\t\tawait this.storage.deletePath('filters');\n\t\tawait this.storage.patch({ filters, lastUsed: Date.now() });\n\t});\n\n\tgetCLI(): * {\n\t\tconst deconstruct = val => {\n\t\t\t// Example: \"!expando image\"  { reverseActive: true, key: \"expando\", criterion: \"image\" }\n\t\t\tconst [, modifiers, key, criterion]: string[] = (val.match(/^([^\\w]*)(\\w*)(.*)/): any); // guaranteed match\n\t\t\treturn {\n\t\t\t\tkey,\n\t\t\t\tcriterion: criterion.trim(),\n\t\t\t\tdisableFilter: !!modifiers.match('/'),\n\t\t\t\treverseActive: !!modifiers.match('!'),\n\t\t\t\tasNewFilter: !!modifiers.match('\\\\+'),\n\t\t\t\tfromSelected: !!modifiers.match('='),\n\t\t\t};\n\t\t};\n\n\t\tconst findMatchingCases = val =>\n\t\t\tthis.getPickable()\n\t\t\t\t.sort((a, b) => a.variant.localeCompare(b.variant) || a.type.localeCompare(b.type))\n\t\t\t\t.map(CaseClass => ({\n\t\t\t\t\t// on-demand cases' type name are hard to discern\n\t\t\t\t\tname: CaseClass.variant === 'ondemand' ? CaseClass.text : CaseClass.type,\n\t\t\t\t\tcls: CaseClass,\n\t\t\t\t}))\n\t\t\t\t.filter(({ name }) => name.toLowerCase().match(val.toLowerCase()));\n\n\t\tlet filter;\n\n\t\tasync function getTip(val) {\n\t\t\tconst deconstructed = deconstruct(val);\n\t\t\tconst { key, asNewFilter } = deconstructed;\n\t\t\tconst bestMatch = key && _.sortBy(findMatchingCases(key), ({ name }) => name.toLowerCase().indexOf(key.toLowerCase()))[0];\n\t\t\tconst { cls: MatchedCase } = bestMatch || {};\n\n\t\t\tlet message;\n\n\t\t\tif (bestMatch) {\n\t\t\t\ttry {\n\t\t\t\t\tconst lastFilter = _.last(this.getFiltersOfCase(MatchedCase));\n\t\t\t\t\tfilter = lastFilter && !asNewFilter ?\n\t\t\t\t\t\tlastFilter :\n\t\t\t\t\t\tthis.createFilter({ type: MatchedCase.type });\n\n\t\t\t\t\tconst actionDescription = await filter.updateByInputConstruction(deconstructed, true);\n\t\t\t\t\t/*:: if (!actionDescription ) throw new Error(); */\n\t\t\t\t\tmessage = `${filter.parent ? `Modify \"${filter.getStateText(filter.state)}\"` : 'New filter'}: ${actionDescription}`;\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmessage = `Error: ${e.message}`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfilter = null;\n\t\t\t\tmessage = 'No filter selected.';\n\t\t\t}\n\n\t\t\treturn [\n\t\t\t\t'<pre>',\n\t\t\t\t'Syntax: [modifiers] filterName [criterion]',\n\t\t\t\t'',\n\t\t\t\tmessage,\n\t\t\t\t'',\n\t\t\t\t'Filters:',\n\t\t\t\t...findMatchingCases('').map(v =>\n\t\t\t\t\t` ${(MatchedCase === v.cls) ? `<b>${v.name}</b>` : v.name} ${v.cls.pattern}`\n\t\t\t\t),\n\t\t\t\t'',\n\t\t\t\t'Modifiers:',\n\t\t\t\t' /  disable the filter',\n\t\t\t\t' !  reverse the active state',\n\t\t\t\t' +  create as new filter',\n\t\t\t\t' =  use the currently selected post\\'s data as criterion',\n\t\t\t\t'',\n\t\t\t\t'Examples:',\n\t\t\t\t' =postAfter    filter posts older than selected',\n\t\t\t\t' +=!postAfter  new filter, filter posts younger than selected',\n\t\t\t\t'</pre>',\n\t\t\t].join('\\n');\n\t\t}\n\n\t\tfunction executeCommand(val) {\n\t\t\tif (!filter) return;\n\t\t\tif (!filter.parent) this.addFilter(filter);\n\t\t\tfilter.updateByInputConstruction(deconstruct(val));\n\t\t\tfilter = null;\n\t\t}\n\n\t\treturn { getTip: getTip.bind(this), executeCommand: executeCommand.bind(this) };\n\t}\n\n\tcreateFilter(opts: $Shape<NewFilterOpts>) {\n\t\tconst {\n\t\t\tFilter = LineFilter,\n\t\t\tid = `~${performance.timing.navigationStart + performance.now()}`, // timestamp, so that filters will restored in the same order as they initially were created\n\t\t\tadd = false,\n\t\t\tsave = true,\n\t\t\ttype,\n\t\t\tcriterion,\n\t\t\teffects,\n\t\t\tname,\n\t\t\tstate,\n\t\t} = opts;\n\t\tlet { conditions } = opts;\n\n\t\tif (this.deferredFilters.hasOwnProperty(id)) return this.createFilterFromStateValues(id, opts);\n\n\t\tconst CaseClass = Cases.get(type);\n\t\tif (CaseClass.unique) {\n\t\t\tconst [existing] = this.getFiltersOfCase(CaseClass);\n\t\t\tif (existing) return existing;\n\t\t}\n\n\t\tif (!conditions && criterion) {\n\t\t\t// Legacy; `criterion` is no longer saved to storage\n\t\t\tconditions = CaseClass.criterionToConditions(criterion);\n\t\t}\n\n\t\tconst filter = new Filter(id, CaseClass, name, conditions, state, effects);\n\n\t\tif (add) {\n\t\t\tthis.addFilter(filter);\n\t\t\tif (save) this.save();\n\t\t}\n\n\t\treturn filter;\n\t}\n\n\taddFilter(filter: Filter) {\n\t\tfilter.setParent(this);\n\n\t\tthis.filters.push(filter);\n\n\t\tif (this.isInitialized()) {\n\t\t\tthis.sortedFilters.push(filter);\n\t\t\tthis.refresh(filter);\n\t\t}\n\n\t\tif (this.filterContainer) this.addFilterElements([filter]);\n\t}\n\n\tasync removeFilter(filter: Filter) {\n\t\tif (filter.element) filter.element.remove();\n\t\tif (this.isInitialized()) await this.refresh(filter);\n\t\t_.pull(this.filters, filter);\n\t\t_.pull(this.sortedFilters, filter);\n\t\tthis.save();\n\t}\n\n\tgetFilter(id: string): ?Filter {\n\t\treturn this.filters.find(filter => filter.id === id);\n\t}\n\n\tgetActiveFilters() {\n\t\treturn this.filters.filter(v => v.active);\n\t}\n\n\tavailableEffects: {\n\t\t[key: string]: (Thing, Filter) => void,\n\t} = {\n\t\tpropagate: (thing, match) => {\n\t\t\tthing.element.classList.toggle('res-thing-hide-children', !!match);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\thighlight: (thing, match) => {\n\t\t\tthing.entry.style.backgroundColor = match ? 'rgba(255, 155, 155, .16)' : '';\n\t\t},\n\t\thide: (thing, match) => {\n\t\t\tthing.setHideFilter(match);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\tplaceholder: (thing, match) => {\n\t\t\tfunction removePlaceholders() {\n\t\t\t\tthing.element.classList.remove('res-thing-has-placeholder');\n\t\t\t\tfor (const ele of thing.entry.querySelectorAll('.res-thing-placeholder-message')) ele.remove();\n\t\t\t}\n\n\t\t\tfunction replaceWithPlaceholder(ele) {\n\t\t\t\tif (!ele) return;\n\t\t\t\tconst placeholder = string.html`<span class=\"res-thing-placeholder-message\">\n\t\t\t\t\t<span class=\"res-icon\">&#xF093;</span> Content ignored. Click to show anyway.\n\t\t\t\t</span>`;\n\t\t\t\tele.after(placeholder);\n\t\t\t\tthing.element.classList.add('res-thing-has-placeholder');\n\t\t\t\twaitForEvent(placeholder, 'click').then(removePlaceholders);\n\t\t\t}\n\n\t\t\tif (match) {\n\t\t\t\treplaceWithPlaceholder(thing.getTitleElement());\n\t\t\t\treplaceWithPlaceholder(thing.getTextBody());\n\t\t\t} else {\n\t\t\t\tremovePlaceholders();\n\t\t\t}\n\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t\tcollapse: (thing, match) => {\n\t\t\tthing.setCommentCollapse(!!match, 'filterline', true);\n\t\t\tthis._refreshAfterChange();\n\t\t},\n\t};\n\n\t_refreshAfterChange = frameThrottle(() => {\n\t\tSelectedThing.refresh();\n\t\tthis.checkEmptyState();\n\t});\n\n\tgetFiltersToTest(currentFilter?: Filter, invokedByFilter?: Filter): Filter[] {\n\t\tif (!invokedByFilter) return this.sortedFilters;\n\n\t\tconst invokedByFilterIndex = this.sortedFilters.indexOf(invokedByFilter);\n\t\tconst currentFilterIndex = this.sortedFilters.indexOf(currentFilter);\n\n\t\tif (!currentFilter) {\n\t\t\t// No other filters did match last time; only retest this\n\t\t\treturn [invokedByFilter];\n\t\t} else if (currentFilter === invokedByFilter) {\n\t\t\t// The invokedBy filter matched last time; start testing from that one\n\t\t\treturn this.sortedFilters.slice(invokedByFilterIndex);\n\t\t} else if (currentFilterIndex > invokedByFilterIndex) {\n\t\t\t// Always store a reference to the first matched filter\n\t\t\treturn [invokedByFilter, currentFilter];\n\t\t} else {\n\t\t\t// Some earlier filter matched last time; ignore\n\t\t\treturn [];\n\t\t}\n\t}\n\n\trefreshThing = keyedMutex(fastAsync(function*(thing: Thing, invokedByFilter?: Filter) {\n\t\tif (!this.currentMatches.has(thing)) this.currentMatches.set(thing, {});\n\t\tconst currentMatches = this.currentMatches.get(thing);\n\n\t\tconst effectsToRefresh = Object.keys(this.availableEffects);\n\n\t\tconst filtersToTest = _.union(...effectsToRefresh.map(effect => this.getFiltersToTest(currentMatches[effect], invokedByFilter)))\n\t\t\t// Keep order\n\t\t\t.sort((a, b) => this.sortedFilters.indexOf(a) - this.sortedFilters.indexOf(b));\n\n\t\t_.remove(effectsToRefresh, effect =>\n\t\t\t// Only update effects that the current filter has touched\n\t\t\tinvokedByFilter && !invokedByFilter.effects.hasOwnProperty(effect) ||\n\t\t\t// Don't update effects whose current matched filter will not be tested\n\t\t\tcurrentMatches[effect] && !filtersToTest.includes(currentMatches[effect])\n\t\t);\n\n\t\tconst updateEffect = (effect, filter) => {\n\t\t\tconst old = currentMatches[effect];\n\t\t\tif (filter == old) return; // eslint-disable-line eqeqeq\n\t\t\tcurrentMatches[effect] = filter;\n\t\t\tthis.availableEffects[effect](thing, filter);\n\n\t\t\tif (this.displayReasons) this.refreshDisplayReasonsChunked([thing]);\n\t\t};\n\n\t\tfor (const filter of filtersToTest.filter(v => this.getActiveFilters().includes(v))) {\n\t\t\tconst effects = filter.getEffects().filter(v => effectsToRefresh.includes(v));\n\t\t\tif (effects.length && (yield filter.matches(thing))) {\n\t\t\t\tfor (const effect of effects) updateEffect(effect, filter);\n\t\t\t\t_.pull(effectsToRefresh, ...effects);\n\t\t\t}\n\t\t}\n\n\t\tfor (const effect of effectsToRefresh) {\n\t\t\tupdateEffect(effect, null);\n\t\t}\n\t}));\n\n\trefresh(invokedByFilter?: Filter, things: Array<Thing> = Array.from(this.things)) {\n\t\treturn Promise.all(things.map(thing => this.refreshThing(thing, invokedByFilter)));\n\t}\n\n\taddThing(thing: Thing) {\n\t\tthis.things.add(thing);\n\t\tif (this.isInitialized()) return this.refreshThing(thing);\n\t}\n\n\tgetThings(withEffect: string) {\n\t\treturn Array.from(this.currentMatches.entries())\n\t\t\t.filter(([, effects]) => effects[withEffect])\n\t\t\t.map(([thing]) => thing);\n\t}\n\n\tcheckEmptyState = (() => {\n\t\tlet notification;\n\t\tconst showNotification = _.debounce(() => {\n\t\t\tconst info = $('<p>').text(i18n('filteRedditEmptyNotificationInfo'));\n\t\t\tconst toggle = $('<button>').text(i18n('filteRedditEmptyNotificationToggleShowReason'))\n\t\t\t\t.click(() => { this.toggleDisplayReasons(); });\n\n\t\t\tnotification = Notifications.showNotification({\n\t\t\t\tmoduleID: FilteReddit.module.moduleID,\n\t\t\t\tnotificationID: 'everyThingHidden',\n\t\t\t\theader: i18n('filteRedditEmptyNotificationHeader'),\n\t\t\t\tmessage: $('<div>').append(info).append(toggle).get(0),\n\t\t\t\tcloseDelay: Infinity,\n\t\t\t});\n\t\t}, 3000);\n\n\t\treturn () => {\n\t\t\tif (Array.from(this.things).some(v => v.isVisible())) {\n\t\t\t\tshowNotification.cancel();\n\t\t\t\tif (notification) notification.close();\n\t\t\t} else if (!this.displayReasons && Array.from(this.currentMatches.values()).some(v => v.hide) /* check that the reason things are not visible, actually is a filter */) {\n\t\t\t\tshowNotification();\n\t\t\t}\n\t\t};\n\t})();\n\n\ttoggleDisplayReasons(newState?: boolean = !this.displayReasons) {\n\t\tthis.displayReasons = newState;\n\t\tthis.refreshDisplayReasonsChunked(this.things);\n\t\tBodyClasses.toggle(this.displayReasons, 'res-display-match-reason');\n\t}\n\n\trefreshDisplayReasonsChunked = forEachChunked(this.refreshDisplayReasons.bind(this));\n\n\tasync refreshDisplayReasons(thing: Thing) {\n\t\tconst reasons = this.displayReasons ? await Promise.all(\n\t\t\tObject.entries(this.currentMatches.get(thing) || {})\n\t\t\t\t.map(([effect, filter]) => filter && filter.buildReasonElement(thing, effect))\n\t\t\t\t.filter(Boolean)\n\t\t) : [];\n\n\t\tthing.setFilterReasons(reasons);\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { flow, filter, map, mapValues, keyBy, slice } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tBodyClasses,\n\tSelectedThing,\n\tasyncFlow,\n\tbatch,\n\tcurrentDomain,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfullLocation,\n\tCreateElement,\n\textendDeep,\n\tindexOptionTable,\n\tisCurrentMultireddit,\n\tisCurrentSubreddit,\n\tisAppType,\n\tisPageType,\n\tmutex,\n\twatchForThings,\n\tscrollToElement,\n\tstring,\n} from '../utils';\nimport { Storage, context, ajax, i18n } from '../environment';\nimport type { BuilderRootValue } from '../core/module';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as CustomToggles from './customToggles';\nimport * as Notifications from './notifications';\nimport * as RESTips from './RESTips';\nimport * as Cases from './filteReddit/cases';\nimport { Case } from './filteReddit/Case';\nimport { Filterline } from './filteReddit/Filterline';\nimport { ExternalFilter } from './filteReddit/ExternalFilter';\n\nexport const module: Module<*> = new Module('filteReddit');\n\nmodule.moduleName = 'filteRedditName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'filteRedditDesc';\nmodule.keywords = ['filterreddit'];\nmodule.options = {\n\thideUntilProcessed: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditHideUntilProcessedDesc',\n\t\ttitle: 'filteRedditHideUntilProcessedTitle',\n\t\tadvanced: true,\n\t},\n\tNSFWfilter: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditNSFWfilterDesc',\n\t\ttitle: 'filteRedditNSFWfilterTitle',\n\t},\n\tallowNSFW: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddSubreddits',\n\t\tdescription: 'filteRedditAllowNSFWDesc',\n\t\ttitle: 'filteRedditAllowNSFWTitle',\n\t\tfields: [{\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'where',\n\t\t\tname: 'filteRedditAllowNSFWWhere',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditAllowNSFWWhenBrowsingSubreddit',\n\t\t\t\tvalue: 'visit',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}],\n\t\tvalue: ([]: Array<[string, 'everywhere' | 'visit']>),\n\t},\n\tNSFWQuickToggle: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditNSFWQuickToggleDesc',\n\t\ttitle: 'filteRedditNSFWQuickToggleTitle',\n\t\tadvanced: true,\n\t},\n\tshowFilterline: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditShowFilterlineDesc',\n\t\ttitle: 'filteRedditShowFilterlineTitle',\n\t},\n\texcludeOwnPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditExcludeOwnPostsDesc',\n\t\ttitle: 'filteRedditExcludeOwnPostsTitle',\n\t},\n\texcludeModqueue: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'filteRedditExcludeModqueueDesc',\n\t\ttitle: 'filteRedditExcludeModqueueTitle',\n\t},\n\texcludeUserPages: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditExcludeUserPagesDesc',\n\t\ttitle: 'filteRedditExcludeUserPagesTitle',\n\t},\n\tkeywords: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'subreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'unlessKeyword',\n\t\t\tname: 'unlessKeyword',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditKeywordsDesc',\n\t\ttitle: 'filteRedditKeywordsTitle',\n\t},\n\tsubreddits: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'subreddit',\n\t\t\tname: 'filteRedditSubredditsSubreddits',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditSubredditsDesc',\n\t\ttitle: 'filteRedditSubredditsTitle',\n\t\tonChange() {\n\t\t\tif (module.options.useRedditFilters.value) {\n\t\t\t\treconcileNativeFilters();\n\t\t\t}\n\t\t},\n\t},\n\tfilterSubredditsFrom: {\n\t\ttype: 'enum',\n\t\tvalue: 'everywhere-except-subreddit',\n\t\tvalues: [{\n\t\t\tname: 'filteRedditFilterSubredditsEverywhereButSubreddit',\n\t\t\tvalue: 'everywhere-except-subreddit',\n\t\t}, {\n\t\t\tname: 'filteRedditEverywhere',\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tname: 'filteRedditFilterSubredditsAllPopularAndDomain',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tdescription: 'filteRedditFilterSubredditsFromDesc',\n\t\ttitle: 'filteRedditFilterSubredditsFromTitle',\n\t},\n\tuseRedditFilters: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'filteRedditUseRedditFiltersDesc',\n\t\ttitle: 'filteRedditUseRedditFiltersTitle',\n\t\tonChange() {\n\t\t\tif (module.options.useRedditFilters.value) {\n\t\t\t\treconcileNativeFilters();\n\t\t\t}\n\t\t},\n\t},\n\tforceSyncFilters: {\n\t\ttype: 'button',\n\t\ttext: 'filteRedditForceSyncFiltersLabel',\n\t\tdescription: 'filteRedditForceSyncFiltersDesc',\n\t\ttitle: 'filteRedditForceSyncFiltersTitle',\n\t\tcallback() {\n\t\t\treturn reconcileNativeFilters({ warnNotLoggedIn: true });\n\t\t},\n\t},\n\tusers: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'filteRedditUsername',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditUsersDesc',\n\t\ttitle: 'filteRedditUsersTitle',\n\t},\n\tusersMatchAction: {\n\t\ttype: 'enum',\n\t\tvalue: 'hide',\n\t\tvalues: [{\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hide',\n\t\t}, {\n\t\t\tname: 'Replaced with placeholder',\n\t\t\tvalue: 'placeholder',\n\t\t}],\n\t\tdescription: 'filteRedditUsersMatchActionDesc',\n\t\ttitle: 'filteRedditUsersMatchActionTitle',\n\t},\n\tusersMatchRepliesAction: {\n\t\ttype: 'enum',\n\t\tvalue: 'collapse',\n\t\tvalues: [{\n\t\t\tname: 'Kept visible',\n\t\t\tvalue: '',\n\t\t}, {\n\t\t\tname: 'Collapsed',\n\t\t\tvalue: 'collapse',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'propagate',\n\t\t}],\n\t\tdescription: 'filteRedditUsersMatchRepliesActionDesc',\n\t\ttitle: 'filteRedditUsersMatchRepliesActionTitle',\n\t},\n\tdomains: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditDomainsDesc',\n\t\ttitle: 'filteRedditDomainsTitle',\n\t},\n\tflair: {\n\t\ttype: 'table',\n\t\taddRowText: 'filteRedditAddFilter',\n\t\tfields: [{\n\t\t\tkey: 'keyword',\n\t\t\tname: 'filteRedditKeyword',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'filteRedditApplyTo',\n\t\t\ttype: 'enum',\n\t\t\tvalues: [{\n\t\t\t\tname: 'filteRedditEverywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditEverywhereBut',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'filteRedditOnlyOn',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'filteRedditSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}],\n\t\tvalue: [],\n\t\tdescription: 'filteRedditFlairDesc',\n\t\ttitle: 'filteRedditFlairTitle',\n\t},\n\tcustomFiltersP: {\n\t\ttype: 'builder',\n\t\tadvanced: true, // VERY\n\t\tdescription: 'filteRedditCustomFiltersDesc',\n\t\ttitle: 'filteRedditCustomFiltersPTitle',\n\t\tvalue: [],\n\t\taddItemText: 'filteRedditAddCustomFilter',\n\t\tdefaultTemplate() {\n\t\t\treturn {\n\t\t\t\tnote: '',\n\t\t\t\tver: 3,\n\t\t\t\tbody: Cases.getConditions('group'),\n\t\t\t\tid: `customFilter-${Date.now()}`,\n\t\t\t\topts: {\n\t\t\t\t\tondemand: false,\n\t\t\t\t\tname: '',\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcustomOptionsFields: [\n\t\t\t[{ type: 'check', id: 'ondemand', label: 'Only filter when added to Filterline (on-demand)' }],\n\t\t\t['Filterline name: ', { type: 'text', id: 'name' }],\n\t\t],\n\t\tget cases() { Cases.populatePrimitives(); return { ...Cases.getByContext('post'), ...Cases.getByContext('browse') }; },\n\t},\n\tcustomFiltersC: {\n\t\ttype: 'builder',\n\t\tadvanced: true, // VERY\n\t\tdescription: 'filteRedditCustomFiltersDesc',\n\t\ttitle: 'filteRedditCustomFiltersCTitle',\n\t\tvalue: [],\n\t\taddItemText: 'filteRedditAddCustomFilter',\n\t\tdefaultTemplate() {\n\t\t\treturn {\n\t\t\t\tnote: '',\n\t\t\t\tver: 3,\n\t\t\t\tbody: Cases.getConditions('group'),\n\t\t\t\tid: `customFilter-${Date.now()}`,\n\t\t\t\topts: {\n\t\t\t\t\tondemand: false,\n\t\t\t\t\tname: '',\n\t\t\t\t\tpropagate: false,\n\t\t\t\t},\n\t\t\t};\n\t\t},\n\t\tcustomOptionsFields: [\n\t\t\t[{ type: 'check', id: 'ondemand', label: 'Only filter when added to Filterline (on-demand)' }],\n\t\t\t['Filterline name: ', { type: 'text', id: 'name' }],\n\t\t\t[{ type: 'check', id: 'propagate', label: 'Hide child commments' }],\n\t\t],\n\t\tget cases() { Cases.populatePrimitives(); return { ...Cases.getByContext('comment'), ...Cases.getByContext('browse') }; },\n\t},\n};\n\nmodule.include = [\n\t'linklist',\n\t'modqueue',\n\t'profile',\n\t'comments',\n\t'commentsLinklist',\n\t'search',\n];\n\nconst featureTips = {\n\tfilterline: {\n\t\tmessage: `\nRES allows you to easily apply complex filters to post listings and comments. To toggle Filterline, click on the tab.\n\t`,\n\t\ttitle: 'Filterline',\n\t\tposition: 6,\n\t\tquiet: true,\n\t},\n\tfilterlineVisible: {\n\t\t// Wrap as to avoid loading markdown unnecessarily\n\t\tmessage: () => markdown(`\n* Click once on a filter to enable it (e.g. clicking \\`expando\\` will only show posts with embedded media).\n* Click again to only show posts which do not not match.\n* A third click makes the filter inactive.\n* To clear a filter, right-click on it.\n* **Hover** on it to modify conditions, highlight or permanently hide all matches.\n\nTo find more filters and options, hover on icon to the left.\n\nYou can use the currently selected post as a basis for a new filter. To do this, click on **=** to the right of the filter name.\n\n**Complex filter** creates filters which matches when \\`none\\`, \\`one\\`, \\`any\\`, or \\`all\\` of the subfilters matches. Click \\`To on-demand\\` to make these filters available on other pages.\n\n**Use as default** lets you store the current filters to be used on other pages.\n\nTo see why a post is hidden, open dropdown and check **Show filter-reason**. This also gives you the opportunity to remove an external filter so that you don't have to look for it in the settings console.\n\nYou can use the command line to manipulate Filterline. Enter it by pressing the key \\`f\\`.\n\t\t`),\n\t\ttitle: 'Filterline  how to use it',\n\t\tposition: 7,\n\t\toptions: [{\n\t\t\tmoduleID: 'filteReddit',\n\t\t\tkey: 'showFilterline',\n\t\t}],\n\t},\n};\n\nexport type FilterStorageValues = {|\n\ttype: string,\n\tstate: boolean,\n\tcriterion?: string,\n\tname?: string,\n\tconditions?: {},\n\teffects?: {},\n|};\n\ntype LineState = {\n\tvisible?: boolean,\n\tfilters?: { [id: string]: FilterStorageValues },\n\tlastUsed?: number, // TODO Implement auto-pruning of unused storages (often from comment pages)\n};\n\nconst pageID = fullLocation();\nconst filterlineStorage = Storage.wrap(`filterline.${pageID}`, ({}: LineState));\nconst thingType = isPageType('comments', 'commentsLinklist') ? 'comment' : 'post';\nconst customFilterVariant = thingType === 'post' ? 'customFiltersP' : 'customFiltersC';\n\nconst createStateFromTypes = types => (\n\ttypes.reduce((acc, v, i) => {\n\t\tif (v) acc[`!${i}`] = { type: v };\n\t\treturn acc;\n\t}, {})\n);\n\n// If filterlineStorage is empty, look for default filters\nexport const defaultFilters: Array<{| type: string, text: string, storage: * |}> = []; // Decreasing precedense\nif (thingType === 'comment') {\n\tif (currentSubreddit()) {\n\t\tdefaultFilters.push({\n\t\t\ttype: 'subreddit',\n\t\t\ttext: 'This subreddit',\n\t\t\tstorage: Storage.wrap(`RESmodules.filteReddit.commentDefault-${String(currentSubreddit())}`, (null: null | *)),\n\t\t});\n\t}\n\tdefaultFilters.push({\n\t\ttype: 'everywhere',\n\t\ttext: 'Everywhere',\n\t\tstorage: Storage.wrap('RESmodules.filteReddit.commentDefault', createStateFromTypes([\n\t\t\t'hasExpando',\n\t\t\t'score',\n\t\t\t'isRead',\n\t\t])),\n\t});\n} else if (thingType === 'post') {\n\tdefaultFilters.push({\n\t\ttype: 'everywhere',\n\t\ttext: 'Everywhere',\n\t\tstorage: Storage.wrap('RESmodules.filteReddit.postDefault', createStateFromTypes([\n\t\t\t'isNSFW',\n\t\t\t'isSpoiler',\n\t\t\t'isVisited',\n\t\t\t'commentsOpened',\n\t\t\t'hasExpando',\n\t\t\t'score',\n\t\t])),\n\t});\n}\n\nlet nsfwToggle;\nlet filterline: Filterline;\nlet visible: boolean;\n\nlet _filterlineResolve;\nexport const filterlinePromise: Promise<Filterline> = new Promise(res => { _filterlineResolve = res; });\nexport let ensureFilterlineVisible;\n\nconst initial = (async () => {\n\tconst state = filterlineStorage.get();\n\tconst _default = Promise.all(defaultFilters.map(({ storage }) => storage.get()))\n\t\t.then(v => v.find(Boolean));\n\tlet { filters, visible, lastUsed } = await state; // eslint-disable-line prefer-const\n\tif (!filters || !Object.values(filters).length) filters = await _default;\n\treturn { filters, visible, lastUsed };\n})();\n\nmodule.beforeLoad = async () => {\n\tupdateNsfwBodyClass(module.options.NSFWfilter.value);\n\tnsfwToggle = new CustomToggles.Toggle('nsfwMode', i18n('nsfwSwitchToggleText'), module.options.NSFWfilter.value);\n\tnsfwToggle.onToggle(() => {\n\t\tmodule.options.NSFWfilter.value = nsfwToggle.enabled;\n\t\tOptions.save(module.options.NSFWfilter);\n\t});\n\tnsfwToggle.onStateChange(() => { updateNsfwBodyClass(nsfwToggle.enabled); });\n\tnsfwToggle.addCLI('nsfw');\n\twatchForThings(['post'], updateNsfwThingClass, { immediate: true });\n\n\tCases.populatePrimitives(['browse', thingType]);\n\tfilterline = new Filterline(filterlineStorage, thingType);\n\n\tconst { filters, visible: _visible, lastUsed } = await initial;\n\n\tfilterline.restoreState(filters);\n\tpopulateFromOptions();\n\n\t_filterlineResolve(filterline);\n\n\tconst hideUntilProcessed = module.options.hideUntilProcessed.value && filterline.getActiveFilters().length;\n\n\twatchForThings([thingType], async thing => {\n\t\tif (!shouldFilter(thing)) return;\n\n\t\tif (hideUntilProcessed) thing.element.classList.add('res-thing-filter-unprocessed');\n\t\t// Encapsulate this in try ... catch since failing could cause posts to be erroneously hidden\n\t\ttry { await filterline.addThing(thing); } catch (e) { console.error(e); }\n\t\tif (hideUntilProcessed) thing.element.classList.remove('res-thing-filter-unprocessed');\n\t}, { immediate: true, id: 'filter' });\n\n\tif (\n\t\tmodule.options.excludeModqueue.value && isPageType('modqueue') ||\n\t\tmodule.options.excludeUserPages.value && isPageType('profile')\n\t) filterline.togglePowered(false);\n\n\tvisible = typeof _visible === 'boolean' ?\n\t\t_visible :\n\t\tmodule.options.showFilterline.value || filterline.getActiveFilters().some(v => !(v instanceof ExternalFilter));\n\n\tif (lastUsed) requestIdleCallback(() => { filterlineStorage.patch({ lastUsed: Date.now() }); });\n};\n\nmodule.contentStart = () => {\n\tmakeFilterlineInteractable();\n\n\tif (module.options.NSFWQuickToggle.value) {\n\t\tnsfwToggle.addMenuItem(i18n('nsfwSwitchToggleTitle'), 8);\n\t}\n\n\tregisterSubredditFilterCommand();\n};\n\nconst shouldFilter = thing => (\n\t!(\n\t\tmodule.options.excludeOwnPosts.value && context.username &&\n\t\tcurrentUserProfile() !== context.username &&\n\t\tcontext.username === thing.getAuthor()\n\t)\n);\n\nfunction makeFilterlineInteractable() {\n\tconst insertFilterline = _.once(() => {\n\t\tfilterline.createElement();\n\n\t\tif (isAppType('r2')) {\n\t\t\tif (isPageType('comments')) {\n\t\t\t\tdocument.querySelector('.comments-page .nestedlisting').before(filterline.element);\n\t\t\t} else {\n\t\t\t\tdocument.querySelector('#siteTable, .search-result-listing').before(filterline.element);\n\t\t\t}\n\t\t} else {\n\t\t\tfilterlineTab.append(filterline.element);\n\t\t}\n\n\t\tRESTips.addFeatureTip('filterlineVisible', { ...featureTips.filterlineVisible, attachTo: filterline.element });\n\t});\n\n\tconst filterlineTab = CreateElement.tabMenuItem({\n\t\ttext: '',\n\t\ttitle: 'Toggle Filterline visibility',\n\t\tclassName: 'res-toggle-filterline-visibility',\n\t\tchecked: visible,\n\t\tonChange: active => {\n\t\t\tvisible = active;\n\n\t\t\tif (visible) {\n\t\t\t\tinsertFilterline();\n\t\t\t\tscrollToElement(filterline.element, null, { scrollStyle: 'legacy' });\n\t\t\t}\n\n\t\t\tif (filterline.element) filterline.element.hidden = !visible;\n\t\t\tfilterlineStorage.patch({ visible });\n\t\t},\n\t});\n\n\tensureFilterlineVisible = () => { if (!visible) filterlineTab.click(); };\n\n\tconst { getTip, executeCommand } = filterline.getCLI();\n\tCommandLine.registerCommand(\n\t\t/(fl|filterline)/,\n\t\t'fl - modify Filterline',\n\t\t(cmd, val) => getTip(val),\n\t\t(cmd, val) => { ensureFilterlineVisible(); executeCommand(val); },\n\t);\n\n\tCommandLine.registerCommand(\n\t\t/fp/,\n\t\t'fp - toggle filtering',\n\t\t() => 'Toggle filtering',\n\t\t() => { ensureFilterlineVisible(); filterline.poweredElement.click(); },\n\t);\n\n\tRESTips.addFeatureTip('filterline', {\n\t\t...featureTips.filterline,\n\t\tattachTo: filterlineTab,\n\t\tcontinuation: () => {\n\t\t\tensureFilterlineVisible();\n\t\t\treturn 'filterlineVisible';\n\t\t},\n\t});\n\n\tif (visible) insertFilterline();\n}\n\nclass ListFilter {\n\texternalKey: string;\n\tget list() { return module.options[this.externalKey].value; }\n\tfilter: *;\n\n\tconstructor(externalKey: $Keys<typeof module.options>) {\n\t\tthis.externalKey = externalKey;\n\t}\n\n\tinitialize(caseType: string, additionalCriteria: *, useEffects: * = ['hide']) {\n\t\tconst _listFilter = this; // eslint-disable-line consistent-this\n\t\tconst sources = new Map();\n\n\t\tconst getConditions = () => {\n\t\t\tsources.clear();\n\t\t\treturn Cases.resolveGroup(Cases.getGroup('any', this.list.map(v => {\n\t\t\t\tconst c = getStringMatchConditions(v, caseType, additionalCriteria);\n\t\t\t\tsources.set(c, v);\n\t\t\t\treturn c;\n\t\t\t})));\n\t\t};\n\n\t\tthis.filter = addExternalFilter(this.externalKey, i18n(module.options[this.externalKey].title), getConditions, class extends ExternalFilter {\n\t\t\tconstructor(id: *, BaseCase: *, name: *, conditions: *, state: *, effects: * = {}) {\n\t\t\t\tconst _effects = useEffects.reduce((acc, val) => {\n\t\t\t\t\tacc[val] = typeof effects[val] === 'boolean' ? effects[val] : true;\n\t\t\t\t\treturn acc;\n\t\t\t\t}, {});\n\t\t\t\tsuper(id, BaseCase, name, conditions, state, _effects);\n\t\t\t\tthis.toggleEffects = useEffects;\n\t\t\t}\n\n\t\t\tasync getMatchingEntry(thing) {\n\t\t\t\tconst matching = Array.from(sources.keys()).map(v => Case.fromConditions(v).evaluate(thing) && sources.get(v));\n\t\t\t\treturn (await Promise.all(matching)).filter(Boolean);\n\t\t\t}\n\n\t\t\tremoveEntry(entries) { _listFilter.toggleEntry(false, ...entries); }\n\t\t});\n\t}\n\n\t// Note this is only a basic search for the string; `getMatchingEntry` also tests regexes\n\tfindEntry(matchString: string): * {\n\t\treturn this.list.find(([str]) => str.toLowerCase() === matchString.toLowerCase());\n\t}\n\n\ttoggleEntry(newState: boolean, ...entries: Array<*>) {\n\t\tif (newState) {\n\t\t\tthis.list.push(...entries);\n\t\t} else {\n\t\t\t_.pull(this.list, ...entries);\n\t\t}\n\n\t\tOptions.save(module.options[this.externalKey]);\n\t\tif (this.filter) return this.filter.update(undefined, null);\n\t}\n\n\tincludesString(matchString: string): boolean {\n\t\treturn !!this.findEntry(matchString);\n\t}\n\n\tasync toggleString(matchString: string, newState?: boolean = !this.includesString(matchString)) {\n\t\tif (SelectedThing.current) SelectedThing.current.anchor(); // Toggling the filter may move the viewport. Try to keep the selected post in place.\n\t\tawait this.toggleEntry(newState, this.findEntry(matchString) || [matchString]);\n\t}\n}\n\nexport const listFilters = {\n\tusers: new ListFilter('users'),\n\tsubreddits: new ListFilter('subreddits'),\n\tkeywords: new ListFilter('keywords'),\n\tdomains: new ListFilter('domains'),\n\tflair: new ListFilter('flair'),\n};\n\nexport function addExternalFilter(id: string, name: string, getConditions: () => *, Filter: Class<ExternalFilter> = ExternalFilter) {\n\tconst cased = Cases.createAdHoc(id, getConditions, 'external', thingType);\n\treturn filterline.createFilter({ Filter, id, name, type: cased.type, state: false, add: true, save: false });\n}\n\nfunction populateFromOptions() {\n\tconst customFilters = _.groupBy(\n\t\tmodule.options[customFilterVariant].value,\n\t\t({ opts: { ondemand } = {} }) => ondemand ? 'ondemand' : 'always'\n\t);\n\n\tif (customFilters.ondemand) {\n\t\tconst cases = customFilters.ondemand.map(v => addOndemandCase(v, true));\n\t\tfilterline.resumeDeferredTypes(cases.map(({ type }) => type));\n\t}\n\n\t// Make customFilter(C|P) so that the settings link is available\n\taddExternalFilter(customFilterVariant, i18n(module.options[customFilterVariant].title), () => ({ type: 'false' }));\n\n\tfor (const customFilter of (customFilters.always || [])) {\n\t\tconst conditions = Cases.resolveGroup(customFilter.body);\n\t\tif (!Cases.isUseful(conditions.type)) continue;\n\t\taddExternalFilter(customFilter.id, (customFilter.opts || {}).name, () => conditions, class extends ExternalFilter {\n\t\t\tconstructor(id: *, BaseCase: *, name: *, conditions: *, state: *, effects: *) {\n\t\t\t\tconst propagate = !!(customFilter.opts && customFilter.opts.propagate);\n\t\t\t\tsuper(id, BaseCase, name, conditions, state, { hide: true, propagate, ...effects });\n\t\t\t}\n\t\t});\n\t}\n\n\tif (!isPageType('profile')) { // Don't ignore users on profile pages\n\t\tconst effects = [\n\t\t\tmodule.options.usersMatchAction.value,\n\t\t\tmodule.options.usersMatchRepliesAction.value,\n\t\t].filter(Boolean);\n\t\tlistFilters.users.initialize('username', undefined, effects);\n\t}\n\n\tif (thingType === 'post') {\n\t\tlistFilters.keywords.initialize('postTitle');\n\t\tlistFilters.domains.initialize('domain', { fullMatch: false });\n\t\tif (\n\t\t\tmodule.options.filterSubredditsFrom.value === 'everywhere' ||\n\t\t\tmodule.options.filterSubredditsFrom.value === 'everywhere-except-subreddit' && !currentSubreddit() ||\n\t\t\tisCurrentSubreddit('all') || isCurrentSubreddit('popular') ||\n\t\t\tcurrentDomain() ||\n\t\t\tisCurrentMultireddit('me/f/all')\n\t\t) {\n\t\t\tlistFilters.subreddits.initialize('subreddit');\n\t\t}\n\t\tlistFilters.flair.initialize('linkFlair');\n\t}\n}\n\nexport function addOndemandCase(customFilter: BuilderRootValue, onlyUseful: boolean = false) {\n\tconst getConditions = () => Cases.resolveGroup(customFilter.body);\n\n\tif (!onlyUseful || Cases.isUseful(getConditions().type)) {\n\t\treturn Cases.createAdHoc(customFilter.id, getConditions, 'ondemand', thingType, customFilter);\n\t} else {\n\t\treturn Cases.Inert;\n\t}\n}\n\nexport function addCustomFilter({ body, opts }: {| body: *, opts?: * |}): BuilderRootValue {\n\tconst customFilter = {\n\t\tnote: `From ${fullLocation()}`,\n\t\tver: 3,\n\t\tid: `customFilter-${Date.now()}`,\n\t\tbody,\n\t\topts,\n\t};\n\n\tmodule.options[customFilterVariant].value.unshift(customFilter);\n\tOptions.save(module.options[customFilterVariant]);\n\n\treturn customFilter;\n}\n\nexport function updateCustomFilter(customFilter: BuilderRootValue, val: $Shape<BuilderRootValue>) {\n\t// XXX May leave trash in the object\n\textendDeep((customFilter: any), (val: any)); // This mutates the option array\n\tOptions.save(module.options[customFilterVariant]);\n}\n\nexport async function saveFilterlineStateAsDefault(type: string) {\n\tconst { storage } = defaultFilters.find(v => v.type === type) || {};\n\tif (!storage) throw new Error(`Could not find storage for type ${type}`);\n\n\tconst v: LineState = (await filterlineStorage.get(): any);\n\tlet { filters } = _.cloneDeep(v) || {};\n\tif (_.isEmpty(filters)) filters = null;\n\tawait storage.set(filters);\n\tNotifications.showNotification('Saved.', 1000);\n}\n\nfunction getStringMatchConditions(source, caseType, additionalCriteria) {\n\tconst [matchString = '', applyTo = 'everywhere', applyList = '', except = ''] = source;\n\n\tconst mainFilter = {\n\t\ttype: caseType,\n\t\tpatt: matchString,\n\t\t...additionalCriteria,\n\t};\n\n\tif (source.length === 1) return mainFilter;\n\n\tlet applyToConditions;\n\tif (applyTo !== 'everywhere') {\n\t\tconst subreddits = applyList.split(',');\n\n\t\tif (subreddits.findIndex(v => !v) !== -1) {\n\t\t\tconsole.error('Filter must have subreddits specified', source);\n\t\t\treturn { type: 'false' };\n\t\t}\n\n\t\tapplyToConditions = Cases.getGroup(applyTo === 'exclude' ? 'none' : 'any', [\n\t\t\t// /r/all special case\n\t\t\t// (nothing is posted to /r/all, but we could be browsing it)\n\t\t\tsubreddits.includes('all') ? {\n\t\t\t\ttype: 'currentSub',\n\t\t\t\tpatt: 'all',\n\t\t\t} : null,\n\t\t\t// and the same for /r/popular\n\t\t\tsubreddits.includes('popular') ? {\n\t\t\t\ttype: 'currentSub',\n\t\t\t\tpatt: 'popular',\n\t\t\t} : null,\n\t\t\t// normal subreddit include/exclude\n\t\t\t...subreddits.map(sr => ({\n\t\t\t\ttype: 'subreddit',\n\t\t\t\tpatt: sr,\n\t\t\t})),\n\t\t].filter(Boolean));\n\t}\n\n\treturn Cases.getGroup('all', [\n\t\t// applyTo filtering\n\t\tapplyToConditions || null,\n\t\t// main filter\n\t\tmainFilter,\n\t\t// filter exclusions\n\t\t(except && except.length) && Cases.getGroup('none', [{\n\t\t\ttype: caseType,\n\t\t\tpatt: except,\n\t\t\t...additionalCriteria,\n\t\t}]) || null,\n\t].filter(Boolean));\n}\n\nconst reconcileNativeFilters = (() => {\n\t// Ideally, we would just get the subscriber count for each subreddit.\n\t// However, there's no batch endpoint for subreddit info.\n\t// So we use a different proxy for subreddit popularity: the top post score from the last day.\n\t// By doing so, we can leverage ad-hoc multireddits to get multiple results from a single request.\n\t// In testing, this method achieves ~15 requests/500 subreddits or ~33 subreddits/request.\n\tconst MAX_RETRIES = 5;\n\tconst getTopScore = batch(async requests => {\n\t\tconst resp = (await ajax({\n\t\t\turl: `/r/${requests.map(r => r.sub).join('+')}/top.json`,\n\t\t\tquery: { t: 'day', limit: 100 },\n\t\t\ttype: 'json',\n\t\t}): RedditListing<RedditLink>);\n\n\t\tif (!resp.data.children.length) {\n\t\t\t// guarantee that we always make progress:\n\t\t\t// if there are no posts, return `0` for all requests\n\t\t\treturn requests.map(() => 0);\n\t\t}\n\n\t\tconst topScoreBySub = flow(\n\t\t\t() => resp.data.children.reverse(),\n\t\t\tkeyBy(post => post.data.subreddit.toLowerCase()),\n\t\t\tmapValues(post => post.data.score)\n\t\t)();\n\n\t\treturn requests.map(({ sub, depth = 0 }: {| sub: string, depth?: number |}) => {\n\t\t\tconst score = topScoreBySub[sub.toLowerCase()];\n\n\t\t\tif (score !== undefined) {\n\t\t\t\t// post found\n\t\t\t\treturn score;\n\t\t\t} else if (depth > MAX_RETRIES) {\n\t\t\t\t// out of retries\n\t\t\t\treturn 0;\n\t\t\t} else {\n\t\t\t\t// try again until we get a score\n\t\t\t\treturn getTopScore({ sub, depth: depth + 1 });\n\t\t\t}\n\t\t});\n\t}, { size: 100, delay: 2000 });\n\n\tasync function sortByPopularity(subreddits: string[]): Promise<string[]> {\n\t\tconst scores = await Promise.all(subreddits.map(sub => getTopScore({ sub })));\n\n\t\treturn _.sortBy(_.zip(subreddits, scores), ([, score]) => score)\n\t\t\t.map(([sub]) => sub)\n\t\t\t.filter(Boolean)\n\t\t\t.reverse();\n\t}\n\n\treturn mutex(async ({ warnNotLoggedIn = false }: {| warnNotLoggedIn?: boolean |} = {}) => {\n\t\tconst user = context.username;\n\n\t\tif (!user) {\n\t\t\tif (warnNotLoggedIn) {\n\t\t\t\tNotifications.showNotification({\n\t\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\t\tnotificationID: 'filterSyncNotLoggedIn',\n\t\t\t\t\theader: 'Filters not synced',\n\t\t\t\t\tmessage: 'You must log in to sync filters.',\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.warn('Not syncing filters, not logged in...');\n\t\t\treturn;\n\t\t}\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: 'filterSyncStarted',\n\t\t\tmessage: 'Filter sync started...',\n\t\t});\n\n\t\tconst { data: { subreddits } } = await ajax({\n\t\t\turl: `/api/filter/user/${user}/f/all`,\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst existing = subreddits.map(({ name }) => name.toLowerCase());\n\n\t\tconst desired = await asyncFlow(\n\t\t\tmap(([sr]) => sr),\n\t\t\tfilter(sr => !string.regexRegex.test(sr)),\n\t\t\tmap(name => name.toLowerCase()),\n\t\t\tsortByPopularity,\n\t\t\tslice(0, 100)\n\t\t)(module.options.subreddits.value);\n\n\t\tconst toRemove = _.difference(existing, desired).length;\n\t\tconst toAdd = _.difference(desired, existing).length;\n\n\t\tif (!toRemove && !toAdd) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'useRedditFilters',\n\t\t\t\tnotificationID: 'filterSyncNoneAddedOrRemoved',\n\t\t\t\tcloseDelay: 5000,\n\t\t\t\theader: 'No filters synced',\n\t\t\t\tmessage: `\n\t\t\t\t\tEither no subreddit filters were changed, or you have more than 100 subreddits filtered.\n\t\t\t\t\tReddit's native /r/all filtering is limited to 100 subreddits.\n\t\t\t\t`,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\t// when `model` is provided, this replaces all subreddits\n\t\t\tawait ajax({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl: `/api/filter/user/${user}/f/all`,\n\t\t\t\tdata: {\n\t\t\t\t\tmodel: JSON.stringify({\n\t\t\t\t\t\tsubreddits: desired.map(name => ({ name })),\n\t\t\t\t\t}),\n\t\t\t\t},\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tconsole.error(e);\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'useRedditFilters',\n\t\t\t\tnotificationID: 'filterSyncError',\n\t\t\t\theader: 'Error syncing filters',\n\t\t\t\tmessage: `Filters could not be synced: ${e}`,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\toptionKey: 'useRedditFilters',\n\t\t\tnotificationID: 'filterSyncSuccess',\n\t\t\theader: 'Successfully synced filters',\n\t\t\tmessage: `Removed ${toRemove} and added ${toAdd} filters.`,\n\t\t});\n\t});\n})();\n\nconst subredditAllowNsfwOption = _.once(() => indexOptionTable(module.options.allowNSFW, 0, key => key.toLowerCase()));\n\nconst allowAllNsfw = _.memoize(subreddit => {\n\tconst currOptionValue = subredditAllowNsfwOption()[subreddit.toLowerCase()];\n\treturn currOptionValue && currOptionValue[0][1] === 'visit';\n});\n\nfunction allowNSFW(postSubreddit, currSubreddit = currentSubreddit()) {\n\tif (!module.options.allowNSFW.value || !module.options.allowNSFW.value.length) return false;\n\n\tif (currSubreddit && allowAllNsfw(currSubreddit)) {\n\t\treturn true;\n\t}\n\n\tif (!postSubreddit) postSubreddit = currSubreddit;\n\tif (!postSubreddit) return false;\n\tconst postOptionValue = subredditAllowNsfwOption()[postSubreddit.toLowerCase()];\n\tif (postOptionValue) {\n\t\tif (postOptionValue[0][1] === 'everywhere') {\n\t\t\treturn true;\n\t\t} else { // optionValue[1] == visit (subreddit or multisubreddit)\n\t\t\treturn (currSubreddit || '').split('+').includes(postSubreddit);\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction updateNsfwThingClass(thing) {\n\tif (thing.isNSFW()) {\n\t\tif (allowNSFW(thing.getSubreddit(), currentSubreddit())) {\n\t\t\tthing.element.classList.add('allowOver18');\n\t\t}\n\n\t\t// backfill for new post layout\n\t\tthing.element.classList.add('over18');\n\t}\n}\n\nfunction updateNsfwBodyClass(filterOn) {\n\tBodyClasses.toggle(filterOn, 'hideOver18');\n}\n\nfunction registerSubredditFilterCommand() {\n\tconst getSubreddit = val => (\n\t\tval ||\n\t\tSelectedThing.current && SelectedThing.current.getSubreddit() ||\n\t\tcurrentSubreddit() ||\n\t\t''\n\t);\n\n\tCommandLine.registerCommand(/^f(?:ilter)?/, 'f[ilter] [subreddit] - toggle subreddit filter',\n\t\t(cmd, val) => {\n\t\t\tconst subreddit = getSubreddit(val);\n\t\t\treturn `toggle subreddit filter for: ${subreddit}`;\n\t\t},\n\t\t(cmd, val) => {\n\t\t\tconst subreddit = getSubreddit(val);\n\t\t\tif (!subreddit) return 'no subreddit specified or post selected';\n\t\t\tlistFilters.subreddits.toggleString(subreddit);\n\t\t}\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { PageAction, Storage, i18n } from '../environment';\nimport {\n\tBodyClasses,\n\tPagePhases,\n\tasyncSome,\n\tcurrentSubreddit,\n\tmutex,\n\tstring,\n\twaitForChild,\n} from '../utils';\nimport * as CustomToggles from './customToggles';\nimport * as NightMode from './nightMode';\n\nexport const module: Module<*> = new Module('subredditStyleToggle');\n\nmodule.moduleName = 'subredditStyleToggleName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'subredditStyleToggleDesc';\nmodule.alwaysEnabled = true; // Not implemented to be disabled\nmodule.options = {\n\tbrowserToolbarButton: {\n\t\ttitle: 'subredditStyleToggleBrowserToolbarButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditStyleToggleBrowserToolbarButtonDesc',\n\t\tkeywords: ['css'],\n\t\t// can't be disabled in Chrome since Chrome 49\n\t\tnoconfig: process.env.BUILD_TARGET === 'chrome',\n\t},\n\tcheckbox: {\n\t\ttitle: 'subredditStyleToggleCheckboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditStyleToggleCheckboxDesc',\n\t\tkeywords: ['css'],\n\t},\n};\n\nconst ignoredStorage = Storage.wrap('RESmodules.subredditStyleToggle.ignored', ([]: string[]));\nlet toggle: CustomToggles.Toggle;\nexport let refresh: ?() => *;\n\nmodule.onInit = () => {\n\t// Hide the toolbar button while it is not active\n\tPageAction.hide();\n\n\tconst ready = Promise.all([\n\t\tshouldDisable(),\n\t\thasToggleableElements(),\n\t]).then(([disable, has]) => {\n\t\tif (has) {\n\t\t\tBodyClasses.add('res-srstyle-enabled');\n\t\t\tcreateToggle(!disable);\n\t\t}\n\t});\n\n\trefresh = (nightmodeCompatible?: boolean) => ready.then(async () => {\n\t\tif (toggle) toggle.toggle('auto', !await shouldDisable(nightmodeCompatible));\n\t});\n};\n\nfunction createToggle(initialState) {\n\tconst subreddit = (currentSubreddit() || '').toLowerCase();\n\tif (toggle || !subreddit) return;\n\n\ttoggle = new CustomToggles.Toggle(`${module.moduleID}.${subreddit}`, 'Custom subreddit style', true);\n\n\ttoggle.onToggle(async type => {\n\t\tif (type !== 'manual') return;\n\n\t\t// wait for nightmode to react to subreddit style toggle so `isNightmodeCompatible` check below is accurate\n\t\tawait NightMode.toggledSubredditStyle(toggle.enabled);\n\n\t\tconst ignoredSubreddits = new Set(await ignoredStorage.get());\n\t\tif (toggle.enabled) {\n\t\t\tignoredSubreddits.delete(subreddit);\n\t\t} else if (await NightMode.isNightmodeCompatible()) {\n\t\t\t// disabled and compatible with nightmode, or in a different subreddit, so add it to our ignore list\n\t\t\t// DO NOT add to our ignore list otherwise (current subreddit and incompatible with nightmode),\n\t\t\t// because in that case it will be disabled due to nightmode incompatibility\n\t\t\tignoredSubreddits.add(subreddit);\n\t\t}\n\n\t\tignoredStorage.set(Array.from(ignoredSubreddits));\n\t});\n\n\ttoggle.onStateChange(() => {\n\t\ttoggleElements(toggle.enabled);\n\t\tBodyClasses.toggle(toggle.enabled, 'res-srstyle-enabled');\n\t\tBodyClasses.toggle(!toggle.enabled, 'res-srstyle-disabled');\n\t});\n\n\ttoggle.toggle('auto', initialState);\n\n\tmakeInteractable();\n}\n\nfunction makeInteractable() {\n\tif (module.options.checkbox.value) {\n\t\tPagePhases.sitetableStarted.then(() => {\n\t\t\tconst place = document.body.querySelector('.titlebox h1.redditname');\n\t\t\tif (place) insertCheckbox(place);\n\t\t});\n\t}\n\n\tif (module.options.browserToolbarButton.value) {\n\t\tPageAction.show(toggle.enabled);\n\t\ttoggle.onStateChange(() => { PageAction.show(toggle.enabled); });\n\t\tPageAction.onClick(() => { toggle.toggle('manual'); });\n\t}\n\n\ttoggle.addCLI('srstyle');\n\n\tif ($('#show_stylesheets').length) {\n\t\t$('label[for=show_stylesheets]').after(string.escape` <span class=\"little gray\">(${i18n('subredditStyleToggleRedditPrefsMessage')} <a href=\"/r/Enhancement/wiki/srstyle\">${i18n('subredditStyleToggleClickToLearnMore')}</a>)</span>`);\n\t}\n}\n\nfunction insertCheckbox(place) {\n\tconst container = string.html`\n\t\t<form class=\"toggle res-sr-style-toggle\">\n\t\t\t<label for=\"res-style-checkbox\">${i18n('subredditStyleToggleUse')}</label>\n\t\t</form>\n\t`;\n\n\tconst checkbox = toggle.buildCheckbox();\n\tcheckbox.setAttribute('id', 'res-style-checkbox');\n\tcheckbox.setAttribute('name', 'res-style-checkbox');\n\tcontainer.prepend(checkbox);\n\tplace.after(container);\n}\n\nconst shouldDisable = (nightmodeCompatible: boolean | Promise<boolean> = NightMode.isNightmodeCompatible(true)) => asyncSome([\n\t// subreddit style ignored by this module\n\tasync () => (await ignoredStorage.get()).includes((currentSubreddit() || '').toLowerCase()),\n\t// subreddit style incompatible with nightmode\n\tasync () => !(await nightmodeCompatible),\n], f => f());\n\nconst hasToggleableElements = () => asyncSome([\n\tgetStylesheet,\n\tasync () => !!(await getHeaderImg()).headerImg,\n], f => f());\n\nconst getStylesheet = _.once(async () => {\n\tconst query = () => (document.head || document.documentElement).querySelector('link[title=applied_subreddit_stylesheet]');\n\n\treturn (\n\t\t// parsing has started\n\t\t// the stylesheet element may or may not be in the DOM\n\t\tquery() ||\n\t\t// <body> parsing has started (i.e. the entire <head> is parsed)\n\t\t// if there is a stylesheet, the element will be in the DOM\n\t\tawait PagePhases.bodyStart.then(query) ||\n\t\t// subreddit styles disabled natively; no stylesheet element\n\t\tnull\n\t);\n});\n\nconst getHeaderImg = _.once(async () => {\n\t// subreddits with a custom header image will have:\n\t// `<a id=\"header-img-a\"><img id=\"header-img\"/></a>`\n\t// subreddits with the default will just have:\n\t// `<a id=\"header-img\" class=\"default-header\"></a>`\n\tconst query = () => document.getElementById('header-img-a');\n\tconst imgQuery = () => document.getElementById('header-img');\n\n\tconst imgWrapper = (\n\t\tawait PagePhases.bodyStart.then(query) ||\n\t\tawait waitForChild(document.body, '#header').then(query) ||\n\t\tawait PagePhases.contentLoaded.then(query)\n\t);\n\n\treturn { imgWrapper, headerImg: imgWrapper && imgQuery() };\n});\n\nconst toggleElements = (() => {\n\tconst toggleStylesheet = mutex(async shouldRestore => {\n\t\tconst subredditStylesheet = await getStylesheet();\n\n\t\tif (!subredditStylesheet) return;\n\n\t\tif (shouldRestore) {\n\t\t\t// only add element if not mounted\n\t\t\tif (!subredditStylesheet.parentNode) {\n\t\t\t\tdocument.head.appendChild(subredditStylesheet);\n\t\t\t}\n\t\t} else {\n\t\t\tif (subredditStylesheet.parentNode) {\n\t\t\t\tsubredditStylesheet.remove();\n\t\t\t}\n\t\t}\n\t});\n\n\tconst toggleHeaderImg = mutex(async shouldRestore => {\n\t\tconst { imgWrapper, headerImg } = await getHeaderImg();\n\n\t\tif (!imgWrapper || !headerImg) return;\n\n\t\tif (shouldRestore) {\n\t\t\tif (!headerImg.parentNode) {\n\t\t\t\timgWrapper.id = 'header-img-a';\n\t\t\t\timgWrapper.classList.remove('default-header');\n\t\t\t\timgWrapper.appendChild(headerImg);\n\t\t\t}\n\t\t} else {\n\t\t\tif (headerImg.parentNode) {\n\t\t\t\theaderImg.remove();\n\t\t\t\timgWrapper.id = 'header-img';\n\t\t\t\timgWrapper.classList.add('default-header');\n\t\t\t}\n\t\t}\n\t});\n\n\treturn shouldRestore => Promise.all([\n\t\ttoggleStylesheet(shouldRestore),\n\t\ttoggleHeaderImg(shouldRestore),\n\t]);\n})();\n","/* @flow */\n\nimport _ from 'lodash';\nimport { getTimes as getSunriseSunset } from 'suncalc';\nimport { Module } from '../core/module';\nimport * as Init from '../core/init';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tappType,\n\tAlert,\n\tBodyClasses,\n\tPagePhases,\n\tcurrentSubreddit,\n\twaitForChild,\n\tHOUR,\n\tMINUTE,\n} from '../utils';\nimport { Session, Storage, i18n } from '../environment';\nimport * as CustomToggles from './customToggles';\nimport * as SubredditStyleToggle from './subredditStyleToggle';\n\nexport const module: Module<*> = new Module('nightMode');\n\nmodule.moduleName = 'nightModeName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'nightModeDesc';\nmodule.options = {\n\tnightModeOn: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nightModeNightModeOnDesc',\n\t\ttitle: 'nightModeNightModeOnTitle',\n\t},\n\tnightSwitch: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nightModeNightSwitchDesc',\n\t\ttitle: 'nightModeNightSwitchTitle',\n\t\tadvanced: true,\n\t},\n\tautomaticNightMode: {\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'nightModeAutomaticNightModeNone',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeAutomatic',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'nightModeAutomaticNightModeUser',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tdescription: 'nightModeAutomaticNightModeDesc',\n\t\ttitle: 'nightModeAutomaticNightModeTitle',\n\t},\n\tnightModeStart: {\n\t\ttype: 'text',\n\t\tvalue: '20:00',\n\t\tdescription: 'nightModeNightModeStartDesc',\n\t\ttitle: 'nightModeNightModeStartTitle',\n\t\tdependsOn: options => options.automaticNightMode.value === 'user',\n\t},\n\tnightModeEnd: {\n\t\ttype: 'text',\n\t\tvalue: '6:00',\n\t\tdescription: 'nightModeNightModeEndDesc',\n\t\ttitle: 'nightModeNightModeEndTitle',\n\t\tdependsOn: options => options.automaticNightMode.value === 'user',\n\t},\n\tnightModeOverrideHours: {\n\t\ttype: 'text',\n\t\tvalue: '8',\n\t\tdescription: 'nightModeNightModeOverrideHoursDesc',\n\t\ttitle: 'nightModeNightModeOverrideHoursTitle',\n\t\tdependsOn: options => options.automaticNightMode.value !== 'none',\n\t},\n\tuseSubredditStyles: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nightModeUseSubredditStylesDesc',\n\t\ttitle: 'nightModeUseSubredditStylesTitle',\n\t\tadvanced: true,\n\t},\n\tsubredditStylesWhitelist: {\n\t\ttype: 'list',\n\t\tvalue: '',\n\t\tlistType: 'subreddits',\n\t\tdescription: 'nightModeSubredditStylesWhitelistDesc',\n\t\ttitle: 'nightModeSubredditStylesWhitelistTitle',\n\t},\n\tcoloredLinks: {\n\t\ttype: 'boolean',\n\t\tbodyClass: true,\n\t\tvalue: false,\n\t\tdescription: 'nightModeColoredLinksDesc',\n\t\ttitle: 'nightModeColoredLinksTitle',\n\t},\n};\n\nconst localStorageKey = 'RES_nightMode';\nconst nightModeActive = () => typeof localStorage === 'object' && !!localStorage.getItem(localStorageKey);\nconst nightmodeOverrideStorage = Storage.wrap('RESmodules.nightMode.nightModeOverrideStart', (null: null | number));\nlet toggle;\n\nmodule.onToggle = enabled => {\n\t// If the module is turned off, disable night mode completely\n\tif (toggle && toggle.enabled && !enabled) toggle.toggle();\n};\n\nmodule.onInit = () => {\n\t// To avoid the flash of unstyled content, the very first thing we should do is get a hold\n\t// of the document object and add necessary classes...\n\tif (nightModeActive()) addNightMode();\n};\n\nmodule.beforeLoad = () => {\n\tif (isNightModeOn()) {\n\t\taddNightMode();\n\t} else {\n\t\tremoveNightMode();\n\t}\n\n\ttoggle = new CustomToggles.Toggle('nightMode', i18n('nightModeToggleText'), module.options.nightModeOn.value);\n\ttoggle.onToggle(type => {\n\t\tif (type === 'manual') overrideNightMode();\n\t\tmodule.options.nightModeOn.value = toggle.enabled;\n\t\tOptions.save(module.options.nightModeOn);\n\t});\n\ttoggle.onStateChange(() => {\n\t\tif (toggle.enabled) addNightMode();\n\t\telse removeNightMode();\n\t\t// Update cache\n\t\tisNightmodeCompatible();\n\t});\n\ttoggle.addCLI('ns');\n\tif (module.options.nightSwitch.value) toggle.addMenuItem(i18n('nightModeToggleTitle'), 7, '', '');\n\n\thandleAutomaticNightMode();\n};\n\nmodule.always = () => {\n\tif (!Modules.isRunning(module)) {\n\t\t// Nightmode might have been erronously applied in `onInit`\n\t\tremoveNightMode();\n\t}\n};\n\nexport function isNightModeOn(): boolean {\n\tif (!Modules.isRunning(module)) return false;\n\t// `toggle` contains the current nightMode state\n\treturn toggle ? toggle.enabled : module.options.nightModeOn.value;\n}\n\nexport async function isNightmodeCompatible(useCache: boolean = false): Promise<boolean> {\n\tconst subreddit = currentSubreddit();\n\n\tif (!subreddit) {\n\t\t// not in a subreddit, vanilla reddit is compatible\n\t\treturn true;\n\t}\n\n\tif (['all', 'popular', 'friends', 'mod'].includes(subreddit)) {\n\t\t// special-case subreddits are always compatible\n\t\treturn true;\n\t}\n\n\tconst isAllowedByOptions = async () => {\n\t\tawait Init.loadOptions;\n\n\t\tif (!isNightModeOn()) {\n\t\t\t// nightmode is off\n\t\t\treturn true;\n\t\t}\n\n\t\tif (module.options.useSubredditStyles.value) {\n\t\t\t// user has chosen to always use subreddit styles regardless of compatibility\n\t\t\treturn true;\n\t\t}\n\n\t\tconst isWhitelisted = module.options.subredditStylesWhitelist.value.split(',').includes(subreddit.toLowerCase());\n\t\tif (isWhitelisted) {\n\t\t\t// This subreddit is whitelisted.\n\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst isSubredditCompatible = async () => {\n\t\t// Check the sidebar for a link [](#/RES_SR_Config/NightModeCompatible) that indicates the sub is night mode compatible.\n\t\tconst query = () => !!document.querySelector('.side a[href$=\"#/RES_SR_Config/NightModeCompatible\"]');\n\t\treturn (\n\t\t\tquery() ||\n\t\t\tawait PagePhases.bodyStart.then(query) ||\n\t\t\tawait waitForChild(document.body, '.side').then(query) ||\n\t\t\tPagePhases.sitetableStarted.then(query)\n\t\t);\n\t};\n\n\tconst id = `isNightmodeCompatible.${subreddit.toLowerCase()}`;\n\tconst updatePromise = update();\n\tconst stored = await Session.get(id);\n\tconst cached = typeof stored === 'boolean' ? stored : !nightModeActive();\n\treturn useCache ? cached : updatePromise;\n\n\tasync function update() {\n\t\tconst compatible = await isAllowedByOptions() || await isSubredditCompatible();\n\t\tawait Session.set(id, compatible);\n\t\tif (cached !== compatible && SubredditStyleToggle.refresh) SubredditStyleToggle.refresh(compatible);\n\t\treturn compatible;\n\t}\n}\n\nexport async function toggledSubredditStyle(toggledOn: boolean): Promise<void> {\n\tconst currSub = currentSubreddit();\n\tif (!isNightModeOn() || !currSub) {\n\t\t// nightmode is off or not in a subreddit, subreddit style toggling is irrelevant\n\t\treturn;\n\t}\n\n\tconst subreddit = currSub.toLowerCase();\n\tconst whitelist = module.options.subredditStylesWhitelist.value.split(',');\n\n\tif (toggledOn && !(await isNightmodeCompatible())) {\n\t\t// toggled on and incompatible, add to whitelist\n\t\tif (!whitelist.includes(subreddit)) {\n\t\t\twhitelist.push(subreddit);\n\t\t}\n\t} else if (!toggledOn) {\n\t\t// toggled off, remove from whitelist\n\t\t_.pull(whitelist, subreddit);\n\t}\n\n\tmodule.options.subredditStylesWhitelist.value = whitelist.join(',');\n\treturn Options.save(module.options.subredditStylesWhitelist);\n}\n\nconst handleAutomaticNightMode = _.once(async function check() {\n\tif (module.options.automaticNightMode.value === 'none') {\n\t\treturn;\n\t}\n\n\t// Handle automatic night mode override\n\t// Grab the override start time, if it exists\n\tconst nightModeOverrideStart = await nightmodeOverrideStorage.get();\n\tconst nightModeOverrideLength = HOUR * parseFloat(module.options.nightModeOverrideHours.value);\n\n\tconst nightModeOverrideEnd = (parseInt(nightModeOverrideStart, 10) || 0) + nightModeOverrideLength;\n\n\tconst isOverrideActive = (Date.now() <= nightModeOverrideEnd);\n\n\t// Toggle is needed if night mode time is reached but night mode is\n\t// disabled, or vice versa, *unless* override is active\n\tconst needsNightModeToggle = !isOverrideActive &&\n\t\t(isNightModeOn() !== await isTimeForNightMode());\n\n\tif (needsNightModeToggle) {\n\t\ttoggle.toggle('auto');\n\t}\n\n\t// wait 5 minutes, then wait for the next frame (i.e. wait for the tab to be focused)\n\tsetTimeout(() => requestAnimationFrame(check), 5 * MINUTE);\n});\n\nfunction overrideNightMode() {\n\tif (module.options.automaticNightMode.value === 'none') {\n\t\treturn;\n\t}\n\n\t// Temporarily disable automatic night mode by setting the start time\n\t// of override\n\tnightmodeOverrideStorage.set(Date.now());\n}\n\n/**\n * Gets user's latitude and longitude using Geolocation API.\n */\nfunction getGeolocation() {\n\treturn new Promise((resolve, reject) => {\n\t\tnavigator.geolocation.getCurrentPosition(\n\t\t\tposition => resolve(position.coords),\n\t\t\treject\n\t\t);\n\t});\n}\n\n/**\n * Determines night mode startind time and ending time based on user's peferences.\n * If automatic mode is enabled, it will try to determine user's geolocation and use it\n * to calculate sunrise and sunset times.\n * If the user chose user-defined hours or the function will fail to determine user's location,\n * nightModeStart and nightModeEnd values will be used.\n */\nasync function getNightModeTimes() {\n\tswitch (module.options.automaticNightMode.value) {\n\t\tcase 'automatic':\n\t\t\ttry {\n\t\t\t\tconst { latitude, longitude } = await getGeolocation();\n\t\t\t\tconst { sunrise, sunset } = getSunriseSunset(new Date(), latitude, longitude);\n\t\t\t\treturn { startingTime: sunset, endingTime: sunrise };\n\t\t\t} catch (err) {\n\t\t\t\tconsole.warn('Failed to init automatic night mode:', err);\n\n\t\t\t\tswitch (err.code) {\n\t\t\t\t\tcase err.PERMISSION_DENIED:\n\t\t\t\t\t\treturn Alert.open(i18n('nightModeAutomaticNightModeDenied', 'confirm'), { cancelable: true })\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t// they clicked confirm, turn it off\n\t\t\t\t\t\t\t\tmodule.options.automaticNightMode.value = 'none';\n\t\t\t\t\t\t\t\tOptions.save(module.options.automaticNightMode);\n\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tstartingTime: new Date(0),\n\t\t\t\t\t\t\t\t\tendingTime: new Date(0),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\t\t\t\tcase err.POSITION_UNAVAILABLE:\n\t\t\t\t\tcase err.TIMEOUT:\n\t\t\t\t\tcase err.UNKNOWN_ERROR:\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow err;\n\t\t\t\t}\n\t\t\t}\n\t\tcase 'user':\n\t\t\treturn {\n\t\t\t\tstartingTime: timeStringToDate(module.options.nightModeStart.value),\n\t\t\t\tendingTime: timeStringToDate(module.options.nightModeEnd.value),\n\t\t\t};\n\t\tdefault:\n\t\t\tthrow new Error(`Invalid automaticNightMode value: ${module.options.automaticNightMode.value}`);\n\t}\n}\n\nasync function isTimeForNightMode() {\n\tconst currentTime = new Date();\n\tconst { startingTime, endingTime } = await getNightModeTimes();\n\n\tif (startingTime <= endingTime) {\n\t\t// e.g. enabled between 6am (600) and 8pm (2000)\n\t\treturn (startingTime <= currentTime) && (currentTime < endingTime);\n\t} else {\n\t\t// e.g. enabled between 8pm (2000) and 6am (600)\n\t\treturn (startingTime <= currentTime) || (currentTime < endingTime);\n\t}\n}\n\n/**\n * Converts a string of form \"12:30\" to the current date at that time.\n */\nfunction timeStringToDate(timeString) {\n\tconst [hour, minute] = timeString.split(':').map(s => parseInt(s, 10));\n\tconst date = new Date();\n\tdate.setHours(hour, minute, 0 /* s */, 0 /* ms */);\n\treturn date;\n}\n\nconst className = () => {\n\tswitch (appType()) {\n\t\tcase 'r2':\n\t\tcase 'options':\n\t\t\treturn 'res-nightmode';\n\t\tcase 'd2x':\n\t\t\treturn 'res-d2x-nightmode';\n\t\tdefault:\n\t\t\tthrow new Error(`Impossible appType: ${appType()}`);\n\t}\n};\n\nconst addNightMode = () => {\n\tBodyClasses.add(className());\n\t// Set a localStorage token so that in the future we can add nightmode to the page prior to page load.\n\tlocalStorage.setItem(localStorageKey, 'true');\n};\n\nconst removeNightMode = () => {\n\tBodyClasses.remove(className());\n\tlocalStorage.removeItem(localStorageKey);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tCreateElement,\n\tThing,\n\tSelectedThing,\n\tdowncast,\n\tisPageType,\n\tusernameSelector,\n\tgetUsernameFromLink,\n\tloggedInUser,\n\tpreventCloning,\n\tstring,\n\twatchForElements,\n\twatchForThings,\n\tempty,\n\twatchForRedditEvents,\n\tisAppType,\n} from '../utils';\nimport { Storage, openNewTabs, i18n } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Dashboard from './dashboard';\nimport * as FilteReddit from './filteReddit';\nimport * as Hover from './hover';\nimport * as NightMode from './nightMode';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('userTagger');\n\nconst bgToTextColorMap = {\n\tnone: 'inherit',\n\taqua: 'black',\n\tblack: 'white',\n\tblue: 'white',\n\tcornflowerblue: 'white',\n\tfuchsia: 'white',\n\tgray: 'white',\n\tgreen: 'white',\n\tlime: 'black',\n\tmaroon: 'white',\n\tnavy: 'white',\n\tolive: 'white',\n\torange: 'white',\n\torangered: 'white',\n\tpink: 'black',\n\tpurple: 'white',\n\tred: 'white',\n\tsilver: 'black',\n\tteal: 'white',\n\twhite: 'black',\n\tyellow: 'black',\n};\n\nmodule.moduleName = 'userTaggerName';\nmodule.category = 'usersCategory';\nmodule.description = 'userTaggerDesc';\nmodule.options = {\n\tshowTaggingIcon: {\n\t\ttitle: 'userTaggerShowTaggingIconTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerShowTaggingIconDesc',\n\t},\n\tstoreSourceLink: {\n\t\ttitle: 'userTaggerStoreSourceLinkTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerStoreSourceLinkDesc',\n\t\tadvanced: true,\n\t},\n\tuseCommentsLinkAsSource: {\n\t\ttitle: 'userTaggerUseCommentsLinkAsSourceTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerUseCommentsLinkAsSourceDesc',\n\t\tadvanced: true,\n\t},\n\ttrackVoteWeight: {\n\t\ttitle: 'userTaggerTrackVoteWeightTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerTrackVoteWeightDesc',\n\t\tadvanced: true,\n\t},\n\tvwNumber: {\n\t\ttitle: 'userTaggerVwNumberTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerVWNumberDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.trackVoteWeight.value,\n\t},\n\ttruncateTag: {\n\t\ttitle: 'userTaggerTruncateTagTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userTaggerTruncateTagDesc',\n\t\tadvanced: true,\n\t},\n\tpresetTags: {\n\t\ttitle: 'userTaggerPresetTagsTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add preset',\n\t\tfields: [{\n\t\t\tkey: 'text',\n\t\t\tname: 'text',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'select',\n\t\t\tvalue: 'none',\n\t\t\tvalues: Object.entries(bgToTextColorMap).map(([k, v]) => ({\n\t\t\t\tname: k,\n\t\t\t\tvalue: k,\n\t\t\t\tstyle: `color: ${v}; background-color: ${k};`,\n\t\t\t})),\n\t\t}],\n\t\tvalue: ([]: Array<[string, string]>),\n\t\tdescription: 'userTaggerPresetTagsDesc',\n\t\tadvanced: true,\n\t},\n};\n\nconst tagStorage = Storage.wrapPrefix('tag.', () => (null: ?{|\n\ttext?: string,\n\tlink?: string,\n\tcolor?: string,\n\tvotesDown?: number,\n\tvotesUp?: number,\n|}), user => user.toLowerCase(), true);\n\nmodule.beforeLoad = () => {\n\t// Immediately load data in order to have it ready on mutation\n\twatchForThings(null, thing => {\n\t\tconst user = thing.getAuthor();\n\t\tif (user) Tag.get(user);\n\t}, { immediate: true });\n\n\twatchForElements(['page', 'selfText'], usernameSelector, applyFromElement);\n\n\twatchForRedditEvents('postAuthor', (element, { author, _: { update } }) => {\n\t\tif (update) return;\n\n\t\t// Remove previously added tags, as Reddit may not empty the container when navigating posts\n\t\tfor (const tag of element.getElementsByClassName('RESUserTag')) tag.remove();\n\n\t\tapplyToUser(element, { username: author });\n\t});\n\twatchForRedditEvents('commentAuthor', (element, { author, _: { update } }) => {\n\t\tif (update) return;\n\t\tapplyToUser(element, { username: author });\n\t});\n\twatchForRedditEvents('userHovercard', (element, { user: { username }, _: { update } }) => {\n\t\tif (update) return;\n\t\tapplyToUser(element, { username, renderTaggingIcon: false });\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (module.options.trackVoteWeight.value && loggedInUser()) {\n\t\tattachVoteHandler();\n\t}\n\n\tregisterCommandLine();\n\n\tDashboard.addTab('userTaggerContents', i18n('userTaggerMyUserTags'), module.moduleID, addDashboardFunctionality);\n};\n\nfunction applyFromElement(element) {\n\tconst username = getUsernameFromLink(element);\n\tif (username) return applyToUser(element, { username });\n}\n\nexport function applyToUser(element: HTMLElement, {\n\tusername,\n\trenderTaggingIcon = module.options.showTaggingIcon.value && username !== loggedInUser(),\n\trenderVoteWeight = module.options.trackVoteWeight.value && username !== loggedInUser(),\n}: {|\n\tusername: string,\n\trenderTaggingIcon?: boolean,\n\trenderVoteWeight?: boolean,\n|} = {}) {\n\t// Display tag immediately so that it can be rendered at once without having to wait for storage\n\t// since in most cases there's no applied tag\n\tconst tag = Tag.getUnfilled(username);\n\ttag.add(element, { renderVoteWeight, renderTaggingIcon });\n\ttag.fill();\n}\n\nexport const tags: Map<string, Tag> = new Map();\n\ntype RenderInstance = {|\n\telement: HTMLElement,\n\ttagger?: HTMLElement,\n\tvw?: HTMLElement,\n\trenderTaggingIcon?: boolean,\n\trenderVoteWeight?: boolean,\n|};\n\nexport class Tag {\n\tstatic defaultTagElement = (e => () => e().cloneNode(true))(_.once(() => Tag.buildTagElement()));\n\tstatic buildTagElement({ text, color }: { text: ?string, color: ?string } = {}) {\n\t\treturn string.html`\n\t\t\t<span class=\"RESUserTag\">\n\t\t\t\t<a\n\t\t\t\t\tclass=\"userTagLink ${(text || color) ? 'hasTag' : 'RESUserTagImage'} ${module.options.truncateTag.value ? 'truncateTag' : ''}\"\n\t\t\t\t\t${(text || color) && string._html`style=\"background-color: ${color || 'none'}; color: ${bgToTextColorMap[color || 'none']} !important;\"`}\n\t\t\t\t\ttitle=\"${text || 'set a tag'}\"\n\t\t\t\t\thref=\"javascript:void 0\"\n\t\t\t\t>${text || '\\u00A0'/* nbsp */}</a>\n\t\t\t</span>\n\t\t`;\n\t}\n\n\tstatic async getStored(): Promise<Array<Tag>> {\n\t\treturn Object.entries(await tagStorage.getAll())\n\t\t\t.map(([k, v]) => {\n\t\t\t\tconst tag = Tag.getUnfilled(k);\n\t\t\t\ttag.load(v);\n\t\t\t\treturn tag;\n\t\t\t});\n\t}\n\n\tstatic getUnfilled(id: string): Tag {\n\t\tlet tag = tags.get(id);\n\t\tif (!tag) {\n\t\t\ttag = new Tag(id);\n\t\t\ttags.set(id, tag);\n\t\t}\n\n\t\treturn tag;\n\t}\n\n\tstatic async get(id: string): Promise<Tag> {\n\t\tconst tag = Tag.getUnfilled(id);\n\t\tawait tag.fill();\n\t\treturn tag;\n\t}\n\n\tid: string;\n\ttext: ?string = null;\n\tlink: ?string = null;\n\tcolor: ?string = null;\n\tvotesUp: number = 0;\n\tvotesDown: number = 0;\n\n\tget ignored(): boolean { return FilteReddit.listFilters.users.includesString(this.id); }\n\n\tinstances: Array<RenderInstance> = [];\n\n\tconstructor(id: $PropertyType<this, 'id'> = '~dummy') {\n\t\tthis.id = id;\n\t}\n\n\tfill = _.once(async () => {\n\t\tconst data = await tagStorage.get(this.id);\n\t\tif (data) {\n\t\t\tif (Object.keys(this.getBaseDifference(data)).length) {\n\t\t\t\tthis.load(data);\n\t\t\t} else {\n\t\t\t\tthis.delete();\n\t\t\t}\n\t\t}\n\t});\n\n\tload(data: *) {\n\t\tif (data.color !== undefined) this.color = data.color;\n\t\telse if (data.color === 'none' /* legacy value */) this.color = null;\n\t\tif (data.link !== undefined) this.link = data.link;\n\t\tif (data.text !== undefined) this.text = data.text;\n\t\tif (data.votesDown !== undefined) this.votesDown = data.votesDown;\n\t\tif (data.votesUp !== undefined) this.votesUp = data.votesUp;\n\n\t\tfor (const instance of this.instances) this.render(instance);\n\t}\n\n\textract() {\n\t\treturn {\n\t\t\tcolor: this.color,\n\t\t\tlink: this.link,\n\t\t\ttext: this.text,\n\t\t\tvotesDown: this.votesDown,\n\t\t\tvotesUp: this.votesUp,\n\t\t};\n\t}\n\n\tsave() {\n\t\ttagStorage.set(this.id, this.getBaseDifference());\n\t}\n\n\tgetBaseDifference(data: * = this.extract()) {\n\t\tconst base = (new Tag()).extract();\n\t\treturn _.pickBy(data, (v, k) => base[k] !== v);\n\t}\n\n\tdelete() {\n\t\ttagStorage.delete(this.id);\n\t}\n\n\tadd(element: HTMLAnchorElement | HTMLElement, { renderTaggingIcon, renderVoteWeight }: {| renderTaggingIcon?: boolean, renderVoteWeight?: boolean |} = {}) {\n\t\tconst instance: RenderInstance = this.instances.find(v => v.element === element) || { element };\n\t\tif (!this.instances.includes(instance)) this.instances.push(instance);\n\t\tif (renderTaggingIcon) instance.renderTaggingIcon = true;\n\t\tif (renderVoteWeight) instance.renderVoteWeight = true;\n\t\tthis.render(instance);\n\t}\n\n\tget votes(): number {\n\t\treturn this.votesUp - this.votesDown;\n\t}\n\n\tignore({ showNotice = true }: { showNotice: boolean } = {}) {\n\t\tif (showNotice) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\tnotificationID: 'addedToIgnoreList',\n\t\t\t\tmessage: `\n\t\t\t\t\t<p>Now ignoring content posted by ${this.id}.</p>\n\t\t\t\t\t${isPageType('inbox') ? `\n\t\t\t\t\t\t<p>If you wish to block ${this.id} from sending you messages, go to <a href=\"/message/messages/\">your messages</a> and click 'block user' underneath their last message.</p>\n\t\t\t\t\t\t<p><a href=\"https://www.reddit.com/r/changelog/comments/ijfps/reddit_change_users_may_block_other_users_that/\">About blocking users</a>.</p>\n\t\t\t\t\t` : ''}\n\t\t\t\t`,\n\t\t\t\tcloseDelay: 5000,\n\t\t\t});\n\t\t}\n\n\t\tFilteReddit.listFilters.users.toggleString(this.id, true);\n\t\tif (!this.text) this.load({ text: 'ignored' });\n\t\tthis.save();\n\t}\n\n\tunignore() {\n\t\tFilteReddit.listFilters.users.toggleString(this.id, false);\n\t\tif (this.text === 'ignored') this.load({ text: null });\n\t\tthis.save();\n\t}\n\n\topenPrompt(instance: *) {\n\t\tif (this.link === null && module.options.storeSourceLink.value) {\n\t\t\t// since we haven't yet set a tag or a link for this user, auto populate a link for the\n\t\t\t// user based on where we are tagging from.\n\t\t\tthis.link = getLinkBasedOnTagLocation(instance.element);\n\t\t}\n\n\t\tHover.infocard('userTagger')\n\t\t\t.target(instance.tagger || instance.element)\n\t\t\t.options({ openDelay: 0, width: 350, closeOnMouseOut: false })\n\t\t\t.populateWith(card => populateDialog(this, card))\n\t\t\t.begin();\n\t}\n\n\trender(instance: *) {\n\t\tif (instance.vw) instance.vw.remove();\n\t\tif (instance.renderVoteWeight && (this.votesUp || this.votesDown)) {\n\t\t\tinstance.vw = preventCloning(string.html`\n\t\t\t\t<a\n\t\t\t\t\tclass=\"voteWeight\"\n\t\t\t\t\thref=\"javascript:void 0\"\n\t\t\t\t\ttitle=\"${i18n('userTaggerYourVotesFor', this.id, `+${this.votesUp} -${this.votesDown}`)}\"\n\t\t\t\t\tstyle=\"${getVoteWeightStyle(this)}\"\n\t\t\t\t>${module.options.vwNumber.value ? `[${this.votes > 0 ? '+' : ''}${this.votes}]` : '[vw]'}</a>\n\t\t\t`);\n\t\t\tinstance.vw.addEventListener('click', () => this.openPrompt(instance));\n\t\t\tif (isAppType('d2x')) { // XXX: temp hack\n\t\t\t\t(instance.tagger || instance.element).appendChild(instance.vw);\n\t\t\t} else {\n\t\t\t\t(instance.tagger || instance.element).after(instance.vw);\n\t\t\t}\n\t\t}\n\n\t\tif (instance.tagger) instance.tagger.remove();\n\t\tif (this.text || this.color || instance.renderTaggingIcon) {\n\t\t\t// `defaultTagElement` is a lot fast than `buildTagElement`\n\t\t\tinstance.tagger = preventCloning((this.text || this.color) ? Tag.buildTagElement(this) : Tag.defaultTagElement());\n\t\t\tinstance.tagger.addEventListener('click', () => this.openPrompt(instance));\n\t\t\tif (isAppType('d2x')) { // XXX: temp hack\n\t\t\t\tinstance.element.appendChild(instance.tagger);\n\t\t\t} else {\n\t\t\t\tinstance.element.after(instance.tagger);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction populateDialog(tag: Tag, card) {\n\tconst head = string.html`<div class=\"userTagger-dialog-head\">\n\t\t<span class=\"res-icon\">&#xF0AC;</span>\n\t\t<span>${tag.id}</span>\n\t\t<span class=\"res-usertag-ignore\"></span>\n\t\t</div>\n\t</div>`;\n\n\tconst colors = Object.entries(bgToTextColorMap)\n\t\t.map(([color, textColor]) => ({\n\t\t\ttextColor,\n\t\t\tcolor,\n\t\t}));\n\n\tconst presetTags = module.options.presetTags.value;\n\n\tconst body = string.html`\n\t\t<form id=\"userTaggerToolTip\">\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerText\">Text</label>\n\t\t\t\t<input class=\"fieldPair-text\" type=\"text\" id=\"userTaggerText\" value=\"${tag.text}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerColor\">Color</label>\n\t\t\t\t<select id=\"userTaggerColor\">\n\t\t\t\t\t${colors.map(({ textColor, color }) => string._html`\n\t\t\t\t\t\t<option style=\"color: ${textColor}; background-color: ${color}\" value=\"${color}\" ${tag.color === color && string._html`selected`}>${color}</option>\n\t\t\t\t\t`)}\n\t\t\t\t</select>\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\" style=\"flex-wrap: wrap\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerPreview\">Preview</label>\n\t\t\t\t<span id=\"userTaggerPreview\"></span>\n\t\t\t\t<a id=\"userTaggerPresetSaveAs\" title=\"save as preset\" href=\"javascript:void 0\">save as preset</a>\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerLink\">\n\t\t\t\t\t<span class=\"userTaggerOpenLink\">\n\t\t\t\t\t\t<a title=\"open link\" href=\"javascript:void 0\">Source URL</a>\n\t\t\t\t\t</span>\n\t\t\t\t</label>\n\t\t\t\t<input class=\"fieldPair-text\" type=\"text\" id=\"userTaggerLink\" value=\"${tag.link}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerVotesUp\" title=\"Upvotes you have given this redditor\">Upvotes</label>\n\t\t\t\t<input type=\"number\" style=\"width: 50px;\" id=\"userTaggerVotesUp\" value=\"${tag.votesUp}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\">\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerVotesDown\" title=\"Downvotes you have given this redditor\">Downvotes</label>\n\t\t\t\t<input type=\"number\" style=\"width: 50px;\" id=\"userTaggerVotesDown\" value=\"${tag.votesDown}\">\n\t\t\t</div>\n\t\t\t<div class=\"fieldPair\" ${!presetTags.length && 'hidden'}>\n\t\t\t\t<label class=\"fieldPair-label\" for=\"userTaggerPresetTags\">Presets</label>\n\t\t\t\t<span id=\"userTaggerPresetTags\"></span>\n\t\t\t</div>\n\t\t\t<div class=\"res-usertagger-footer\">\n\t\t\t\t<a href=\"/r/dashboard#userTaggerContents\" target=\"_blank\" rel=\"noopener noreferer\">View tagged users</a>\n\t\t\t\t<input type=\"submit\" id=\"userTaggerSave\" value=\" save tag\">\n\t\t\t</div>\n\t\t</form>\n\t`;\n\n\tconst elements = {\n\t\tcolor: downcast(body.querySelector('#userTaggerColor'), HTMLSelectElement),\n\t\tpresetSaveAs: downcast(body.querySelector('#userTaggerPresetSaveAs'), HTMLAnchorElement),\n\t\tpresetTag: downcast(body.querySelector('#userTaggerPresetTags'), HTMLElement),\n\t\tpresetFieldPair: downcast(body.querySelector('#userTaggerPresetTags').parentElement, HTMLElement),\n\t\tlink: downcast(body.querySelector('#userTaggerLink'), HTMLInputElement),\n\t\topenLink: downcast(body.querySelector('.userTaggerOpenLink a'), HTMLAnchorElement),\n\t\tpreview: downcast(body.querySelector('#userTaggerPreview'), HTMLElement),\n\t\tsave: downcast(body.querySelector('#userTaggerSave'), HTMLElement),\n\t\ttext: downcast(body.querySelector('#userTaggerText'), HTMLInputElement),\n\t\tvotesDown: downcast(body.querySelector('#userTaggerVotesDown'), HTMLInputElement),\n\t\tvotesUp: downcast(body.querySelector('#userTaggerVotesUp'), HTMLInputElement),\n\t};\n\n\thead.querySelector('.res-usertag-ignore').append(\n\t\tCreateElement.toggleButton(\n\t\t\tignore => {\n\t\t\t\tconst textShouldBeUpdated = extract().text === tag.text; // Override text only if not manually changed\n\t\t\t\tif (ignore) tag.ignore(); else tag.unignore();\n\t\t\t\tif (textShouldBeUpdated) elements.text.value = tag.text || '';\n\t\t\t\tupdateTagPreview();\n\t\t\t},\n\t\t\t'userTaggerIgnore',\n\t\t\ttag.ignored,\n\t\t\t'\\uF038' /* ignored */,\n\t\t\t'\\uF03B' /* normal */,\n\t\t\tfalse,\n\t\t\ttrue\n\t\t)\n\t);\n\n\tfunction extract() {\n\t\treturn {\n\t\t\tcolor: elements.color.value !== 'none' ? elements.color.value : null,\n\t\t\tlink: elements.link.value || null,\n\t\t\ttext: elements.text.value || null,\n\t\t\tvotesDown: parseInt(elements.votesDown.value, 10) || 0,\n\t\t\tvotesUp: parseInt(elements.votesUp.value, 10) || 0,\n\t\t};\n\t}\n\n\tfunction updateTagPreview() {\n\t\tempty(elements.preview);\n\t\telements.preview.appendChild(Tag.buildTagElement(extract()));\n\t}\n\n\tfunction buildPresetTagElement(text: ?string, color: ?string) {\n\t\tconst element = Tag.buildTagElement({ text, color });\n\t\telement.addEventListener('click', () => {\n\t\t\ttag.load({ text, color });\n\t\t\ttag.save();\n\t\t\tcard.close();\n\t\t});\n\t\treturn element;\n\t}\n\n\tfunction saveAsPreset() {\n\t\tconst { text, color } = extract();\n\t\tif (text || color) {\n\t\t\telements.presetFieldPair.hidden = false;\n\t\t\telements.presetTag.append(buildPresetTagElement(text, color));\n\t\t\tmodule.options.presetTags.value.push([String(text), String(color)]);\n\t\t\tOptions.save(module.options.presetTags);\n\t\t} else {\n\t\t\twindow.alert('Tag text must be specified in order to save as preset.');\n\t\t}\n\t}\n\n\telements.openLink.addEventListener('click', () => openNewTabs('none', ...elements.link.value.split(/\\s/)));\n\telements.presetTag.append(...presetTags.map(([text, color]) => buildPresetTagElement(text, color)));\n\telements.presetSaveAs.addEventListener('click', () => saveAsPreset());\n\n\t$(body).on('change input click', updateTagPreview);\n\tbody.addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\ttag.load(extract());\n\t\ttag.save();\n\t\tcard.close();\n\t});\n\n\tupdateTagPreview();\n\tsetTimeout(() => {\n\t\telements.text.setSelectionRange(elements.text.value.length, elements.text.value.length);\n\t\telements.text.focus();\n\t});\n\n\treturn [head, body];\n}\n\nfunction registerCommandLine() {\n\tlet tag;\n\n\tCommandLine.registerCommand('tag', `tag [text] - ${i18n('userTaggerCommandLineDescription')}`,\n\t\tasync (command, val) => {\n\t\t\tconst username = SelectedThing.current && SelectedThing.current.getAuthor();\n\t\t\ttag = username && await Tag.get(username);\n\t\t\treturn tag ?\n\t\t\t\ti18n(val ? 'userTaggerTagUserAs' : 'userTaggerTagUser', tag.id, val) :\n\t\t\t\ti18n('userTaggerTagCanNotSetTag');\n\t\t},\n\t\t(command, val) => {\n\t\t\tif (tag) {\n\t\t\t\ttag.load({ text: val });\n\t\t\t\ttag.save();\n\t\t\t} else {\n\t\t\t\treturn i18n('userTaggerTagCanNotSetTag');\n\t\t\t}\n\t\t}\n\t);\n}\n\nfunction attachVoteHandler() {\n\t// hand-rolled delegated listener because jQuery doesn't support useCapture\n\t// which is necessary so we run before reddit's handler\n\tdocument.body.addEventListener('click', (e: MouseEvent) => {\n\t\tif (e.button !== 0) return;\n\t\tif (e.target.classList.contains('arrow')) {\n\t\t\thandleVoteClick(e.target);\n\t\t}\n\t}, true);\n}\n\nasync function handleVoteClick(arrow) {\n\tconst $this = $(arrow);\n\tconst $otherArrow = $this.siblings('.arrow');\n\n\t// Stop if the post is archived (unvotable)\n\tif ($this.hasClass('archived')) {\n\t\treturn;\n\t}\n\n\t// there are 6 possibilities here:\n\t// 1) no vote yet, click upmod\n\t// 2) no vote yet, click downmod\n\t// 3) already upmodded, undoing\n\t// 4) already downmodded, undoing\n\t// 5) upmodded before, switching to downmod\n\t// 6) downmodded before, switching to upmod\n\n\t// classes are changed AFTER this event is triggered\n\tlet up = 0;\n\tlet down = 0;\n\tif ($this.hasClass('up')) {\n\t\t// adding an upvote\n\t\tup = 1;\n\t\tif ($otherArrow.hasClass('downmod')) {\n\t\t\t// also removing a downvote\n\t\t\tdown = -1;\n\t\t}\n\t} else if ($this.hasClass('upmod')) {\n\t\t// removing an upvote directly\n\t\tup = -1;\n\t} else if ($this.hasClass('down')) {\n\t\t// adding a downvote\n\t\tdown = 1;\n\t\tif ($otherArrow.hasClass('upmod')) {\n\t\t\t// also removing an upvote\n\t\t\tup = -1;\n\t\t}\n\t} else if ($this.hasClass('downmod')) {\n\t\t// removing a downvote directly\n\t\tdown = -1;\n\t}\n\n\t// must load tag object _after_ checking the DOM, so that classes will not be changed\n\tconst thing = Thing.checkedFrom(arrow);\n\tconst username = thing.getAuthor();\n\n\t// ignore votes for self\n\tif (username === loggedInUser()) return;\n\n\tconst tag = username && await Tag.get(username);\n\tif (!tag) throw new Error('No tag');\n\ttag.load({\n\t\tvotesUp: tag.votesUp + up,\n\t\tvotesDown: tag.votesDown + down,\n\t});\n\ttag.save();\n}\n\nfunction getLinkBasedOnTagLocation(obj) {\n\tconst thing = Thing.from(obj);\n\tif (!thing) return '';\n\tconst link = !module.options.useCommentsLinkAsSource.value && thing.getTitleElement() ||\n    thing.getCommentPermalink();\n\treturn link ? link.href : '';\n}\n\nfunction getVoteWeightStyle({ votes, votesUp, votesDown }) {\n\tlet red = 255;\n\tlet green = 255;\n\tlet blue = 255;\n\tlet alpha = 1;\n\tif (votesUp > votesDown) {\n\t\tred = Math.max(0, 255 - 8 * votes);\n\t\tgreen = 255;\n\t\tblue = Math.max(0, 255 - 8 * votes);\n\t\talpha = Math.abs(votes) / (votesUp + votesDown);\n\t} else if (votesUp < votesDown) {\n\t\tred = 255;\n\t\tgreen = Math.max(0, (255 - Math.abs(8 * votes)));\n\t\tblue = Math.max(0, (255 - Math.abs(8 * votes)));\n\t\talpha = Math.abs(votes) / (votesUp + votesDown);\n\t}\n\n\tconst color = `rgba(${red}, ${green}, ${blue}, ${0.2 + alpha * 0.8})`;\n\treturn NightMode.isNightModeOn() ?\n\t\t`color: ${color};` :\n\t\t`background-color: ${color};`;\n}\n\nconst filters = [\n\t{ get name() { return i18n('userTaggerAllUsers'); }, filter: v => v },\n\t{ get name() { return i18n('userTaggerTaggedUsers'); }, filter: v => v.text },\n];\n\nasync function addDashboardFunctionality($tabPage) {\n\t// populate the contents of the tab\n\tconst $showDiv = $(string.html`<div class=\"show\">${i18n('userTaggerShow')} </div>`)\n\t\t.appendTo($tabPage);\n\n\tconst tags = await Tag.getStored();\n\t$(string.html`\n\t\t<select id=\"tagFilter\">\n\t\t\t${filters.map(({ name, filter }, i) => string._html`<option value=\"${i}\" ${tags.some(filter) && 'selected'}>${name}</option>`)}\n\t\t</select>\n\t`)\n\t\t.change(() => drawUserTagTable())\n\t\t.appendTo($showDiv);\n\n\tconst tagsPerPage = parseInt(Dashboard.module.options.tagsPerPage.value, 10);\n\tif (tagsPerPage) {\n\t\tconst controlWrapper = document.createElement('div');\n\t\tcontrolWrapper.id = 'tagPageControls';\n\t\t$(controlWrapper).data({\n\t\t\tpage: 1,\n\t\t\tpageCount: 1,\n\t\t});\n\n\t\tconst leftButton = document.createElement('a');\n\t\tleftButton.className = 'res-step noKeyNav';\n\t\tleftButton.addEventListener('click', () => {\n\t\t\tconst { page, pageCount } = $(controlWrapper).data();\n\t\t\tif (page === 1) {\n\t\t\t\t$(controlWrapper).data('page', pageCount);\n\t\t\t} else {\n\t\t\t\t$(controlWrapper).data('page', page - 1);\n\t\t\t}\n\t\t\tdrawUserTagTable();\n\t\t});\n\t\t$(controlWrapper).append(string.escape`${i18n('userTaggerPage')} `);\n\t\tcontrolWrapper.appendChild(leftButton);\n\n\t\tconst posLabel = document.createElement('span');\n\t\tposLabel.className = 'res-step-progress';\n\t\tposLabel.textContent = '1 of 2';\n\t\tcontrolWrapper.appendChild(posLabel);\n\n\t\tconst rightButton = document.createElement('a');\n\t\trightButton.className = 'res-step res-step-reverse noKeyNav';\n\t\trightButton.addEventListener('click', () => {\n\t\t\tconst { page, pageCount } = $(controlWrapper).data();\n\t\t\tif (page === pageCount) {\n\t\t\t\t$(controlWrapper).data('page', 1);\n\t\t\t} else {\n\t\t\t\t$(controlWrapper).data('page', page + 1);\n\t\t\t}\n\t\t\tdrawUserTagTable();\n\t\t});\n\t\tcontrolWrapper.appendChild(rightButton);\n\n\t\t$tabPage.append(controlWrapper);\n\t}\n\tconst $thisTable = $(string.html`\n\t\t<table id=\"userTaggerTable\">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th sort=\"username\" class=\"active\">${i18n('userTaggerUsername')}<span class=\"sortAsc\"></span></th>\n\t\t\t\t\t<th sort=\"tag\">${i18n('userTaggerTag')}</th>\n\t\t\t\t\t<th sort=\"color\">${i18n('userTaggerColor')}</th>\n\t\t\t\t\t<th sort=\"votesDown\">${i18n('userTaggerVotesDown')}</th>\n\t\t\t\t\t<th sort=\"votesUp\">${i18n('userTaggerVotesUp')}</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody></tbody>\n\t\t</table>\n\t`);\n\n\t$tabPage.append($thisTable);\n\t$('#userTaggerTable thead th').click(function(e) {\n\t\te.preventDefault();\n\t\tconst $this = $(this);\n\n\t\tif ($this.hasClass('delete')) {\n\t\t\treturn false;\n\t\t}\n\t\tif ($this.hasClass('active')) {\n\t\t\t$this.toggleClass('descending');\n\t\t}\n\t\t$this.addClass('active');\n\t\t$this.siblings().removeClass('active').find('SPAN').remove();\n\t\t$this.find('.sortAsc, .sortDesc').remove();\n\t\t$this.append($(e.target).hasClass('descending') ?\n\t\t\t'<span class=\"sortDesc\" />' :\n\t\t\t'<span class=\"sortAsc\" />');\n\t\tdrawUserTagTable($(e.target).attr('sort'), $(e.target).hasClass('descending'));\n\t});\n\tdrawUserTagTable();\n}\n\nlet currentSortMethod, isDescending;\n\nasync function drawUserTagTable(sortMethod, descending) {\n\tcurrentSortMethod = sortMethod || currentSortMethod;\n\tisDescending = (descending === undefined || descending === null) ? isDescending : descending;\n\n\tconst tags = (await Tag.getStored())\n\t\t.filter(filters[$('#tagFilter').val()].filter);\n\n\tswitch (currentSortMethod) {\n\t\tcase 'tag':\n\t\t\ttags.sort((a, b) => (a.text || '').localeCompare(b.text || ''));\n\t\t\tbreak;\n\t\tcase 'color':\n\t\t\ttags.sort((a, b) => (a.color || '').localeCompare(b.color || ''));\n\t\t\tbreak;\n\t\tcase 'votesDown':\n\t\t\ttags.sort((a, b) => a.votesDown - b.votesDown);\n\t\t\tbreak;\n\t\tcase 'votesUp':\n\t\t\ttags.sort((a, b) => a.votesUp - b.votesUp);\n\t\t\tbreak;\n\t\tcase 'username':\n\t\t\t/* falls through */\n\t\tdefault:\n\t\t\t// sort users, ignoring case\n\t\t\ttags.sort((a, b) => a.id.localeCompare(b.id));\n\t\t\tbreak;\n\t}\n\n\tif (isDescending) {\n\t\ttags.reverse();\n\t}\n\n\t$('#userTaggerTable tbody').html('');\n\tconst tagsPerPage = parseInt(Dashboard.module.options.tagsPerPage.value, 10);\n\tconst count = tags.length;\n\tlet start = 0;\n\tlet end = count;\n\n\tif (tagsPerPage) {\n\t\tconst $tagControls = $('#tagPageControls');\n\t\tlet page = $tagControls.data('page');\n\t\tconst pages = Math.ceil(count / tagsPerPage);\n\t\tpage = Math.min(page, pages);\n\t\tpage = Math.max(page, 1);\n\t\t$tagControls.data('page', page).data('pageCount', pages);\n\t\t$tagControls.find('.res-step-progress').text(i18n('userTaggerPageXOfY', page, pages));\n\t\tstart = tagsPerPage * (page - 1);\n\t\tend = Math.min(count, tagsPerPage * page);\n\t}\n\n\ttags\n\t\t.slice(start, end)\n\t\t.forEach(tag => {\n\t\t\tconst d = $(`\n\t\t\t\t<tr>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<span class=\"res-icon res-right deleteIcon\" data-icon=\"&#xf056;\" user=\"${tag.id}\"></span>\n\t\t\t\t\t\t<a href=\"/user/${tag.id}\">${tag.id}</a>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td><a class=\"author\" hidden></a></td>\n\t\t\t\t\t<td><span style=\"color: ${tag.color || 'initial'}\">${tag.color ? tag.color : ''}</span></td>\n\t\t\t\t\t<td>${tag.votesDown}</td>\n\t\t\t\t\t<td>${tag.votesUp}</td>\n\t\t\t\t</tr>\n\t\t\t`).get(0);\n\n\t\t\ttag.add(downcast(d.querySelector('.author'), HTMLAnchorElement), { renderTaggingIcon: true });\n\n\t\t\t$('#userTaggerTable tbody').append(d);\n\t\t});\n\t$('#userTaggerTable tbody .deleteIcon').click(async function() {\n\t\tconst tag = await Tag.get(this.getAttribute('user'));\n\t\tAlert.open(i18n('userTaggerAreYouSureYouWantToDeleteTag', tag.id), { cancelable: true })\n\t\t\t.then(() => {\n\t\t\t\ttag.delete();\n\t\t\t\tthis.closest('tr').remove();\n\t\t\t});\n\t});\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\nimport { Tag } from '../../userTagger';\n\nexport class UserTag extends PatternCase {\n\tstatic text = 'User tag';\n\n\tstatic async thingToCriterion(thing: *) {\n\t\tconst author = thing.getAuthor();\n\t\treturn author && (await Tag.get(author)).text || '';\n\t}\n\n\tstatic fields = ['author of this post has tag matching ', { type: 'text', id: 'patt' }];\n\n\tstatic pattern = '[RegEx]';\n\n\ttrueText = `user tag ${this.conditions.patt}`.trim();\n\n\tvalue = this.build(true, '/./');\n\n\tasync evaluate(thing: *) {\n\t\tconst author = thing.getAuthor();\n\t\tif (!author) return null;\n\t\tconst tag = (await Tag.get(author)).text;\n\t\treturn tag ? this.value.some(v => v.test(tag)) : false;\n\t}\n}\n","/* @flow */\n\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\nimport * as Modules from '../../../core/modules';\nimport * as UserTagger from '../../userTagger';\nimport { Case } from '../Case';\n\nexport class UserVoteWeight extends Case {\n\tstatic text = 'User vote weight';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', val: parseInt(input, 10) }; }\n\tstatic async thingToCriterion(thing: *) {\n\t\tconst username = thing.getAuthor();\n\t\tif (!username) throw new Error('No username');\n\t\treturn String((await UserTagger.Tag.get(username)).votes || 0);\n\t}\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['user\\'s vote weight is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' votes'];\n\n\tstatic slow = 1;\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(UserTagger) || !UserTagger.module.options.trackVoteWeight.value;\n\t}\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `vote weight ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `vote weight ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tasync evaluate(thing: *) {\n\t\tconst username = thing.getAuthor();\n\t\tif (!username) return null;\n\t\treturn numericalCompare(this.value.op, (await UserTagger.Tag.get(username)).votes, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class Username extends PatternCase {\n\tstatic text = 'Username';\n\n\tstatic thingToCriterion(thing: *) { return thing.getAuthor(); }\n\n\tstatic fields = ['posted by /u/', { type: 'text', id: 'patt' }];\n\n\ttrueText = `by ${this.conditions.patt}`;\n\n\tvalue = this.build(true);\n\n\tevaluate(thing: *) {\n\t\tconst user = thing.getAuthor();\n\t\tif (!user) return null;\n\t\treturn this.value.some(v => v.test(user));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst options = [\n\t['upvoted', 'upvote'],\n\t['downvoted', 'downvote'],\n\t['not voted', 'unvoted'],\n];\n\nexport class VoteType extends Case {\n\tstatic text = 'Vote type';\n\n\tstatic parseCriterion(input: *) { return { kind: input }; }\n\n\tstatic defaultConditions = { kind: 'unvoted' };\n\tstatic fields = ['post is ', { type: 'select', id: 'kind', options }, ' by me'];\n\n\tstatic pattern = `(${options.map(([, cls]) => cls).join('|')})`;\n\n\ttrueText = (options.find(([, cls]) => cls === this.conditions.kind) || [])[0];\n\n\tisValid() { return options.map(([, cls]) => cls).includes(this.value.kind); }\n\n\tevaluate(thing: *) {\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'upvote': return thing.isUpvoted();\n\t\t\tcase 'downvote': return thing.isDownvoted();\n\t\t\tcase 'unvoted': return thing.isUnvoted();\n\t\t\tdefault: throw new Error('Invalid option');\n\t\t}\n\t}\n}\n","/* @flow */\n\nexport { CommentCount as commentCount } from './CommentCount';\nexport { NewCommentCount as newCommentCount } from './NewCommentCount';\nexport { CommentsOpened as commentsOpened } from './CommentsOpened';\nexport { Domain as domain } from './Domain';\nexport { Expando as hasExpando } from './Expando';\nexport { IsLocked as isLocked } from './IsLocked';\nexport { IsNSFW as isNSFW } from './IsNSFW';\nexport { IsSpoiler as isSpoiler } from './IsSpoiler';\nexport { IsVisited as isVisited } from './IsVisited';\nexport { LinkFlair as linkFlair } from './LinkFlair';\nexport { PostAfter as postAfter } from './PostAfter';\nexport { PostAge as postAge } from './PostAge';\nexport { PostTitle as postTitle } from './PostTitle';\nexport { PostType as postType } from './PostType';\nexport { Score as score } from './Score';\nexport { Selector as selector } from './Selector';\nexport { Subreddit as subreddit } from './Subreddit';\nexport { UserAttr as userAttr } from './UserAttr';\nexport { UserFlair as userFlair } from './UserFlair';\nexport { UserTag as userTag } from './UserTag';\nexport { UserVoteWeight as userVoteWeight } from './UserVoteWeight';\nexport { Username as username } from './Username';\nexport { VoteType as voteType } from './VoteType';\n","/* @flow */\n\nimport { PatternCase } from '../Case';\n\nexport class CommentContent extends PatternCase {\n\tstatic text = 'Comment content';\n\n\tstatic parseCriterion(input: *) { return { patt: input }; }\n\n\tstatic fields = ['comment contains ', { type: 'text', id: 'patt' }];\n\n\ttrueText = `comment contains ${this.conditions.patt}`;\n\n\tvalue = this.build(false);\n\n\tevaluate(thing: *) {\n\t\tconst body = thing.getTextBody();\n\t\tif (!body) return null;\n\t\treturn this.value.some(v => v.test(body.textContent));\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nconst options = ['characters', 'words'];\n\nexport class CommentLength extends Case {\n\tstatic text = 'Comment length';\n\n\tstatic parseCriterion(input: *) { return { op: '>=', kind: 'words', val: parseInt(input, 10) }; }\n\n\tstatic fields = ['comment length is ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }, ' ', { type: 'select', id: 'kind', options }];\n\tstatic defaultConditions = { op: '>', kind: 'words', val: 0 };\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `length ${prettyOperator(this.conditions.op)} ${this.conditions.val} ${this.conditions.kind}`;\n\tfalseText = `length ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val} ${this.conditions.kind}`;\n\n\tisValid() { return Number.isInteger(this.value.val); }\n\n\tevaluate(thing: *) {\n\t\tconst md = thing.entry.querySelector('.md');\n\t\tif (!md) return null;\n\t\tswitch (this.value.kind) {\n\t\t\tcase 'characters': return numericalCompare(this.value.op, md.textContent.length, this.value.val);\n\t\t\tcase 'words': return numericalCompare(this.value.op, md.textContent.split(' ').length, this.value.val);\n\t\t\tdefault: throw new Error('Invalid option');\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport { numericalCompare, prettyOperator, inverseOperator } from '../../../utils';\n\nexport class Depth extends Case {\n\tstatic text = 'Comment depth';\n\n\tstatic parseCriterion(input: *) { return { op: '==', val: parseInt(input, 10) }; }\n\tstatic thingToCriterion(thing: *) { return String(thing.getParents().length); }\n\n\tstatic defaultConditions = { op: '>', val: 0 };\n\tstatic fields = ['comment\\'s depth ', { type: 'select', options: 'COMPARISON', id: 'op' }, ' ', { type: 'number', id: 'val' }];\n\n\tstatic pattern = 'integer';\n\n\ttrueText = `depth ${prettyOperator(this.conditions.op)} ${this.conditions.val}`;\n\tfalseText = `depth ${prettyOperator(inverseOperator(this.conditions.op))} ${this.conditions.val}`;\n\n\tisValid() { return this.value.val >= 0; }\n\n\tevaluate(thing: *) {\n\t\tconst depth = thing.getParents().length;\n\t\treturn numericalCompare(this.value.op, depth, this.value.val);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nexport class IsDeleted extends Case {\n\tstatic text = 'Deleted';\n\n\tstatic fields = ['comment is deleted'];\n\n\tstatic unique = true;\n\n\ttrueText = 'deleted';\n\n\tevaluate(thing: *) {\n\t\treturn thing.isDeleted();\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { Storage, isPrivateBrowsing } from '../environment';\nimport {\n\tThing,\n\tSelectedThing,\n\tbatch,\n\texecRegexes,\n\tmaybePruneOldEntries,\n\twatchForThings,\n} from '../utils';\nimport * as FilteReddit from './filteReddit';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('readComments');\n\nmodule.moduleName = 'readCommentsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'readCommentsDesc';\nmodule.options = {\n\tcleanComments: {\n\t\ttype: 'text',\n\t\tvalue: '30',\n\t\tdescription: 'readCommentsCleanCommentsDesc',\n\t\ttitle: 'readCommentsCleanCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tmonitorSelected: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'readCommentsMonitorSelectedDesc',\n\t\ttitle: 'readCommentsMonitorSelectedTitle',\n\t},\n\tmonitorWhenIncognito: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdependsOn: () => module.options.monitorSelected.value,\n\t\tdescription: 'readCommentsMonitorWhenIncognitoDesc',\n\t\ttitle: 'readCommentsMonitorWhenIncognitoTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.include = ['comments', 'commentsLinklist'];\n\nconst currentId = (execRegexes.comments(location.pathname) || [])[2] || location.pathname;\nconst entryStorage = Storage.wrapPrefix('readComments.', (): {|\n\tupdateTime: number,\n\tids: { [string]: true },\n|} => ({\n\tupdateTime: Date.now(),\n\tids: {},\n}));\n\nconst initial = entryStorage.get(currentId);\nlet ids;\n\nmodule.beforeLoad = async () => {\n\tids = await (initial.then(({ ids }) => new Set(Object.keys(ids))));\n\n\tmaybeHidePrevious();\n\n\tif (module.options.monitorSelected.value) {\n\t\tif (!module.options.monitorWhenIncognito.value && isPrivateBrowsing()) return;\n\n\t\tSelectedThing.addListener(current => {\n\t\t\tif (current.isComment() && current.isContentVisible()) add(current);\n\t\t}, 'beforePaint');\n\t}\n\n\tmaybePruneOldEntries('readComments', entryStorage, parseInt(module.options.cleanComments.value, 10));\n};\n\nasync function maybeHidePrevious() {\n\tif (!ids.size) return;\n\n\tconst filterline = await FilteReddit.filterlinePromise;\n\tconst filter = filterline.createFilter({ type: 'isRead', id: 'isRead' });\n\t// Don't display notification if the filter is already active\n\tif (filter.state === false && filter.effects.hide) return;\n\n\t// Display notification only when an already read comment is loaded\n\tawait new Promise(res => watchForThings(['comment'], thing => { if (isRead(thing)) res(); }));\n\n\tconst hideButton = document.createElement('button');\n\thideButton.textContent = 'Hide read comments';\n\thideButton.addEventListener('click', () => {\n\t\tfilter.update(false, undefined, { hide: true /* `, propagate: true` may be desirable */ });\n\t\tif (!filter.parent) filterline.addFilter(filter);\n\t\tif (FilteReddit.ensureFilterlineVisible) FilteReddit.ensureFilterlineVisible();\n\t\tnotification.close();\n\t});\n\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'hideRead',\n\t\theader: 'Previously read comments',\n\t\tmessage: hideButton,\n\t\tcloseDelay: 8000,\n\t});\n}\n\nconst _add = batch(ids => (\n\tentryStorage.patch(\n\t\tcurrentId,\n\t\t{ ids: ids.reduce((acc, id) => { acc[id] = true; return acc; }, {}), updateTime: Date.now() }\n\t)\n), { size: Infinity, delay: 5000, flushBeforeUnload: true });\n\nexport const add = (thing: Thing) => {\n\tif (!ids) return;\n\tconst id = thing.getFullname();\n\t_add(id);\n};\n\nexport const isRead = (thing: *) => {\n\tif (!ids) throw new Error();\n\treturn ids.has(thing.getFullname());\n};\n","/* @flow */\n\nimport { Case } from '../Case';\nimport * as ReadComments from '../../readComments';\nimport * as Modules from '../../../core/modules';\n\nexport class IsRead extends Case {\n\tstatic text = 'Read';\n\n\tstatic fields = ['comment is read'];\n\tstatic get disabled(): boolean {\n\t\treturn !Modules.isEnabled(ReadComments);\n\t}\n\n\tstatic unique = true;\n\n\ttrueText = 'read';\n\n\tevaluate(thing: *) {\n\t\treturn ReadComments.isRead(thing);\n\t}\n}\n","/* @flow */\n\nexport { CommentContent as commentContent } from './CommentContent';\nexport { CommentLength as commentLength } from './CommentLength';\nexport { Depth as depth } from './Depth';\nexport { Expando as hasExpando } from '../postCases/Expando';\nexport { IsDeleted as isDeleted } from './IsDeleted';\nexport { IsRead as isRead } from './IsRead';\nexport { PostAfter as postAfter } from '../postCases/PostAfter';\nexport { PostAge as postAge } from '../postCases/PostAge';\nexport { Score as score } from '../postCases/Score';\nexport { Selector as selector } from '../postCases/Selector';\nexport { UserAttr as userAttr } from '../postCases/UserAttr';\nexport { UserFlair as userFlair } from '../postCases/UserFlair';\nexport { UserVoteWeight as userVoteWeight } from '../postCases/UserVoteWeight';\nexport { Username as username } from '../postCases/Username';\nexport { UserTag as userTag } from '../postCases/UserTag';\nexport { VoteType as voteType } from '../postCases/VoteType';\n","/* @flow */\n\nimport {\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tisPageType,\n} from '../../../utils';\nimport { Case } from '../Case';\n\nexport class BrowsingFrontPage extends Case {\n\tstatic text = 'Browsing the front page';\n\tstatic fields = ['when browsing the front page'];\n\n\tevaluate() {\n\t\treturn isPageType('linklist') &&\n\t\t\t!currentSubreddit() &&\n\t\t\t!currentMultireddit() &&\n\t\t\t!currentUserProfile();\n\t}\n}\n","/* @flow */\n\nimport { fullLocation } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentLocation extends Case {\n\tstatic text = 'When browsing in location';\n\n\tstatic defaultConditions = { patt: fullLocation() };\n\tstatic fields = ['when browsing ', { type: 'text', id: 'patt' }];\n\n\tevaluate() {\n\t\treturn fullLocation() === this.value.patt;\n\t}\n}\n","/* @flow */\n\nimport { currentMultireddit } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentMulti extends Case {\n\tstatic text = 'When browsing a multireddit';\n\n\tstatic defaultConditions = { user: '', name: '' };\n\tstatic fields = ['when browsing /u/', { type: 'text', id: 'user' }, '/m/', { type: 'text', id: 'name' }];\n\n\tvalue = {\n\t\tname: Case.buildRegex(this.conditions.name),\n\t\tuser: Case.buildRegex(this.conditions.user),\n\t};\n\n\tevaluate() {\n\t\tconst rawMulti = currentMultireddit();\n\t\tif (!rawMulti) return false;\n\t\tconst parts = (/^(?:user\\/)?([a-z0-9_-]+)\\/m\\/([a-z0-9_-]+)$/i).exec(rawMulti);\n\t\tif (!parts) return false;\n\t\tconst [, user, multi] = parts;\n\t\tif (user === 'me' && this.conditions.name === 'me') {\n\t\t\treturn this.value.name.test(multi);\n\t\t} else {\n\t\t\treturn this.value.user.test(user) && this.value.name.test(multi);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { currentUserProfile } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentUserProfile extends Case {\n\tstatic text = 'When browsing a user profile';\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['when browsing /u/', { type: 'text', id: 'patt' }, '\\'s posts'];\n\n\tvalue = Case.buildRegex(this.conditions.patt);\n\n\tevaluate() {\n\t\tconst user = currentUserProfile();\n\t\treturn !!user && this.value.test(user);\n\t}\n}\n","/* @flow */\n\nimport { currentSubreddit } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class CurrentSub extends Case {\n\tstatic text = 'When browsing a subreddit';\n\n\tstatic defaultConditions = { patt: '' };\n\tstatic fields = ['when browsing /r/', { type: 'text', id: 'patt' }];\n\n\tvalue = Case.buildRegex(this.conditions.patt);\n\n\tevaluate() {\n\t\tconst sub = currentSubreddit();\n\t\treturn !!sub && this.value.test(sub);\n\t}\n}\n","/* @flow */\n\nimport { dayjs } from '../../../utils/localization';\nimport { Case } from '../Case';\n\nconst options = [\n\t['before', '<'],\n\t['on or after', '>='],\n];\n\nexport class Date extends Case {\n\tstatic text = 'Date';\n\n\tstatic defaultConditions = { op: '<', date: '2020-12-30' };\n\tstatic fields = ['today is ', { type: 'select', options, id: 'op' }, ' ', { type: 'text', id: 'date' }];\n\n\tvalue = { op: this.conditions.op, date: dayjs(this.conditions.date) };\n\n\tisValid() { return this.value.date.isValid(); }\n\n\tevaluate() {\n\t\treturn (this.value.op === '<') === dayjs().isBefore(this.value.date);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\n\nconst days = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport class Dow extends Case {\n\tstatic text = 'Day of week';\n\n\tstatic defaultConditions = { days: [] };\n\tstatic fields = ['current day of the week is ', { type: 'checkset', items: days, id: 'days' }];\n\n\tevaluate() {\n\t\tconst currentDOW = days[new Date().getDay()];\n\t\treturn this.value.days.includes(currentDOW);\n\t}\n}\n","/* @flow */\n\nimport { PagePhases, loggedInUser } from '../../../utils';\nimport { Case } from '../Case';\n\nexport class LoggedInAs extends Case {\n\tstatic text = 'Logged in user';\n\n\tstatic defaultConditions = { loggedInAs: '' }; // Don't try to fetch current username as the default value, as that may trigger `loggedInUser` prematurely\n\tstatic fields = ['logged in as /u/', { type: 'text', id: 'loggedInAs' }];\n\n\tvalue = Case.buildRegex(this.conditions.loggedInAs);\n\n\tasync evaluate() {\n\t\tawait PagePhases.sitetableStarted; // loggedInUser requires the header to be loaded\n\t\tconst myName = loggedInUser();\n\t\treturn !!myName && this.value.test(myName);\n\t}\n}\n","/* @flow */\n\nimport { Case } from '../Case';\nimport * as CustomToggles from '../../customToggles';\n\nconst getOptions = () => CustomToggles.getToggles().map(({ key, text }) => [text, key]);\n\nexport class Toggle extends Case {\n\tstatic text = 'Custom toggle';\n\n\tstatic defaultConditions = { toggleName: getOptions()[0] || '' }; // TODO Migrate `toggleName` to `key`\n\tstatic fields = [\n\t\t'custom toggle ',\n\t\t{ type: 'select', id: 'toggleName', get options() { return getOptions(); } },\n\t\t' is enabled',\n\t];\n\n\tevaluate() {\n\t\tconst key = this.value.toggleName;\n\t\treturn CustomToggles.toggleActive(key);\n\t}\n}\n","/* @flow */\n\nexport { BrowsingFrontPage as browsingFrontPage } from './BrowsingFrontPage';\nexport { CurrentLocation as currentLocation } from './CurrentLocation';\nexport { CurrentMulti as currentMulti } from './CurrentMulti';\nexport { CurrentUserProfile as currentUserProfile } from './CurrentUserProfile';\nexport { CurrentSub as currentSub } from './CurrentSub';\nexport { Date as date } from './Date';\nexport { Dow as dow } from './Dow';\nexport { LoggedInAs as loggedInAs } from './LoggedInAs';\nexport { Toggle as toggle } from './Toggle';\n","/* @flow */\n\nimport _ from 'lodash';\nimport { asyncFilter, fastAsync, randomHash } from '../../utils';\nimport type { BuilderValue } from '../../core/module';\nimport { Case } from './Case';\nimport * as postCases from './postCases';\nimport * as commentCases from './commentCases';\nimport * as browseCases from './browseCases';\n\nexport class Inert extends Case {\n\tisValid(): boolean { return false; }\n\n\tevaluate() { console.error('Evaluating inert case'); return false; }\n}\n\nclass True extends Case {\n\tstatic text = 'True';\n\n\tstatic fields = ['always true'];\n\n\tevaluate() { return true; }\n}\n\nclass False extends Case {\n\tstatic text = 'False';\n\n\tstatic fields = ['always false'];\n\n\tevaluate() { return false; }\n}\n\nexport class Group extends Case {\n\tstatic text = 'Group of conditions';\n\n\tstatic fields = [\n\t\t{ type: 'select', options: ['none', 'any', 'one', 'all'], id: 'op' },\n\t\t' of these are true:',\n\t\t{ type: 'multi', include: 'all', id: 'of' },\n\t];\n\n\tstatic +defaultConditions = { op: 'all', of: [] };\n\tstatic slow = 1; // May be considerably slower depending on children\n\n\t_cases = this.conditions.of.map(v => Case.fromConditions(v));\n\n\t// TODO This is unnecessary for some external filters\n\ttrueText = this._cases.length && this.toCriterion(this.conditions.op, this._cases) || 'empty group';\n\n\ttoCriterion(op: *, cases: *) {\n\t\tconst symbol = (op === 'any' || op === 'none') && '' || op === 'one' && '' || '';\n\t\tlet str = cases.map(v => v.trueText).join(` ${symbol} `);\n\t\tif (cases.length > 1) str = `(${str})`;\n\t\treturn op === 'none' ? ` ${str}` : str;\n\t}\n\n\tisValid() { return this._cases.every(v => v.isValid()); }\n\n\tvalue = (() => {\n\t\tconst op = this.conditions.op;\n\t\tconst [NONE, ANY, ONE, ALL] = [op === 'none', op === 'any', op === 'one', op === 'all'];\n\n\t\tconst evaluators = this._cases\n\t\t\t.sort((a, b) => a.constructor.slow - b.constructor.slow)\n\t\t\t.map(cased => cased.evaluate.bind(cased));\n\n\t\treturn fastAsync(function*(thing) {\n\t\t\tlet seenTrue = false;\n\n\t\t\tfor (const evaluator of evaluators) {\n\t\t\t\tif (yield evaluator(thing)) {\n\t\t\t\t\tif (NONE) return false;\n\t\t\t\t\telse if (ANY) return true;\n\t\t\t\t\telse if (ONE && seenTrue) return false;\n\t\t\t\t\tseenTrue = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (ALL) return false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (NONE) return true;\n\t\t\telse if (ANY) return false;\n\t\t\telse if (ONE) return seenTrue;\n\t\t\telse /* if (ALL) */ return true;\n\t\t});\n\t})();\n\n\thasType(type: *) { return super.hasType(type) || this._cases.some(v => v.hasType(type)); }\n\n\tevaluate(thing: *) { return this.value(thing); }\n\n\tonObserve() {\n\t\treturn this._cases.map(v => v.observe(this)).some(v => v);\n\t}\n}\n\nconst falseConditions = { type: 'false' };\nconst trueConditions = { type: 'true' };\nconst inertConditions = { type: 'inert' };\n\ntype GroupConditions = { type: string, op: 'none' | 'any' | 'one' | 'all', of: Array<BuilderValue> };\n\n/* eslint-disable no-redeclare, no-unused-vars */\ndeclare function resolveGroup(GroupConditions, boolean, true): GroupConditions;\ndeclare function resolveGroup(GroupConditions, ?boolean, ?boolean): BuilderValue;\n\nexport function resolveGroup(initial: GroupConditions, precompute: boolean = true, keepGroup: boolean = false) {\n\tlet seenTrue = false;\n\n\tlet of = [];\n\tlet op = initial.op;\n\n\tfor (let v of initial.of) {\n\t\tif (!has(v.type)) {\n\t\t\tconsole.error(`Type ${v.type} is not available`);\n\t\t\treturn inertConditions;\n\t\t}\n\n\t\tif (v.type === 'group') v = resolveGroup(v, precompute);\n\n\t\tif (\n\t\t\t!keepGroup &&\n\t\t\tprecompute &&\n\t\t\t!available[v.type].prototype.evaluate.length\n\t\t) {\n\t\t\t// browseCases only needs to be evaluated once in order to determine their impact\n\t\t\tconst match = Case.fromConditions(v).evaluate();\n\t\t\tif (typeof match === 'boolean') {\n\t\t\t\tif (match) {\n\t\t\t\t\tif (op === 'none') return falseConditions;\n\t\t\t\t\tif (op === 'any') return trueConditions;\n\t\t\t\t\tif (op === 'one' && seenTrue) return falseConditions;\n\t\t\t\t\tseenTrue = true;\n\t\t\t\t} else {\n\t\t\t\t\tif (op === 'all') return falseConditions;\n\t\t\t\t}\n\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tof.push(v);\n\t}\n\n\tif (op === 'one' && seenTrue) {\n\t\t// Set `op` to `none` since a case has matched already\n\t\top = 'none';\n\t}\n\n\tif (!keepGroup) {\n\t\t// Single cases can be released\n\t\tif (of.length === 1) {\n\t\t\tconst p = of[0];\n\n\t\t\tif (op !== 'none') {\n\t\t\t\treturn p;\n\t\t\t} else if (p.type === 'group') {\n\t\t\t\tif (p.op === 'none') {\n\t\t\t\t\tp.op = 'any';\n\t\t\t\t\treturn p;\n\t\t\t\t} else if (p.op === 'any' || p.op === 'all') {\n\t\t\t\t\tp.op = 'none';\n\t\t\t\t\treturn p;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Empty groups can be resolved\n\t\tif (!of.length) {\n\t\t\tif (op === 'none') return trueConditions;\n\t\t\tif (op === 'any') return falseConditions;\n\t\t\tif (op === 'one') return falseConditions;\n\t\t\tif (op === 'all') return trueConditions;\n\t\t}\n\t}\n\n\tif (precompute && (op === 'any' || op === 'none')) {\n\t\tconst l = of.length;\n\t\tconst typeSorted = of.sort((a, b) => a.type === b.type ? 0 : a.type > b.type ? 1 : -1);\n\t\tof = [];\n\t\tfor (let i = 0; i < l; i++) { // eslint-disable-line no-restricted-syntax\n\t\t\tconst a = typeSorted[i];\n\t\t\tconst cls = available[a.type];\n\t\t\tconst reconcile = cls.reconcile;\n\t\t\tif (reconcile) {\n\t\t\t\tconst values = [a];\n\t\t\t\tlet b;\n\t\t\t\t// Look for more cases of same type\n\t\t\t\twhile ((b = typeSorted[i + 1]) && a.type === b.type) {\n\t\t\t\t\ti++;\n\t\t\t\t\tvalues.push(b);\n\t\t\t\t}\n\n\t\t\t\tof.push(...reconcile(values));\n\t\t\t} else {\n\t\t\t\tof.push(a);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn { type: 'group', op, of };\n}\n/* eslint-enable no-redeclare, no-unused-vars */\n\nexport function getConditions(type: string, conditions?: ?{}): BuilderValue {\n\treturn { type, ...(available[type] && available[type].defaultConditions), ...conditions };\n}\n\nexport function getGroup(op: *, of: *): GroupConditions {\n\treturn getConditions('group', { op, of });\n}\n\nexport function createAdHoc(type: string, getConditions: *, variant: *, context: *, customFilter: *) {\n\tconst { opts: { name = type } = {} } = customFilter || {};\n\n\tclass AdHoc extends Case {\n\t\tstatic text = name;\n\n\t\t// Generate new conditions each time in order to avoid caching, as\n\t\t// `getConditions` can return updated values, e.g. if a external filter has been removed\n\t\tstatic get defaultConditions(): * { return getConditions(); }\n\n\t\tstatic unique = true;\n\n\t\tstatic variant = variant;\n\n\t\tstatic _customFilter = customFilter;\n\t}\n\n\tadd(type, AdHoc, context);\n\n\treturn AdHoc;\n}\n\nconst available: { [type: string]: Class<Case> } = {};\n\nfunction getUniqueTypeName(name: any): string {\n\tif (typeof name !== 'string') name = '';\n\twhile (!name || has(name)) {\n\t\t// Make sure filter has an unique name\n\t\tname += randomHash();\n\t}\n\n\treturn name;\n}\n\nexport function add(type: ?string, c: Class<Case>, ...contexts: Array<'post' | 'comment' | 'browse'>) {\n\tif (!type || (available.hasOwnProperty(type) && c !== available[type])) {\n\t\ttype = getUniqueTypeName(type);\n\t}\n\n\tc.type = type;\n\tif (!c.contexts) c.contexts = [];\n\tc.contexts.push(...contexts);\n\tavailable[type] = c;\n}\n\nconst primitives = new Set();\n\nexport function populatePrimitives(types: Array<*> = ['post', 'comment', 'browse']) {\n\tfunction fill(cases, ...contexts) {\n\t\tfor (const [k, v] of Object.entries(cases)) {\n\t\t\tadd(k, v, ...contexts);\n\t\t\tprimitives.add(v);\n\t\t}\n\t}\n\n\tfill({\n\t\tinert: Inert,\n\t\tfalse: False,\n\t\ttrue: True,\n\t});\n\n\tfill({ group: Group }, 'post', 'comment', 'browse');\n\n\tif (types.includes('post')) fill(postCases, 'post');\n\tif (types.includes('comment')) fill(commentCases, 'comment');\n\tif (types.includes('browse')) fill(browseCases, 'browse');\n}\n\nexport function filterThings(things: *, conditions: *) {\n\tif (!conditions) return things;\n\tconst cased = Case.fromConditions(conditions);\n\treturn asyncFilter(things, /*:: async */ thing => cased.evaluate(thing));\n}\n\nexport const remove = (type: string) => { delete available[type]; };\nexport const has = (type: string) => available.hasOwnProperty(type);\nexport const get = (type: string) => has(type) ? available[type] : Inert;\nexport const getByContext = (context: *, primitivesOnly: boolean = true) =>\n\t_.pickBy(available, v => v.contexts.includes(context) && (!primitivesOnly || primitives.has(v)));\nexport const isUseful = (type: ?string) => typeof type === 'string' && has(type) && ![Inert.type, False.type, True.type].includes(type);\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\taddFloater,\n\tformatDate,\n\tformatDateDiff,\n\tgetUserInfo,\n\tisLoggedIn,\n\tloggedInUser,\n\tmutex,\n\tstring,\n} from '../utils';\nimport { ajax, multicast, i18n } from '../environment';\nimport * as CommandLine from './commandLine';\nimport * as Hover from './hover';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('accountSwitcher');\n\nmodule.moduleName = 'accountSwitcherName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'accountSwitcherDesc';\nmodule.options = {\n\tkeepLoggedIn: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'accountSwitcherKeepLoggedInDesc',\n\t\ttitle: 'accountSwitcherKeepLoggedInTitle',\n\t\tkeywords: ['remember'],\n\t},\n\taccounts: {\n\t\ttype: 'table',\n\t\taddRowText: 'accountSwitcherAddAccount',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'accountSwitcherUsername',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'password',\n\t\t\tname: 'accountSwitcherPassword',\n\t\t\ttype: 'password',\n\t\t}, {\n\t\t\tkey: '2fa',\n\t\t\tname: 'accountSwitcherRequiresOtp',\n\t\t\ttype: 'boolean',\n\t\t\tvalue: false,\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, boolean]>),\n\t\tdescription: 'accountSwitcherAccountsDesc',\n\t\ttitle: 'accountSwitcherAccountsTitle',\n\t},\n\tupdateOtherTabs: {\n\t\ttype: 'boolean',\n\t\tdescription: 'accountSwitcherUpdateOtherTabsDesc',\n\t\ttitle: 'accountSwitcherUpdateOtherTabsTitle',\n\t\tvalue: true,\n\t\tadvanced: true,\n\t},\n\treloadOtherTabs: {\n\t\ttype: 'boolean',\n\t\tdescription: 'accountSwitcherReloadOtherTabsDesc',\n\t\ttitle: 'accountSwitcherReloadOtherTabsTitle',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t},\n\tshowCurrentUserName: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'accountSwitcherShowCurrentUserNameDesc',\n\t\ttitle: 'accountSwitcherShowCurrentUserNameTitle',\n\t\tadvanced: true,\n\t},\n\tdropDownStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'accountSwitcherSnoo',\n\t\t\tvalue: 'alien',\n\t\t}, {\n\t\t\tname: 'accountSwitcherSimpleArrow',\n\t\t\tvalue: 'arrow',\n\t\t}],\n\t\tvalue: 'alien',\n\t\tdescription: 'accountSwitcherDropDownStyleDesc',\n\t\ttitle: 'accountSwitcherDropDownStyleTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tshowUserDetails: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowUserDetailsDesc',\n\t\ttitle: 'accountSwitcherShowUserDetailsTitle',\n\t\tadvanced: true,\n\t},\n\tshowKarma: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowKarmaDesc',\n\t\ttitle: 'accountSwitcherShowKarmaTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.showUserDetails.value,\n\t},\n\tshowGold: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'accountSwitcherShowGoldDesc',\n\t\ttitle: 'accountSwitcherShowGoldTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.showUserDetails.value,\n\t},\n};\n\nlet hover;\n\nconst accounts = _.once(() =>\n\tmodule.options.accounts.value.reduce((acc, v) => {\n\t\tacc[v[0].toLowerCase()] = {\n\t\t\ttext: v[0],\n\t\t\tstoredPassword: v[1],\n\t\t\trequiresOtp: v[2],\n\t\t};\n\t\treturn acc;\n\t}, {})\n);\n\nmodule.contentStart = () => {\n\tconst downArrow = module.options.dropDownStyle.value === 'alien' ?\n\t\tstring.html`<span id=\"RESAccountSwitcherIcon\"></span>` :\n\t\tstring.html`<span id=\"RESAccountSwitcherIcon\"><span class=\"downArrow\"></span></span>`;\n\tdownArrow.addEventListener('click', () => hover.begin());\n\tdownArrow.addEventListener('dblclick', manageAccounts);\n\n\tconst userLink = document.querySelector('#header-bottom-right > span.user > a');\n\tif (userLink) {\n\t\tuserLink.style.marginRight = '2px';\n\t\tuserLink.after(downArrow);\n\t} else {\n\t\taddFloater(downArrow, { order: 3 });\n\t}\n\n\thover = Hover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\tclassName: 'RESAccountSwitcherDropdown',\n\t\t\topenDelay: 0,\n\t\t\toffsetHeight: 5,\n\t\t})\n\t\t.populateWith(createAccountMenu)\n\t\t.target(downArrow);\n\n\tlet username;\n\tCommandLine.registerCommand(/^sw$/, `sw [username] - ${i18n('accountSwitcherCliHelp')}`,\n\t\t(command, val) => {\n\t\t\tconst usernames = Object.keys(accounts()).filter(username => username.startsWith(val.toLowerCase()));\n\t\t\tusername = usernames.includes(val) ? val : usernames[0];\n\t\t\treturn `${i18n('accountSwitcherCliSwitchToUsernamePrompt')} ${val}${_.without(usernames, val).length ? `[${usernames.map(v => v.replace(val, '')).filter(Boolean).join('|')}]` : ''}`;\n\t\t},\n\t\t() => {\n\t\t\tif (username) switchTo(username);\n\t\t\telse manageAccounts();\n\t\t}\n\t);\n};\n\nasync function createAccountMenu() {\n\tconst accountMenu = document.createDocumentFragment();\n\n\tconst users = await Promise.all(\n\t\tObject.entries(accounts())\n\t\t\t.map(async ([username, { text }]) => ({\n\t\t\t\ttext,\n\t\t\t\tusername,\n\t\t\t\tactive: username.localeCompare(loggedInUser() || '', { sensitivity: 'base' }) === 0,\n\t\t\t\tdata: module.options.showUserDetails.value && (await getUserInfo(username).catch(e => {\n\t\t\t\t\tconsole.error('Error loading userinfo for', username, e);\n\t\t\t\t\treturn {};\n\t\t\t\t})).data || {},\n\t\t\t}))\n\t);\n\n\tfor (const { text, username, active, data } of users) {\n\t\tif (!module.options.showCurrentUserName.value && active) continue;\n\n\t\tconst goldExpDate = data.gold_expiration && new Date(data.gold_expiration * 1000);\n\t\tconst element = string.html`\n\t\t\t<li class=\"accountName ${active && 'active'}\">\n\t\t\t\t<span style=\"margin-right: auto;\">${text}</span>\n\t\t\t\t${module.options.showKarma.value && data.link_karma && string._html`\n\t\t\t\t\t<span style=\"margin-left: 4px\">(${data.link_karma} &middot; ${data.comment_karma})</span>\n\t\t\t\t`}\n\t\t\t\t${module.options.showGold.value && data.is_gold && string._html`\n\t\t\t\t\t<span style=\"all: initial; margin-left: 4px; line-height: 0;\" class=\"gilded-icon\" title=\"${goldExpDate && i18n('accountSwitcherGoldUntil', formatDate(goldExpDate), formatDateDiff(new Date(), goldExpDate))}\"></span>\n\t\t\t\t`}\n\t\t\t\t<a style=\"margin-left: 4px\" onclick=\"event.stopPropagation()\" href=\"/user/${username}\" class=\"res-icon linkIcon\"></a>\n\t\t\t</li>\n\t\t`;\n\t\telement.addEventListener('click', () => switchTo(username));\n\t\taccountMenu.append(element);\n\t}\n\n\t{\n\t\tconst element = string.html`<li class=\"addAccount\">+ add account</li>`;\n\t\telement.addEventListener('click', manageAccounts);\n\t\taccountMenu.append(element);\n\t}\n\n\treturn [accountMenu];\n}\n\nconst switchTo = mutex(async (username: string) => {\n\tconst { storedPassword, requiresOtp } = accounts()[username];\n\n\t// Don't await promise yet so that the password and OTP can be entered while logging out\n\tconst logoutPromise = isLoggedIn() && ajax({ method: 'POST', url: '/logout' });\n\n\tconst password = storedPassword ? storedPassword : window.prompt(i18n('accountSwitcherPasswordPrompt', username));\n\n\tlet otp;\n\tif (requiresOtp) {\n\t\totp = {\n\t\t\totp: window.prompt(i18n('accountSwitcherOptPrompt', username)),\n\t\t};\n\t}\n\n\tawait logoutPromise;\n\n\tconst { success, jquery } = await ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/login',\n\t\tdata: {\n\t\t\tuser: username,\n\t\t\tpasswd: password,\n\t\t\t...otp,\n\t\t\trem: module.options.keepLoggedIn.value ? 'on' : 'off',\n\t\t},\n\t\ttype: 'json',\n\t}).catch(e => {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'accountSwitcher',\n\t\t\tmessage: i18n('accountSwitcherAccountSwitchError'),\n\t\t});\n\n\t\tthrow e;\n\t});\n\n\tif (module.options.updateOtherTabs.value) {\n\t\tswitchedAccountElsewhere(success ? username : null);\n\t}\n\n\tif (success) {\n\t\treloadPage();\n\t} else {\n\t\t// (hackily) try to figure out why login failed\n\t\tconst jqueryRpc = JSON.stringify(jquery);\n\t\tconst message =\n\t\t\t(jqueryRpc.includes('PASSWORD') && i18n('accountSwitcherLoginError', username)) ||\n\t\t\t(jqueryRpc.includes('RATELIMIT') && i18n('accountSwitcherRateLimitError')) ||\n\t\t\ti18n('accountSwitcherUnknownError', username, jqueryRpc);\n\t\tAlert.open(message, { cancelable: true })\n\t\t\t.then(manageAccounts);\n\t}\n});\n\nconst switchedAccountElsewhere = multicast(username => {\n\tconst hasDraft = Array.from(document.getElementsByTagName('textarea'))\n\t\t.some(textarea => textarea.value);\n\n\tif (!hasDraft && module.options.reloadOtherTabs.value) {\n\t\treloadPage();\n\t\treturn;\n\t}\n\n\tlet message = username ?\n\t\ti18n('accountSwitcherUserSwitched', username) :\n\t\ti18n('accountSwitcherLoggedOut');\n\n\tif (hasDraft) {\n\t\tmessage += ` ${i18n('accountSwitcherDraft', loggedInUser() || '')}`;\n\t}\n\n\tmessage += ` <p><a class=\"RESNotificationButtonBlue\" href=\"${location.pathname}\">${i18n('accountSwitcherReload')}</a></p>`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: 'accountSwitcher',\n\t\toptionKey: 'updateOtherTabs',\n\t\tmessage,\n\t});\n}, { name: 'switchedAccountElsewhere', local: false, crossContext: false });\n\nfunction manageAccounts() {\n\thover.close();\n\tSettingsNavigation.open(module.moduleID, 'accounts');\n}\n\nfunction reloadPage() {\n\t// Create a new history entry, in case the current one contains state data specific to the old user\n\thistory.pushState({}, '');\n\tlocation.reload();\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport * as Metadata from '../core/metadata';\nimport { guiders } from '../vendor/guiders';\nimport { Module } from '../core/module';\nimport { BrowserDetect, regexes, string } from '../utils';\nimport { ajax } from '../environment';\nimport type { RedditWikiPage } from '../types/reddit';\nimport * as NightMode from './nightMode';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('submitIssue');\n\nmodule.moduleName = 'submitIssueName';\nmodule.category = 'aboutCategory';\nmodule.alwaysEnabled = true;\nmodule.sort = -7;\nmodule.description = 'submitIssueDesc';\nmodule.include = ['submit'];\n\nconst subreddits = ['enhancement', 'resissues'];\nconst subredditsForDiagnostics = ['beta', 'help', 'resbetatesting'];\n\nmodule.go = () => {\n\tcheckIfSubmitting();\n};\n\nconst submitWizardTemplate = ({ foolin, settings, bugs, requests }) => string.html`\n\t<div>\n\t\t${foolin && string._html`\n\t\t\t<h2>Enjoy April Fool's</h2>\n\t\t\t<p>RES can't turn off any of Reddit's shenanigans. However, <a href=\"/r/Enhancement/wiki/faq/srstyle\" target=\"_blank\" rel=\"noopener noreferer\">you can turn off subreddit styles</a>.</p>\n\t\t`}\n\n\t\t<h2>Something is broken in RES. How do I fix it?</h2>\n\n\t\t<p>Take a minute to read through other posts. Someone might have already posted a solution.</p>\n\n\t\t<ol id=\"RESKnownBugs\">\n\t\t\t${bugs.map(({ url, title }) => string._html`\n\t\t\t\t<li>\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${title}</a>\n\t\t\t\t</li>\n\t\t\t`)}\n\t\t</ol>\n\n\t\t<p><a href=\"/r/RESissues/submit/\" class=\"blueButton\">Ask how to fix RES</a></p>\n\n\t\t<p>Please write some text about:</p>\n\t\t<dl>\n\n\t\t\t<dt>What makes this happen?</dt>\n\t\t\t<dd>\n\t\t\t\tclicking a button, opening an image preview, ...\n\t\t\t</dd>\n\n\n\t\t\t<dt>Where does this happen?</dt>\n\t\t\t<dd>\n\t\t\t\tin a particular subreddit, on comments pages, on frontpage (reddit.com), on /r/all, ...\n\t\t\t</dd>\n\n\t\t\t<dt>Screenshot/video of problem</dt>\n\t\t\t<dd>\n\t\t\t\t<a href=\"https://www.take-a-screenshot.org/\" target=\"_blank\" rel=\"noreferer noopener\">Take a screenshot</a>, <a href=\"https://imgur.com/upload\">upload it</a>, and copy-paste the link here.\n\t\t\t</dd>\n\t\t</dl>\n\n\n\t\t<h2>How do I customize or use RES features?</h2>\n\t\t<p>If you want to disable certain features of RES, try searching in <a href=\"${settings}\">RES settings</a>, your account's <a href=\"/prefs\">reddit preferences</a>, or <a href=\"/r/Enhancement/search?q=restrict_sr=on\">posts in r/Enhancement</a>.</p>\n\n\t\t<p><a href=\"/r/Enhancement/submit/\" class=\"blueButton\">Get guidance on using RES</a></p>\n\n\n\t\t<h2>I have a suggestion.</h2>\n\n\t\t<p>Look for similar ideas before posting:</p>\n\t\t<ol id=\"RESKnownFeatureRequests\">\n\t\t\t${requests.map(({ url, title }) => string._html`\n\t\t\t\t<li>\n\t\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${title}</a>\n\t\t\t\t</li>\n\t\t\t`)}\n\t\t</ol>\n\t\t<p><a href=\"/r/Enhancement/submit/\" class=\"blueButton\">Post a request</a></p>\n\n\n\t\t<h2>I found a security issue.</h2>\n\t\t<p>Please report security issues privately using modmail.</p>\n\t\t<p><a href=\"/message/compose/?to=/r/Enhancement\" class=\"blueButton\">Report a security issue</a></p>\n\t</div>\n`;\n\nconst submitIssueDefaultBody = `\n*What's up?*\n???\n\n\n*Where does it happen?*\n???\n\n\n*Screenshots or mock-ups*\n???\n\n\n*What browser extensions are installed?*\n???\n`.trim();\n\nexport const diagnostics = _.once(() => `\n\n- Night mode: ${String(NightMode.isNightModeOn())}\n- RES Version: ${Metadata.version}\n- Browser: ${BrowserDetect.browser}\n- Browser Version: ${BrowserDetect.version}\n- Cookies Enabled: ${String(navigator.cookieEnabled)}\n- Reddit beta: ${String($('.beta-hint').length > 0)}\n\n`);\n\nfunction checkIfSubmitting() {\n\tconst subredditInput: ?HTMLInputElement = (document.getElementById('sr-autocomplete'): any);\n\tconst selfText: ?HTMLTextAreaElement = (document.querySelector('.usertext-edit textarea'): any);\n\n\tif (subredditInput) {\n\t\tfunction check() {\n\t\t\tconst subreddit = subredditInput.value;\n\n\t\t\tif (subreddits.includes(subreddit.toLowerCase())) {\n\t\t\t\tshowWizard();\n\t\t\t\tinjectTemplate(selfText);\n\t\t\t} else {\n\t\t\t\thideWizard();\n\t\t\t\t// User can be smart about clearing the template on their own\n\t\t\t}\n\t\t}\n\n\t\tcheck();\n\n\t\tsubredditInput.addEventListener('change', e => {\n\t\t\tif ((e: any).res) return;\n\t\t\tcheck();\n\t\t});\n\n\t\t// don't delegate, reddit cancels bubbling\n\t\t// wait a moment, reddit loads some metadata\n\t\t// really this should be a MutationObserver on subredditInput\n\t\t$('#suggested-reddits .sr-suggestion').on('click', () => setTimeout(check, 500));\n\t}\n\n\tif (selfText && subredditInput) {\n\t\t$(selfText).add(subredditInput).on('blur', () => {\n\t\t\tconst subreddit = subredditInput.value;\n\t\t\tif ([...subreddits, ...subredditsForDiagnostics].includes(subreddit.toLowerCase())) {\n\t\t\t\tconst diagnosticsStripped = diagnostics().replace(/\\s/g, '');\n\t\t\t\tconst selfTextStripped = selfText.value.replace(/\\s/g, '');\n\t\t\t\tif (!selfTextStripped.includes(diagnosticsStripped)) {\n\t\t\t\t\tselfText.value += diagnostics();\n\t\t\t\t\t$(selfText).trigger('input');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tselfText.value = selfText.value.replace(diagnostics(), '');\n\t\t\t\t$(selfText).trigger('input');\n\t\t\t}\n\t\t});\n\t}\n}\n\n\nfunction updateSubreddit(subreddit) {\n\tconst input: HTMLInputElement = (document.querySelector('#sr-autocomplete'): any);\n\tinput.value = subreddit;\n\tconst e = new Event('change');\n\t(e: any).res = true;\n\tinput.dispatchEvent(e);\n}\n\nfunction injectTemplate(selfText) {\n\tif (selfText && !selfText.value) {\n\t\tselfText.value = submitIssueDefaultBody;\n\t}\n}\n\nasync function wizard() {\n\tconst [bugs, requests] = await Promise.all([\n\t\tfetchLinks('/r/Enhancement/wiki/knownbugs.json'),\n\t\tfetchLinks('/r/Enhancement/wiki/knownrequests.json'),\n\t]);\n\n\treturn submitWizardTemplate({\n\t\tfoolin: foolin(),\n\t\tbugs,\n\t\trequests,\n\t\tsettings: SettingsNavigation.makeUrlHash(),\n\t});\n}\n\nconst guiderId = 'RESSubmitWizard';\nasync function showWizard() {\n\tconst guider = guiders.get(guiderId);\n\tif (guider) {\n\t\tguiders.show(guider.id);\n\t\treturn;\n\t}\n\n\tconst description = await wizard();\n\n\tconst buttonCustomHTML = `\n\t\t<footer>\n\t\t\t<small>\n\t\t\t\t<a href=\"/r/RESissues/wiki/knownissues\">known issues</a>\n\t\t\t\t|  <a href=\"/r/RESissues/wiki/postanissue\">troubleshooting</a>\n\t\t\t</small>\n\t\t</footer>\n\t`;\n\n\tguiders.createGuider({\n\t\tattachTo: '.submit .usertext',\n\t\tdescription,\n\t\tbuttonCustomHTML,\n\t\tid: guiderId,\n\t\t// offset: { left: -200, top: 120 },\n\t\tposition: 3,\n\t\ttitle: 'What are you posting about?',\n\t}).show();\n\n\t$(document.body).on('click', '#RESSubmitWizard a[href$=\"/submit/\"]', (e: Event) => {\n\t\tconst match = (e.target: any).pathname.match(regexes.submit);\n\t\tif (!match) return;\n\t\tupdateSubreddit(match[1]);\n\t\te.preventDefault();\n\t});\n}\n\nfunction hideWizard() {\n\tif (guiders.get(guiderId)) {\n\t\t// Why is there no `guiders.hide(id)`\n\t\tguiders.hideAll();\n\t}\n}\n\nasync function fetchLinks(url) {\n\ttry {\n\t\tconst { data } = (await ajax({ url, type: 'json' }): RedditWikiPage);\n\t\treturn parseObjectList(data && data.content_md);\n\t} catch (e) {\n\t\treturn [];\n\t}\n}\n\nfunction parseObjectList(text) {\n\tif (!text) {\n\t\treturn [];\n\t}\n\n\tconst items = text.split(/\\s*-{3,}\\s*/).filter(x => x.match(/[^\\s\\n]/));\n\n\treturn items.map(dictText => {\n\t\tconst item = {};\n\t\tconst dictMapping = dictText.replace(/\\r/g, '').split('\\n');\n\n\t\tfor (const rawLine of dictMapping) {\n\t\t\tconst line = $.trim(rawLine).split(':');\n\t\t\tif (line.length > 0) {\n\t\t\t\tconst key = line.shift();\n\t\t\t\tif (key) {\n\t\t\t\t\titem[key] = line.join(':');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn item;\n\t});\n}\n\nfunction foolin() {\n\tconst now = new Date();\n\treturn (\n\t\t(now.getMonth() === 2 && now.getDate() > 30) ||\n\t\t(now.getMonth() === 3 && now.getDate() <= 2)\n\t);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tDAY,\n\tNAMED_KEYS,\n\tThing,\n\tcheckKeysForEvent,\n\tclick,\n\tcurrentSubreddit,\n\tisCurrentSubreddit,\n\tescapeHTML,\n\tempty,\n\tisPageType,\n\tloggedInUser,\n\tniceKeyCode,\n\trange,\n\tregexes,\n\tstring,\n} from '../utils';\nimport type { KeyArray } from '../utils/keycode';\nimport { ajax, i18n } from '../environment';\nimport type { RedditSearchSubredditNames, RedditSearchWikiNames } from '../types/reddit';\nimport * as AccountSwitcher from './accountSwitcher';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as UserTagger from './userTagger';\nimport * as SubmitIssue from './submitIssue';\n\nexport const module: Module<*> = new Module('commentTools');\n\nmodule.moduleName = 'commentToolsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentToolsDesc';\nmodule.options = {\n\tuserAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsUserAutoCompleteDesc',\n\t\ttitle: 'commentToolsUserAutoCompleteTitle',\n\t\tkeywords: ['autosuggest'],\n\t\tadvanced: true,\n\t},\n\tsubredditAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsSubredditAutocompleteDesc',\n\t\ttitle: 'commentToolsSubredditAutocompleteTitle',\n\t\tkeywords: ['autosuggest'],\n\t\tadvanced: true,\n\t},\n\twikiAutocomplete: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsWikiAutocompleteDesc',\n\t\ttitle: 'commentToolsWikiAutocompleteTitle',\n\t\tadvanced: true,\n\t},\n\tformattingToolButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsFormattingToolButtonsDesc',\n\t\ttitle: 'commentToolsFormattingToolButtonsTitle',\n\t},\n\tkeyboardShortcuts: {\n\t\tdependsOn: options => options.formattingToolButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsKeyboardShortcutsDesc',\n\t\ttitle: 'commentToolsKeyboardShortcutsTitle',\n\t},\n\tboldKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [66, false, true, false, false], // ctrl-b\n\t\tdescription: 'commentToolsBoldKeyDesc',\n\t\ttitle: 'commentToolsBoldKeyTitle',\n\t},\n\titalicKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, true, false, false], // ctrl-i\n\t\tdescription: 'commentToolsItalicKeyDesc',\n\t\ttitle: 'commentToolsItalicKeyTitle',\n\t},\n\tstrikeKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [83, false, true, false, false], // ctrl-s\n\t\tdescription: 'commentToolsStrikeKeyDesc',\n\t\ttitle: 'commentToolsStrikeKeyTitle',\n\t},\n\tsuperKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [187, false, true, true, false], // ctrl-+ (ctrl-shift-=)\n\t\tdescription: 'commentToolsSuperKeyDesc',\n\t\ttitle: 'commentToolsSuperKeyTitle',\n\t},\n\tlinkKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [75, false, true, false, false], // ctrl-k\n\t\tdescription: 'commentToolsLinkKeyDesc',\n\t\ttitle: 'commentToolsLinkKeyTitle',\n\t},\n\tquoteKey: {\n\t\tdependsOn: options => options.keyboardShortcuts.value,\n\t\ttype: 'keycode',\n\t\tvalue: [190, false, true, true, false], // ctrl-> (strl-shift-.)\n\t\tdescription: 'commentToolsQuoteKeyDesc',\n\t\ttitle: 'commentToolsQuoteKeyTitle',\n\t},\n\tctrlEnterSubmitsComments: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrlEnterSubmitsCommentsDesc',\n\t\ttitle: 'commentToolsCtrlEnterSubmitsCommentsTitle',\n\t},\n\tctrlEnterSavesLiveThreads: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrlEnterSavesLiveThreadsDesc',\n\t\ttitle: 'commentToolsCtrlEnterSavesLiveThreadsTitle',\n\t},\n\tctrlEnterSubmitsPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCtrolEnterSubmitsPostsDesc',\n\t\ttitle: 'commentToolsCtrolEnterSubmitsPostsTitle',\n\t},\n\tcommentingAs: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsCommentingAsDesc',\n\t\ttitle: 'commentToolsCommentingAsTitle',\n\t},\n\thighlightIfAltAccount: {\n\t\tdependsOn: options => options.commentingAs.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsHighlightIfAltAccountDesc',\n\t\ttitle: 'commentToolsHighlightIfAltAccountTitle',\n\t},\n\tshowInputLength: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsShowInputLengthDesc',\n\t\ttitle: 'commentToolsShowInputLengthTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tmacroButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsMacroButtonsDesc',\n\t\ttitle: 'commentToolsMacroButtonsTitle',\n\t\tbodyClass: true,\n\t},\n\tmacros: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'table',\n\t\taddRowText: 'commentToolsAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'commentToolsLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'text',\n\t\t\tname: 'commentToolsText',\n\t\t\ttype: 'textarea',\n\t\t}, {\n\t\t\tkey: 'category',\n\t\t\tname: 'commentToolsCategory',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'key',\n\t\t\tname: 'commentToolsKey',\n\t\t\ttype: 'keycode',\n\t\t}],\n\t\tvalue: ([\n\t\t\t['reddiquette', '[reddiquette](/wiki/reddiquette) ', undefined, undefined],\n\t\t\t['Promote RES', '[Reddit Enhancement Suite](https://redditenhancementsuite.com \"also /r/Enhancement\") ', undefined, undefined],\n\t\t\t['Current timestamp', '{{now}} ', undefined, undefined],\n\t\t]: Array<[string, string, string | void, KeyArray | void]>),\n\t\tdescription: 'commentToolsMacrosDesc',\n\t\ttitle: 'commentToolsMacrosTitle',\n\t},\n\tkeepMacroListOpen: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentToolsKeepMacroListOpenDesc',\n\t\ttitle: 'commentToolsKeepMacroListOpenTitle',\n\t\tadvanced: true,\n\t},\n\tmacroPlaceholders: {\n\t\tdependsOn: options => options.macroButtons.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsMacroPlaceholdersDesc',\n\t\ttitle: 'commentToolsMacroPlaceholdersTitle',\n\t},\n\tenabledOnBanMessages: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentToolsEnableOnBanMessagesDesc',\n\t\ttitle: 'commentToolsEnableOnBanMessagesTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'inbox',\n\t'submit',\n\t'profile',\n\t'modqueue',\n\t'subredditAbout',\n\t'liveThread',\n\t/^\\/r\\/[\\-\\w\\.]+\\/wiki\\/(?:create|edit)(\\/\\w+)?/i,\n];\n\nconst SUBMIT_LIMITS = {\n\tSTYLESHEET: 128 * 1024,\n\tSIDEBAR: 10240,\n\tDESCRIPTION: 500,\n\tWIKI: 512 * 1024,\n\tCOMMENT: 10000,\n\tLIVE_COMMENT: 4096,\n\tPOST: 40000,\n\tPOST_TITLE: 300,\n\tBAN_MESSAGE: 1000,\n};\nconst macroCallbackTable: Array<(box: HTMLTextAreaElement) => void> = [];\nconst macroKeyTable: Array<[KeyArray, number]> = [];\n\nmodule.contentStart = () => {\n\t$(document.body).on('focus', commentTextareaSelector, attachEditorToUsertext);\n\n\tinitializeCtrlEnterToSubmit();\n\tinitializeLengthCounters();\n\tinitializeAutocomplete();\n};\n\nfunction initializeCtrlEnterToSubmit() {\n\tif (module.options.ctrlEnterSubmitsComments.value) {\n\t\tonCtrlEnter(\n\t\t\t'.usertext-edit textarea, #BigEditor textarea, #wiki_page_content',\n\t\t\te => {\n\t\t\t\tconst currentForm = $(e.target).closest('form');\n\t\t\t\tconst saveButton = currentForm.find('.save')[0] || currentForm.find('#wiki_save_button')[0] || $('.BEFoot button')[0];\n\t\t\t\tif (saveButton) click(saveButton);\n\t\t\t}\n\t\t);\n\t}\n\n\tif (module.options.ctrlEnterSavesLiveThreads.value) {\n\t\tonCtrlEnter(\n\t\t\t'.usertext-edit textarea',\n\t\t\t() => {\n\t\t\t\tconst saveButton = $('#new-update-form .save-button button')[0];\n\t\t\t\tif (saveButton) click(saveButton);\n\t\t\t}\n\t\t);\n\t}\n\n\tif (module.options.ctrlEnterSubmitsPosts.value) {\n\t\tonCtrlEnter(\n\t\t\t'#title-field textarea, #text-field textarea, #url, #sr-autocomplete, input.captcha',\n\t\t\t() => {\n\t\t\t\tconst $captcha = $('input.captcha:not(.cap-text)');\n\t\t\t\tif ($captcha.length && $captcha.val() === '') {\n\t\t\t\t\t$captcha.focus();\n\t\t\t\t} else {\n\t\t\t\t\tclick($('.spacer .btn')[0]);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t}\n}\n\nfunction initializeLengthCounters() {\n\tif (module.options.showInputLength.value) {\n\t\t$(document.body).on('input', '.usertext-edit textarea, #title-field textarea, #BigEditor textarea, #wiki_page_content, #ban_message', function() {\n\t\t\tupdateCounter(this);\n\t\t});\n\n\t\t// add title counter\n\t\t$('.submit-page #title-field span.title').prepend('<span class=\"RESCharCounter\" title=\"character limit: 0/300\">0/300</span>');\n\t}\n}\n\nconst initializeEditorTools = _.once(() => {\n\t$(document.body).on('click', 'div.markdownEditor-wrapper a:not(.userTagLink)', function(e: Event) {\n\t\te.preventDefault();\n\n\t\tconst index = parseInt($(this).attr('data-macro-index'), 10);\n\t\tconst box = findTextareaForElement(this);\n\t\tif (!box) {\n\t\t\tconsole.error('Failed to locate textarea.');\n\t\t\treturn;\n\t\t}\n\t\tconst handler = macroCallbackTable[index];\n\t\tif (!handler) {\n\t\t\tthrow new Error(`No macro callback at index: ${index}.`);\n\t\t}\n\t\thandler(box);\n\n\t\tbox.focus();\n\t\t// Fire an input event to refresh the preview\n\t\tbox.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\t}).on('click', '.RESMacroDropdownTitle', function(e: Event) {\n\t\tconst thisCat = e.target;\n\t\tif (thisCat.classList.contains('openMacro')) {\n\t\t\tthisCat.classList.remove('openMacro');\n\t\t} else {\n\t\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t\t\tthisCat.classList.add('openMacro');\n\t\t}\n\t\t// position the drop down so it's flush with the right of the category button.\n\t\t$(this).next().css({\n\t\t\ttop: `${thisCat.offsetTop + thisCat.offsetHeight}px`,\n\t\t\tleft: `${thisCat.offsetLeft + thisCat.offsetWidth - (thisCat.nextSibling: any).offsetWidth}px`,\n\t\t});\n\t});\n\n\tif (module.options.keyboardShortcuts.value) {\n\t\t$(document.body).on('keydown', '.usertext-edit textarea, #BigEditor textarea, #wiki_page_content, #ban_message', function(e: KeyboardEvent) {\n\t\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t\tthis.blur();\n\t\t\t\te.preventDefault();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (const [testedKeyArray, macroIndex] of macroKeyTable) {\n\t\t\t\tif (checkKeysForEvent(e, testedKeyArray)) {\n\t\t\t\t\tconst handler = macroCallbackTable[macroIndex];\n\t\t\t\t\thandler(this);\n\n\t\t\t\t\t// Fire an input event to refresh the preview\n\t\t\t\t\tthis.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\nexport const commentTextareaSelector = [\n\t'textarea[name=text]',\n\t'textarea[name=description]',\n\t'textarea[name=public_description]',\n\t'textarea[name=body]',\n\t'textarea[name=ban_message]',\n\t'textarea[name=content]',\n\t'textarea[name=title]',\n].join(':not([readonly]),');\n\nfunction getFieldLimit(elem) {\n\tswitch (elem.name) {\n\t\tcase 'title':\n\t\t\treturn SUBMIT_LIMITS.POST_TITLE;\n\t\tcase 'text': // https://github.com/honestbleeps/Reddit-Enhancement-Suite/issues/829\n\t\t\tif (isPageType('submit') || $(elem).closest('.thing').hasClass('self')) {\n\t\t\t\treturn SUBMIT_LIMITS.POST;\n\t\t\t}\n\t\t\treturn SUBMIT_LIMITS.COMMENT;\n\t\tcase 'description':\n\t\t\treturn SUBMIT_LIMITS.SIDEBAR;\n\t\tcase 'body':\n\t\t\treturn SUBMIT_LIMITS.LIVE_COMMENT;\n\t\tcase 'public_description':\n\t\t\treturn SUBMIT_LIMITS.DESCRIPTION;\n\t\tcase 'content':\n\t\t\treturn SUBMIT_LIMITS.WIKI;\n\t\tcase 'ban_message':\n\t\t\treturn SUBMIT_LIMITS.BAN_MESSAGE;\n\t\t// case 'description_conflict_old':\n\t\t// case 'public_description_conflict_old':\n\t\tdefault:\n\t\t\treturn 1337; // should be easier to debug than 0\n\t}\n}\n\nfunction attachEditorToUsertext() {\n\tif (this.hasAttribute('commentTools-initialized')) return;\n\tthis.setAttribute('commentTools-initialized', true);\n\n\tif (this.hasAttribute('data-max-length')) {\n\t\treturn;\n\t}\n\tconst limit = getFieldLimit(this);\n\n\tthis.setAttribute('data-limit', limit);\n\n\tif (this.name === 'title') {\n\t\treturn;\n\t}\n\n\tif (this.id === 'ban_message' && !module.options.enabledOnBanMessages.value) {\n\t\treturn;\n\t}\n\n\tif (this.id === 'ban_message') {\n\t\tthis.style.width = '500px';\n\t\tthis.style.height = '100px';\n\t}\n\n\tconst bar = makeEditBar();\n\tif (this.id === 'wiki_page_content' || this.id === 'ban_message') {\n\t\t$(this).parent().prepend(bar);\n\t} else {\n\t\t$(this).parent().before(bar);\n\t}\n\tupdateCounter(this);\n}\n\nexport function updateCounter(textarea: HTMLElement) {\n\tconst length = $(textarea).val().length;\n\tconst limit = textarea.getAttribute('data-limit');\n\tconst counter = $(textarea).parent().parent().find('.RESCharCounter');\n\tcounter.attr('title', `character limit: ${length}/${limit}`);\n\tcounter.text(`${length}/${limit}`);\n\tif (length > limit) {\n\t\tcounter.addClass('tooLong');\n\t} else {\n\t\tcounter.removeClass('tooLong');\n\t}\n}\n\nlet cachedEditBar;\n\nexport function makeEditBar() {\n\tinitializeEditorTools();\n\n\tif (cachedEditBar) {\n\t\treturn $(cachedEditBar).clone();\n\t}\n\n\tconst $editBar = $('<div class=\"markdownEditor\">');\n\t// Wrap the edit bar in a <div> of its own\n\tconst wrappedEditBar = $('<div class=\"markdownEditor-wrapper\">').append($editBar);\n\n\tif (module.options.commentingAs.value) {\n\t\t// show who we're commenting as...\n\t\tconst commentingAsMessage = location.href.match(/^https?:\\/\\/(?:[\\-\\w\\.]+\\.)?reddit\\.com\\/r\\/[\\-\\w\\.]+\\/about\\/banned\\/?/i) ? 'Moderating as' : 'Speaking as';\n\n\t\tconst commentingAs = $('<div class=\"commentingAs\">')\n\t\t\t.html(`${commentingAsMessage}: `)\n\t\t\t.append($('#header-bottom-right .user a:first')\n\t\t\t\t.clone()\n\t\t\t\t.wrap('<span class=\"commentingAsUser\"></span>')\n\t\t\t\t.parent()\n\t\t\t);\n\t\tconst loggedIn = loggedInUser();\n\t\tif (loggedIn && Modules.isRunning(UserTagger)) {\n\t\t\tUserTagger.applyToUser((commentingAs.find('a')[0]: any), { username: loggedIn, renderVoteWeight: false });\n\t\t}\n\t\tif (\n\t\t\tmodule.options.highlightIfAltAccount.value &&\n\t\t\tAccountSwitcher.module.options.accounts.value.length &&\n\t\t\tloggedIn &&\n\t\t\tloggedIn.toLowerCase() !== AccountSwitcher.module.options.accounts.value[0][0].toLowerCase()\n\t\t) {\n\t\t\tcommentingAs.addClass('highlightedAltAccount');\n\t\t}\n\t\twrappedEditBar.append(commentingAs);\n\t}\n\n\tif (module.options.formattingToolButtons.value) {\n\t\tconst shortcuts = module.options.keyboardShortcuts.value;\n\t\t$editBar.append(makeEditButton('<b>Bold</b>', `bold${shortcuts ? ` (${niceKeyCode(module.options.boldKey.value)})` : ''}`, module.options.boldKey.value, 'btn-bold', box => {\n\t\t\twrapSelection(box, '**', '**');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<i>Italic</i>', `italic${shortcuts ? ` (${niceKeyCode(module.options.italicKey.value)})` : ''}`, module.options.italicKey.value, 'btn-italic', box => {\n\t\t\twrapSelection(box, '*', '*');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<del>strike</del>', `strike${shortcuts ? ` (${niceKeyCode(module.options.strikeKey.value)})` : ''}`, module.options.strikeKey.value, 'btn-strike', box => {\n\t\t\twrapSelection(box, '~~', '~~');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<sup>sup</sup>', `super${shortcuts ? ` (${niceKeyCode(module.options.superKey.value)})` : ''}`, module.options.superKey.value, 'btn-superscript', box => {\n\t\t\twrapSelectedWords(box, '^');\n\t\t}));\n\t\t$editBar.append(makeEditButton('Link', `link${shortcuts ? ` (${niceKeyCode(module.options.linkKey.value)})` : ''}`, module.options.linkKey.value, 'btn-link', box => {\n\t\t\tlinkSelection(box);\n\t\t}));\n\t\t$editBar.append(makeEditButton('>Quote', `quote${shortcuts ? ` (${niceKeyCode(module.options.quoteKey.value)})` : ''}`, module.options.quoteKey.value, 'btn-quote', box => {\n\t\t\twrapSelectedLines(box, '> ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<span style=\"font-family: monospace\">Code</span>', 'code', null, 'btn-code', box => {\n\t\t\twrapSelectedLines(box, '    ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('&bull;Bullets', 'bullet list', null, 'btn-list-unordered', box => {\n\t\t\twrapSelectedLines(box, '* ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('1.Numbers', 'number list', null, 'btn-list-ordered', box => {\n\t\t\twrapSelectedLines(box, '1. ', '');\n\t\t}));\n\t\t$editBar.append(makeEditButton('<span style=\"border: 1px black solid;\">Table</span>', 'table', null, 'btn-table', box => {\n\t\t\t// First check if the selected text is a table, this also clean the selection\n\t\t\tconst selectedText = box.value.substring(box.selectionStart, box.selectionEnd).replace(/^[\\s]+/, '').replace(/[\\s]+$/, '').split('\\n'); // In fact, if the header start by '   |' this is not a table. But it's better to accept it then after editing the table it will work\n\t\t\tlet isTable;\n\t\t\tif (selectedText.length >= 2) {\n\t\t\t\tif (selectedText[0].includes('|')) {\t// Check if there is at least one '|' to check if it's a table\n\t\t\t\t\tselectedText[0] = selectedText[0].replace(/^\\|/, '').replace(/\\|\\s+$/, ''); // Avoid '| foo | bar |' instead of 'foo | bar'\n\t\t\t\t\tconst numSeparator = selectedText[0].split('|').length;\n\t\t\t\t\t/*\n\t\t\t\t\t\tnumSeparator can be 0 for example with :\n\t\t\t\t\t\t\tfoo |\n\t\t\t\t\t\t\t----|\n\t\t\t\t\t\t\tbar |\n\t\t\t\t\t\tbut it's important to check for each line before removing starting/ending '|' if there is at least one '|' to check if it's really a table\n\t\t\t\t\t*/\n\t\t\t\t\tisTable = true;\n\n\t\t\t\t\t// Check the HEADER/BODY separator\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/\\|[^|\\-]+$/, ''); // '-|-|-|ILOVECOOKIE' is correct, so clean it. But '-|-|-ILOVECOOKIE' is not correct if there is 3 column (okay if there is less though, but will not be detected). Also '-      |     -    |   -' is correct and will not be detected.\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/-/g, '--'); // Required to allow -|-|- to work (else the split would give ['', '|-'])\n\t\t\t\t\tif (!selectedText[1].includes('-|') && !selectedText[1].includes('|-')) {\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\t\t\t\t\tselectedText[1] = selectedText[1].replace(/^\\]+/, '').replace(/[\\s|]+$/, '');\n\t\t\t\t\tif (selectedText[1].split('-|-').length < numSeparator) { // Check if there is enough '-|-'\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\t\t\t\t\tif ((/[^|\\-]/).test(selectedText[1])) { // If the separator contain an other character than | or -\n\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Now check the BODY\n\t\t\t\t\tif (isTable) {\n\t\t\t\t\t\tfor (const i of range(2, selectedText.length)) {\n\t\t\t\t\t\t\tif (!selectedText[i].includes('|')) {\n\t\t\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tselectedText[i] = selectedText[i].replace(/^\\|/, '').replace(/[\\s|]+$/, '');\n\t\t\t\t\t\t\tif (selectedText[i].split('|').length !== numSeparator)\t{ // Check if there is the same '|' number\n\t\t\t\t\t\t\t\t// In fact this should be >= but that would means make disappear some content, so I will consider this is not a table\n\t\t\t\t\t\t\t\t// in fact this is useless, because if we omit last cell they will be void. But this would complicate the generation part by managing void cell and the code is enough complicate.\n\t\t\t\t\t\t\t\tisTable = false;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet startTable;\n\t\t\tif (isTable) {\n\t\t\t\t// The selected text is a table, now transform it to HTML!\n\t\t\t\tstartTable = selectedText.reduce((prevTable, currText, i) => {\n\t\t\t\t\tif (i === 1) {\n\t\t\t\t\t\treturn prevTable;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn `${prevTable}<tr><td>${escapeHTML(currText).replace(/\\|/g, '</td><td>')}</td></tr>`;\n\t\t\t\t}, '');\n\t\t\t} else {\n\t\t\t\tstartTable = '<tr><td>Foo</td><td>Bar</td></tr><tr><td>Foo</td><td>Bar</td></tr>';\n\t\t\t}\n\t\t\tconst element = string.html`<div><div class=\"buttonContainer\"></div><table class=\"commentPreview\" contenteditable=\"true\">${string.safe(startTable)}</table></div>`;\n\t\t\tAlert.open(element, { cancelable: true })\n\t\t\t\t.then(() => {\n\t\t\t\t\tlet generatedTable = '\\n\\n';\n\t\t\t\t\tlet generatedTableSeparation = '';\n\t\t\t\t\t$('tr:first td', element).each(function() {\n\t\t\t\t\t\tconst text = $(this).text().replace(/[\\n|]/g, '');\n\t\t\t\t\t\tgeneratedTable += `${text} | `;\n\t\t\t\t\t\tgeneratedTableSeparation += '-'.repeat(text.length);\n\t\t\t\t\t\tgeneratedTableSeparation += '|';\n\t\t\t\t\t});\n\t\t\t\t\tgeneratedTableSeparation = generatedTableSeparation.substr(0, generatedTableSeparation.length - 1);\n\t\t\t\t\tgeneratedTable = `${generatedTable.substr(0, generatedTable.length - 3)}\\n${generatedTableSeparation}\\n`;\n\t\t\t\t\t$('tr:gt(0)', element).each(function() {\n\t\t\t\t\t\t$(this).find('td').each(function() {\n\t\t\t\t\t\t\tgeneratedTable += `${$(this).text().replace(/[\\n|]/g, '')} | `;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tgeneratedTable = `${generatedTable.substr(0, generatedTable.length - 3)}\\n`;\n\t\t\t\t\t});\n\t\t\t\t\tif (isTable) {\n\t\t\t\t\t\treplaceSelection(box, generatedTable);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twrapSelection(box, generatedTable, '');\n\t\t\t\t\t}\n\t\t\t\t\t$(box).trigger('input'); // update preview\n\t\t\t\t});\n\n\t\t\tconst addRow = Alert.makeButton('+ Row');\n\t\t\tconst remRow = Alert.makeButton('- Row');\n\t\t\tconst addCol = Alert.makeButton('+ Col');\n\t\t\tconst remCol = Alert.makeButton('- Col');\n\t\t\taddRow.addEventListener('click', () => {\n\t\t\t\tconst nbCol = $('tr:first td', element).length;\n\t\t\t\tconst newRow = '<td>text</td>'.repeat(nbCol);\n\t\t\t\t$('table', element).append(`<tr>${newRow}</tr>`);\n\t\t\t});\n\t\t\tremRow.addEventListener('click', () => {\n\t\t\t\tif ($('tr', element).length > 1) {\n\t\t\t\t\t$('table tr:last', element).remove();\n\t\t\t\t}\n\t\t\t});\n\t\t\taddCol.addEventListener('click', () => {\n\t\t\t\t$('table tr', element).append('<td>text</td>');\n\t\t\t});\n\t\t\tremCol.addEventListener('click', () => {\n\t\t\t\tif ($('tr:first td', element).length > 1) {\n\t\t\t\t\t$('table tr td:last-of-type', element).remove();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tconst $buttonContainer = $('.buttonContainer', element);\n\t\t\t$buttonContainer.append(addRow);\n\t\t\t$buttonContainer.append(remRow);\n\t\t\t$buttonContainer.append(addCol);\n\t\t\t$buttonContainer.append(remCol);\n\t\t}));\n\t}\n\n\tif (module.options.showInputLength.value) {\n\t\tconst $counter = $('<span class=\"RESCharCounter\" title=\"character limit: 0/?????\">0/?????</span>');\n\t\t$editBar.prepend($counter); // prepend for more reliable css floating.\n\t}\n\n\tif (module.options.macroButtons.value) {\n\t\tbuildMacroDropdowns(wrappedEditBar);\n\n\t\tconst addMacroButton = makeEditButton(i18n(module.options.macros.addRowText), null, null, 'btn-macro btn-macro-add', () => {\n\t\t\tSettingsNavigation.open(module.moduleID, 'macros');\n\t\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t\t});\n\t\taddButtonToMacroGroup('', addMacroButton);\n\t}\n\n\tcachedEditBar = wrappedEditBar;\n\treturn cachedEditBar;\n}\n\nconst macroDropDownTable = new Map();\n\nfunction getMacroGroup(groupName) {\n\t// Normalize and supply a default group name{}\n\tgroupName = (groupName || '').toString().trim() || 'macros';\n\tlet macroGroup = macroDropDownTable.get(groupName);\n\tif (macroGroup === undefined) {\n\t\tmacroGroup = {};\n\t\tmacroGroup.titleButton = $(`<span class=\"RESMacroDropdownTitle\">${groupName}</span>`);\n\t\tmacroGroup.container = $('<span class=\"RESMacroDropdown\"></span>');\n\t\tmacroGroup.dropdown = $('<ul class=\"RESMacroDropdownList\"></ul>');\n\t\tmacroGroup.container.append(macroGroup.dropdown);\n\t\tmacroDropDownTable.set(groupName, macroGroup);\n\t}\n\treturn macroGroup;\n}\n\nfunction addButtonToMacroGroup(groupName, button) {\n\tconst group = getMacroGroup(groupName);\n\tgroup.dropdown.append($('<li>').append(button));\n}\n\nfunction getDebugMacros() {\n\tif (!isCurrentSubreddit('Enhancement', 'RESissues')) return [];\n\treturn [\n\t\t['RES modified settings', '\\n\\n{{resmodifiedsettings}}\\n', null, null],\n\t\t['RES diagnostics', '{{resdiagnostics}}', null, null],\n\t];\n}\n\nfunction buildMacroDropdowns(editBar) {\n\tconst macros = [...module.options.macros.value, ...getDebugMacros()];\n\n\tfor (const [title, text, category, key] of macros) {\n\t\tconst button = makeEditButton(title, null, key, 'btn-macro', box => {\n\t\t\tmacroSelection(box, text);\n\t\t});\n\t\taddButtonToMacroGroup(category, button);\n\t}\n\n\tconst $macroWrapper = $('<span class=\"RESMacroWrappingSpan\">');\n\n\tconst defaultGroup = getMacroGroup('');\n\t$macroWrapper.append(defaultGroup.titleButton);\n\t$macroWrapper.append(defaultGroup.container);\n\n\tfor (const [category, macroGroup] of macroDropDownTable) {\n\t\tif (category === 'macros') {\n\t\t\tcontinue;\n\t\t}\n\t\t$macroWrapper.append(macroGroup.titleButton);\n\t\t$macroWrapper.append(macroGroup.container);\n\t}\n\teditBar.append($macroWrapper);\n}\n\nfunction makeEditButton(label, title, key, cls, handler) {\n\tif (label === null) {\n\t\tlabel = 'unlabeled';\n\t}\n\tif (title === null) {\n\t\ttitle = '';\n\t}\n\tconst macroButtonIndex = macroCallbackTable.length;\n\tconst button = string.html`<a class=\"edit-btn ${cls}\" title=\"${title}\" href=\"#\" tabindex=\"1\" data-macro-index=\"${macroButtonIndex}\">${label}</a>`;\n\n\tif (key && key[0] !== null) {\n\t\tmacroKeyTable.push([key, macroButtonIndex]);\n\t}\n\tmacroCallbackTable[macroButtonIndex] = handler;\n\treturn button;\n}\n\nfunction linkSelection(box) {\n\tlet url = prompt('Enter the URL:', '');\n\tif (url) {\n\t\t// escape parens in url\n\t\turl = url.replace(/[\\(\\)]/g, '\\\\$&');\n\t\t// escape brackets and parens in text\n\t\twrapSelection(box, '[', `](${url})`, text => text.replace(/[\\[\\]\\(\\)]/g, '\\\\$&'));\n\t}\n}\n\nfunction macroSelection(box, macroText) {\n\tif (!module.options.keepMacroListOpen.value) {\n\t\t$('.RESMacroWrappingSpan span').removeClass('openMacro');\n\t}\n\tif (module.options.macroPlaceholders.value) {\n\t\tconst formatText = selectedText => fillPlaceholders(box, macroText, selectedText);\n\t\twrapSelection(box, '', '', formatText);\n\t} else {\n\t\twrapSelection(box, macroText, '');\n\t}\n}\n\nfunction fillPlaceholders(box, macroText, selectedText) {\n\tconst placeholders = macroText.match(/\\{\\{\\w+\\}\\}/g);\n\tif (placeholders) {\n\t\tconst completedPlaceholders = new Set();\n\t\tfor (const placeholder of placeholders) {\n\t\t\tif (completedPlaceholders.has(placeholder)) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tcompletedPlaceholders.add(placeholder);\n\n\t\t\tconst placeholderInnerText = placeholder.substring(2, placeholder.length - 2).toLowerCase();\n\t\t\tlet value;\n\t\t\ttry {\n\t\t\t\tvalue = getMagicPlaceholderValue(placeholderInnerText, macroText, selectedText, box);\n\t\t\t} catch (e) {\n\t\t\t\tconsole.error('Error getting magic placeholder value', placeholderInnerText);\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t\tif (value === undefined) {\n\t\t\t\tvalue = promptForPlaceholderValue(placeholder, macroText);\n\t\t\t}\n\n\t\t\tif (value === null) {\n\t\t\t\t// user cancelled\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Replace placeholder with value\n\t\t\tmacroText = macroText.replace(new RegExp(placeholder, 'g'), value);\n\t\t}\n\t}\n\n\treturn macroText;\n}\n\nfunction getMagicPlaceholderValue(placeholder, macroText, selectedText, box) {\n\tconst handler = magicPlaceholders.find(current => current.matches.includes(placeholder));\n\n\tif (handler) {\n\t\treturn handler.handle(macroText, selectedText, box);\n\t}\n}\n\nconst magicPlaceholders: Array<{|\n\tmatches: string[],\n\thandle: (macroText: string, selectedText: string, box: HTMLTextAreaElement) => void | string,\n|}> = [\n\t{\n\t\tmatches: ['subreddit'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tconst thing = Thing.from(box);\n\t\t\tconst subreddit = thing && thing.getSubreddit();\n\n\t\t\tif (subreddit) {\n\t\t\t\treturn `/r/${subreddit}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['me', 'my_username'],\n\t\thandle() {\n\t\t\tconst username = loggedInUser();\n\t\t\tif (username) {\n\t\t\t\treturn `/u/${username}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['op', 'op_username'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tlet profile: ?HTMLAnchorElement;\n\t\t\tif (isPageType('comments')) {\n\t\t\t\tprofile = (document.querySelector('.sitetable .author'): any);\n\t\t\t} else {\n\t\t\t\tlet $next = $(box);\n\t\t\t\tlet furthest = $next;\n\t\t\t\tdo {\n\t\t\t\t\tif ($next && $next.length) furthest = $next;\n\t\t\t\t\t$next = $next.parent().closest('.sitetable');\n\t\t\t\t} while ($next.length);\n\n\t\t\t\tprofile = (furthest.find('.author')[0]: any);\n\t\t\t}\n\n\t\t\tif (profile) {\n\t\t\t\tconst match = profile.pathname.match(regexes.profile);\n\t\t\t\tif (!match) throw new Error(`Invalid profile link: ${profile.href}`);\n\t\t\t\treturn `/u/${match[1]}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['url'],\n\t\thandle() {\n\t\t\treturn location.href;\n\t\t},\n\t}, {\n\t\tmatches: ['reply_to', 'reply_to_username'],\n\t\thandle(macroText, selectedText, box) {\n\t\t\tlet $base = $(box);\n\t\t\tconst isEditing = $base.closest('.thing, .entry').hasClass('entry');\n\n\t\t\tif (isEditing) {\n\t\t\t\t$base = $base.closest('.thing').parent();\n\t\t\t}\n\n\t\t\tconst profile: ?HTMLAnchorElement = ($base.closest('.thing').find('.entry .author')[0]: any);\n\n\t\t\tif (!profile) {\n\t\t\t\treturn getMagicPlaceholderValue('op', macroText, selectedText, box);\n\t\t\t} else {\n\t\t\t\tconst match = profile.pathname.match(regexes.profile);\n\t\t\t\tif (!match) throw new Error(`Invalid profile link: ${String(profile)}`);\n\t\t\t\treturn `/u/${match[1]}`;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['selected', 'selection'],\n\t\thandle(macroText, selectedText) {\n\t\t\treturn selectedText;\n\t\t},\n\t}, {\n\t\tmatches: ['now'],\n\t\thandle() {\n\t\t\tconst date = new Date();\n\t\t\treturn date.toTimeString();\n\t\t},\n\t}, {\n\t\tmatches: ['today'],\n\t\thandle() {\n\t\t\tconst date = new Date();\n\t\t\treturn date.toDateString();\n\t\t},\n\t}, {\n\t\tmatches: ['linkflair'],\n\t\thandle() {\n\t\t\tif (isPageType('comments')) {\n\t\t\t\treturn document.querySelector('.linkflairlabel').textContent;\n\t\t\t}\n\t\t},\n\t}, {\n\t\tmatches: ['escaped'],\n\t\thandle(macroText, selectedText) {\n\t\t\treturn selectedText\n\t\t\t\t.replace(/[\\[\\]()\\\\\\*\\^~\\-_.]/g, '\\\\$&')\n\t\t\t\t// more than 3 spaces before a >quote starts a code block\n\t\t\t\t.replace(/^([ ]{0,3})>/gm, '$1\\\\>');\n\t\t},\n\t}, {\n\t\tmatches: ['resmodifiedsettings'],\n\t\thandle() { return Options.getModifiedText(); },\n\t}, {\n\t\tmatches: ['resdiagnostics'],\n\t\thandle() { return SubmitIssue.diagnostics(); },\n\t},\n];\n\nfunction promptForPlaceholderValue(placeholder, macroText) {\n\t// Get value for placeholder\n\tconst display = `${macroText}\\n\\n\\nEnter replacement for ${placeholder}:`;\n\tconst value = placeholder;\n\n\treturn prompt(display, value);\n}\n\nfunction wrapSelection(box, prefix, suffix, escapeFunction) {\n\tif (!box) {\n\t\treturn;\n\t}\n\t// record scroll top to restore it later.\n\tconst scrollTop = box.scrollTop;\n\n\t// We will restore the selection later, so record the current selection.\n\tconst selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tlet selectedText = text.substring(selectionStart, selectionEnd);\n\tconst afterSelection = text.substring(selectionEnd);\n\n\t// Markdown doesn't like it when you tag a word like **this **. The space messes it up. So we'll account for that because Firefox selects the word, and the followign space when you double click a word.\n\tlet trailingSpace = '';\n\tlet cursor = selectedText.length - 1;\n\twhile (cursor > 0 && selectedText[cursor] === ' ') {\n\t\ttrailingSpace += ' ';\n\t\tcursor--;\n\t}\n\tselectedText = selectedText.substring(0, cursor + 1);\n\n\tif (typeof escapeFunction === 'function') {\n\t\tselectedText = escapeFunction(selectedText);\n\t}\n\n\tbox.value = beforeSelection + prefix + selectedText + suffix + trailingSpace + afterSelection;\n\n\tbox.selectionEnd = beforeSelection.length + prefix.length + selectedText.length;\n\tif (selectionStart === selectionEnd) {\n\t\tbox.selectionStart = box.selectionEnd;\n\t} else {\n\t\tbox.selectionStart = beforeSelection.length + prefix.length;\n\t}\n\n\tbox.scrollTop = scrollTop;\n}\n\nfunction replaceSelection(box, replacement) {\n\tif (!box) {\n\t\treturn;\n\t}\n\t// record scroll top to restore it later.\n\tconst scrollTop = box.scrollTop;\n\n\t// We will restore the selection later, so record the current selection.\n\tconst selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tconst afterSelection = text.substring(selectionEnd);\n\n\n\tbox.value = beforeSelection + replacement + afterSelection;\n\n\tbox.selectionEnd = beforeSelection.length + replacement.length;\n\n\tbox.scrollTop = scrollTop;\n}\n\nfunction wrapSelectedLines(box, prefix, suffix) {\n\tconst scrollTop = box.scrollTop;\n\tlet selectionStart = box.selectionStart;\n\tlet selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tlet startPosition = 0;\n\tconst lines = text.split('\\n');\n\tfor (const i of range(0, lines.length)) {\n\t\tlet lineStart = startPosition;\n\t\tlet lineEnd = lineStart + lines[i].length;\n\t\t// Check if either end of the line is within the selection\n\t\tif (selectionStart <= lineStart && lineStart <= selectionEnd || selectionStart <= lineEnd && lineEnd <= selectionEnd ||\n\t\t\t\t// Check if either end of the selection is within the line\n\t\t\t\tlineStart <= selectionStart && selectionStart <= lineEnd || lineStart <= selectionEnd && selectionEnd <= lineEnd) {\n\t\t\tlines[i] = prefix + lines[i] + suffix;\n\t\t\t// Move the offsets separately so we don't throw off detection for the other end\n\t\t\tlet startMovement = 0;\n\t\t\tlet endMovement = 0;\n\t\t\tif (lineStart < selectionStart) {\n\t\t\t\tstartMovement += prefix.length;\n\t\t\t}\n\t\t\tif (lineEnd < selectionStart) {\n\t\t\t\tstartMovement += suffix.length;\n\t\t\t}\n\t\t\tif (lineStart < selectionEnd) {\n\t\t\t\tendMovement += prefix.length;\n\t\t\t}\n\t\t\tif (lineEnd < selectionEnd) {\n\t\t\t\tendMovement += suffix.length;\n\t\t\t}\n\n\t\t\tselectionStart += startMovement;\n\t\t\tselectionEnd += endMovement;\n\t\t\tlineStart += prefix.length;\n\t\t\tlineEnd += prefix.length + suffix.length;\n\t\t}\n\t\t// Remember the newline\n\t\tstartPosition = lineEnd + 1;\n\t}\n\n\tbox.value = lines.join('\\n');\n\tbox.selectionStart = selectionStart;\n\tbox.selectionEnd = selectionEnd;\n\tbox.scrollTop = scrollTop;\n}\n\nfunction wrapSelectedWords(box, prefix) {\n\tconst scrollTop = box.scrollTop;\n\tlet selectionStart = box.selectionStart;\n\tconst selectionEnd = box.selectionEnd;\n\n\tconst text = box.value;\n\tconst beforeSelection = text.substring(0, selectionStart);\n\tconst selectedWords = text.substring(selectionStart, selectionEnd).split(' ');\n\tconst afterSelection = text.substring(selectionEnd);\n\n\tlet selectionModify = 0;\n\n\tfor (const i of range(0, selectedWords.length)) {\n\t\tif (selectedWords[i] !== '') {\n\t\t\tif (selectedWords[i].includes('\\n')) {\n\t\t\t\tconst newLinePosition = selectedWords[i].lastIndexOf('\\n') + 1;\n\t\t\t\tselectedWords[i] = selectedWords[i].substring(0, newLinePosition) + prefix + selectedWords[i].substring(newLinePosition);\n\t\t\t\tselectionModify += prefix.length;\n\t\t\t}\n\t\t\tif (selectedWords[i].charAt(0) !== '\\n') {\n\t\t\t\tselectedWords[i] = prefix + selectedWords[i];\n\t\t\t}\n\t\t\tselectionModify += prefix.length;\n\t\t} else if (selectedWords[i] === '' && selectedWords.length === 1) {\n\t\t\t// If nothing is selected, stick the prefix in there and move the cursor to the right side.\n\t\t\tselectedWords[i] = prefix + selectedWords[i];\n\t\t\tselectionModify += prefix.length;\n\t\t\tselectionStart += prefix.length;\n\t\t}\n\t}\n\n\tbox.value = beforeSelection + selectedWords.join(' ') + afterSelection;\n\tbox.selectionStart = selectionStart;\n\tbox.selectionEnd = selectionEnd + selectionModify;\n\tbox.scrollTop = scrollTop;\n}\n\n/**\n * Matches the following:\n * [0]: Full match\n * [1]: preceding character\n * [2]: subreddit name (no '/r/') (optional)\n * [3]: 'r', 'u', 'w', 'wiki'\n * [4]: query\n */\nconst autoCompleteMatchRegExp = /(^|\\W)\\/?(?:r\\/([\\w]+)\\/)?(wiki|w|r|u)\\/([\\w]+)$/;\n\nfunction initializeAutocomplete() {\n\tif (\n\t\t!module.options.subredditAutocomplete.value &&\n\t\t!module.options.userAutocomplete.value &&\n\t\t!module.options.wikiAutocomplete.value\n\t) return;\n\n\t$(document.body).on('input', '.usertext .usertext-edit textarea, #BigText, #wiki_page_content', _.debounce(async e => {\n\t\tconst textarea: HTMLTextAreaElement = (e.target: any);\n\t\tconst prefixText = textarea.value.slice(0, textarea.selectionStart);\n\t\tconst [,, subreddit, [type] = [], query] = autoCompleteMatchRegExp.exec(prefixText) || [];\n\t\tconst completions = query && (\n\t\t\ttype === 'u' && module.options.userAutocomplete.value && await getUserCompletions(query) ||\n\t\t\t\ttype === 'r' && module.options.subredditAutocomplete.value && await getSubredditCompletions(query) ||\n\t\t\t\ttype === 'w' && module.options.wikiAutocomplete.value && await getWikiCompletions(query, subreddit || currentSubreddit() || '')\n\t\t) || [];\n\t\tautoComplete(textarea)(completions);\n\t}, 100));\n}\n\nconst autoComplete = _.memoize(textarea => {\n\tconst element = string.html`<div id=\"autocomplete_dropdown\" class=\"drop-choices srdrop\"></div>`;\n\tlet entries = [];\n\tlet index = 0;\n\n\telement.addEventListener('click', (e: MouseEvent) => {\n\t\tconst text = e.target.textContent;\n\t\tconst caretPos = textarea.selectionStart;\n\t\tlet left = textarea.value.substr(0, caretPos);\n\t\tconst right = textarea.value.substr(caretPos);\n\t\tleft = left.replace(autoCompleteMatchRegExp, `$1${text} `);\n\t\ttextarea.value = left + right;\n\t\ttextarea.selectionStart = textarea.selectionEnd = left.length;\n\t\ttextarea.focus();\n\t\t// Fire an input event to refresh the preview\n\t\ttextarea.dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\t});\n\n\tconst updateSelection = () => {\n\t\tfor (const entry of entries) entry.classList.remove('selectedItem');\n\t\tentries[index % entries.length].classList.add('selectedItem');\n\t};\n\n\tconst remove = () => {\n\t\telement.remove();\n\t\ttextarea.removeEventListener('keydown', navigate);\n\t\ttextarea.removeEventListener('blur', remove);\n\t};\n\n\tconst navigate = (e: KeyboardEvent) => {\n\t\t// Don't mess with shortcuts for fancier cursor movement\n\t\tif (e.metaKey || e.shiftKey || e.ctrlKey || e.altKey) return;\n\t\tif (!document.contains(element)) return;\n\t\tswitch (e.key) {\n\t\t\tcase NAMED_KEYS.Down:\n\t\t\tcase NAMED_KEYS.Right:\n\t\t\t\te.preventDefault();\n\t\t\t\tindex++;\n\t\t\t\tupdateSelection();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Up:\n\t\t\tcase NAMED_KEYS.Left:\n\t\t\t\te.preventDefault();\n\t\t\t\tindex--;\n\t\t\t\tupdateSelection();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Tab:\n\t\t\tcase NAMED_KEYS.Enter:\n\t\t\t\te.preventDefault();\n\t\t\t\tentries[index % entries.length].click();\n\t\t\t\treturn;\n\t\t\tcase NAMED_KEYS.Escape:\n\t\t\t\t// FIXME When in big editor, pressing escape will close the big editor\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tremove();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\t// Function to update the auto-complete\n\treturn matches => {\n\t\tif (!matches.length || document.activeElement !== textarea) {\n\t\t\tremove();\n\t\t\treturn;\n\t\t}\n\n\t\tempty(element);\n\t\tentries = matches.slice(0, 20).map(text => string.html`<a class=\"choice\">${text}</a>`);\n\t\telement.append(...entries);\n\n\t\tindex = 0;\n\t\tupdateSelection();\n\n\t\tif (!document.contains(element)) {\n\t\t\tconst textareaOffset = $(textarea).offset();\n\t\t\ttextareaOffset.left += $(textarea).width();\n\t\t\t$(element).css(textareaOffset);\n\t\t\tdocument.body.append(element);\n\n\t\t\t// FIXME When in big editor, pressing escape will close the big editor\n\t\t\ttextarea.addEventListener('keydown', navigate);\n\t\t\ttextarea.addEventListener('blur', () => {\n\t\t\t\t// The `click` event when clicking on something else may come fairly long after `blur`\n\t\t\t\t// Try not to remove the autocomplete element prematurely, so that it is still there on `click`\n\t\t\t\tsetTimeout(() => { if (document.activeElement !== textarea) remove(); }, 200);\n\t\t\t});\n\t\t}\n\t};\n});\n\nasync function getSubredditCompletions(query) {\n\tconst { names } = (await ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/search_reddit_names.json',\n\t\tquery: { query }, // for the cache\n\t\tdata: { query },\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t}): RedditSearchSubredditNames);\n\n\treturn names.map(name => `/r/${name}`);\n}\n\nconst loadAllTags = _.once(() => UserTagger.Tag.getStored());\nasync function getUserCompletions(query) {\n\tawait loadAllTags();\n\t// Auto-complete users on this page in addition to previously tagged or upvoted users\n\treturn Array.from(UserTagger.tags.values())\n\t\t.filter(({ id }) => id.toLowerCase().startsWith(query.toLowerCase()))\n\t\t.filter(({ text, votesUp, instances }) => text || votesUp || instances.length)\n\t\t// Display users on this page first, but keep alphabetized\n\t\t.sort((a, b) => Number(b.instances.length > a.instances.length) || a.id.localeCompare(b.id))\n\t\t.map(({ id }) => `/u/${id}`);\n}\n\nasync function getWikiCompletions(query, subreddit: string) {\n\tconst { data: wikiPages } = (await ajax({\n\t\tmethod: 'GET',\n\t\turl: `/r/${subreddit}/wiki/pages.json`,\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t}): RedditSearchWikiNames);\n\n\treturn wikiPages\n\t\t.filter(wikiPage => wikiPage.toLowerCase().startsWith(query.toLowerCase()))\n\t\t.map(wikiPage => `/r/${subreddit}/wiki/${wikiPage}`);\n}\n\nfunction findTextareaForElement(elem): HTMLTextAreaElement | void {\n\tconst textarea = $(elem)\n\t\t.closest('.usertext-edit, #BigEditor, .wiki-page-content, #banned')\n\t\t.find('textarea')\n\t\t.filter('#BigText, [name=text], [name=description], [name=public_description], [name=body], #wiki_page_content, #ban_message')\n\t\t.get(0);\n\t// guaranteed to be an HTMLTextAreaElement due to `.find('textarea')`\n\treturn (textarea: any);\n}\n\nexport function onCtrlEnter(selector: string, callback: (e: KeyboardEvent) => Promise<void> | void) {\n\t$(document.body).on('keydown', selector, (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter && (e.ctrlKey || e.metaKey)) {\n\t\t\te.preventDefault();\n\t\t\tcallback(e);\n\t\t}\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { addCSS, loggedInUser, regexes } from '../utils';\nimport * as AccountSwitcher from './accountSwitcher';\n\nexport const module: Module<*> = new Module('usernameHider');\n\nmodule.moduleName = 'usernameHiderName';\nmodule.category = 'myAccountCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'usernameHiderDesc';\n\nmodule.options = {\n\tdisplayText: {\n\t\ttitle: 'usernameHiderDisplayTextTitle',\n\t\ttype: 'text',\n\t\tvalue: '~anonymous~',\n\t\tdescription: 'usernameHiderDisplayTextDesc',\n\t},\n\tperAccountDisplayText: {\n\t\ttitle: 'usernameHiderPerAccountDisplayTextTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add account',\n\t\tfields: [{\n\t\t\tkey: 'username',\n\t\t\tname: 'username',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'displayText',\n\t\t\tname: 'displayText',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string]>),\n\t\tdescription: 'usernameHiderPerAccountDisplayTextDesc',\n\t},\n\thideAllUsernames: {\n\t\ttitle: 'usernameHiderHideAllUsernamesTitle',\n\t\tadvanced: true,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'usernameHiderHideAllUsernamesDesc',\n\t},\n\thideAccountSwitcherUsernames: {\n\t\ttitle: 'usernameHiderHideAccountSwitcherUsernamesTitle',\n\t\tadvanced: true,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'usernameHiderHideAccountSwitcherUsernamesDesc',\n\t},\n\tshowUsernameOnHover: {\n\t\ttitle: 'usernameHiderShowUsernameOnHoverTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'usernameHiderShowUsernameOnHoverDesc',\n\t},\n};\n\nconst substitutes = _.once(() => new Map([\n\t[(loggedInUser() || '').toLowerCase(), module.options.displayText.value],\n\t...module.options.perAccountDisplayText.value.map(([username, substitute]) => [username.toLowerCase(), substitute]),\n]));\n\nexport const getDisplayText = (username: string, alt: string = username): string => substitutes().get(username.toLowerCase()) || alt;\n\nmodule.contentStart = () => {\n\tfor (const username of new Set([\n\t\tloggedInUser(),\n\t\t...(module.options.hideAllUsernames.value ? module.options.perAccountDisplayText.value.map(([username]) => username) : []),\n\t\t...(module.options.hideAccountSwitcherUsernames.value ? AccountSwitcher.module.options.accounts.value.map(([username]) => username) : []),\n\t].filter(Boolean)).values()) {\n\t\thideUsername(username, getDisplayText(username, module.options.displayText.value));\n\t}\n};\n\nfunction hideUsername(user, displayText) {\n\tif (!displayText || user === displayText) return;\n\n\tconst userHref = `[href*=\"/user/${user}\"]`;\n\n\t// Hide username\n\taddCSS(`\n\t\tp.tagline > a${userHref},\n\t\t#header .user > a${userHref},\n\t\t.titlebox .tagline a.author${userHref},\n\t\t.commentingAsUser a${userHref},\n\t\ta.author${userHref},\n\t\t.bottom a${userHref} {\n\t\t\tline-height: 0;\n\t\t\tfont-size: 0;\n\t\t}\n\n\t\tp.tagline > a${userHref}::after,\n\t\t#header .user > a${userHref}::after,\n\t\t.titlebox .tagline a.author${userHref}::after,\n\t\t.commentingAsUser a${userHref}::after,\n\t\ta.author${userHref}::after,\n\t\t.bottom a${userHref}::after {\n\t\t\tcontent: \"${displayText}\";\n\t\t\tletter-spacing: normal;\n\t\t\tfont-size: 10px;\n\t\t\tbackground-color: inherit;\n\t\t\tborder-radius: inherit;\n\t\t\tpadding: inherit;\n\t\t}\n\n\t\ta.author${userHref}::after {\n\t\t\tmargin-right: 0.5em;\n\t\t}\n\n\t\t.commentingAsUser a${userHref}::after {\n\t\t\tfont-size: small;\n\t\t}\n\t`);\n\n\t// Show username on hover\n\tif (module.options.showUsernameOnHover.value) {\n\t\taddCSS(`\n\t\t\tp.tagline > a${userHref}:hover,\n\t\t\t#header .user > a${userHref}:hover,\n\t\t\t.titlebox .tagline a.author${userHref}:hover,\n\t\t\t.commentingAsUser a${userHref}:hover,\n\t\t\ta.author${userHref}:hover,\n\t\t\t.bottom a${userHref}:hover {\n\t\t\t\tline-height: inherit;\n\t\t\t\tfont-size: inherit;\n\t\t\t}\n\n\t\t\tp.tagline > a${userHref}:hover::after,\n\t\t\t#header .user > a${userHref}:hover::after,\n\t\t\t.titlebox .tagline a.author${userHref}:hover::after,\n\t\t\t.commentingAsUser a${userHref}:hover::after,\n\t\t\ta.author${userHref}:hover::after,\n\t\t\t.bottom a${userHref}:hover::after {\n\t\t\t\tcontent: none;\n\t\t\t}\n\t\t`);\n\t}\n\n\tconst curatedBy: ?HTMLAnchorElement = (document.querySelector('.multi-details > h2 a'): any);\n\tif (curatedBy) {\n\t\tconst curatedByUsername = curatedBy.pathname.match(regexes.profile);\n\t\tif (curatedByUsername && curatedByUsername[1].toLowerCase() === user.toLowerCase()) {\n\t\t\tcuratedBy.textContent = curatedBy.textContent.replace(user, displayText);\n\n\t\t\t// Show username on hover\n\t\t\tif (module.options.showUsernameOnHover.value) {\n\t\t\t\t$(curatedBy)\n\t\t\t\t\t.on('mouseenter', function() {\n\t\t\t\t\t\tthis.textContent = this.textContent.replace(displayText, user);\n\t\t\t\t\t})\n\t\t\t\t\t.on('mouseleave', function() {\n\t\t\t\t\t\tthis.textContent = this.textContent.replace(user, displayText);\n\t\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tHOUR,\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\tcurrentSubreddit,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tregexes,\n\tdowncast,\n\tstring,\n} from '../utils';\nimport * as Modules from '../core/modules';\nimport { Storage, ajax } from '../environment';\nimport type { RedditListing, RedditSubreddit } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as CommentTools from './commentTools';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as UsernameHider from './usernameHider';\n\nexport const module: Module<*> = new Module('quickMessage');\n\nmodule.moduleName = 'quickMessageName';\nmodule.category = 'usersCategory';\nmodule.description = 'quickMessageDesc';\nmodule.options = {\n\topenQuickMessage: {\n\t\ttitle: 'quickMessageOpenQuickMessageTitle',\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, true, false, false], // control-m\n\t\tdescription: 'quickMessageOpenQuickMessageDesc',\n\t},\n\tdefaultSubject: {\n\t\ttitle: 'quickMessageDefaultSubjectTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'quickMessageDefaultSubjectDesc',\n\t},\n\tsendAs: {\n\t\ttitle: 'quickMessageSendAsTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Current user',\n\t\t\tvalue: 'user',\n\t\t}, {\n\t\t\tname: 'Current subreddit',\n\t\t\tvalue: 'sub',\n\t\t}, {\n\t\t\tname: 'Last selected',\n\t\t\tvalue: 'last',\n\t\t}, {\n\t\t\tname: 'Last selected (this page load)',\n\t\t\tvalue: 'temporary',\n\t\t}],\n\t\tvalue: 'user',\n\t\tdescription: 'quickMessageSendAsDesc',\n\t},\n\thandleContentLinks: {\n\t\ttitle: 'quickMessageHandleContentLinksTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageHandleContentLinksDesc',\n\t},\n\thandleSideLinks: {\n\t\ttitle: 'quickMessageHandleSideLinksTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageHandleSideLinksDesc',\n\t},\n\tlinkToCurrentPage: {\n\t\ttitle: 'quickMessageLinkToCurrentPageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'quickMessageLinkToCurrentPageDesc',\n\t},\n};\n\nconst lastSentAsStorage = Storage.wrapPrefix('RESmodules.quickMessage.lastSentAs.', () => (null: null | string));\n\nmodule.contentStart = () => {\n\tCommandLine.registerCommand(\n\t\t(cmd, val) => cmd === 'qm' && (/^(?:([^\\s]+)(?:\\s(.*))?)?$/).exec(val),\n\t\t'qm [recipient [message]] - open quick message dialog',\n\t\t(command, val, [, to, body]) => {\n\t\t\tif (body) {\n\t\t\t\treturn `quick message to ${to}: ${body}`;\n\t\t\t} else if (to) {\n\t\t\t\treturn `quick message to ${to}`;\n\t\t\t}\n\t\t\treturn 'quick message';\n\t\t},\n\t\t(command, val, [, to, body]) => {\n\t\t\topenQuickMessageDialog({ to, body });\n\t\t}\n\t);\n\n\t// global keyboard shortcut\n\twindow.addEventListener('keydown', e => {\n\t\tif (checkKeysForEvent(e, module.options.openQuickMessage.value)) {\n\t\t\te.preventDefault();\n\t\t\topenQuickMessageDialog();\n\t\t}\n\t}, true);\n\n\tif (module.options.handleContentLinks.value) {\n\t\t$('div.content[role=\"main\"]').on('click', 'a[href*=\"/message/compose\"]', messageLinkEventHandler);\n\t}\n\tif (module.options.handleSideLinks.value) {\n\t\t$('div.side').on('click', 'a[href*=\"/message/compose\"]', messageLinkEventHandler);\n\t}\n};\n\nconst quickMessageDialog = _.once(() => {\n\tconst $dialog = $(string.html`\n\t\t<div id=\"quickMessage\">\n\t\t\t<div id=\"quickMessageDialog\" class=\"RESDialogSmall\">\n\t\t\t\t<h3>Send Message<a class=\"gearIcon\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID)}\"></a></h3>\n\t\t\t\t<div id=\"quickMessageDialogClose\" class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t\t<div id=\"quickMessageDialogContents\" class=\"RESDialogContents clear\">\n\t\t\t\t\t<form name=\"quickMessageDialogForm\" action=\"\">\n\t\t\t\t\t\t<label for=\"quickMessageDialogFrom\">From</label>\n\t\t\t\t\t\t<select id=\"quickMessageDialogFrom\"></select>\n\t\t\t\t\t\t<label for=\"quickMessageDialogTo\">To</label>\n\t\t\t\t\t\t<input type=\"text\" id=\"quickMessageDialogTo\" value=\"\"/>\n\t\t\t\t\t\t<label for=\"quickMessageDialogSubject\">Subject</label>\n\t\t\t\t\t\t<input type=\"text\" id=\"quickMessageDialogSubject\" value=\"\"/>\n\t\t\t\t\t\t<label for=\"quickMessageDialogBody\">Body</label>\n\t\t\t\t\t\t<textarea id=\"quickMessageDialogBody\"></textarea>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t\t<input type=\"button\" id=\"quickMessageDialogSend\" value=\" send message\"/>\n\t\t\t\t\t\t<a href=\"/message/compose\" class=\"fullMessageForm blueButton\">open full message form</a>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`);\n\tconst from = downcast($dialog.find('#quickMessageDialogFrom').get(0), HTMLSelectElement);\n\tconst to = downcast($dialog.find('#quickMessageDialogTo').get(0), HTMLInputElement);\n\tconst subject = downcast($dialog.find('#quickMessageDialogSubject').get(0), HTMLInputElement);\n\tconst body = downcast($dialog.find('#quickMessageDialogBody').get(0), HTMLTextAreaElement);\n\n\t// close dialog with \"x\" button\n\t$dialog\n\t\t.find('#quickMessageDialogClose')\n\t\t.on('click', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tcloseQuickMessageDialog();\n\t\t});\n\n\t// close dialog with escape key\n\t$dialog\n\t\t.get(0)\n\t\t.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t\te.preventDefault();\n\t\t\t\tcloseQuickMessageDialog();\n\t\t\t}\n\t\t}, true);\n\n\t// send with \"send message\" button\n\t$dialog\n\t\t.find('#quickMessageDialogSend')\n\t\t.get(0)\n\t\t.addEventListener('click', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tsendMessage();\n\t\t}, true);\n\n\t// send with control-enter\n\tCommentTools.onCtrlEnter('#quickMessageDialog', sendMessage);\n\n\t// open full message form\n\t$dialog\n\t\t.find('a.fullMessageForm')\n\t\t// mousedown isn't fired if you tab over to the button\n\t\t.on('mousedown focus', e => { $(e.target).attr('href', getFullMessageFormUrl()); })\n\t\t.on('click', closeQuickMessageDialog);\n\n\t$dialog.find('a').on('keypress', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\t$(e.target).trigger('click');\n\t\t}\n\t});\n\n\t// show moderator shield when sending from subreddit and store the user's selection\n\tfrom.addEventListener('change', ({ target }) => {\n\t\tconst val: string = $(target).val();\n\t\tupdateModeratorIcon(val.startsWith('/r/'));\n\t\tconst loggedIn = loggedInUser();\n\t\tif (loggedIn) lastSentAsStorage.set(loggedIn, val);\n\t});\n\n\t$dialog.appendTo(document.body);\n\n\treturn { $dialog, from, to, subject, body };\n});\n\nfunction updateModeratorIcon(state) {\n\tquickMessageDialog().$dialog\n\t\t.find('label[for=quickMessageDialogFrom]')\n\t\t.toggleClass('moderator', state);\n}\n\nfunction messageLinkEventHandler<T: MouseEvent>(e: T) {\n\tconst { searchParams, pathname } = new URL(downcast(e.target, HTMLAnchorElement).href, location.href);\n\tconst hasModifier = e.ctrlKey || e.altKey || e.metaKey || e.shiftKey;\n\tif (e.button === 0 && !hasModifier && regexes.composeMessage.test(pathname)) {\n\t\te.preventDefault();\n\n\t\tconst srMatch = regexes.subreddit.exec(pathname);\n\n\t\topenQuickMessageDialog({\n\t\t\tfrom: srMatch ? `/r/${srMatch[1]}` : undefined,\n\t\t\tto: searchParams.get('to') || '',\n\t\t\tsubject: searchParams.get('subject') || '',\n\t\t\tbody: searchParams.get('message') || '',\n\t\t});\n\t\treturn true;\n\t}\n}\n\nexport function onClickMessageLink(event: MouseEvent) {\n\tif (!Modules.isRunning(module)) {\n\t\treturn false;\n\t}\n\treturn messageLinkEventHandler(event);\n}\n\nasync function getValidSendFrom() {\n\tconst username = loggedInUser();\n\n\tif (!username) {\n\t\treturn [];\n\t}\n\n\tconst users = [{\n\t\tname: `/u/${username}`,\n\t\tdisplayText: `/u/${Modules.isEnabled(UsernameHider) ? UsernameHider.getDisplayText(username) : username}`,\n\t}];\n\n\tif (isModeratorAnywhere()) {\n\t\tconst { data } = (await ajax({\n\t\t\turl: '/subreddits/mine/moderator.json',\n\t\t\tquery: {\n\t\t\t\tlimit: 1000,\n\t\t\t\tshow: 'all',\n\t\t\t\tuser: loggedInUser() || '', // for the cache\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: HOUR,\n\t\t}): RedditListing<RedditSubreddit>);\n\t\tconst modSubs = data.children.map(({ data }) => {\n\t\t\tconst name = data.url.slice(0, -1);\n\t\t\treturn { name, displayText: name };\n\t\t});\n\t\tusers.push(...modSubs);\n\t}\n\n\treturn users;\n}\n\nconst setUpSendFromDropdown = _.once(async () => {\n\tconst senders = await getValidSendFrom();\n\tfor (const { name, displayText } of senders) {\n\t\tconst currentOption = document.createElement('option');\n\t\tcurrentOption.value = name;\n\t\tcurrentOption.text = displayText;\n\t\tquickMessageDialog().from.add(currentOption);\n\t}\n\tquickMessageDialog().from.disabled = (senders.length < 2);\n});\n\nfunction focusFirstEmpty() {\n\t// $FlowIssue\n\tArray.from(quickMessageDialog().$dialog.find('input, textarea'))\n\t\t.find((ele, i, { length }) =>\n\t\t\t/*::\n\t\t\t\t(ele instanceof HTMLInputElement ||\n\t\t\t\tele instanceof HTMLTextAreaElement) &&\n\t\t\t*/\n\t\t\t!ele.value || i === length - 1)\n\t\t.focus();\n}\n\nasync function updateSelectedSender(desiredUser, loggedIn) {\n\tconst sendAsOptions = Array.from(quickMessageDialog().from.options).map(ele => $(ele).text().toLowerCase());\n\tlet indexToSelect = sendAsOptions.indexOf(desiredUser.toLowerCase());\n\n\tif (indexToSelect === -1) {\n\t\tswitch (module.options.sendAs.value) {\n\t\t\tcase 'sub':\n\t\t\t\tconst sub = currentSubreddit();\n\t\t\t\tif (sub) indexToSelect = sendAsOptions.indexOf(`/r/${sub.toLowerCase()}`);\n\t\t\t\tbreak;\n\t\t\tcase 'last':\n\t\t\t\tconst lastSelected = await lastSentAsStorage.get(loggedIn);\n\t\t\t\tif (lastSelected) {\n\t\t\t\t\tindexToSelect = sendAsOptions.indexOf(lastSelected.toLowerCase());\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'temporary':\n\t\t\t\tindexToSelect = quickMessageDialog().from.selectedIndex;\n\t\t\t\tbreak;\n\t\t\t// case 'user':\n\t\t\tdefault:\n\t\t\t\tindexToSelect = 0;\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tquickMessageDialog().from.selectedIndex = (indexToSelect !== -1 ? indexToSelect : 0);\n\tupdateModeratorIcon(quickMessageDialog().from.value.startsWith('/r/'));\n}\n\ntype QuickMessageDialogOptions = {\n\tfrom?: string,\n\tto?: string,\n\tsubject?: string,\n\tbody?: string,\n};\n\nexport async function openQuickMessageDialog({ from = '', to = '', subject = module.options.defaultSubject.value, body = module.options.linkToCurrentPage.value ? location.href : '' }: QuickMessageDialogOptions = {}): Promise<void> {\n\tconst loggedIn = loggedInUser();\n\n\tif (!loggedIn) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'quickMessage',\n\t\t\tnotificationID: 'quickMessageNoUser',\n\t\t\theader: 'Not Logged In.',\n\t\t\tcloseDelay: 3000,\n\t\t\tmessage: 'You must log in to use the quick message dialog.',\n\t\t});\n\t\treturn;\n\t}\n\n\tawait setUpSendFromDropdown();\n\n\tawait updateSelectedSender(from, loggedIn);\n\tquickMessageDialog().to.value = to;\n\tquickMessageDialog().subject.value = subject;\n\tquickMessageDialog().body.value = body;\n\n\tquickMessageDialog().$dialog.fadeIn(300);\n\n\tfocusFirstEmpty();\n}\n\nfunction closeQuickMessageDialog() {\n\tquickMessageDialog().$dialog.fadeOut(300);\n\n\t// remove focus from any input fields\n\tfor (const ele of quickMessageDialog().$dialog.find('input, textarea, button')) {\n\t\tele.blur();\n\t}\n}\n\nfunction getFullMessageFormUrl() {\n\tconst subreddit = quickMessageDialog().from.value.startsWith('/r/') ? quickMessageDialog().from.value : '';\n\treturn subreddit +\n\t\tstring.encode`/message/compose?to=${quickMessageDialog().to.value}&subject=${quickMessageDialog().subject.value}&message=${quickMessageDialog().body.value}`;\n}\n\nconst presetSendErrors = {\n\tNO_USER: 'No recipient specified.',\n\tNO_SUBJECT: 'No subject specified.',\n\tNO_TEXT: 'Message body is empty.',\n\tBAD_CAPTCHA: '<p>Sorry, reddit requires you to enter a captcha to send messages. This is usually because your account is brand new or has low karma.</p><b>Click on \"open full message form\" and try again (your message will be preserved).</b>',\n\tTOO_LONG: 'Either your subject (max 100 characters) or body (max 10,000 characters) is too long.',\n};\n\nasync function sendMessage() {\n\tconst from = quickMessageDialog().from.value;\n\n\ttry {\n\t\tconst { json: { errors } } = await ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: '/api/compose',\n\t\t\tdata: {\n\t\t\t\tapi_type: 'json',\n\t\t\t\tfrom_sr: from.includes('/r/') ? from.slice(3) : '',\n\t\t\t\tsubject: quickMessageDialog().subject.value,\n\t\t\t\ttext: quickMessageDialog().body.value,\n\t\t\t\tto: quickMessageDialog().to.value,\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tif (errors[0]) {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: 'quickMessage',\n\t\t\t\tnotificationID: 'quickMessageSendError',\n\t\t\t\theader: 'Message not sent.',\n\t\t\t\tcloseDelay: 15000,\n\t\t\t\tmessage: presetSendErrors[errors[0][0]] || `${errors[0][0]} : ${errors[0][1]}`, // errors[0][0] is the error name, [1] is reddit's description of the error\n\t\t\t});\n\t\t} else {\n\t\t\tcloseQuickMessageDialog();\n\t\t}\n\t} catch (e) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'quickMessage',\n\t\t\tnotificationID: 'failedToSendQuickMessage',\n\t\t\theader: 'Sending Failed!',\n\t\t\tcloseDelay: 15000,\n\t\t\tmessage: 'Reddit is likely under heavy load. Either wait a minute or click on \"open full message form\" and try again (your message will be preserved).',\n\t\t});\n\t\tthrow e;\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport {\n\tAlert,\n\tThing,\n\taddCSS,\n\tthrottle,\n\thashCode,\n\tisPageType,\n\tloggedInUser,\n\tgetUsernameFromLink,\n\twatchForElements,\n\twatchForThings,\n} from '../utils';\nimport { i18n } from '../environment';\nimport * as UserInfo from './userInfo';\n\nexport const module: Module<*> = new Module('userHighlight');\n\nmodule.moduleName = 'userHighlightName';\nmodule.category = 'usersCategory';\nmodule.description = 'userHighlightDesc';\nmodule.bodyClass = true;\nmodule.options = {\n\thighlightSelf: {\n\t\ttitle: 'userHighlightHighlightSelfTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightHighlightSelfDesc',\n\t},\n\tselfColor: {\n\t\ttitle: 'userHighlightSelfColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B8860B',\n\t\tdescription: 'userHighlightSelfColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightSelf.value,\n\t},\n\tselfColorHover: {\n\t\ttitle: 'userHighlightSelfColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#8A6508',\n\t\tdescription: 'userHighlightSelfColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightSelf.value,\n\t},\n\thighlightOP: {\n\t\ttitle: 'userHighlightHighlightOPTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightOPDesc',\n\t},\n\tOPColor: {\n\t\ttitle: 'userHighlightOPColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#0055DF',\n\t\tdescription: 'userHighlightOPColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOP.value,\n\t},\n\tOPColorHover: {\n\t\ttitle: 'userHighlightOPColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#4E7EAB',\n\t\tdescription: 'userHighlightOPColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOP.value,\n\t},\n\thighlightAdmin: {\n\t\ttitle: 'userHighlightHighlightAdminTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightAdminDesc',\n\t},\n\tadminColor: {\n\t\ttitle: 'userHighlightAdminColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FF0011',\n\t\tdescription: 'userHighlightAdminColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAdmin.value,\n\t},\n\tadminColorHover: {\n\t\ttitle: 'userHighlightAdminColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B3000C',\n\t\tdescription: 'userHighlightAdminColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAdmin.value,\n\t},\n\thighlightAlum: {\n\t\ttitle: 'userHighlightHighlightAlumTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightAlumDesc',\n\t},\n\talumColor: {\n\t\ttitle: 'userHighlightAlumColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#BE1337',\n\t\tdescription: 'userHighlightAlumColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAlum.value,\n\t},\n\talumColorHover: {\n\t\ttitle: 'userHighlightAlumColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#8F0E29',\n\t\tdescription: 'userHighlightAlumColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightAlum.value,\n\t},\n\thighlightFriend: {\n\t\ttitle: 'userHighlightHighlightFriendTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightFriendDesc',\n\t},\n\tfriendColor: {\n\t\ttitle: 'userHighlightFriendColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FF4500',\n\t\tdescription: 'userHighlightFriendColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFriend.value,\n\t},\n\tfriendColorHover: {\n\t\ttitle: 'userHighlightFriendColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#B33000',\n\t\tdescription: 'userHighlightFriendColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFriend.value,\n\t},\n\thighlightMod: {\n\t\ttitle: 'userHighlightHighlightModTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightHighlightModDesc',\n\t},\n\tmodColor: {\n\t\ttitle: 'userHighlightModColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#228822',\n\t\tdescription: 'userHighlightModColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightMod.value,\n\t},\n\tmodColorHover: {\n\t\ttitle: 'userHighlightModColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#134913',\n\t\tdescription: 'userHighlightModColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightMod.value,\n\t},\n\thighlightOpMentions: {\n\t\ttitle: 'userHighlightOpMentionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightOpMentionsDesc',\n\t},\n\topMentionsColor: {\n\t\ttitle: 'userHighlightOpMentionsColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#6D4731',\n\t\tdescription: 'userHighlightOpMentionsColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOpMentions.value,\n\t},\n\topMentionsHover: {\n\t\ttitle: 'userHighlightOpMentionsHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#C4946E',\n\t\tdescription: 'userHighlightOpMentionsHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightOpMentions.value,\n\t},\n\thighlightFirstCommenter: {\n\t\ttitle: 'userHighlightHighlightFirstCommenterTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightHighlightFirstCommenterDesc',\n\t},\n\tdontHighlightFirstComment: {\n\t\ttitle: 'userHighlightDontHighlightFirstCommentTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userHighlightDontHighlightFirstCommentDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfirstCommentColor: {\n\t\ttitle: 'userHighlightFirstCommentColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#46B6CC',\n\t\tdescription: 'userHighlightFirstCommentColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfirstCommentColorHover: {\n\t\ttitle: 'userHighlightFirstCommentColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#72D2E5',\n\t\tdescription: 'userHighlightFirstCommentColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightFirstCommenter.value,\n\t},\n\tfontColor: {\n\t\ttitle: 'userHighlightFontColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#FFFFFF',\n\t\tdescription: 'userHighlightFontColorDesc',\n\t\tadvanced: true,\n\t},\n\tautoColorUsernames: {\n\t\ttitle: 'userHighlightAutoColorUsernamesTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'userHighlightAutoColorUsernamesDesc',\n\t},\n\tautoColorUsing: {\n\t\ttitle: 'userHighlightAutoColorUsingTitle',\n\t\tdescription: 'userHighlightAutoColorUsingDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'hash-userid-notbright',\n\t\tvalues: [{\n\t\t\tname: 'Random color, not too bright, consistent for each user; night mode-friendly',\n\t\t\tvalue: 'hash-userid-notbright',\n\t\t}, {\n\t\t\tname: 'Simple random color, consistent for each user. (original)',\n\t\t\tvalue: 'hash-userid',\n\t\t}, {\n\t\t\tname: 'All black or, in night mode, all light gray.',\n\t\t\tvalue: 'monochrome',\n\t\t}],\n\t\tadvanced: true,\n\t\tdependsOn: options => options.autoColorUsernames.value,\n\t},\n\tgenerateHoverColors: {\n\t\ttitle: 'userHighlightGenerateHoverColorsTitle',\n\t\ttype: 'button',\n\t\ttext: 'Generate',\n\t\tcallback: generateHoverColors,\n\t\tdescription: 'userHighlightGenerateHoverColorsDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\t// Run these immediately since they add styles.\n\t// Adding styles would cause style recalculation at the end of every chunk, which is very expensive\n\n\tif (module.options.autoColorUsernames.value) {\n\t\twatchForThings(['post', 'comment', 'message'], updateNewUsernames, { immediate: true });\n\t}\n\n\tif (module.options.highlightFirstCommenter.value) {\n\t\twatchForThings(['comment'], updateFirstComments, { immediate: true });\n\t}\n\n\tif (module.options.highlightFriend.value) {\n\t\thighlight('friend', module.options.friendColor.value, module.options.friendColorHover.value);\n\t}\n\tif (module.options.highlightOP.value) {\n\t\thighlight('submitter', module.options.OPColor.value, module.options.OPColorHover.value);\n\t}\n\tif (module.options.highlightMod.value) {\n\t\thighlight('moderator', module.options.modColor.value, module.options.modColorHover.value);\n\t}\n\tif (module.options.highlightAdmin.value) {\n\t\thighlight('admin', module.options.adminColor.value, module.options.adminColorHover.value);\n\t}\n\tif (module.options.highlightAlum.value) {\n\t\thighlight('alum', module.options.alumColor.value, module.options.alumColorHover.value);\n\t}\n\n\tif (module.options.highlightOpMentions.value && isPageType('comments')) {\n\t\twatchForElements(['selfText'], null, selftext => {\n\t\t\tconst thing = Thing.from(selftext);\n\t\t\tconst author = thing && thing.getAuthor();\n\t\t\thighlightMentionedUsers(selftext, module.options.opMentionsColor.value, module.options.opMentionsHover.value, author);\n\t\t}, { immediate: true });\n\t}\n};\n\nmodule.contentStart = () => {\n\tconst username = loggedInUser();\n\tif (module.options.highlightSelf.value && username) {\n\t\thighlight(`author[href$=\"/${username}\"]`, module.options.selfColor.value, module.options.selfColorHover.value);\n\t}\n};\n\nfunction highlightMentionedUsers(element, color, hoverColor, ...exclude) {\n\tArray.from(element.querySelectorAll('a'))\n\t\t.map(getUsernameFromLink)\n\t\t.filter(Boolean)\n\t\t.filter(user => !exclude.includes(user))\n\t\t.forEach(user => highlight(`author[href$=\"/${user}\" i]`, color, hoverColor));\n}\n\nfunction updateFirstComments(thing) {\n\tif (!thing.isTopLevelComment()) return;\n\n\tconst idClass = Array.from(thing.element.classList).find(cls => cls.startsWith('id-t1_'));\n\tif (!idClass) return;\n\n\tconst author = thing.getAuthorElement();\n\tif (!author) return;\n\n\tconst authorClass = Array.from(author.classList).find(cls => cls.startsWith('id-t2_'));\n\n\tif (authorClass) {\n\t\tconst container = `.${idClass}${module.options.dontHighlightFirstComment.value ? ' .child' : ''}`;\n\t\thighlight(\n\t\t\tauthorClass,\n\t\t\tmodule.options.firstCommentColor.value,\n\t\t\tmodule.options.firstCommentColorHover.value,\n\t\t\tcontainer\n\t\t);\n\t}\n}\n\nfunction updateNewUsernames(thing) {\n\tconst element = thing.getAuthorElement();\n\tif (!element) return;\n\n\tconst idClass = Array.from(element.classList).find(cls => cls.startsWith('id-t2_'));\n\tif (!idClass) return;\n\n\tconst colorGetter = autoColorUsing[module.options.autoColorUsing.value];\n\tconst color = colorGetter(idClass);\n\n\tdoTextColor(idClass, color);\n}\n\nconst autoColorUsing = {\n\t'hash-userid-notbright'(idClass) {\n\t\tconst hash = hashCode(idClass);\n\n\t\t// With help from /u/Rangi42\n\n\t\tconst r = (hash & 0xFF0000) >> 16;\n\t\tconst g = (hash & 0x00FF00) >> 8;\n\t\tconst b = hash & 0x0000FF;\n\t\t// Luminance formula: http://stackoverflow.com/a/596243/70175\n\t\tconst lum = Math.round(r * 0.299 + g * 0.587 + b * 0.114);\n\t\tconst minLum = 0x66; // Night mode background is #191919 or #222222\n\t\tconst maxLum = 0xAA; // Regular background is #FFFFFF or #F7F7F8\n\n\t\tlet color = [r, g, b];\n\t\tlet nightmodeColor = [r, g, b];\n\t\tif (lum < minLum) {\n\t\t\tconst scale = minLum / lum;\n\t\t\tnightmodeColor = [\n\t\t\t\tMath.round(r * scale),\n\t\t\t\tMath.round(g * scale),\n\t\t\t\tMath.round(b * scale),\n\t\t\t];\n\t\t} else if (lum > maxLum) {\n\t\t\tconst scale = maxLum / lum;\n\t\t\tcolor = [\n\t\t\t\tMath.round(r * scale),\n\t\t\t\tMath.round(g * scale),\n\t\t\t\tMath.round(b * scale),\n\t\t\t];\n\t\t}\n\t\tcolor = `rgb(${color.join(',')})`;\n\t\tnightmodeColor = `rgb(${nightmodeColor.join(',')})`;\n\n\t\treturn {\n\t\t\tcolor,\n\t\t\tnightmodeColor,\n\t\t};\n\t},\n\t'hash-userid'(idClass) {\n\t\t// Choose color\n\t\tlet hash = 5381;\n\t\tfor (const char of idClass) {\n\t\t\thash = ((hash << 5) + hash) + char.charCodeAt(0);\n\t\t\t/* hash * 33 + c */\n\t\t}\n\n\t\tconst r = (hash & 0xFF0000) >> 16;\n\t\tconst g = (hash & 0x00FF00) >> 8;\n\t\tconst b = hash & 0x0000FF;\n\t\tconst color = `rgb(${[r, g, b].join(',')})`;\n\n\t\treturn {\n\t\t\tcolor,\n\t\t};\n\t},\n\tmonochrome() {\n\t\treturn {\n\t\t\tcolor: 'black',\n\t\t\tnightmodeColor: '#ccc',\n\t\t};\n\t},\n};\n\nexport function highlightUser(userid: string) {\n\treturn highlight(\n\t\t`author.id-t2_${userid}`,\n\t\tUserInfo.module.options.highlightColor.value,\n\t\tUserInfo.module.options.highlightColorHover.value\n\t);\n}\n\nconst css = [];\nconst throttled = throttle(() => { addCSS(css.splice(0, css.length).join('\\n')); });\nconst batch = v => { css.push(v); throttled(); };\n\nfunction highlight(selector, color, hoverColor, container = '') {\n\tbatch(`\n${container} .tagline .author.${selector},\n${container} .crosspost-preview-tagline .author.${selector} {\n\tcolor: ${module.options.fontColor.value} !important;\n\tfont-weight: bold;\n\tpadding: 0 2px 0 2px;\n\tborder-radius: 3px;\n\tbackground-color: ${color} !important;\n}\n${container} .collapsed .tagline .author.${selector},\n${container} .collapsed .crosspost-preview-tagline .author.${selector} {\n\tcolor: white !important;\n\tbackground-color: #AAA !important;\n}\n${container} .tagline .author.${selector}:hover,\n${container} .crosspost-preview-tagline .author.${selector}:hover {\n\tbackground-color: ${hoverColor} !important;\n\ttext-decoration: none !important;\n}\n\t`);\n}\n\nfunction doTextColor(selector, colorData) {\n\tconst color = colorData.color;\n\tconst nightmodeColor = colorData.nightmodeColor || colorData.color;\n\tbatch(`\n.tagline .author.${selector} {\n\tcolor: ${color} !important;\n}\n.res-nightmode .tagline .author.${selector} {\n\tcolor: ${nightmodeColor} !important;\n}\n\t`);\n}\n\nfunction generateHoverColor(color) { // generate a darker color\n\tif (!(/^#[0-9A-F]{6}$/i).test(color)) throw new Error('Input color must be a six digit hex value');\n\tlet R = parseInt(color.substr(1, 2), 16);\n\tlet G = parseInt(color.substr(3, 2), 16);\n\tlet B = parseInt(color.substr(5, 2), 16);\n\t// R = R + 0.25 *(255-R); // 25% lighter\n\tR = Math.round(0.75 * R) + 256; // we add 256 to add a 1 before the color in the hex format\n\tG = Math.round(0.75 * G) + 256; // then we remove the 1, this have for effect to\n\tB = Math.round(0.75 * B) + 256; // add a 0 before one char color in hex format (i.e. 0xA -> 0x10A -> 0x0A)\n\treturn `#${R.toString(16).substr(1)}${G.toString(16).substr(1)}${B.toString(16).substr(1)}`;\n}\n\nfunction generateHoverColors() { // apply generateHoverColor on all option\n\ttry {\n\t\tfor (const option of ['selfColor', 'OPColor', 'adminColor', 'friendColor', 'modColor', 'firstCommentColor', 'alumColor']) {\n\t\t\tconst current = (Options.stage.get(module.moduleID) || module.options)[option].value;\n\t\t\tOptions.set(module.moduleID, option, generateHoverColor(current));\n\t\t}\n\t\tAlert.open('Saved, but not yet updated in settings console. Reload page without saving to see new values.');\n\t} catch (e) {\n\t\tAlert.open(i18n('userHighlightColorCouldNotBeGenerated'));\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { ajax, i18n } from '../environment';\nimport * as Modules from '../core/modules';\nimport {\n\tclick,\n\tdowncast,\n\tformatDate,\n\tformatDateDiff,\n\tformatNumber,\n\tgetUserInfo,\n\tusernameSelector,\n\tgetUsernameFromLink,\n\tloggedInUser,\n\tstring,\n\tThing,\n} from '../utils';\nimport * as CommentNavigator from './commentNavigator';\nimport * as Hover from './hover';\nimport * as QuickMessage from './quickMessage';\nimport * as UserHighlight from './userHighlight';\nimport * as UserTagger from './userTagger';\n\nexport const module: Module<*> = new Module('userInfo');\n\nmodule.moduleName = 'userInfoName';\nmodule.category = 'usersCategory';\nmodule.description = 'userInfoDesc';\nmodule.options = {\n\thoverInfo: {\n\t\ttitle: 'userInfoHoverInfoTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoHoverInfoDesc',\n\t},\n\tuseQuickMessage: {\n\t\ttitle: 'userInfoUseQuickMessageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoUseQuickMessageDesc',\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thoverDelay: {\n\t\ttitle: 'userInfoHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '800',\n\t\tdescription: 'userInfoHoverDelayDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'userInfoFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'userInfoFadeDelayDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'userInfoFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'userInfoFadeSpeedDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\tgildComments: {\n\t\ttitle: 'userInfoGildCommentsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoGildCommentsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thighlightButton: {\n\t\ttitle: 'userInfoHighlightButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'userInfoHighlightButtonDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.hoverInfo.value,\n\t},\n\thighlightColor: {\n\t\ttitle: 'userInfoHighlightColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#5544CC',\n\t\tdescription: 'userInfoHighlightColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightButton.value,\n\t},\n\thighlightColorHover: {\n\t\ttitle: 'userInfoHighlightColorHoverTitle',\n\t\ttype: 'color',\n\t\tvalue: '#6677AA',\n\t\tdescription: 'userInfoHighlightColorHoverDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.highlightButton.value,\n\t},\n};\n\nexport const highlightedUsers = {};\n\nmodule.contentStart = () => {\n\tif (module.options.hoverInfo.value) {\n\t\tHover.infocard(module.moduleID)\n\t\t\t.options({\n\t\t\t\twidth: 475,\n\t\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t})\n\t\t\t.populateWith(showUserInfo)\n\t\t\t.watch(usernameSelector);\n\t}\n};\n\nasync function showUserInfo(card) {\n\tconst username = getUsernameFromLink(card.getCheckedTarget());\n\n\tif (!username) {\n\t\tconsole.error(i18n('userInfoInvalidUsernameLink'));\n\t\treturn;\n\t}\n\n\tconst thing = Thing.from(card.getCheckedTarget());\n\tlet data;\n\n\ttry {\n\t\t({ data } = await getUserInfo(username));\n\t} catch (e) {\n\t\treturn [null, i18n('userInfoUserNotFound')];\n\t}\n\n\tif (data.is_suspended) {\n\t\treturn [null, i18n('userInfoUserSuspended')];\n\t}\n\n\tconst d = new Date(data.created_utc * 1000);\n\n\tconst header = string.html`\n\t\t<div>\n\t\t\t<a href=\"/user/${data.name}\">/u/${data.name}</a>\n\t\t \t(<a href=\"/user/${data.name}/submitted/\">${i18n('userInfoLinks')}</a>)\n\t\t \t(<a href=\"/user/${data.name}/comments/\">${i18n('userInfoComments')}</a>)\n\t\t</div>\n\t`;\n\n\tif (loggedInUser()) {\n\t\t// Add friend button to header.\n\t\tconst friendButton = string.html`\n\t\t\t<span class=\"fancy-toggle-button toggle\" style=\"display: inline-block; margin-left: 12px;\">\n\t\t\t\t<a class=\"option active ${data.is_friend ? 'remove' : 'add'}\" href=\"#\" tabindex=\"100\">${i18n('userInfoAddRemoveFriends', data.is_friend ? '-' : '+')}</a>\n\t\t\t</span>\n\t\t`;\n\n\t\tfriendButton.addEventListener('click', async (e: MouseEvent) => {\n\t\t\tif (e.target.tagName !== 'A') return;\n\t\t\te.preventDefault();\n\t\t\tconst $link = $(e.target);\n\t\t\tconst isRemove = $link.hasClass('remove');\n\t\t\tawait ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: `/api/${isRemove ? 'unfriend' : 'friend'}`,\n\t\t\t\tdata: {\n\t\t\t\t\ttype: 'friend',\n\t\t\t\t\tname: data.name,\n\t\t\t\t\tcontainer: `t2_${(await getUserInfo()).data.id}`,\n\t\t\t\t},\n\t\t\t});\n\t\t\t$link\n\t\t\t\t.toggleClass('remove', !isRemove)\n\t\t\t\t.toggleClass('add', isRemove)\n\t\t\t\t.text(`${isRemove ? '+' : '-'} friends`);\n\t\t\t// The cache is now outdated, so expire it.\n\t\t\tajax.invalidate({ url: `/user/${data.name}/about.json` });\n\t\t});\n\n\t\theader.appendChild(friendButton);\n\t}\n\n\tcard.populate([header]);\n\n\tconst $body = $('<div id=\"authorInfoToolTip\" />');\n\n\tlet userHTML = string.escape`\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoRedditorSince')}</div> <div class=\"fieldPair-text\">${formatDate(d)} (${formatDateDiff(d)})</div></div>\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoPostKarma')}</div> <div class=\"fieldPair-text\">${formatNumber(data.link_karma)}</div></div>\n\t\t<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoCommentKarma')}</div> <div class=\"fieldPair-text\">${formatNumber(data.comment_karma)}</div></div>\n\t`;\n\n\tconst userTaggerEnabled = Modules.isRunning(UserTagger);\n\tconst userTag = userTaggerEnabled && await UserTagger.Tag.get(data.name);\n\n\tif (userTaggerEnabled) {\n\t\tuserHTML += `<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoUserTag')}</div> <div class=\"fieldPair-text\" style=\"display:flex\"><a class=\"author\" style=\"display: none;\" href=\"/u/${data.name}\"/></div></div>`;\n\t}\n\n\tif (userTag && userTag.link) {\n\t\tconst links = userTag.link.split(/\\s/).reduce((acc, url) => acc + string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" href=\"${url}\">${url.replace(/^https?:\\/\\/(www\\.)?/, '')}</a>`, '');\n\t\tuserHTML += `<div class=\"fieldPair\"><div class=\"fieldPair-label\">${i18n('userInfoLink')}</div> <div class=\"fieldPair-text\">${links}</div></div>`;\n\t}\n\n\tuserHTML += string.escape`\n\t\t<div class=\"clear\"></div>\n\t\t<div class=\"bottomButtons\">\n\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" class=\"blueButton composeButton\" href=\"/message/compose/?to=${data.name}\"><img src=\"https://redditstatic.s3.amazonaws.com/mailgray.png\"> ${i18n('userInfoSendMessage')}</a>\n\t`;\n\n\tif (data.is_gold) {\n\t\tuserHTML += string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" class=\"blueButton\" href=\"/gold/about\">${i18n('userInfoUserHasRedditGold')}</a>`;\n\t} else {\n\t\tuserHTML += string.escape`<a target=\"_blank\" rel=\"noopener noreferer\" id=\"gildUser\" class=\"blueButton\" href=\"/gold?goldtype=gift&recipient=${data.name}\">${i18n('userInfoGiftRedditGold')}</a>`;\n\t}\n\n\tif (module.options.highlightButton.value) {\n\t\tconst isHighlight = !highlightedUsers[data.id];\n\t\tuserHTML += string.escape`<div class=\"${isHighlight ? 'blueButton' : 'redButton'}\" id=\"highlightUser\" data-userid=\"${data.id}\">${isHighlight ? i18n('userInfoHighlight') : i18n('userInfoUnhighlight')}</div>`;\n\t}\n\n\tif (userTag) {\n\t\tconst getButton = () => string.html`<div class=\"${userTag.ignored ? 'redButton' : 'blueButton'}\" id=\"ignoreUser\">&empty; ${userTag.ignored ? i18n('userInfoUnignore') : i18n('userInfoIgnore')}</div>`;\n\n\t\t$body.on('click', '#ignoreUser', (e: Event) => {\n\t\t\tif (e.target.classList.contains('blueButton')) userTag.ignore();\n\t\t\telse userTag.unignore();\n\t\t\te.target.replaceWith(getButton());\n\t\t});\n\n\t\tuserHTML += getButton().outerHTML;\n\t}\n\n\tuserHTML += '<div class=\"clear\"></div></div>'; // closes bottomButtons div\n\n\t$body.append(userHTML);\n\n\tif (userTag) {\n\t\tuserTag.add(downcast($body.find('.author').get(0), HTMLAnchorElement), { renderTaggingIcon: true });\n\t}\n\n\tif (module.options.highlightButton.value) {\n\t\t$body.find('#highlightUser').on('click', ({ target }: Event) => {\n\t\t\tconst userid = target.getAttribute('data-userid');\n\t\t\ttoggleUserHighlight(target, userid, thing);\n\t\t});\n\t}\n\tif (module.options.gildComments.value && thing && thing.isComment()) {\n\t\t$body.find('#gildUser').on('click', (e: MouseEvent) => {\n\t\t\tif (!thing || e.ctrlKey || e.metaKey || e.shiftKey) return;\n\n\t\t\tcard.close();\n\t\t\tconst giveGold = thing.entry.querySelector('.give-gold');\n\t\t\tclick(giveGold);\n\t\t\te.preventDefault();\n\t\t});\n\t}\n\n\tif (module.options.useQuickMessage.value && Modules.isRunning(QuickMessage)) {\n\t\t$body.find('a.composeButton').on('click', (e: JQueryMouseEventObject) => {\n\t\t\tif (e.which === 1) {\n\t\t\t\te.preventDefault();\n\n\t\t\t\tlet entryUrl;\n\t\t\t\tif (QuickMessage.module.options.linkToCurrentPage.value && thing) {\n\t\t\t\t\tconst permalink = thing.getCommentPermalink();\n\t\t\t\t\tif (permalink) {\n\t\t\t\t\t\tentryUrl = permalink.href;\n\t\t\t\t\t\tif (!entryUrl.includes('?context=')) entryUrl += '?context=10';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tQuickMessage.openQuickMessageDialog({\n\t\t\t\t\tto: data.name,\n\t\t\t\t\tbody: entryUrl,\n\t\t\t\t});\n\t\t\t\tcard.close();\n\t\t\t}\n\t\t});\n\t}\n\n\treturn [null, $body];\n}\n\nfunction toggleUserHighlight(authorInfoToolTipHighlight, userid, thing) {\n\tif (highlightedUsers[userid]) {\n\t\thighlightedUsers[userid].remove();\n\t\tdelete highlightedUsers[userid];\n\t\ttoggleUserHighlightButton(authorInfoToolTipHighlight, true);\n\t} else {\n\t\thighlightedUsers[userid] = UserHighlight.highlightUser(userid);\n\t\ttoggleUserHighlightButton(authorInfoToolTipHighlight, false);\n\t}\n\n\tif (Modules.isRunning(CommentNavigator) && CommentNavigator.module.options.openOnHighlightUser.value) {\n\t\tCommentNavigator.setCategory('highlighted', true);\n\t\tif (thing) CommentNavigator.updateFromSelected(thing);\n\t\tCommentNavigator.toggle(false, true);\n\t}\n}\n\nfunction toggleUserHighlightButton(authorInfoToolTipHighlight, canHighlight) {\n\t$(authorInfoToolTipHighlight)\n\t\t.toggleClass('blueButton', canHighlight)\n\t\t.toggleClass('redButton', !canHighlight)\n\t\t.text(canHighlight ? i18n('userInfoHighlight') : i18n('userInfoUnhighlight'));\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { SelectedThing, addFloater, isPageType, string } from '../utils';\nimport * as SettingsNavigation from './settingsNavigation';\nimport { Expando } from './showImages/expando';\n\nexport const module: Module<*> = new Module('wheelBrowse');\n\nmodule.moduleName = 'wheelBrowseName';\nmodule.category = 'browsingCategory';\nmodule.description = 'wheelBrowseDesc';\n\nlet behavior: ?(HTMLElement => (('down' | 'up', Event) => void));\n\nmodule.contentStart = () => {\n\tif (!behavior && isPageType('linklist')) useLinklistBehavior();\n\tif (!behavior) return;\n\n\tconst wheelBrowseWidget = string.html`<div hidden class=\"res-wheel-browse\"></div>`;\n\n\tconst onWheel = behavior(wheelBrowseWidget);\n\n\tSelectedThing.addListener(current => {\n\t\twheelBrowseWidget.hidden = !current;\n\t}, 'instantly');\n\n\twheelBrowseWidget.addEventListener('wheel', (e: WheelEvent) => {\n\t\te.stopImmediatePropagation();\n\t\te.preventDefault();\n\t\tonWheel(e.deltaY > 0 ? 'down' : 'up', e);\n\t});\n\n\taddFloater(wheelBrowseWidget, { order: -1 });\n};\n\nexport function setCallback(v: typeof behavior) {\n\tbehavior = v;\n}\n\nfunction useLinklistBehavior() {\n\tconst galleryPart = string.html`<div hidden class=\"res-wheel-browse-gallery\"></div>`;\n\tlet media;\n\n\tfunction updateGalleryPart(direction?: 'up' | 'down') {\n\t\tconst expando = Expando.getEntryExpandoFrom(SelectedThing.current);\n\t\tmedia = expando && expando.media;\n\n\t\tgalleryPart.hidden = !(\n\t\t\tmedia &&\n\t\t\tmedia.element.classList.contains('res-gallery-slideshow') &&\n\t\t\t( // Do not show the gallery scroll widget when at the end of the gallery\n\t\t\t\t!(direction === 'down' && media.element.querySelector('[last-piece=true]')) &&\n\t\t\t\t!(direction === 'up' && media.element.querySelector('[first-piece=true]'))\n\t\t\t)\n\t\t);\n\t}\n\n\tsetCallback(wheelBrowseWidget => {\n\t\twheelBrowseWidget.addEventListener('click', () => SettingsNavigation.open(module.moduleID));\n\t\twheelBrowseWidget.addEventListener('mouseenter', () => { updateGalleryPart(); });\n\t\twheelBrowseWidget.append(galleryPart);\n\n\t\treturn (direction, { target }) => {\n\t\t\tif (target === wheelBrowseWidget) {\n\t\t\t\tSelectedThing.move(direction, { allowMediaBrowse: true, scrollStyle: 'top' });\n\t\t\t} else if (target === galleryPart) {\n\t\t\t\tconst clicker = media && media.element.querySelector(direction === 'down' ? '.res-gallery-next' : '.res-gallery-previous');\n\t\t\t\tif (clicker) clicker.click();\n\t\t\t\tupdateGalleryPart(direction);\n\t\t\t}\n\t\t};\n\t});\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { flow, map } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport {\n\tSelectedThing,\n\tThing,\n\taddFloater,\n\tcaseBuilder,\n\tdowncast,\n\tfilterMap,\n\tframeThrottle,\n\tstring,\n\tisCurrentSubreddit,\n\tempty,\n\twatchForThings,\n} from '../utils';\nimport * as Options from '../core/options';\nimport * as Cases from './filteReddit/cases';\nimport * as CommandLine from './commandLine';\nimport * as UserInfo from './userInfo';\nimport * as WheelBrowse from './wheelBrowse';\n\nexport const module: Module<*> = new Module('commentNavigator');\n\nmodule.moduleName = 'commentNavName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentNavDesc';\nmodule.options = {\n\tshowByDefault: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentNavigatorShowByDefaultDesc',\n\t\ttitle: 'commentNavigatorShowByDefaultTitle',\n\t},\n\topenOnHighlightUser: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentNavigatorOpenOnHighlightUserDesc',\n\t\ttitle: 'commentNavigatorOpenOnHighlightUserTitle',\n\t\tadvanced: true,\n\t},\n\tpopularConditions: {\n\t\ttype: 'text',\n\t\tvalue: JSON.stringify({ type: 'commentLength', op: '>', kind: 'words', val: 0 }),\n\t\tdescription: 'commentNavigatorPopularConditionsDesc',\n\t\ttitle: 'commentNavigatorPopularConditionsTitle',\n\t\tadvanced: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nmodule.contentStart = () => {\n\tinstallEntryElement();\n\n\tif (module.options.showByDefault.value) {\n\t\tcommentNav();\n\t}\n\n\tWheelBrowse.setCallback(wheelBrowseWidget => {\n\t\twheelBrowseWidget.addEventListener('click', () => { toggle(); });\n\n\t\treturn direction => {\n\t\t\tif (direction === 'up') move('up');\n\t\t\telse move('down');\n\t\t};\n\t});\n\n\tconst getMatchingCategory = async val => val && (await getCategories()).find(({ category }) => category.startsWith(val));\n\tCommandLine.registerCommand('nav', 'nav [sortType] - open the comment navigator',\n\t\tasync (command, val) => {\n\t\t\tconst { category: matchingCategory = '' } = await getMatchingCategory(val) || {};\n\t\t\treturn `navigate comments by [(${(await getCategories()).map(({ category }) => matchingCategory === category ? `<b>${category}</b>` : category).join('|')})]`;\n\t\t},\n\t\tasync (command, val) => {\n\t\t\tconst { category: matchingCategory = '' } = await getMatchingCategory(val) || {};\n\t\t\tif (matchingCategory) setCategory(matchingCategory);\n\t\t\ttoggle(false, true);\n\t\t}\n\t);\n};\n\nconst initialize = _.once(() => {\n\t// `getPosts` is memoized. Keep up to date by reseting it when new comments loads\n\twatchForThings(['comment'], () => { _memoized.cache.clear(); });\n\n\tSelectedThing.addListener(updateFromSelected, 'instantly');\n\tif (SelectedThing.current) updateFromSelected(SelectedThing.current);\n});\n\nconst sortTypes: {\n\t[string]: {|\n\t\ttitle: string,\n\t\tgetElements?: () => Array<HTMLElement> | NodeList<*>,\n\t\tgetThings?: () => Promise<Array<Thing>>,\n\t\tconditions?: *, // Used in conjunction with filteReddit\n\t\tnonlinear?: boolean,\n\t\tdisabled?: () => boolean,\n\t|},\n} = {\n\tcustom: {\n\t\ttitle: 'Navigate custom category',\n\t\tconditions: { type: 'false' }, // Must be updated by `updateCustomCategory`\n\t},\n\tcomment: {\n\t\ttitle: 'Navigate comments',\n\t\tconditions: { type: 'true' },\n\t},\n\tsubmitter: {\n\t\ttitle: 'Navigate comments made by the post submitter',\n\t\tconditions: { type: 'userAttr', attr: 'submitter' },\n\t},\n\tmoderator: {\n\t\ttitle: 'Navigate comments made by moderators',\n\t\tconditions: { type: 'userAttr', attr: 'moderator' },\n\t},\n\tfriend: {\n\t\ttitle: 'Navigate comments made by users on your friends list',\n\t\tconditions: { type: 'userAttr', attr: 'friend' },\n\t},\n\tme: {\n\t\ttitle: 'Navigate comments made by you',\n\t\tconditions: { type: 'userAttr', attr: 'me' },\n\t},\n\tadmin: {\n\t\ttitle: 'Navigate comments made by reddit admins',\n\t\tconditions: { type: 'userAttr', attr: 'admin' },\n\t},\n\thighlighted: {\n\t\ttitle: 'Navigate comments made by highlighted user',\n\t\tgetElements() {\n\t\t\tconst highlightedUserSelector = Object.keys(UserInfo.highlightedUsers)\n\t\t\t\t.map(key => `.author.id-t2_${key}`)\n\t\t\t\t.join(', ');\n\t\t\treturn highlightedUserSelector ? document.querySelectorAll(highlightedUserSelector) : [];\n\t\t},\n\t},\n\ttagged: {\n\t\ttitle: 'Navigate comments made by tagged users',\n\t\tgetElements: () => document.querySelectorAll('.tagline .userTagLink.hasTag'),\n\t},\n\tgilded: {\n\t\ttitle: 'Navigate through gilded comments',\n\t\tgetElements: () => document.querySelectorAll('.gilded-icon'),\n\t},\n\tIAmA: {\n\t\ttitle: 'Navigate through questions that have been answered by the submitter (most useful in /r/IAmA)',\n\t\tgetThings: async () => filterMap(await getPosts('submitter'), thing => thing.parent ? [thing.parent] : undefined),\n\t},\n\timages: {\n\t\ttitle: 'Navigate through comments with images',\n\t\tconditions: { type: 'hasExpando', types: ['image'] },\n\t},\n\tvideos: {\n\t\ttitle: 'Navigate through comments with videos',\n\t\tconditions: { type: 'hasExpando', types: ['video'] },\n\t},\n\tpopular: {\n\t\ttitle: 'Navigate through comments in order of highest vote total',\n\t\tasync getThings() {\n\t\t\treturn flow(\n\t\t\t\tfilterMap(thing => {\n\t\t\t\t\tconst score = thing.getScore();\n\t\t\t\t\tif (typeof score === 'number') {\n\t\t\t\t\t\treturn [[score, thing]];\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\tarr => arr.sort((a, b) => b[0] - a[0]),\n\t\t\t\tmap(([, thing]) => thing),\n\t\t\t)(await getPosts('comment'));\n\t\t},\n\t\tget conditions() { return JSON.parse(module.options.popularConditions.value); },\n\t\tnonlinear: true,\n\t},\n\tnew: {\n\t\ttitle: 'Navigate through new comments (Reddit Gold users only)',\n\t\tgetElements: () => document.querySelectorAll('.new-comment'),\n\t\tdisabled: () => !document.body.querySelector('.gold-accent.comment-visits-box'),\n\t},\n\tupvoted: {\n\t\ttitle: 'Navigate through comments you upvoted',\n\t\tconditions: { type: 'voteType', kind: 'upvote' },\n\t},\n};\n\nexport function updateCustomConditions(conditions: *) {\n\tsortTypes.custom.conditions = conditions;\n}\n\nfunction getCategories() {\n\treturn Promise.all(\n\t\tObject.entries(sortTypes)\n\t\t\t.filter(([, { disabled }]) => !disabled || !disabled())\n\t\t\t.map(async ([category, { title }]) => ({\n\t\t\t\tcategory,\n\t\t\t\tselected: category === currentCategory,\n\t\t\t\tsize: (await getVisiblePosts(category)).length,\n\t\t\t\ttitle,\n\t\t\t}))\n\t).then(v =>\n\t\tv.filter(({ size, selected }) => selected || size)\n\t);\n}\n\nconst _memoized = _.memoize(async (category: Category): Promise<Thing[]> => {\n\tconst { getElements, getThings, conditions } = sortTypes[category];\n\n\tlet things;\n\n\tif (getThings) {\n\t\tthings = _.uniq(await getThings());\n\t} else if (getElements) {\n\t\tthings = _.uniq(Array.from(getElements()).map(e => Thing.from(e)).filter(Boolean));\n\t} else {\n\t\tthings = Thing.things().filter(thing => thing.isComment());\n\t}\n\n\treturn Cases.filterThings(things, conditions);\n});\nconst getPosts = (category: Category = currentCategory) => _memoized(category);\nconst getVisiblePosts = category => getPosts(category).then(v => v.filter(thing => thing.isContentVisible()));\nlet lastNavigatedTo: ?Thing = null;\n\ntype Category = $Keys<typeof sortTypes>;\nlet currentCategory: Category = isCurrentSubreddit('IAmA', 'casualiama') ? 'IAmA' : 'popular';\nlet isOpen = false;\n\nconst commentNav = _.once(() => {\n\tconst box = string.html`\n\t\t<div id=\"REScommentNavBox\">\n\t\t\t<select id=\"commentNavBy\">\n\t\t\t\t<option selected value=\"${currentCategory}\">${currentCategory}</option>\n\t\t\t</select>\n\t\t\t<details id=\"commentNavByConditions\" hidden>\n\t\t\t\t<summary>Conditions</summary>\n\t\t<div class=\"builderItem\"></div>\n\t\t\t</details>\n\t\t\t<hr style=\"margin-bottom: 0\">\n\t\t\t<div id=\"commentNavButtons\">\n\t\t\t\t<button id=\"commentNavUp\">&#x25B2;</button>\n\t\t\t\t<div id=\"commentNavPostCount\"></div>\n\t\t\t\t<button id=\"commentNavDown\">&#x25BC;</button>\n\t\t\t</div>\n\t\t</div>\n\t`;\n\n\tconst select = downcast(box.querySelector('#commentNavBy'), HTMLSelectElement);\n\n\tselect.addEventListener('focus', async () => {\n\t\tempty(select);\n\t\tconst categories = await getCategories();\n\t\tselect.append(\n\t\t\t...categories.map(({ category, selected, size }) => string.html`\n\t\t\t\t<option ${selected && 'selected'} value=\"${category}\">${category}<span> (${size})</span></option>\n\t\t\t`)\n\t\t);\n\t}, true);\n\tselect.addEventListener('keyup', ({ which }: KeyboardEvent) => { if (which === 27 /* esc */) select.blur(); });\n\tselect.addEventListener('change', () => {\n\t\tconst selectedItem = select.options.item(select.selectedIndex);\n\t\tif (selectedItem !== null) {\n\t\t\tsetCategory(selectedItem.value);\n\t\t}\n\t\tupdateBuilder();\n\t});\n\n\tconst postCount = box.querySelector('#commentNavPostCount');\n\tpostCount.addEventListener('click', () => moveTo(lastNavigatedTo));\n\tconst up = downcast(box.querySelector('#commentNavUp'), HTMLButtonElement);\n\tup.addEventListener('click', () => move('up'));\n\tconst down = downcast(box.querySelector('#commentNavDown'), HTMLButtonElement);\n\tdown.addEventListener('click', () => move('down'));\n\n\taddFloater(box, { separate: true });\n\n\tconst ele = box.querySelector('#commentNavByConditions');\n\tele.addEventListener('click', _.once(() => {\n\t\tconst builderCases = Cases.getByContext('comment');\n\t\tconst group = Cases.resolveGroup(Cases.getGroup('any', [sortTypes[currentCategory].conditions]), true, true);\n\t\tconst $builderBlock = caseBuilder.drawBuilderBlock(group, builderCases, false);\n\t\t$builderBlock.on('change input', frameThrottle(() => {\n\t\t\tmodule.options.popularConditions.value = JSON.stringify(caseBuilder.readBuilderBlock($builderBlock, builderCases));\n\t\t\tOptions.save(module.options.popularConditions);\n\t\t\tsetCategory(currentCategory, true);\n\t\t}));\n\t\tconst wrapper = ele.querySelector('.builderItem');\n\t\twrapper.append($builderBlock.get(0));\n\t}));\n\n\tconst updateBuilder = () => {\n\t\tele.hidden = currentCategory !== 'popular';\n\t};\n\n\tfunction refresh(index, length, lastNavigatedToIndex) {\n\t\tup.disabled = lastNavigatedToIndex <= 0;\n\t\tdown.disabled = lastNavigatedToIndex >= length - 1;\n\t\tpostCount.textContent = length ? `${lastNavigatedToIndex === index ? '' : '~'}${lastNavigatedToIndex + 1}/${length}` : 'none';\n\t}\n\n\tfunction open() { isOpen = true; box.hidden = false; }\n\tfunction close() { isOpen = false; box.hidden = true; }\n\n\tinitialize();\n\tupdateBuilder();\n\tisOpen = true;\n\n\treturn {\n\t\tselect,\n\t\trefresh,\n\t\topen,\n\t\tclose,\n\t};\n});\n\nfunction installEntryElement() {\n\tconst location = document.body.querySelector('.commentarea .panestack-title');\n\tif (!location) return;\n\n\tconst commentNavToggle = string.html`<div class=\"res-commentNavToggle\">navigate by</div>`;\n\tconst choices = string.html`<div class=\"res-commentNavToggle-choices\"><div>`;\n\tcommentNavToggle.append(choices);\n\tlocation.append(commentNavToggle);\n\n\tcommentNavToggle.addEventListener('mouseenter', async () => {\n\t\tempty(choices);\n\t\tconst categories = await getCategories();\n\t\tchoices.append(...categories.map(({ category, title, size }) => {\n\t\t\tconst element = string.html`\n\t\t\t\t<div class=\"res-commentNavToggle-type\" title=\"${title}\" category=\"${category}\">${category} (${size})</div>\n\t\t\t`;\n\t\t\telement.addEventListener('click', () => { setCategory(category); });\n\t\t\treturn element;\n\t\t}));\n\t});\n}\n\nexport async function updateFromSelected(selected: Thing) {\n\tconst posts = await getVisiblePosts();\n\n\tif (\n\t\tposts.includes(selected) &&\n\t\t(\n\t\t\t// Non-linear comment categories are not sorted by distance from top,\n\t\t\t// so do not disturb the selection by automatically updating\n\t\t\t!sortTypes[currentCategory].nonlinear ||\n\t\t\t// But allow change if `selected` is adjecent to `lastNavigatedTo`\n\t\t\tMath.abs(posts.indexOf(lastNavigatedTo) - posts.indexOf(selected)) <= 1\n\t\t)\n\t) {\n\t\tlastNavigatedTo = selected;\n\t}\n\n\tcommentNav().refresh(posts.indexOf(selected), posts.length, posts.indexOf(lastNavigatedTo));\n}\n\nexport function setCategory(category: Category, keepSelected: boolean = false) {\n\tcurrentCategory = category;\n\tlastNavigatedTo = null;\n\n\tcommentNav().select.value = category;\n\n\t_memoized.cache.delete(currentCategory);\n\n\tif (keepSelected) {\n\t\tmove('refresh');\n\t} else {\n\t\tmove('top');\n\t}\n}\n\nexport function toggle(focus: boolean = false, open: boolean = !isOpen) {\n\tif (!open) {\n\t\tcommentNav().close();\n\t} else {\n\t\tcommentNav().open();\n\t\tif (focus) commentNav().select.focus();\n\t}\n}\n\nexport async function move(change: 'up' | 'down' | 'top' | 'refresh') {\n\tinitialize();\n\n\tif (!sortTypes[currentCategory].nonlinear) {\n\t\t// Return to the last navigated post if currently moved beyond it in the opposite direction\n\t\tconst all = Thing.things();\n\t\tconst lastNavigatedToIndex = all.indexOf(lastNavigatedTo);\n\t\tconst selectedIndex = all.indexOf(SelectedThing.current);\n\n\t\tif (\n\t\t\tchange === 'down' && selectedIndex < lastNavigatedToIndex ||\n\t\t\tchange === 'up' && selectedIndex > lastNavigatedToIndex\n\t\t) {\n\t\t\tmoveTo(lastNavigatedTo);\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst visible = await getVisiblePosts();\n\n\tif (change === 'top') {\n\t\tmoveTo(visible[0]);\n\t} else {\n\t\t// Look through all posts in case the current post is not visible anymore\n\t\tconst all = [...(await getPosts())]; // Prevent `reverse` from mutatating source\n\t\tif (change === 'up') all.reverse();\n\t\tconst comment = all.slice(all.indexOf(lastNavigatedTo) + (change === 'refresh' ? 0 : 1)).find(v => visible.includes(v));\n\t\tmoveTo(comment);\n\t}\n}\n\nfunction moveTo(thing: ?Thing) {\n\tif (!thing) return;\n\n\tlastNavigatedTo = thing;\n\t// Force selection to run callbacks in case `thing` is already selected\n\tSelectedThing.set(thing, { scrollStyle: 'top' }, true);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('easterEgg');\n\nmodule.moduleName = 'easterEggName';\nmodule.category = 'coreCategory';\nmodule.description = 'easterEggDesc';\nmodule.hidden = true;\n\nlet konami;\n\nmodule.contentStart = () => {\n\tkonami = createKonami(() => {\n\t\tconst $baconBit = $('<div>', { id: 'baconBit' }).appendTo(document.body);\n\t\tNotifications.showNotification({\n\t\t\theader: 'RES Easter Eggies!',\n\t\t\tmessage: 'Mmm, bacon!',\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: 'konami',\n\t\t});\n\t\tsetTimeout(() => $baconBit.addClass('makeitrain'), 500);\n\t});\n};\n\nexport function konamiActive(): boolean {\n\treturn !!konami && konami.almostThere;\n}\n\n/*\n * Konami-JS ~\n * :: Now with support for touch events and multiple instances for\n * :: those situations that call for multiple easter eggs!\n * Code: https://github.com/snaptortoise/konami-js\n * Examples: http://www.snaptortoise.com/konami-js\n * Copyright (c) 2009 George Mandis (georgemandis.com, snaptortoise.com)\n * Version: 1.4.6 (3/2/2016)\n * Licensed under the MIT License (http://opensource.org/licenses/MIT)\n * Tested in: Safari 4+, Google Chrome 4+, Firefox 3+, IE7+, Mobile Safari 2.2.1 and Dolphin Browser\n */\nfunction createKonami(callback) {\n\tconst konami = {\n\t\tinput: '',\n\t\tpattern: '38384040373937396665',\n\t\talmostThere: false,\n\t\tprepattern: '383840403739373966',\n\t\tload: () => {\n\t\t\tdocument.addEventListener('keydown', (event: KeyboardEvent) => {\n\t\t\t\tkonami.input += event.keyCode;\n\n\t\t\t\tif (konami.input.length > konami.pattern.length) {\n\t\t\t\t\tkonami.input = konami.input.substr((konami.input.length - konami.pattern.length));\n\t\t\t\t}\n\n\t\t\t\tif (konami.input === konami.pattern) {\n\t\t\t\t\tkonami.code();\n\t\t\t\t\tkonami.input = '';\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if ((konami.input === konami.prepattern) || (konami.input.substr(2, konami.input.length) === konami.prepattern)) {\n\t\t\t\t\tkonami.almostThere = true;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tkonami.almostThere = false;\n\t\t\t\t\t\tkonami.input = '';\n\t\t\t\t\t}, 2000);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t},\n\t\tcode: () => {},\n\t};\n\n\tif (typeof callback === 'function') {\n\t\tkonami.code = callback;\n\t\tkonami.load();\n\t}\n\n\treturn konami;\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { watchForThings, forEachChunked } from '../utils';\n\nexport const module: Module<*> = new Module('hideChildComments');\n\nmodule.moduleName = 'hideChildCommentsName';\nmodule.category = 'commentsCategory';\nmodule.description = 'hideChildCommentsDesc';\nmodule.options = {\n\tautomatic: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'hideChildCommentsAutomaticDesc',\n\t\ttitle: 'hideChildCommentsAutomaticTitle',\n\t},\n\tnested: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hideChildCommentsNestedDesc',\n\t\ttitle: 'hideChildCommentsNestedTitle',\n\t},\n\thideNested: {\n\t\tdependsOn: options => options.nested.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'hideChildCommentsHideNestedDesc',\n\t\ttitle: 'hideChildCommentsHideNestedTitle',\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nlet initialHide, toggleAllButton;\n\nmodule.beforeLoad = () => {\n\tinitialHide = module.options.automatic.value &&\n\t\t// ensure we're not in a permalinked post..\n\t\t!((/\\/comments\\/(?:\\w+)\\/(?:\\w+)\\/(\\w+)/).test(location.pathname));\n\n\twatchForThings(['comment'], addToggleChildrenButton);\n\twatchForThings(['post'], addToggleAllButton);\n};\n\nconst addToggleAllButton = _.once(thing => {\n\tconst menu = thing.element.querySelector('ul.buttons');\n\tif (!menu) return;\n\n\tfunction toggle(action) {\n\t\tconst includeChildren = module.options.nested.value && module.options.hideNested.value;\n\t\tconst selector = includeChildren ? '.thing.comment' : '.nestedlisting > .thing.comment';\n\t\tforEachChunked(document.querySelectorAll(`${selector} > .entry .toggleChildren[action=${action}]`), toggle => {\n\t\t\ttoggle.click();\n\t\t});\n\n\t\tif (action === 'hide') {\n\t\t\tinitialHide = true;\n\t\t\ta.setAttribute('action', 'show');\n\t\t\ta.setAttribute('title', 'Show all comments.');\n\t\t\ta.dataset.text = i18n('hideChildCommentsShowAllLinkLabel');\n\t\t} else {\n\t\t\tinitialHide = false;\n\t\t\ta.setAttribute('action', 'hide');\n\t\t\ta.setAttribute('title', 'Show only replies to original poster.');\n\t\t\ta.dataset.text = i18n('hideChildCommentsHideAllLinkLabel');\n\t\t}\n\t}\n\n\tconst li = document.createElement('li');\n\tconst a = document.createElement('a');\n\ta.setAttribute('href', '#');\n\ta.setAttribute('class', 'noCtrlF res-toggleAllChildren');\n\ta.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\ttoggle(a.getAttribute('action'));\n\t});\n\ttoggleAllButton = a;\n\n\ttoggle(initialHide ? 'hide' : 'show');\n\n\tli.appendChild(a);\n\tmenu.appendChild(li);\n});\n\nfunction addToggleChildrenButton(comment) {\n\tif (!module.options.nested.value && !comment.isTopLevelComment()) return;\n\tif (!comment.getNumberOfChildren()) return;\n\n\tconst children = comment.element.querySelector('div.child > .sitetable');\n\tconst menu = comment.element.querySelector('ul.buttons');\n\tif (!children || !menu) return;\n\n\tfunction toggle(action) {\n\t\tif (action === 'hide') {\n\t\t\tchildren.style.display = 'none';\n\t\t\ta.dataset.text = i18n('hideChildCommentsShowLinkLabel', comment.getNumberOfChildren());\n\t\t\ta.setAttribute('action', 'show');\n\t\t} else {\n\t\t\tchildren.style.display = '';\n\t\t\ta.dataset.text = i18n('hideChildCommentsHideLinkLabel');\n\t\t\ta.setAttribute('action', 'hide');\n\t\t}\n\n\t\tcomment.element.classList.toggle('res-children-hidden', action === 'hide');\n\t}\n\n\tconst li = document.createElement('li');\n\tconst a = document.createElement('a');\n\ta.setAttribute('href', '#');\n\ta.setAttribute('class', 'toggleChildren noCtrlF');\n\ta.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\ttoggle(a.getAttribute('action'));\n\t});\n\n\tconst hide = initialHide &&\n\t\t(module.options.hideNested.value || comment.isTopLevelComment());\n\ttoggle(hide ? 'hide' : 'show');\n\n\tli.appendChild(a);\n\tmenu.appendChild(li);\n}\n\nexport function toggleAll() {\n\tconst button = toggleAllButton;\n\tif (!button) throw new Error('Toggle all button not found');\n\tbutton.click();\n}\n\nexport function toggle(thing: *) {\n\tconst button = thing.entry.querySelector('a.toggleChildren');\n\tif (!button) throw new Error('Toggle button not found');\n\tbutton.click();\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { RES_NER_PAGE_HASH } from '../constants/urlHashes';\nimport { Module } from '../core/module';\nimport { Storage, ajax, context } from '../environment';\nimport {\n\taddFloater,\n\tHOUR,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tscrollToElement,\n\tempty,\n\tregisterPage,\n\twatchForThings,\n\tdocumentLoggedInUser,\n\tisCurrentSubreddit,\n\tstring,\n} from '../utils';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('neverEndingReddit');\n\nmodule.moduleName = 'nerName';\nmodule.category = 'browsingCategory';\nmodule.description = 'nerDesc';\nmodule.options = {\n\treturnToPrevPage: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerReturnToPrevPageDesc',\n\t\ttitle: 'nerReturnToPrevPageTitle',\n\t},\n\tautoLoad: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerAutoLoadDesc',\n\t\ttitle: 'nerAutoLoadTitle',\n\t},\n\tpauseAfterEvery: {\n\t\tdependsOn: options => options.autoLoad.value,\n\t\ttype: 'text',\n\t\tvalue: '0',\n\t\tdescription: 'nerPauseAfterEveryDesc',\n\t\ttitle: 'nerPauseAfterEveryTitle',\n\t},\n\tshowPauseButton: {\n\t\tdependsOn: options => options.autoLoad.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'nerShowPauseButtonDesc',\n\t\ttitle: 'nerShowPauseButtonTitle',\n\t},\n\treversePauseIcon: {\n\t\tdependsOn: options => options.autoLoad.value && options.showPauseButton.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nerReversePauseIconDesc',\n\t\ttitle: 'nerReversePauseIconTitle',\n\t\tadvanced: true,\n\t},\n\tshowServerInfo: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'nerShowServerInfoDesc',\n\t\ttitle: 'nerShowServerInfoTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n};\nmodule.exclude = [\n\t'wiki',\n\t'comments',\n\t'd2x',\n];\nmodule.shouldRun = () => !isCurrentSubreddit('dashboard');\n\nconst dupeSet = new Set();\nconst pauseReasonStorage = Storage.wrap('RESmodules.neverEndingReddit.pauseReason', (undefined: void | 'manual' | 'pauseAfterEvery'));\nlet pauseReason;\n\nmodule.beforeLoad = () => {\n\t// Loaded pages may repeat posts; remove those\n\twatchForThings(['post'], thing => {\n\t\t// `#siteTable` to avoid processing posts found in spotlight box\n\t\tif (document.contains(thing.element) && !thing.element.closest('#siteTable')) return;\n\t\tconst id = thing.getFullname();\n\t\tif (dupeSet.has(id)) thing.element.remove();\n\t\tdupeSet.add(id);\n\t}, { immediate: true });\n};\n\nmodule.go = async () => {\n\tpages[0] = { url: location.pathname, container: container(), nextPageUrl: retrieveNextPageUrl(container()) };\n\n\tconst loadReturnToPrevPage = initiateReturnToPrevPage();\n\tif (loadReturnToPrevPage) await loadReturnToPrevPage();\n\n\tif (module.options.autoLoad.value) {\n\t\tsetPause(await pauseReasonStorage.get());\n\n\t\tSelectedThing.addListener(current => {\n\t\t\tif (pauseReason) return;\n\t\t\tconst things = Thing.visibleThingElements();\n\t\t\tconst distanceFromBottom = things.length - (things.indexOf(current.element) + 1);\n\t\t\tif (distanceFromBottom === 1) prefetchNextPage();\n\t\t\telse if (distanceFromBottom < 1) loadNextPage();\n\t\t});\n\t}\n\n\tprepareNextPageLoad(false);\n};\n\nconst container = _.once(() => getLastSiteTable() || document.createElement('div'));\nconst pages: Array<{|\n\turl: string,\n\tcontainer: HTMLElement,\n\tnextPageUrl?: ?string,\n|}> = [];\n\nfunction retrieveNextPageUrl(container) {\n\tconst { buttons, next } = getNextPrevLinks(container);\n\tif (buttons) buttons.hidden = true;\n\treturn next;\n}\n\nconst getNextPageUrl = (page = pages.slice(-1)[0]): ?string => page.nextPageUrl;\nexport let loadNextPage: (opts?: { scrollToLoadWidget: boolean }) => void = () => {};\nlet refreshAutoLoad;\n\nfunction prepareNextPageLoad(displayEndBanner = true) {\n\tconst nextPageUrl = getNextPageUrl();\n\tif (!nextPageUrl) {\n\t\tif (displayEndBanner) endNER('No more pages');\n\t\treturn;\n\t}\n\n\tconst pauseAfterPages = parseInt(module.options.pauseAfterEvery.value, 10);\n\tif (module.options.autoLoad.value && pauseAfterPages) {\n\t\tif (pages.length % pauseAfterPages === 0) setPause('pauseAfterEvery');\n\t\telse if (pauseReason === 'pauseAfterEvery') setPause(null);\n\t}\n\n\tconst startPromise = new Promise(res => { loadNextPage = res; });\n\tconst donePromise = startPromise\n\t\t.then(() => loadPage(nextPageUrl, pages.length))\n\t\t.then(prepareNextPageLoad)\n\t\t.catch(e => {\n\t\t\tendNER(`Could not load the next page: ${e.message}`);\n\t\t\tconsole.error(e);\n\t\t});\n\n\tcreateLoaderWidget(startPromise, donePromise);\n\tif (refreshAutoLoad) refreshAutoLoad(false);\n}\n\nconst pauseButton = _.once(() => {\n\tconst element = $('<span>', {\n\t\tid: 'NREPause',\n\t\ttitle: 'Pause / Restart Never Ending Reddit',\n\t\tclick: () => setPause(pauseReason ? null : 'manual'),\n\t}).get(0);\n\taddFloater(element, { container: 'visibleAfterScroll' });\n\treturn element;\n});\n\nfunction setPause(source) {\n\tif (module.options.showPauseButton.value) {\n\t\tpauseButton().classList.toggle('paused', module.options.reversePauseIcon.value === !source);\n\t}\n\n\tpauseReason = source;\n\tif (pauseReason) pauseReasonStorage.set(source);\n\telse pauseReasonStorage.delete();\n\n\tif (refreshAutoLoad) refreshAutoLoad();\n}\n\nconst isNerUrl = () => location.hash.startsWith(RES_NER_PAGE_HASH);\n\nfunction setReturnToPage(selected: Thing) {\n\tlet number = 0;\n\n\tconst $earlierMarkers = $(selected.element).parent().prevAll('.NERPageMarker');\n\tconst marker = $earlierMarkers.get(0);\n\tif (marker) number = parseInt(marker.dataset.number, 10);\n\n\t// replaceState is expensive, so avoid it when possible\n\tconst { ner: saved } = history.state || {};\n\tif (saved && saved.number === number) return;\n\n\t// When restoring this page, the brower's auto scroll may not work properly; let selectedEntry scroll back to the thing\n\tif ($earlierMarkers.length > 1) history.scrollRestoration = 'manual';\n\n\tconst page = pages[number];\n\thistory.replaceState(\n\t\t{ ...history.state, ner: { number, url: page.url, nextPageUrl: page.nextPageUrl } },\n\t\t`${document.title}${number ? `- page ${number + 1}` : ''}`,\n\t\tnumber ? `${RES_NER_PAGE_HASH}=${number + 1}` : `${location.pathname}${location.search}${isNerUrl() ? '' : location.hash}`\n\t);\n}\n\nconst initiateReturnToPrevPage = _.once(() => {\n\tif (!module.options.returnToPrevPage.value) return;\n\n\tconst { ner: { number, url } = {} } = history.state || {};\n\tlet append;\n\tif (number && url && isNerUrl()) {\n\t\tconst loadPromise = loadPage(url, number, new Promise(res => { append = () => { res(); return loadPromise; }; }));\n\t}\n\n\treturn async () => {\n\t\tif (append) await append();\n\t\tSelectedThing.addListener(setReturnToPage, 'instantly');\n\t};\n});\n\nfunction getLastSiteTable(body: HTMLElement = document.body): ?HTMLElement {\n\tconst selector = '.sitetable, .search-result-group';\n\tconst elements = Array.from(body.querySelectorAll(selector)).reverse();\n\t// Don't select a nested sitetable\n\tfor (const element of elements) {\n\t\tif (!element.parentElement || !element.parentElement.closest(selector)) return element;\n\t}\n}\n\nexport function getNextPrevLinks(ele: HTMLElement = document.body): { buttons?: HTMLElement, next?: ?string, prev?: ?string } {\n\tconst buttons = ele.matches('.modactionlisting') ? // /about/log differs from other pages\n\t\t(ele.nextElementSibling: any) : ele.querySelector('.nav-buttons');\n\treturn buttons ? {\n\t\tbuttons,\n\t\tnext: (buttons.querySelector('a[rel~=next]') || {}: any).href,\n\t\tprev: (buttons.querySelector('a[rel~=prev]') || {}: any).href,\n\t} : {};\n}\n\nfunction setLoaderWidgetActionText(widget) {\n\tempty(widget);\n\twidget.append(...string.html`<span>\n\t\t<h2>\n\t\t\tNever Ending Reddit\n\t\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t\t</h2>\n\t\t<p>\n\t\t\tClick to load the next page;\n\t\t\t${pauseReason ? string.safe(`or click ${pauseButton().outerHTML} in the top right corner;`) : null}\n\t\t</p>\n\t\t<p>\n\t\t\t<a id=\"NERStaticLink\" href=\"${getNextPageUrl() || ''}\">or open next page</a> (and clear Never-Ending stream)\n\t\t</p>\n\t</span>`.children);\n}\n\nfunction createLoaderWidget(startPromise, donePromise) {\n\tconst widget = document.createElement('div');\n\twidget.id = 'progressIndicator';\n\twidget.className = 'neverEndingReddit';\n\n\twidget.addEventListener('click', (e: Event) => {\n\t\tif (e.target.tagName === 'A') return;\n\t\tloadNextPage();\n\t});\n\n\tstartPromise.then(({ scrollToLoadWidget = false } = {}) => {\n\t\tempty(widget);\n\t\twidget.append(string.html`<span class=\"RESLoadingSpinner\"></span>`);\n\t\tif (scrollToLoadWidget) scrollToElement(widget, null, { scrollStyle: 'middle', direction: 'down' });\n\t});\n\n\tconst removeWidget = () => widget.remove();\n\tdonePromise.finally(removeWidget);\n\n\tconst prefetchIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (!isIntersecting) return;\n\t\tprefetchNextPage();\n\t}, { rootMargin: '100%' });\n\tprefetchIo.observe(widget);\n\n\tconst displayPauseReason = _.once(pauseReason =>\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: pauseReason,\n\t\t\tmessage: pauseReason === 'pauseAfterEvery' ? `\n\t\t\t\t<p>Time for a break!</p>\n\t\t\t\t<p>Never-Ending Reddit has been paused because you've passed ${module.options.pauseAfterEvery.value} pages.</p>\n\t\t\t` :\n\t\t\t'Never-Ending Reddit has been paused. Click the play/pause button to unpause it.',\n\t\t})\n\t);\n\n\tconst pauseReasonIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (isIntersecting && pauseReason) displayPauseReason(pauseReason);\n\t}, { threshold: [1] });\n\n\tconst loadNextPageIo = new IntersectionObserver(([{ isIntersecting }]) => {\n\t\tif (!isIntersecting) return;\n\t\tloadNextPage();\n\t}, { threshold: [1] });\n\n\trefreshAutoLoad = (updateWidget = true) => {\n\t\tconst enabled = module.options.autoLoad.value && !pauseReason;\n\t\tif (enabled) loadNextPageIo.observe(widget);\n\t\telse loadNextPageIo.disconnect();\n\t\tif (updateWidget) setLoaderWidgetActionText(widget);\n\t\tpauseReasonIo.observe(widget);\n\t};\n\n\tsetLoaderWidgetActionText(widget);\n\n\tstartPromise.then(() => {\n\t\tprefetchIo.disconnect();\n\t\tloadNextPageIo.disconnect();\n\t\tpauseReasonIo.disconnect();\n\t\trefreshAutoLoad = null;\n\t});\n\n\tpages.slice(-1)[0].container.append(widget);\n}\n\nconst fetchPage = _.memoize(url => ajax({ url, cacheFor: HOUR }));\nconst prefetchNextPage = () => { const url = getNextPageUrl(); if (url) fetchPage(url); };\n\nasync function loadPage(url: string, number: number, attachPromise: ?Promise<*>) {\n\tconst html = (await fetchPage(url))\n\t\t// remove some unnecessary elements which could cause longer parse times\n\t\t.replace(/<style(.|\\s)*?>|<link(.|\\s)*?>|<script(.|\\s)*?\\/script>/g, '');\n\n\tconst document = new DOMParser().parseFromString(html, 'text/html');\n\n\tif (context.username && context.username !== documentLoggedInUser(document.body)) {\n\t\tthrow new Error('Page loaded was not for current user');\n\t}\n\n\t// grab the siteTable out of there...\n\tconst newSiteTable = getLastSiteTable(document.body);\n\tif (!newSiteTable) throw Error('Could not find any siteTable');\n\n\tconst noresults = newSiteTable.querySelector('#noresults');\n\tif (noresults) throw new Error(noresults.textContent);\n\n\t// Avoid attributes (class, id etc) which have impact on styling\n\tfor (const { name } of newSiteTable.attributes) newSiteTable.removeAttribute(name);\n\n\tpages[number] = { url, container: newSiteTable, nextPageUrl: retrieveNextPageUrl(newSiteTable) };\n\n\t// Invoke watcher callbacks etc on page\n\tregisterPage(newSiteTable);\n\n\tconst pageMarker = string.html`<div class=\"NERPageMarker\" data-number=\"${number}\">\n\t\t<a href=\"${pages[number].url}\">Page ${number + 1}</a>\n\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t</div>`;\n\n\tawait attachPromise;\n\n\tconst firstLen = $(container()).find('.link:last .rank').text().length;\n\tconst lastLen = $(newSiteTable).find('.link:last .rank').text().length;\n\tif (lastLen > firstLen) {\n\t\taddCSS(`body.res > .content .link .rank { width: ${(lastLen * 1.1).toFixed(1)}ex; }`);\n\t}\n\n\tcontainer().append(pageMarker, newSiteTable);\n\n\twindow.dispatchEvent(new Event('neverEndingLoad', { bubbles: true, cancelable: true }));\n}\n\nfunction endNER(text) {\n\t$('<div>', {\n\t\tclass: 'NERPageMarker NERPageMarkerLast',\n\t\ttext,\n\t})\n\t\t.append(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))\n\t\t.append(`\n\t\t\t<p class=\"nextprev\">\n\t\t\t\t<a href=\"${location.href.split('#')[0]}\">start over</a>\n\t\t\t\t<a href=\"${getNextPageUrl() || ''}\">try again</a>\n\t\t\t\t<a target=\"_blank\" rel=\"noopener noreferer\" href=\"/r/Enhancement/wiki/faq/never_ending_reddit\">learn more</a>\n\t\t\t\t<a href=\"/r/random\">random subreddit</a>\n\t\t\t</p>\n\t\t`)\n\t\t.appendTo(container());\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tclick,\n\tdowncast,\n\tisPageType,\n\tloggedInUser,\n} from '../utils';\nimport * as CommentTools from './commentTools';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('noParticipation');\n\n\nconst urls = {\n\tmoreinfo: 'https://www.reddit.com/r/NoParticipation/wiki/intro',\n};\n\nmodule.moduleName = 'noPartName';\nmodule.description = 'noPartDesc';\nmodule.category = 'subredditsCategory';\nmodule.options = {\n\tdisableVoteButtons: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartDisableVoteButtonsDesc',\n\t\ttitle: 'noPartDisableVoteButtonsTitle',\n\t\tbodyClass: true,\n\t},\n\tdisableCommentTextarea: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartDisableCommentTextareaDesc',\n\t\ttitle: 'noPartDisableCommentTextareaTitle',\n\t\tbodyClass: true,\n\t},\n\tevenIfSubscriber: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'noPartEvenIfSubscriberDesc',\n\t\ttitle: 'noPartEvenIfSubscriberTitle',\n\t},\n\tescapeNP: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'noPartEscapeNPDesc',\n\t\ttitle: 'noPartEscapeNPTitle',\n\t},\n};\n\nmodule.shouldRun = () => isNpHostname(location.hostname);\n\nconst boilerplateNotificationText = `\n\t<p>\n\t\t<div class=\"RES-spoiler\">\n\t\t\t<label class=\"RES-spoiler-title\">Hover here for more details</label>\n\t\t\t<div class=\"RES-spoiler-contents\">\n\t\t\t\tYou came to this page by following a <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">NP</a> link, so you may be interfering with normal conversation.\n\t\t\t\tPlease respect reddit's <a href=\"https://reddit.com/rules\" target=\"_blank\" rel=\"noopener noreferer\">rules</a> by not commenting or voting. Violating these rules may get you banned.\n\t\t\t\t<a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">Find out more</a>\n\t\t\t</div>\n\t\t</div>\n\t</p>\n`;\n\nlet noParticipationActive;\n\nmodule.contentStart = () => {\n\tif (module.options.escapeNP.value) {\n\t\t$(document.body).on('mousedown', 'a', removeNpFromLink);\n\t}\n\n\tif (isNPIrrelevant()) {\n\t\tnotifyNpIrrelevant();\n\t} else if (loggedInUser()) {\n\t\tif (isPageType('comments', 'linklist') && !(document.body.classList.contains('front-page') || document.body.classList.contains('profile-page'))) {\n\t\t\tapplyNoParticipationMode();\n\t\t} else {\n\t\t\tnotifyNpIrrelevant();\n\t\t}\n\t}\n};\n\nfunction isNpHostname(hostname) {\n\t// np.reddit.com, np-nm.reddit.com, nm-np.reddit.com\n\treturn (/^(?:\\w+-)?np(?:-\\w+)?\\./i).test(hostname);\n}\n\nfunction removeNpFromLink(e: Event) {\n\tconst target: HTMLAnchorElement = (e.target: any);\n\t// in self text, rewrite relative links only (where the domain is inherited)\n\tif (!target.getAttribute('href').startsWith('/') && target.matches('.md a')) return;\n\n\tif (target.hostname.endsWith('np.reddit.com')) {\n\t\ttarget.hostname = 'www.reddit.com';\n\t}\n}\n\nfunction isNPIrrelevant() {\n\treturn !isPageType('comments') || isSubscriber() && !module.options.evenIfSubscriber.value;\n}\n\nexport function isVotingBlocked() {\n\treturn noParticipationActive && module.options.disableVoteButtons.value;\n}\n\nfunction isSubscriber() {\n\treturn document.body.classList.contains('subscriber');\n}\n\nexport function nonNpLocation(href: string = location.href) {\n\tconst nonNpUrl = new URL(href, location.href);\n\tif (isNpHostname(nonNpUrl.hostname)) nonNpUrl.hostname = 'www.reddit.com';\n\treturn nonNpUrl.href;\n}\n\nfunction notifyNpIrrelevant() {\n\tconst message = isSubscriber() ?\n\t\t`You're browsing in <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">No Participation</a> mode, but you're a subscriber here.` :\n\t\t`You're still browsing in <a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">No Participation</a> mode, but it's no longer necessary.`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'ok-participation',\n\t\tcloseDelay: 3000,\n\t\theader: 'Okay to Participate',\n\t\tmessage: `${message} <p><a href=\"${nonNpLocation()}\">Click here to return to normal reddit</a></p>`,\n\t});\n}\n\nfunction notifyNpActive() {\n\tconst message = isSubscriber() ? `\n\t\t\t<span class=\"res-icon\">&#xF15A;</span>\n\t\t\tPlease think before you comment or vote, and remember the subreddit's rules.\n\t\t\tAlthough you subscribe to this subreddit, you can still derail a particular thread.\n\t\t\t<p><a href=\"${nonNpLocation()}\">Click here to return to normal reddit.</a></p>\n\t\t` : `\n\t\t\t<strong>\n\t\t\t\t<span class=\"res-icon\">&#xF15A;</span>\n\t\t\t\tDo not vote or comment.\n\t\t\t</strong>\n\t\t`;\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\tnotificationID: 'no-participation',\n\t\tcloseDelay: 10000,\n\t\theader: 'No Participation',\n\t\tmessage: `${message}${boilerplateNotificationText}`,\n\t});\n}\n\nconst votedOnButtons = [];\n\nexport async function notifyNoVote(voteButton?: HTMLElement) {\n\t// classes are added after this listener runs\n\tconst canUndoVote = voteButton && !voteButton.matches('.upmod, .downmod');\n\n\tif (voteButton) votedOnButtons.push(voteButton);\n\n\tconst notification = await Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableVoteButtons',\n\t\tcooldown: 5000,\n\t\theader: 'No Participation',\n\t\tmessage: `\n\t\t\t<strong><span class=\"res-icon\">&#xF15A;</span> Do not vote.</strong>\n\t\t\t${boilerplateNotificationText}\n\t\t\t${canUndoVote ? '<p><button type=\"button\" class=\"redButton\" data-action=\"revertvote\">Undo vote</button></p>' : ''}\n\t\t`,\n\t});\n\n\tif (notification) {\n\t\t$(notification.element).find('[data-action=revertvote]').on('click', () => {\n\t\t\trevertVote(votedOnButtons);\n\t\t\tnotification.close();\n\t\t});\n\t}\n}\n\nconst notifyNoComment = _.once(() => {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableCommentTextarea',\n\t\theader: 'No Participation',\n\t\tmessage: `<strong><span class=\"res-icon\">&#xF15A;</span> Do not comment.</strong>${boilerplateNotificationText}`,\n\t});\n});\n\nfunction applyNoParticipationMode() {\n\tnoParticipationActive = true;\n\n\tnotifyNpActive();\n\n\tBodyClasses.add('res-noParticipation');\n\n\twatchForVote();\n\n\t$(document.body).on('keydown', CommentTools.commentTextareaSelector, (e: Event) => {\n\t\tnotifyNoComment();\n\n\t\tif (module.options.disableCommentTextarea.value) {\n\t\t\tdowncast(e.target, HTMLTextAreaElement).disabled = true;\n\t\t}\n\t});\n}\n\nfunction watchForVote() {\n\t$(document.body).on('click', '.arrow', (e: Event) => {\n\t\tif (e.target.classList.contains('up') || e.target.classList.contains('down')) {\n\t\t\tnotifyNoVote(e.target);\n\t\t}\n\t});\n}\n\nfunction revertVote(voteButtons) {\n\tvoteButtons.forEach((voteButton, index) => {\n\t\tsetTimeout(() => {\n\t\t\tif (voteButton.classList.contains('upmod') || voteButton.classList.contains('downmod')) {\n\t\t\t\tclick(voteButton);\n\t\t\t}\n\t\t}, index * 2000 /* respect API limits */);\n\t});\n\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'disableVoteButtons',\n\t\theader: 'No Participation',\n\t\tmessage: `\n\t\t\t${voteButtons.length > 1 ? 'Your votes are being reverted.' : 'Your vote has been reverted.'}\n\t\t\tPlease remember not to vote!\n\t\t\t<p><a href=\"${urls.moreinfo}\" target=\"_blank\" rel=\"noopener noreferer\">Find out more</a></p>\n\t\t`,\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tCreateElement,\n\tWEEK,\n\tformatDate,\n\tformatDateDiff,\n\tformatDateTime,\n\tisPageType,\n\tniceKeyCode,\n\tpreventCloning,\n\tstring,\n\twatchForThings,\n\tThing,\n} from '../utils';\nimport { Storage, i18n } from '../environment';\nimport * as Dashboard from './dashboard';\nimport * as KeyboardNav from './keyboardNav';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('saveComments');\n\nmodule.moduleName = 'saveCommentsName';\nmodule.description = 'saveCommentsDesc';\nmodule.category = 'commentsCategory';\nmodule.exclude = [\n\t'submit',\n];\n\nconst savedCommentStorage = Storage.wrapBlob('RESmodules.saveComments.savedComments', (): {|\n\thref: string,\n\tusername: string,\n\tcomment: string,\n\ttimeSaved: string,\n|} => { throw new Error('Saved comment not found'); });\n\nmodule.beforeLoad = () => {\n\twatchForThings(['comment'], thing => {\n\t\tconst sibling = thing.element.querySelector('ul.buttons .comment-save-button');\n\t\tif (!sibling) return;\n\t\tsibling.after(saveElement());\n\t});\n};\n\nmodule.contentStart = () => {\n\tif (isPageType('profile')) {\n\t\tCreateElement.tabMenuItem({\n\t\t\ttext: 'saved - RES',\n\t\t\tonChange: () => { location.href = '/r/dashboard/#savedComments'; },\n\t\t});\n\t}\n\n\tDashboard.addTab('savedComments', 'Saved Comments', module.moduleID, async $tabPage => $tabPage.append(await drawSavedComments()));\n};\n\nconst saveElement = (e => () => preventCloning(e().cloneNode(true)))(_.once(() => {\n\t$(document.body).on('click', 'li.saveComments', ({ currentTarget }: Event) => {\n\t\tif (currentTarget.classList.contains('saved-RES')) return;\n\n\t\tconst thing = Thing.checkedFrom(currentTarget);\n\t\tsaveComment(thing);\n\n\t\tconst a = (currentTarget.firstElementChild: any);\n\t\trequestAnimationFrame(() => {\n\t\t\ta.dataset.text = 'saved-RES';\n\t\t\ta.href = '/r/dashboard#savedComments';\n\t\t});\n\t});\n\n\treturn string.html`\n\t\t<li class=\"saveComments\">\n\t\t\t<a class=\"RES-save noCtrlF\" href=\"javascript:void 0\" title=\"Save using RES - which is local only, but preserves the full text in case someone edits/deletes it\" data-text=\"save-RES\"></a>\n\t\t</li>\n\t`;\n}));\n\nfunction getCommentContent(thing) {\n\tconst content = $(thing.entry.querySelector('div.usertext-body > div.md')).clone();\n\tcontent.find('.keyNavAnnotation, .expando-button, .res-expando-box, script, .userTagLink').remove();\n\treturn content.html();\n}\n\nasync function saveComment(thing: Thing) {\n\tconst permaLink = thing.getCommentPermalink();\n\tif (!permaLink) throw new Error('Comment lacks permalink');\n\n\tconst id = thing.getFullname().split('_').slice(-1)[0];\n\tif ((await savedCommentStorage.getAll()).hasOwnProperty(id)) return;\n\n\tsavedCommentStorage.set(id, {\n\t\thref: permaLink.href,\n\t\tusername: thing.getAuthor() || '[deleted]',\n\t\tcomment: getCommentContent(thing),\n\t\ttimeSaved: new Date().toString(),\n\t});\n}\n\nconst savedCommentsTemplate = ({ comments, keyNavTip, moduleDescription }) => string.html`\n\t<div id=\"res-saveComments\" class=\"sitetable linklisting\">\n\t\t${!comments.length && string._html`\n\t\t\t<div class=\"res-module-description md\">\n\t\t\t\t<h1>Saving comments with RES</h1>\n\t\t\t\t${string.safe(markdown(moduleDescription))}\n\t\t\t</div>\n\t\t`}\n\t\t${keyNavTip && keyNavTip.map(({ keyNavHash, savePostKey, saveCommentKey, saveRESKey }) => string._html`\n\t\t\t<div class=\"res-module-tip infobar\">\n\t\t\t\t<p><i>Keyboard Shortcuts</i> <a class=\"gearIcon\" href=\"${keyNavHash}\" title=\"RES settings\"></a></p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li><b>${savePostKey}</b>: save a submission.</li>\n\t\t\t\t\t<li><b>${saveCommentKey}</b>: save a comment (to your reddit account).</li>\n\t\t\t\t\t<li><b>${saveRESKey}</b>: save a comment with RES.</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t`)}\n\t\t<div class=\"res-saveComments-list\">\n\t\t\t${comments.map(({ id, link, username, dateTime, date, timeAgo, body }) => string._html`\n\t\t\t\t<div class=\"entry res-savedComment\">\n\t\t\t\t\t<div class=\"savedCommentHeader\">\n\t\t\t\t\t\t<a href=\"${link}\">\n\t\t\t\t\t\t\t<b>${username}</b>\n\t\t\t\t\t\t\t- saved <date title=\"${dateTime}\" datetime=\"${date}\">${timeAgo}</date> ago\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"savedCommentBody md\">${string.safe(body)}</div>\n\t\t\t\t\t<div class=\"savedCommentFooter\">\n\t\t\t\t\t\t<ul class=\"flat-list buttons\">\n\t\t\t\t\t\t\t<li><a href=\"${link}\">permalink</a></li>\n\t\t\t\t\t\t\t<li><a class=\"unsaveComment\" href=\"#\" data-unsaveID=\"${id}\">unsave-RES</a></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`)}\n\t\t</div>\n\t</div>\n`;\n\nconst drawSavedComments = _.once(async () => {\n\tconst savedComments = await savedCommentStorage.getAll();\n\n\tconst comments = Object.entries(savedComments).map(([id, { comment, href, username, timeSaved }]) => {\n\t\tconst date = new Date(timeSaved);\n\t\treturn {\n\t\t\tid,\n\t\t\tlink: href,\n\t\t\tusername,\n\t\t\tdate: formatDate(date),\n\t\t\tdateTime: formatDateTime(date),\n\t\t\ttimeAgo: formatDateDiff(date),\n\t\t\tbody: comment.replace(/<(script|iframe|video)(.|\\s)*?\\/(script|iframe|video)>/g, ''),\n\t\t};\n\t});\n\n\treturn $(savedCommentsTemplate({\n\t\tmoduleDescription: i18n(module.description),\n\t\tkeyNavTip: Modules.isEnabled(KeyboardNav) && [{\n\t\t\tkeyNavHash: SettingsNavigation.makeUrlHash(KeyboardNav.module.moduleID, 'savePost'),\n\t\t\tsavePostKey: niceKeyCode(KeyboardNav.module.options.savePost.value),\n\t\t\tsaveCommentKey: niceKeyCode(KeyboardNav.module.options.saveComment.value),\n\t\t\tsaveRESKey: niceKeyCode(KeyboardNav.module.options.saveRES.value),\n\t\t}],\n\t\tcomments,\n\t}))\n\t\t.on('click', '.unsaveComment', (e: Event) => {\n\t\t\te.preventDefault();\n\t\t\tsavedCommentStorage.delete($(e.target).attr('data-unsaveID'));\n\t\t\t$(e.target).text('removed');\n\t\t});\n});\n\nexport function showEducationalNotification() {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\toptionKey: 'savePost',\n\t\tnotificationID: 'saveRES-educational',\n\t\tcloseDelay: 10000,\n\t\tcooldown: 3 * WEEK,\n\t\theader: 'Saving Posts and Comments',\n\t\tmessage: `\n\t\t\t<p>\n\t\t\t\tThe keyboard shortcuts <b>\"${niceKeyCode(KeyboardNav.module.options.savePost.value)}\"</b> (posts) and <b>\"${niceKeyCode(KeyboardNav.module.options.saveComment.value)}\"</b> (comments) will save a post/comment to your reddit account (same as the \"save\" button).\n\t\t\t\tIt will be accessible from anywhere that you're logged in, but the original text will not be preserved if it is edited or deleted.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe keyboard shortcut <b>\"${niceKeyCode(KeyboardNav.module.options.saveRES.value)}\"</b> will save a comment to RES (same as the \"save-RES\" button).\n\t\t\t\tIt will only be available locally, but the original text will be preserved if the comment is edited or deleted.\n\t\t\t</p>\n\t\t\t<p>These shortcuts can be changed in the ${SettingsNavigation.makeUrlHashLink(KeyboardNav.module.moduleID, 'savePost', 'settings console')}.<p>\n\t\t`,\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Thing } from '../utils';\nimport { Module } from '../core/module';\nimport * as Hover from './hover';\n\nexport const module: Module<*> = new Module('showParent');\n\nmodule.moduleName = 'showParentName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'showParentDesc';\nmodule.options = {\n\thoverDelay: {\n\t\ttitle: 'showParentHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '500',\n\t\tdescription: 'showParentHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'showParentFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'showParentFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'showParentFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'showParentFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n\tdirection: {\n\t\ttitle: 'showParentDirectionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'down',\n\t\tvalues: [{\n\t\t\tname: 'Above',\n\t\t\tvalue: 'up',\n\t\t}, {\n\t\t\tname: 'Below',\n\t\t\tvalue: 'down',\n\t\t}],\n\t\tdescription: 'showParentDirectionDesc',\n\t\tbodyClass: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n];\n\nlet hover;\n\nmodule.contentStart = () => {\n\thover = Hover.infocard(module.moduleID)\n\t\t.options({\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(card => showCommentHover(Thing.checkedFrom(card.getCheckedTarget())))\n\t\t.watch('.comment .buttons :not(:first-child) .bylink');\n};\n\nexport function startHover(button: HTMLElement) {\n\tif (hover) hover.target(button).begin();\n}\n\nfunction handleVoteClick() {\n\tconst $this = $(this);\n\tconst voteClasses = {\n\t\tup: 'likes',\n\t\tnone: 'unvoted',\n\t\tdown: 'dislikes',\n\t};\n\tconst id = $this.parent().parent().attr('data-fullname');\n\tlet direction = (/(up|down)(?:mod)?/).exec(this.className);\n\n\tif (!direction) return;\n\n\tdirection = direction[1];\n\n\tconst $targetButton = $(`.content .thing.id-${id}`)\n\t\t.children('.midcol')\n\t\t.find(`.arrow.${direction}, .arrow.${direction}mod`);\n\n\tif ($targetButton.length !== 1) {\n\t\tconsole.error('When attempting to find %s arrow for comment %s %d elements were returned',\n\t\t\tdirection, id, $targetButton.length);\n\t\treturn;\n\t}\n\n\t// Prevent other click handlers from running\n\t// Note that $targetButton's other click handlers run before this one,\n\t// by a \"first come, first serve\" basis\n\tfunction removeClickHandlers(event: Event) {\n\t\tevent.stopPropagation();\n\t}\n\n\t$targetButton.on('click', removeClickHandlers);\n\t$targetButton.click();\n\t$targetButton.off('click', removeClickHandlers);\n\n\tconst $midcol = $this.parent();\n\n\tlet startDir = 'none';\n\tfor (const [key, value] of Object.entries(voteClasses)) {\n\t\tif ($midcol.hasClass(value)) {\n\t\t\tstartDir = key;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tconst newDir = direction === startDir ? 'none' : direction;\n\n\t$midcol.parent().children(`.${voteClasses[startDir]}`)\n\t\t.removeClass(voteClasses[startDir])\n\t\t.addClass(voteClasses[newDir]);\n\t$midcol.find('.up, .upmod')\n\t\t.toggleClass('upmod', newDir === 'up')\n\t\t.toggleClass('up', newDir !== 'up');\n\t$midcol.find('.down, .downmod')\n\t\t.toggleClass('downmod', newDir === 'down')\n\t\t.toggleClass('down', newDir !== 'down');\n}\n\nfunction showCommentHover(thing: Thing) {\n\tconst direction = module.options.direction.value;\n\n\tlet $parents = $(thing.element).parents('.thing').clone();\n\tlet topParentURL = '';\n\n\tif ($parents.length === 0) {\n\t\t// Get parent URL from visible top comment\n\t\ttopParentURL = $(thing.element).find('[data-event-action=\"parent\"]').first().attr('data-href-url');\n\t} else {\n\t\t// Find visible top comment before getting parent URL\n\t\tconst topParentId = $parents.last().attr('data-fullname');\n\t\t// topParentURL will be undefined at top-most parent as it does not have a parent link\n\t\ttopParentURL = $(`[data-fullname=\"${topParentId}\"] > .entry [data-event-action=\"parent\"]`).first().attr('data-href-url');\n\t}\n\tif (direction === 'up') {\n\t\t$parents = $($parents.get().reverse());\n\t}\n\n\t$parents.addClass('comment parentComment').removeClass('thing even odd');\n\t$parents.children('.child').remove(); // replies and reply edit form\n\t$parents.each(function() {\n\t\tconst $this = $(this);\n\n\t\t// Remove the keyboardNav functionality\n\t\t$this.off('click');\n\n\t\t// A link to go to the actual comment\n\t\tlet id = $this.attr('data-fullname');\n\t\tif (id) {\n\t\t\tid = id.slice(3);\n\t\t\t$this.find('> .entry .tagline').append(`<a class=\"bylink parentlink\" href=\"#${id}\">goto comment</a>`);\n\t\t}\n\t});\n\t$parents.find('.parent').remove();\n\t$parents.find('.usertext-body').show(); // contents\n\t$parents.find('.flat-list.buttons').remove(); // buttons\n\t$parents.find('.usertext-edit').remove(); // edit form\n\t$parents.find('.RESUserTag').remove(); // tags\n\t$parents.find('.voteWeight').remove(); // tags\n\t$parents.find('.collapsed').remove(); // unused collapse view\n\t$parents.find('.expand').remove(); // expand button\n\t$parents.find('form').attr('id', ''); // IDs should be unique\n\t$parents.find('.arrow').on('click', handleVoteClick); // bind handlers to vote buttons\n\t/*\n\tI am stripping out the image viewer stuff for now.\n\tMaking the image viewer work here requires some changes that are for another time.\n\t*/\n\t$parents.find('.res-expando-box, .expando-button').remove(); // image viewer\n\t$parents.find('.keyNavAnnotation').remove();\n\n\tconst $container = $('<div class=\"parentCommentWrapper\">');\n\t$container.append($parents);\n\t// Does not show view parent comment when top-most parent is shown\n\tif (topParentURL) {\n\t\t$container.append(`<a class=\"bylink\" href=\"${topParentURL}\">View parent comment</a>`);\n\t}\n\t$parents.slice(0, -1).after('<div class=\"parentArrow\">reply to</div>');\n\treturn ['Parents', $container];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { Thing, watchForThings, string } from '../utils';\nimport { openNewTabs } from '../environment';\n\nexport const module: Module<*> = new Module('singleClick');\n\nmodule.moduleName = 'singleClickName';\nmodule.category = 'browsingCategory';\nmodule.description = 'singleClickDesc';\nmodule.options = {\n\topenOrder: {\n\t\ttitle: 'singleClickOpenOrderTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'open comments then link',\n\t\t\tvalue: 'commentsfirst',\n\t\t}, {\n\t\t\tname: 'open link then comments',\n\t\t\tvalue: 'linkfirst',\n\t\t}],\n\t\tvalue: 'commentsfirst',\n\t\tdescription: 'singleClickOpenOrderDesc',\n\t},\n\thideLEC: {\n\t\ttitle: 'singleClickHideLECTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'singleClickHideLECDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\topenFrontpage: {\n\t\ttitle: 'singleClickOpenFrontpageTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'singleClickOpenFrontpageDesc',\n\t\tdependsOn: options => !options.hideLEC.value,\n\t},\n\topenBackground: {\n\t\ttitle: 'singleClickOpenBackgroundTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'singleClickOpenBackgroundDesc',\n\t},\n};\nmodule.exclude = [\n\t'comments',\n\t/^\\/subreddits(?:\\/|$)/i,\n];\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post'], applyLinks);\n};\n\nmodule.contentStart = () => {\n\t// mousedown because Firefox doesn't fire click events on middle click...\n\t$(document.body).on('mousedown', '.redditSingleClick', (e: MouseEvent) => {\n\t\tif (e.button !== 2) {\n\t\t\te.preventDefault();\n\n\t\t\tconst thing = Thing.checkedFrom(e.target);\n\t\t\tconst focused = !e.button && !e.ctrlKey && !module.options.openBackground.value;\n\n\t\t\topenTabs(thing, focused);\n\t\t}\n\t});\n};\n\nexport function openTabs(thing: Thing, focused: boolean) {\n\tconst link = thing.getPostUrl();\n\tconst urls = [link];\n\n\tif (thing.isLinkPost()) {\n\t\tconst comments = thing.getCommentsLink().href;\n\t\t// to avoid opening two of the same link, ensure\n\t\t// the comments link is not the same as the post link.\n\t\tif (comments !== link) {\n\t\t\turls.push(comments);\n\t\t}\n\t} else if (module.options.openFrontpage.value) {\n\t\tconst frontpageLink = thing.getSubredditLink();\n\t\tif (frontpageLink && frontpageLink.href !== link) {\n\t\t\turls.push(frontpageLink.href);\n\t\t}\n\t}\n\n\tif (module.options.openOrder.value === 'commentsfirst') urls.reverse();\n\n\topenNewTabs(focused, ...urls);\n}\n\nfunction applyLinks(thing) {\n\tfor (const ele of thing.element.querySelectorAll('ul.flat-list')) {\n\t\tele.appendChild(string.html`<li><span class=\"redditSingleClick\"></span></li>`);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tNAMED_KEYS,\n\tThing,\n\tSelectedThing,\n\tclick,\n\tdowncast,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfilterMap,\n\tgetPercentageVisibleYAxis,\n\thashKeyArray,\n\thashKeyEvent,\n\tisCommentCode,\n\tisEmptyLink,\n\tisPageType,\n\tloggedInUser,\n\tmatchesPageLocation,\n\tniceKeyCode,\n\tscrollToElement,\n\tstring,\n\twatchForElements,\n\twaitForEvent,\n} from '../utils';\nimport { i18n, openNewTab } from '../environment';\nimport * as Options from '../core/options';\nimport * as CommandLine from './commandLine';\nimport * as CommentNavigator from './commentNavigator';\nimport * as EasterEgg from './easterEgg';\nimport * as FilteReddit from './filteReddit';\nimport * as HideChildComments from './hideChildComments';\nimport * as NeverEndingReddit from './neverEndingReddit';\nimport * as Notifications from './notifications';\nimport * as NoParticipation from './noParticipation';\nimport * as SaveComments from './saveComments';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as ShowImages from './showImages';\nimport * as ShowParent from './showParent';\nimport * as SingleClick from './singleClick';\n\nexport const module: Module<*> = new Module('keyboardNav');\n\nmodule.moduleName = 'keyboardNavName';\nmodule.category = 'browsingCategory';\nmodule.description = 'keyboardNavDesc';\nmodule.options = {\n\tlinearScrollStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'directional',\n\t\t\tvalue: 'directional',\n\t\t}, {\n\t\t\tname: 'page up/down',\n\t\t\tvalue: 'page',\n\t\t}, {\n\t\t\tname: 'lock to top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'in middle',\n\t\t\tvalue: 'middle',\n\t\t}, {\n\t\t\tname: 'adopt top',\n\t\t\tvalue: 'adopt',\n\t\t}, {\n\t\t\tname: 'legacy',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tvalue: 'directional',\n\t\tdescription: 'keyboardNavLinearScrollStyleDesc',\n\t\ttitle: 'keyboardNavLinearScrollStyleTitle',\n\t\tadvanced: true,\n\t},\n\tnonLinearScrollStyle: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'directional',\n\t\t\tvalue: 'directional',\n\t\t}, {\n\t\t\tname: 'page up/down',\n\t\t\tvalue: 'page',\n\t\t}, {\n\t\t\tname: 'lock to top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'in middle',\n\t\t\tvalue: 'middle',\n\t\t}, {\n\t\t\tname: 'adopt top',\n\t\t\tvalue: 'adopt',\n\t\t}, {\n\t\t\tname: 'legacy',\n\t\t\tvalue: 'legacy',\n\t\t}],\n\t\tvalue: 'legacy',\n\t\tdescription: 'keyboardNavNonLinearScrollStyleDesc',\n\t\ttitle: 'keyboardNavNonLinearScrollStyleTitle',\n\t\tadvanced: true,\n\t},\n\tlinkNumbers: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkNumbersDesc',\n\t\ttitle: 'keyboardNavLinkNumbersTitle',\n\t},\n\tlinkNumberPosition: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Place on right',\n\t\t\tvalue: 'right',\n\t\t}, {\n\t\t\tname: 'Place on left',\n\t\t\tvalue: 'left',\n\t\t}],\n\t\tvalue: 'right',\n\t\tdescription: 'keyboardNavLinkNumberPositionDesc',\n\t\ttitle: 'keyboardNavLinkNumberPositionTitle',\n\t\tadvanced: true,\n\t},\n\tlinkToggleExpando: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkToggleExpandoDesc',\n\t\ttitle: 'keyboardNavLinkToggleExpandoTitle',\n\t},\n\tlinkNumberAltModeModifier: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Shift',\n\t\t\tvalue: 'shift',\n\t\t}, {\n\t\t\tname: 'Alt',\n\t\t\tvalue: 'alt',\n\t\t}],\n\t\tvalue: 'alt',\n\t\tdescription: 'keyboardNavLinkNumberAltModeModifierDesc',\n\t\ttitle: 'keyboardNavLinkNumberAltModeModifierTitle',\n\t\tadvanced: true,\n\t},\n\tlinkNewTab: {\n\t\tdependsOn: options => options.linkNumbers.value,\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavLinkNewTabDesc',\n\t\ttitle: 'keyboardNavLinkNewTabTitle',\n\t\tadvanced: true,\n\t},\n\tonHideMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavOnHideMoveDownDesc',\n\t\ttitle: 'keyboardNavOnHideMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tonVoteMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'keyboardNavOnVoteMoveDownDesc',\n\t\ttitle: 'keyboardNavOnVoteMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tonVoteCommentMoveDown: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'keyboardNavOnVoteCommentMoveDownDesc',\n\t\ttitle: 'keyboardNavOnVoteCommentMoveDownTitle',\n\t\tadvanced: true,\n\t},\n\tfollowLinkNewTabFocus: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavFollowLinkNewTabFocusDesc',\n\t\ttitle: 'keyboardNavFollowLinkNewTabFocusTitle',\n\t},\n\ttoggleHelp: {\n\t\ttype: 'keycode',\n\t\tvalue: [191, false, false, true, false], // ? (note the true in the shift slot)\n\t\tdescription: 'keyboardNavToggleHelpDesc',\n\t\ttitle: 'keyboardNavToggleHelpTitle',\n\t\tcallback() { toggleKeyNavHelp(); },\n\t},\n\ttoggleCmdLine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommandLine],\n\t\tvalue: [190, false, false, false, false], // .\n\t\tdescription: 'keyboardNavToggleCmdLineDesc',\n\t\ttitle: 'keyboardNavToggleCmdLineTitle',\n\t\tcallback() { CommandLine.toggle(); },\n\t},\n\tenterFilterCommandLine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommandLine, FilteReddit],\n\t\tvalue: [70, false, false, false, false], // f\n\t\tdescription: 'keyboardNavEnterFilterCommandLineDesc',\n\t\ttitle: 'keyboardNavEnterFilterCommandLineTitle',\n\t\tcallback() { CommandLine.open('fl '); },\n\t},\n\thide: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile'],\n\t\tvalue: [72, false, false, false, false], // h\n\t\tdescription: 'keyboardNavHideDesc',\n\t\ttitle: 'keyboardNavHideTitle',\n\t\tcallback: hideLink,\n\t},\n\tmoveUp: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [75, false, false, false, false], // k\n\t\tdescription: 'keyboardNavMoveUpDesc',\n\t\ttitle: 'keyboardNavMoveUpTitle',\n\t\tcallback() { SelectedThing.move('up', { allowMediaBrowse: true, scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveDown: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [74, false, false, false, false], // j\n\t\tdescription: 'keyboardNavMoveDownDesc',\n\t\ttitle: 'keyboardNavMoveDownTitle',\n\t\tcallback() {\n\t\t\tSelectedThing.move('down', { allowMediaBrowse: true, scrollStyle: module.options.linearScrollStyle.value }, moveDownFallback);\n\t\t},\n\t},\n\tmoveUpComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [75, false, false, false, false], // k\n\t\tdescription: 'keyboardNavMoveUpCommentDesc',\n\t\ttitle: 'keyboardNavMoveUpCommentTitle',\n\t\tcallback() { SelectedThing.move('up', { scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveDownComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [74, false, false, false, false], // j\n\t\tdescription: 'keyboardNavMoveDownCommentDesc',\n\t\ttitle: 'keyboardNavMoveDownCommentTitle',\n\t\tcallback() { SelectedThing.move('down', { scrollStyle: module.options.linearScrollStyle.value }); },\n\t},\n\tmoveTop: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'],\n\t\tvalue: [75, false, false, true, false], // shift-k\n\t\tdescription: 'keyboardNavMoveTopDesc',\n\t\ttitle: 'keyboardNavMoveTopTitle',\n\t\tcallback() { SelectedThing.move('top', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveBottom: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'],\n\t\tvalue: [74, false, false, true, false], // shift-j\n\t\tdescription: 'keyboardNavMoveBottomDesc',\n\t\ttitle: 'keyboardNavMoveBottomTitle',\n\t\tcallback() { SelectedThing.move('bottom', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveUpSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [75, false, false, true, false], // shift-k\n\t\tdescription: 'keyboardNavMoveUpSiblingDesc',\n\t\ttitle: 'keyboardNavMoveUpSiblingTitle',\n\t\tcallback() { SelectedThing.move('upSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, false, false, true, false], // shift-j\n\t\tdescription: 'keyboardNavMoveDownSiblingDesc',\n\t\ttitle: 'keyboardNavMoveDownSiblingTitle',\n\t\tcallback() { SelectedThing.move('downSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownParentSibling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, true, false, false, false], // alt-j\n\t\tdescription: 'keyboardNavMoveDownParentSiblingDesc',\n\t\ttitle: 'keyboardNavMoveDownParentSiblingTitle',\n\t\tcallback() { SelectedThing.move('downParentSibling', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveUpThread: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [75, true, false, true, false], // shift-alt-k\n\t\tdescription: 'keyboardNavMoveUpThreadDesc',\n\t\ttitle: 'keyboardNavMoveUpThreadTitle',\n\t\tcallback() { SelectedThing.move('upThread', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveDownThread: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [74, true, false, true, false], // shift-alt-j\n\t\tdescription: 'keyboardNavMoveDownThreadDesc',\n\t\ttitle: 'keyboardNavMoveDownThreadTitle',\n\t\tcallback() { SelectedThing.move('downThread', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveToTopComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [84, false, false, false, false], // t\n\t\tdescription: 'keyboardNavMoveToTopCommentDesc',\n\t\ttitle: 'keyboardNavMoveToTopCommentTitle',\n\t\tcallback() { SelectedThing.move('toTopComment', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tmoveToParent: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments'],\n\t\tvalue: [80, false, false, false, false], // p\n\t\tdescription: 'keyboardNavMoveToParentDesc',\n\t\ttitle: 'keyboardNavMoveToParentTitle',\n\t\tcallback() { SelectedThing.move('toParent', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tundoMove: {\n\t\ttype: 'keycode',\n\t\tvalue: [90, false, true, false, false], // ctrl-z\n\t\tdescription: 'keyboardNavUndoMoveDesc',\n\t\ttitle: 'keyboardNavUndoMoveTitle',\n\t\tcallback() { SelectedThing.move('previous', { scrollStyle: module.options.nonLinearScrollStyle.value }); },\n\t},\n\tshowParents: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowParent],\n\t\tvalue: [80, false, false, true, false], // p\n\t\tdescription: 'keyboardNavShowParentsDesc',\n\t\ttitle: 'keyboardNavShowParentsTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tShowParent.startHover(assertElement(selected.element.querySelector('.buttons .bylink[href^=\"#\"]')));\n\t\t},\n\t},\n\tfollowLink: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments', 'search'],\n\t\tvalue: [13, false, false, false, false], // enter\n\t\tdescription: 'keyboardNavFollowLinkDesc',\n\t\ttitle: 'keyboardNavFollowLinkTitle',\n\t\tcallback() { followLink(); },\n\t},\n\tfollowLinkNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments', 'search'],\n\t\tvalue: [13, false, false, true, false], // shift-enter\n\t\tdescription: 'keyboardNavFollowLinkNewTabDesc',\n\t\ttitle: 'keyboardNavFollowLinkNewTabTitle',\n\t\tcallback() { followLink(true); },\n\t},\n\ttoggleExpando: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [88, false, false, false, false], // x\n\t\tdescription: 'keyboardNavToggleExpandoDesc',\n\t\ttitle: 'keyboardNavToggleExpandoTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tShowImages.toggleThingExpandos(selected, {\n\t\t\t\tscrollOnToggle: module.options.scrollOnExpando.value,\n\t\t\t});\n\t\t},\n\t},\n\tscrollOnExpando: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavScrollOnExpandoDesc',\n\t\ttitle: 'keyboardNavScrollOnExpandoTitle',\n\t\tadvanced: true,\n\t},\n\timageSizeUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [187, false, false, false, false], // = -- 61 in firefox\n\t\tdescription: 'keyboardNavImageSizeUpDesc',\n\t\ttitle: 'keyboardNavImageSizeUpTitle',\n\t\tcallback() { imageResize({ factor: 1.3 }); },\n\t},\n\timageSizeDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [189, false, false, false, false], // - -- 173 in firefox\n\t\tdescription: 'keyboardNavImageSizeDownDesc',\n\t\ttitle: 'keyboardNavImageSizeDownTitle',\n\t\tcallback() { imageResize({ factor: 1 / 1.3 }); },\n\t},\n\timageSizeUpFine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [187, false, false, true, false], // shift-=\n\t\tdescription: 'keyboardNavImageSizeUpFineDesc',\n\t\ttitle: 'keyboardNavImageSizeUpFineTitle',\n\t\tcallback() { imageResize({ factor: 1.1 }); },\n\t},\n\timageSizeDownFine: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [189, false, false, true, false], // shift--\n\t\tdescription: 'keyboardNavImageSizeDownFineDesc',\n\t\ttitle: 'keyboardNavImageSizeDownFineTitle',\n\t\tcallback() { imageResize({ factor: 1 / 1.1 }); },\n\t},\n\timageSizeAnyHeight: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [39, false, false, true, false], // shift-right\n\t\tdescription: 'keyboardNavImageSizeAnyHeightDesc',\n\t\ttitle: 'keyboardNavImageSizeAnyHeightTitle',\n\t\tcallback() { imageResize({ removeHeightRestriction: true }); },\n\t},\n\timageMoveUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [38, false, true, false, false], // ctrl-up\n\t\tdescription: 'keyboardNavImageMoveUpDesc',\n\t\ttitle: 'keyboardNavImageMoveUpTitle',\n\t\tcallback() { imageMove(0, -50); },\n\t},\n\timageMoveDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [40, false, true, false, false], // ctrl-down\n\t\tdescription: 'keyboardNavImageMoveDownDesc',\n\t\ttitle: 'keyboardNavImageMoveDownTitle',\n\t\tcallback() { imageMove(0, 50); },\n\t},\n\timageMoveLeft: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [37, false, true, false, false], // ctrl-left\n\t\tdescription: 'keyboardNavImageMoveLeftDesc',\n\t\ttitle: 'keyboardNavImageMoveLeftTitle',\n\t\tcallback() { imageMove(-50, 0); },\n\t},\n\timageMoveRight: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [39, false, true, false, false], // ctrl-right\n\t\tdescription: 'keyboardNavImageMoveRightDesc',\n\t\ttitle: 'keyboardNavImageMoveRightTitle',\n\t\tcallback() { imageMove(50, 0); },\n\t},\n\tpreviousGalleryImage: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [219, false, false, false, false], // [\n\t\tdescription: 'keyboardNavPreviousGalleryImageDesc',\n\t\ttitle: 'keyboardNavPreviousGalleryImageTitle',\n\t\tcallback() { navigateGallery('previous'); },\n\t},\n\tnextGalleryImage: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [221, false, false, false, false], // ]\n\t\tdescription: 'keyboardNavNextGalleryImageDesc',\n\t\ttitle: 'keyboardNavNextGalleryImageTitle',\n\t\tcallback() { navigateGallery('next'); },\n\t},\n\tscrollOnGalleryNavigate: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavScrollOnGalleryNavigateDesc',\n\t\ttitle: 'keyboardNavScrollOnGalleryNavigateTitle',\n\t\tadvanced: true,\n\t},\n\ttoggleViewImages: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [ShowImages],\n\t\tvalue: [88, false, false, true, false], // shift-x\n\t\tdescription: 'keyboardNavToggleViewImagesDesc',\n\t\ttitle: 'keyboardNavToggleViewImagesTitle',\n\t\tcallback() { ShowImages.viewImagesButton().click(); },\n\t},\n\ttoggleChildren: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'inbox'/* mostly modmail */],\n\t\tvalue: [13, false, false, false, false], // enter\n\t\tdescription: 'keyboardNavToggleChildrenDesc',\n\t\ttitle: 'keyboardNavToggleChildrenTitle',\n\t\tcallback: toggleChildren,\n\t},\n\tfollowComments: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [67, false, false, false, false], // c\n\t\tdescription: 'keyboardNavFollowCommentsDesc',\n\t\ttitle: 'keyboardNavFollowCommentsTitle',\n\t\tcallback() { followComments(); },\n\t},\n\tfollowCommentsNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [67, false, false, true, false], // shift-c\n\t\tdescription: 'keyboardNavFollowCommentsNewTabDesc',\n\t\ttitle: 'keyboardNavFollowCommentsNewTabTitle',\n\t\tcallback() { followComments(true); },\n\t},\n\tfollowLinkAndCommentsNewTab: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SingleClick],\n\t\tvalue: [76, false, false, false, false], // l\n\t\tdescription: 'keyboardNavFollowLinkAndCommentsNewTabDesc',\n\t\ttitle: 'keyboardNavFollowLinkAndCommentsNewTabTitle',\n\t\tcallback() { followLinkAndComments(); },\n\t},\n\tfollowLinkAndCommentsNewTabBG: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SingleClick],\n\t\tvalue: [76, false, false, true, false], // shift-l\n\t\tdescription: 'keyboardNavFollowLinkAndCommentsNewTabBGDesc',\n\t\ttitle: 'keyboardNavFollowLinkAndCommentsNewTabBGTitle',\n\t\tcallback() { followLinkAndComments(true); },\n\t},\n\tupVote: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [65, false, false, false, false], // a\n\t\tdescription: 'keyboardNavUpVoteDesc',\n\t\ttitle: 'keyboardNavUpVoteTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('upmod'); },\n\t},\n\tdownVote: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [90, false, false, false, false], // z\n\t\tdescription: 'keyboardNavDownVoteDesc',\n\t\ttitle: 'keyboardNavDownVoteTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('downmod'); },\n\t},\n\tupVoteWithoutToggling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [65, false, false, true, false], // a\n\t\tdescription: 'keyboardNavUpVoteWithoutTogglingDesc',\n\t\ttitle: 'keyboardNavUpVoteWithoutTogglingTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('upmod', true); },\n\t},\n\tdownVoteWithoutToggling: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'comments', 'inbox', 'search'],\n\t\tvalue: [90, false, false, true, false], // z\n\t\tdescription: 'keyboardNavDownVoteWithoutTogglingDesc',\n\t\ttitle: 'keyboardNavDownVoteWithoutTogglingTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() { vote('downmod', true); },\n\t},\n\tsavePost: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'comments'],\n\t\tvalue: [83, false, false, false, false], // s\n\t\tdescription: 'keyboardNavSavePostDesc',\n\t\ttitle: 'keyboardNavSavePostTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.link-save-button a, .link-unsave-button a', ASSERT));\n\t\t},\n\t},\n\tsaveComment: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist'],\n\t\tvalue: [83, false, false, true, false], // shift-s\n\t\tdescription: 'keyboardNavSaveCommentDesc',\n\t\ttitle: 'keyboardNavSaveCommentTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.comment-save-button > a', ASSERT));\n\t\t},\n\t},\n\tsaveRES: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [SaveComments],\n\t\tvalue: [83, false, false, false, false], // s\n\t\tdescription: 'keyboardNavSaveRESDesc',\n\t\ttitle: 'keyboardNavSaveRESTitle',\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.saveComments, .unsaveComments', ASSERT));\n\t\t\tSaveComments.showEducationalNotification();\n\t\t},\n\t},\n\treply: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'inbox'],\n\t\tvalue: [82, false, false, false, false], // r\n\t\tdescription: 'keyboardNavReplyDesc',\n\t\ttitle: 'keyboardNavReplyTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback: reply,\n\t},\n\tedit: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'profile'],\n\t\tvalue: [69, false, false, false, false], // e\n\t\tdescription: 'keyboardNavEditDesc',\n\t\ttitle: 'keyboardNavEditTitle',\n\t\tmustBeLoggedIn: true,\n\t\tcallback() {\n\t\t\tclick(getFirstElementInThingByQuery('.entry .edit-usertext', ASSERT, getSelected()));\n\t\t},\n\t},\n\tshowChildComments: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [HideChildComments],\n\t\tvalue: [67, false, false, false, false], // c\n\t\tdescription: 'keyboardNavShowChildCommentsDesc',\n\t\ttitle: 'keyboardNavShowChildCommentsTitle',\n\t\tcallback(selected = getSelected()) {\n\t\t\tHideChildComments.toggle(selected);\n\t\t},\n\t},\n\tshowAllChildComments: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [HideChildComments],\n\t\tvalue: [67, false, false, true, false], // shift-c\n\t\tdescription: 'keyboardNavShowAllChildCommentsDesc',\n\t\ttitle: 'keyboardNavShowAllChildCommentsTitle',\n\t\tcallback() {\n\t\t\tHideChildComments.toggleAll();\n\t\t},\n\t},\n\tfollowPermalink: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [89, false, false, false, false], // y\n\t\tdescription: 'keyboardNavFollowPermalinkDesc',\n\t\ttitle: 'keyboardNavFollowPermalinkTitle',\n\t\tcallback() { followPermalink(); },\n\t},\n\tfollowPermalinkNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['comments', 'commentsLinklist', 'inbox'],\n\t\tvalue: [89, false, false, true, false], // shift-y\n\t\tdescription: 'keyboardNavFollowPermalinkNewTabDesc',\n\t\ttitle: 'keyboardNavFollowPermalinkNewTabTitle',\n\t\tcallback() { followPermalink(true); },\n\t},\n\tfollowSubreddit: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [82, false, false, false, false], // r\n\t\tdescription: 'keyboardNavFollowSubredditDesc',\n\t\ttitle: 'keyboardNavFollowSubredditTitle',\n\t\tcallback() { followSubreddit(); },\n\t},\n\tfollowSubredditNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'modqueue', 'profile', 'search'],\n\t\tvalue: [82, false, false, true, false], // shift-r\n\t\tdescription: 'keyboardNavFollowSubredditNewTabDesc',\n\t\ttitle: 'keyboardNavFollowSubredditNewTabTitle',\n\t\tcallback() { followSubreddit(true); },\n\t},\n\tfollowProfile: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'comments', 'commentsLinklist', 'inbox', 'modqueue', 'search'],\n\t\tvalue: [85, false, false, false, false], // u\n\t\tdescription: 'keyboardNavFollowProfileDesc',\n\t\ttitle: 'keyboardNavFollowProfileTitle',\n\t\tcallback() { followProfile(); },\n\t},\n\tfollowProfileNewTab: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'comments', 'commentsLinklist', 'inbox', 'modqueue', 'search'],\n\t\tvalue: [85, false, false, true, false], // shift-u\n\t\tdescription: 'keyboardNavFollowProfileNewTabDesc',\n\t\ttitle: 'keyboardNavFollowProfileNewTabTitle',\n\t\tcallback() { followProfile(true); },\n\t},\n\ttoggleCommentNavigator: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [78, false, false, false, false], // N\n\t\tdescription: 'keyboardNavToggleCommentNavigatorDesc',\n\t\ttitle: 'keyboardNavToggleCommentNavigatorTitle',\n\t\tcallback() { CommentNavigator.toggle(true); },\n\t},\n\tcommentNavigatorMoveUp: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [38, false, false, true, false], // shift+up arrow\n\t\tdescription: 'keyboardNavCommentNavigatorMoveUpDesc',\n\t\ttitle: 'keyboardNavCommentNavigatorMoveUpTitle',\n\t\tcallback() { CommentNavigator.move('up'); },\n\t},\n\tcommentNavigatorMoveDown: {\n\t\ttype: 'keycode',\n\t\trequiresModules: [CommentNavigator],\n\t\tvalue: [40, false, false, true, false], // shift+down arrow\n\t\tdescription: 'keyboardNavCommentNavigatorMoveDownDesc',\n\t\ttitle: 'keyboardNavCommentNavigatorMoveDownTitle',\n\t\tcallback() { CommentNavigator.move('down'); },\n\t},\n\tfocusOnSearchBox: {\n\t\ttype: 'keycode',\n\t\tvalue: [191, true, false, false, false], // alt-/\n\t\tdescription: 'keyboardNavFocusOnSearchBoxDesc',\n\t\ttitle: 'keyboardNavFocusOnSearchBoxTitle',\n\t\tcallback() { document.querySelector('#search input[name=\"q\"]').focus(); },\n\t},\n\tuseGoMode: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'keyboardNavUseGoModeDesc',\n\t\ttitle: 'keyboardNavUseGoModeTitle',\n\t},\n\tgoMode: {\n\t\ttype: 'keycode',\n\t\tvalue: [71, false, false, false, false], // g\n\t\tdescription: 'keyboardNavGoModeDesc',\n\t\ttitle: 'keyboardNavGoModeTitle',\n\t\tdependsOn: options => options.useGoMode.value,\n\t\tcallback() { if (module.options.useGoMode.value) toggleGoMode(); },\n\t},\n\tinbox: {\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, false, false, false], // i\n\t\tdescription: 'keyboardNavInboxDesc',\n\t\ttitle: 'keyboardNavInboxTitle',\n\t\tcallback() { navigateTo('/message/inbox/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tinboxNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [73, false, false, true, false], // shift+i\n\t\tdescription: 'keyboardNavInboxNewTabDesc',\n\t\ttitle: 'keyboardNavInboxNewTabTitle',\n\t\tcallback() { navigateTo('/message/inbox/', { newWindow: true, leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tmodmail: {\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, false, false, false], // m\n\t\tdescription: 'keyboardNavModmailDesc',\n\t\ttitle: 'keyboardNavModmailTitle',\n\t\tcallback() { navigateTo('/message/moderator/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tmodmailNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [77, false, false, true, false], // shift+m\n\t\tdescription: 'keyboardNavModmailNewTabDesc',\n\t\ttitle: 'keyboardNavModmailNewTabTitle',\n\t\tcallback() { navigateTo('/message/moderator/', { newWindow: true, leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tprofile: {\n\t\ttype: 'keycode',\n\t\tvalue: [85, false, false, false, false], // u\n\t\tdescription: 'keyboardNavProfileDesc',\n\t\ttitle: 'keyboardNavProfileTitle',\n\t\tcallback() {\n\t\t\tconst user = loggedInUser();\n\t\t\tif (user) navigateTo(`/user/${user}`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprofileNewTab: {\n\t\ttype: 'keycode',\n\t\tvalue: [85, false, false, true, false], // shift+u\n\t\tdescription: 'keyboardNavProfileNewTabDesc',\n\t\ttitle: 'keyboardNavProfileNewTabTitle',\n\t\tcallback() {\n\t\t\tconst user = loggedInUser();\n\t\t\tif (user) navigateTo(`/user/${user}`, { newWindow: true, leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tfrontPage: {\n\t\ttype: 'keycode',\n\t\tvalue: [70, false, false, false, false], // f\n\t\tdescription: 'keyboardNavFrontPageDesc',\n\t\ttitle: 'keyboardNavFrontPageTitle',\n\t\tcallback() { navigateTo('/', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tslashAll: {\n\t\ttype: 'keycode',\n\t\tvalue: [65, true, false, false, false], // alt-a\n\t\tdescription: 'keyboardNavSlashAllDesc',\n\t\ttitle: 'keyboardNavSlashAllTitle',\n\t\tcallback() { navigateTo('/r/all', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tsubredditFrontPage: {\n\t\ttype: 'keycode',\n\t\tvalue: [70, false, false, true, false], // shift-f\n\t\tdescription: 'keyboardNavsSubredditFrontPageDesc',\n\t\ttitle: 'keyboardNavsSubredditFrontPageTitle',\n\t\tcallback() {\n\t\t\tconst sub = currentSubreddit();\n\t\t\tif (sub) navigateTo(`/r/${sub}`, { leaveNP: false });\n\t\t},\n\t\tgoMode: true,\n\t},\n\trandom: {\n\t\ttype: 'keycode',\n\t\tvalue: [89, true, false, false, false], // alt-y   SO RANDOM\n\t\tdescription: 'keyboardNavRandomDesc',\n\t\ttitle: 'keyboardNavRandomTitle',\n\t\tcallback() { navigateTo('/r/random', { leaveNP: true }); },\n\t\tgoMode: true,\n\t},\n\tnextPage: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox'],\n\t\tvalue: [78, false, false, false, false], // n\n\t\tdescription: 'keyboardNavNextPageDesc',\n\t\ttitle: 'keyboardNavNextPageTitle',\n\t\tcallback() {\n\t\t\tif (Modules.isRunning(NeverEndingReddit)) {\n\t\t\t\tNeverEndingReddit.loadNextPage({ scrollToLoadWidget: true });\n\t\t\t} else {\n\t\t\t\tconst next = NeverEndingReddit.getNextPrevLinks().next;\n\t\t\t\tif (next) location.href = next;\n\t\t\t}\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprevPage: {\n\t\ttype: 'keycode',\n\t\tinclude: ['linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox'],\n\t\tvalue: [80, false, false, false, false], // p\n\t\tdescription: 'keyboardNavPrevPageDesc',\n\t\ttitle: 'keyboardNavPrevPageTitle',\n\t\tcallback() {\n\t\t\tif (Modules.isRunning(NeverEndingReddit)) {\n\t\t\t\t// neverEndingReddit has no interface for this\n\t\t\t} else {\n\t\t\t\tconst prev = NeverEndingReddit.getNextPrevLinks().prev;\n\t\t\t\tif (prev) location.href = prev;\n\t\t\t}\n\t\t},\n\t\tgoMode: true,\n\t},\n\toverviewLegacy: {\n\t\ttype: 'keycode',\n\t\tinclude: ['d2x', 'profile'],\n\t\tvalue: [79, false, false, true, false], // shift+o\n\t\tdescription: 'keyboardNavOverviewLegacyDesc',\n\t\ttitle: 'keyboardNavOverviewLegacyTitle',\n\t\tcallback() {\n\t\t\tconst currentUser = currentUserProfile();\n\t\t\tif (currentUser) navigateTo(`/user/${currentUser}/overview`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\tprofileView: {\n\t\ttype: 'keycode',\n\t\tinclude: ['d2x', 'profile'],\n\t\tvalue: [80, false, false, true, false], // shift+p\n\t\tdescription: 'keyboardNavProfileViewDesc',\n\t\ttitle: 'keyboardNavProfileViewTitle',\n\t\tcallback() {\n\t\t\tconst currentUser = currentUserProfile();\n\t\t\tif (currentUser) navigateTo(`/user/${currentUser}`, { leaveNP: true });\n\t\t},\n\t\tgoMode: true,\n\t},\n\t// numbers and numpad numbers are used to access links (see getLinkKeys)\n};\n\nmodule.beforeLoad = () => {\n\tregisterCommandLine();\n\n\tif (module.options.linkNumbers.value) {\n\t\tSelectedThing.addListener(updateLinkAnnotations, 'instantly');\n\t\twatchForElements(['selfText'], null, element => {\n\t\t\tconst thing = Thing.from(element);\n\t\t\tif (SelectedThing.current === thing) updateLinkAnnotations(thing);\n\t\t});\n\t}\n};\n\nmodule.contentStart = () => {\n\twindow.addEventListener('keydown', handleKeyPress, true);\n};\n\nfunction registerCommandLine() {\n\tCommandLine.registerCommand(/\\d+/, '[number] - navigates to the link with that number (if annotation exists) or rank (link pages)',\n\t\t() => {},\n\t\tcommand => {\n\t\t\tconst number = parseInt(command, 10);\n\t\t\tconst annotation = linkAnnotations[number - 1];\n\t\t\tif (annotation) {\n\t\t\t\tif (!document.contains(annotation.link)) {\n\t\t\t\t\tconsole.log('Annotation refers to removed link; ignoring');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\topenLink(number - 1);\n\t\t\t} else {\n\t\t\t\tfollowLinkByRank(number);\n\t\t\t}\n\t\t}\n\t);\n}\n\nlet linkAnnotations = [];\n\nfunction updateLinkAnnotations(selected) {\n\tfor (const { annotation } of linkAnnotations) annotation.remove();\n\n\tlinkAnnotations = ((Array.from((selected && selected.entry.querySelectorAll('div.md a:not(.noKeyNav)')) || []): any[]): HTMLAnchorElement[])\n\t\t.filter(link => !isCommentCode(link) && !isEmptyLink(link))\n\t\t.map((link, i) => {\n\t\t\tconst number = i + 1;\n\t\t\tconst title = number < 10 ? `press ${number} to open link` :\n\t\t\t\tnumber === 10 ? 'press 0 to open link' :\n\t\t\t\t`press ${niceKeyCode(module.options.toggleCmdLine.value)} then ${number} and Enter to open link`;\n\n\t\t\tconst annotation = string.html`<span class=\"noCtrlF keyNavAnnotation\" data-text=\"[${number}]\" title=\"${title}\"></span>`;\n\n\t\t\tif (module.options.linkNumberPosition.value === 'right') link.after(annotation);\n\t\t\telse link.before(annotation);\n\n\t\t\treturn { annotation, link };\n\t\t});\n}\n\nfunction toggleKeyNavHelp() {\n\tconst slideSpeed = 400;\n\tif (!drawHelp().attr('shown')) {\n\t\tdrawHelp().attr('shown', 'false');\n\t\tdrawHelp().css({ right: '-350px' });\n\t\tdrawHelp().show();\n\t}\n\tif (drawHelp().attr('shown') === 'true') {\n\t\tdrawHelp().animate({\n\t\t\tright: '-350px',\n\t\t}, slideSpeed);\n\t\tdrawHelp().attr('shown', 'false');\n\t} else {\n\t\tdrawHelp().animate({\n\t\t\tright: '20px',\n\t\t}, slideSpeed);\n\t\tdrawHelp().attr('shown', 'true');\n\t}\n}\n\nconst drawHelp = _.once(() => {\n\tconst keys = filterMap(getActiveCommandOptions(), opt => {\n\t\tlet keyCode\t= niceKeyCode(opt.value);\n\t\tif (opt.goMode && module.options.useGoMode.value) {\n\t\t\tkeyCode = `${niceKeyCode(module.options.goMode.value)}  ${keyCode}`;\n\t\t}\n\n\t\treturn [{ keyCode, description: i18n(opt.description) }];\n\t});\n\n\treturn $(string.html`\n\t\t<div id=\"keyHelp\">\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr><th>Key</th><th>Function</th></tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t${keys.map(({ keyCode, description }) => string._html`\n\t\t\t\t\t\t<tr><td>${keyCode}</td><td>${description}</td></tr>\n\t\t\t\t\t`)}\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t`).appendTo(document.body);\n});\n\nfunction getLinkKeys() {\n\tconst altModeModifier = module.options.linkNumberAltModeModifier.value;\n\tconst keys = [];\n\n\tfunction addKey(key, index) {\n\t\tkeys.push({\n\t\t\tvalue: [key, false, false, false, false], // number\n\t\t\tcallback() { openLink(index); },\n\t\t});\n\n\t\tif (altModeModifier !== 'none') {\n\t\t\tkeys.push({\n\t\t\t\tvalue: [key, altModeModifier === 'alt', false, altModeModifier === 'shift', false], // alt-number | shift-number\n\t\t\t\tcallback() { openLink(index, true); },\n\t\t\t});\n\t\t}\n\t}\n\n\tif (module.options.linkNumbers.value) {\n\t\t[49, 50, 51, 52, 53, 54, 55, 56, 57, 48].forEach(addKey); // numbers 1 2 3 4 5 6 7 8 9 0\n\t\t[97, 98, 99, 100, 101, 102, 103, 104, 105, 96].forEach(addKey); // numpad 1 2 3 4 5 6 7 8 9 0\n\t}\n\n\treturn keys;\n}\n\nconst getActiveCommandOptions = _.once(() =>\n\tfilterMap(Object.values(module.options), option => {\n\t\tif (\n\t\t\toption.type === 'keycode' &&\n\t\t\toption.callback &&\n\t\t\t(!option.dependsOn || option.dependsOn(module.options)) &&\n\t\t\t(!option.include || matchesPageLocation(option.include)) &&\n\t\t\t(!option.mustBeLoggedIn || loggedInUser()) &&\n\t\t\t(!option.requiresModules || option.requiresModules.every(Modules.isRunning))\n\t\t) {\n\t\t\treturn [option];\n\t\t}\n\t})\n);\n\nconst _commandLookup = _.once(() => {\n\tconst lookup = {};\n\tfor (const option of [...getActiveCommandOptions(), ...getLinkKeys()]) {\n\t\tconst hash = hashKeyArray(option.value);\n\t\tif (!lookup[hash]) {\n\t\t\tlookup[hash] = [];\n\t\t}\n\n\t\tlookup[hash].push(option);\n\t}\n\treturn lookup;\n});\n\nfunction handleKeyPress(e) {\n\tif (EasterEgg.konamiActive()) return;\n\n\t// Allow navigation on other elements when input has no (apparent) default behavior\n\tif (document.activeElement && ['A', 'BUTTON'].includes(document.activeElement.tagName)) {\n\t\tconst hasDefaultBehavior = [NAMED_KEYS.Tab, NAMED_KEYS.Enter,\n\t\t\tNAMED_KEYS.Space].includes(e.key);\n\t\tif (hasDefaultBehavior) return;\n\t} else if (document.activeElement && document.activeElement.tagName !== 'BODY') {\n\t\treturn;\n\t}\n\n\tconst hash = hashKeyEvent(e);\n\tconst options = (_commandLookup()[hash] || [])\n\t\t.filter(v => {\n\t\t\tif (v.goMode) return module.options.useGoMode.value === goModeActive;\n\t\t\telse return !goModeActive;\n\t\t});\n\n\tif (options.length) {\n\t\thandleCallbacks(options);\n\t\te.preventDefault();\n\t\te.target.blur();\n\t}\n}\n\nasync function handleCallbacks(options) {\n\tif (options.some(v => v.goMode)) {\n\t\tif (goModeActive) toggleGoMode();\n\n\t\tif (options.length > 1) {\n\t\t\tconst shortcut = niceKeyCode(options[0].value);\n\t\t\toptions = await promptUniqueShortcut(shortcut, options);\n\t\t}\n\t}\n\n\tfor (const option of options) {\n\t\ttry {\n\t\t\toption.callback();\n\t\t} catch (e) {\n\t\t\tconsole.error('Could not execute callback', i18n(option.title), e);\n\t\t}\n\t}\n}\n\nconst promptUniqueShortcut = _.memoize(async (shortcut, options: any) => {\n\tconst question = i18n('keyboardNavAmbiguousShortcutPrompt', i18n(module.moduleName), `<i>${shortcut}</i>`, '<br><br>', `<i>${shortcut}</i>`);\n\tconst optionButtons = options.map(option =>\n\t\t[option, $(`<button style=\"width: 100%; margin-top: 2px;\">${i18n(option.description)}</button>`).get(0)]\n\t);\n\tconst followUp = i18n('keyboardNavAmbiguousShortcutPromptFollowUp', SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, i18n(module.moduleName)));\n\n\tconst message = $(`<div>${question}</div>`)\n\t\t.append(optionButtons.map(([, button]) => button))\n\t\t.append(`<br><br><small>(${followUp})</small>`)\n\t\t.get(0);\n\n\tconst notification = Notifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\theader: 'Ambiguous shortcut',\n\t\tmessage,\n\t\tnoDisable: true,\n\t\tcloseDelay: Infinity,\n\t});\n\n\tconst preservedOption = await Promise.race(\n\t\toptionButtons.map(([option, button]) => waitForEvent(button, 'click').then(() => option))\n\t);\n\n\tfor (const option of _.without(options, preservedOption)) {\n\t\toption.value = [-1, false, false, false, false];\n\t\tOptions.save(option);\n\t}\n\n\tnotification.close();\n\n\treturn [preservedOption];\n});\n\nfunction getSelected(): Thing {\n\tconst selected = SelectedThing.current;\n\tif (!selected) throw new Error('A entry must be selected');\n\tif (!selected.isVisible()) throw new Error('Entry must be visible');\n\treturn selected;\n}\n\nconst ASSERT = true;\nconst NOASSERT = false;\n\nfunction assertElement(element): HTMLElement {\n\tif (!element) throw new Error('Element not available');\n\treturn element;\n}\n\nfunction getFirstElementInThingByQuery(query: string, assertExistance: boolean, thing = getSelected()) {\n\tconst element = thing.entry.querySelector(query);\n\treturn assertExistance ? assertElement(element) : element;\n}\n\nfunction getElementsInThingByQuery(query: string, assertLength: boolean, thing = getSelected()) {\n\tconst elements = Array.from(thing.entry.querySelectorAll(query));\n\tif (assertLength) assertElement(elements[0]);\n\treturn elements;\n}\n\nfunction getMostVisibleElementInThingByQuery(query, assertLength, thing) {\n\treturn _.maxBy(getElementsInThingByQuery(query, assertLength, thing), getPercentageVisibleYAxis);\n}\n\nfunction hideLink(selected = getSelected()) {\n\tconst hide = assertElement(selected.getHideElement());\n\n\t// Hide will collapse expandos, so move down first in order for mediaBrowse to use correct state\n\tif (module.options.onHideMoveDown.value) {\n\t\tSelectedThing.move('down', { allowMediaBrowse: true, scrollStyle: 'none' }, moveDownFallback);\n\t}\n\n\tclick(hide);\n}\n\nfunction followSubreddit(newWindow = false, selected = getSelected()) {\n\tconst a = downcast(assertElement(selected.getSubredditLink()), HTMLAnchorElement);\n\tnavigateTo(a.href, { newWindow, leaveNP: true });\n}\n\nfunction followProfile(newWindow = false, selected = getSelected()) {\n\tnavigateTo(selected.getAuthorUrl(), { newWindow, leaveNP: true });\n}\n\nfunction toggleChildren(selected = getSelected()) {\n\tif (selected.element.classList.contains('link')) return;\n\n\tclick(assertElement(\n\t\t// 'continue this thread' links\n\t\tgetFirstElementInThingByQuery('span.deepthread > a', NOASSERT, selected) ||\n\t\t// check if this is a \"show more comments\" box, or just contracted content...\n\t\tgetFirstElementInThingByQuery('span.morecomments > a', NOASSERT, selected) ||\n\t\t// find out if this is a collapsed or uncollapsed view...\n\t\tgetFirstElementInThingByQuery('a.expand', NOASSERT, selected)\n\t));\n}\n\nfunction imageResize({ factor = 1, removeHeightRestriction = false }: {| factor?: number, removeHeightRestriction?: boolean |}) {\n\tconst mostVisible = getMostVisibleElementInThingByQuery('.res-media-zoomable', ASSERT);\n\tif (removeHeightRestriction) mostVisible.style.maxHeight = 'none';\n\tShowImages.resize(mostVisible, mostVisible.clientWidth * factor);\n}\n\nfunction imageMove(deltaX, deltaY) {\n\tconst mostVisible = getMostVisibleElementInThingByQuery('.res-media-movable', ASSERT);\n\tShowImages.move(mostVisible, deltaX, deltaY);\n}\n\nfunction navigateGallery(direction: 'previous' | 'next') {\n\tconst gallery = getMostVisibleElementInThingByQuery('.res-gallery', ASSERT);\n\tassertElement(gallery.querySelector(`.res-gallery-${direction}`)).click();\n\tif (module.options.scrollOnGalleryNavigate.value) {\n\t\tscrollToElement(assertElement(gallery.querySelector('.res-gallery-pieces')), null, { scrollStyle: 'directional', restrictDirectionTo: 'up' });\n\t}\n}\n\nfunction followLink(newWindow = false, selected = getSelected()) {\n\tif (isPageType('comments') && !selected.element.classList.contains('link')) return;\n\n\tconst a = selected.getPostLink();\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followLinkByRank(num) {\n\tconst target = Thing.visibleThings().find(v => v.getRank() === num);\n\tif (!target) throw new Error(`Could not find visible entry at rank ${num}`);\n\tSelectedThing.set(target);\n\tfollowLink();\n}\n\nfunction followPermalink(newWindow = false) {\n\tconst a = downcast(getFirstElementInThingByQuery('a.bylink', ASSERT), HTMLAnchorElement);\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followComments(newWindow = false, selected = getSelected()) {\n\tconst a = selected.getCommentsLink();\n\tnavigateTo(a.href, { newWindow });\n}\n\nfunction followLinkAndComments(background = false, selected = getSelected()) {\n\tSingleClick.openTabs(selected, !background);\n}\n\nfunction vote(way: 'downmod' | 'upmod', preventToggle = false, selected = getSelected()) {\n\tconst button = assertElement(way === 'upmod' ? selected.getUpvoteButton() : selected.getDownvoteButton());\n\n\tif (button.classList.contains('archived')) {\n\t\t// do nothing\n\t} else if (NoParticipation.isVotingBlocked()) {\n\t\tNoParticipation.notifyNoVote();\n\t} else if (!preventToggle || !button.classList.contains(way)) {\n\t\tclick(button);\n\t}\n\n\tif (selected.isComment()) {\n\t\tif (module.options.onVoteCommentMoveDown.value) module.options.moveDownComment.callback();\n\t} else {\n\t\tif (module.options.onVoteMoveDown.value) module.options.moveDown.callback();\n\t}\n}\n\nfunction reply(selected = getSelected()) {\n\tif (selected.element.classList.contains('link') && isPageType('comments')) {\n\t\t// Reply to OP, but only if a reply form is available\n\t\tconst $target = $('.usertext-edit textarea[name=text]:first');\n\t\tif ($target.filter(':visible').length) {\n\t\t\t$target.focus();\n\t\t\treturn;\n\t\t}\n\t}\n\n\tclick(assertElement(\n\t\t// User can reply directly here, so open/focus the reply form\n\t\tgetFirstElementInThingByQuery('.buttons a[onclick*=reply]', NOASSERT, selected) ||\n\t\t// User cannot reply directly from this page, so go to where they can reply\n\t\tgetFirstElementInThingByQuery('.buttons a.comments, .buttons a.bylink', NOASSERT, selected)\n\t));\n}\n\nfunction navigateTo(href, options: {| newWindow?: boolean, leaveNP?: boolean |}) {\n\tif (\n\t\toptions.leaveNP &&\n\t\tModules.isEnabled(NoParticipation) &&\n\t\tNoParticipation.module.options.escapeNP.value\n\t) {\n\t\thref = NoParticipation.nonNpLocation(href);\n\t}\n\n\tif (options.newWindow) {\n\t\topenNewTab(href, module.options.followLinkNewTabFocus.value);\n\t} else {\n\t\tlocation.href = href;\n\t}\n}\n\nconst goModePanel = _.once(() => {\n\tconst goModes = getActiveCommandOptions()\n\t\t.filter(opt => opt.goMode)\n\t\t.map(opt => ({ key: i18n(opt.title), niceKeyCode: niceKeyCode(opt.value) }));\n\n\treturn $(string.html`\n\t\t<div id=\"goModePanel\" class=\"RESDialogSmall\">\n\t\t\t<h3>Press a key to go:</h3>\n\t\t\t<div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESDialogContents\">\n\t\t\t\t<table>\n\t\t\t\t\t${goModes.map(({ niceKeyCode, key }) => string._html`\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<td>${niceKeyCode}</td>\n\t\t\t\t\t\t\t<td class=\"arrow\">&rarr;</td>\n\t\t\t\t\t\t\t<td>${key}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t`)}\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t</div>\n\t`)\n\t\t.find('.RESCloseButton').click(toggleGoMode)\n\t\t.end();\n});\n\nlet goModeActive = false;\n\nfunction toggleGoMode() {\n\tgoModeActive = !goModeActive;\n\tif (goModeActive) {\n\t\t$(document.body).on('keyup', handleGoModeEscapeKey);\n\t\tgoModePanel().appendTo(document.body).fadeIn();\n\t} else {\n\t\tgoModePanel().fadeOut();\n\t\t$(document.body).off('keyup', handleGoModeEscapeKey);\n\t}\n}\n\nfunction handleGoModeEscapeKey(event: KeyboardEvent) {\n\tif (event.key === NAMED_KEYS.Escape) {\n\t\ttoggleGoMode();\n\t}\n}\n\nfunction moveDownFallback() {\n\tconst bump = Modules.isRunning(NeverEndingReddit) &&\n\t\t(\n\t\t\t!SelectedThing.current ||\n\t\t\t[SelectedThing.current, undefined].includes(_.last(Thing.visibleThings()))\n\t\t);\n\tif (bump) NeverEndingReddit.loadNextPage({ scrollToLoadWidget: true });\n}\n\nfunction openLink(index, altMode = false) {\n\tconst link = linkAnnotations[index] && linkAnnotations[index].link;\n\tif (!link) throw Error(`Link annotation ${index} is not available`);\n\n\tconst expando = ShowImages.getLinkExpando(link);\n\tif (expando && (module.options.linkToggleExpando.value !== altMode)) {\n\t\tclick(expando.button);\n\t} else if (SettingsNavigation.isSettingsUrl(link.href)) {\n\t\tSettingsNavigation.update(link);\n\t} else if (module.options.linkNewTab.value) {\n\t\topenNewTab(link.href, module.options.followLinkNewTabFocus.value);\n\t} else {\n\t\tlocation.href = link.href;\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { RES_SETTINGS_HASH } from '../constants/urlHashes';\nimport { guiders } from '../vendor/guiders';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport {\n\tCreateElement,\n\telementInViewport,\n\tmutex,\n\tniceKeyCode,\n\tpositiveModulo,\n\tDAY,\n\tstring,\n} from '../utils';\nimport { Storage, i18n } from '../environment';\nimport * as PenaltyBox from './penaltyBox';\nimport * as KeyboardNav from './keyboardNav';\nimport * as Menu from './menu';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('RESTips');\n\nmodule.moduleName = 'resTipsName';\nmodule.category = 'aboutCategory';\nmodule.description = 'resTipsDesc';\nmodule.options = {\n\tmenuItem: {\n\t\ttitle: 'RESTipsMenuItemTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsMenuItemDesc',\n\t},\n\tdailyTip: {\n\t\ttitle: 'RESTipsDailyTipTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsDailyTipDesc',\n\t},\n\tnewFeatureTips: {\n\t\ttitle: 'RESTipsNewFeatureTipsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'RESTipsNewFeatureTipsDesc',\n\t},\n};\n\n// Many of the tips refers to modules that are disabled in the redesign\n// so avoid confusing users\nmodule.include = ['r2'];\n\nconst featureTipsStorage = Storage.wrapPrefix('RESTips.featureTips.', () => ({ enabled: true }));\nconst lastTooltipStorage = Storage.wrap('RESLastToolTip', 0);\n\nmodule.contentStart = () => {\n\tif (module.options.menuItem.value) {\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<span>${i18n('tipsAndTricks')}</span>`,\n\t\t\t() => { showOrdinaryTip('random'); }\n\t\t);\n\t}\n};\n\nlet allowFeatureTips;\nconst featureTips: Map<string, Tip> = new Map();\nconst featureTipReadyPromise = new Promise(resolve => { allowFeatureTips = () => resolve(true); });\n\nmodule.afterLoad = async () => {\n\tconst showsDailyTip = module.options.dailyTip.value && await dailyTip();\n\tif (module.options.newFeatureTips.value && !showsDailyTip) allowFeatureTips();\n};\n\nconst newFeatureTipsCheckbox = _.once(() =>\n\t$('<label><input type=\"checkbox\" name=\"disableNewFeatureTipsCheckbox\" checked />Show these tips when new features appear</label>')\n\t\t.click((e: Event) => { module.options.newFeatureTips.value = (e.target: any).checked; Options.save(module.options.newFeatureTips); })\n);\n\n// memoize: prevent the same tip from being added multiple times\nexport const addFeatureTip = _.memoize(async (id: string, tip: Tip) => {\n\ttip.onHide = () => { featureTipsStorage.set(id, { enabled: false }); };\n\n\tfeatureTips.set(id, tip);\n\t// Make the tip accessible via daily tips / tips & tricks\n\ttips.push(tip);\n\n\tif (\n\t\t!tip.quiet &&\n\t\tawait featureTipReadyPromise &&\n\t\tawait featureTipsStorage.get(id).then(({ enabled }) => enabled)\n\t) showFeatureTip(id);\n});\n\nexport const showFeatureTip = mutex((id: string) => {\n\tconst tip = featureTips.get(id);\n\n\tif (!tip) {\n\t\tconsole.error('Feature tip is not added', id);\n\t\treturn;\n\t}\n\n\tif (tip.attachTo instanceof Element && !elementInViewport(tip.attachTo)) {\n\t\t// Usually happens when subreddit CSS for some reason hides the element\n\t\tconsole.log('Ignoring feature tip whose attachment element is not visible:', tip);\n\t\treturn;\n\t}\n\n\treturn showTip(tip, {\n\t\ttitle: 'New feature',\n\t\tclassString: 'res-featureTip',\n\t\tbuttonCustomHTML: newFeatureTipsCheckbox(),\n\t\tbuttons: [],\n\t});\n});\n\nasync function dailyTip(): Promise<boolean> { // `true` if daily tip is being shown\n\tconst lastCheck = await lastTooltipStorage.get();\n\tconst now = Date.now();\n\tconst delay = PenaltyBox.penalizedDelay(module.moduleID, 'dailyTip', {\n\t\tvalue: DAY,\n\t\tdefault: DAY,\n\t});\n\tif ((now - lastCheck) > delay) {\n\t\t// mark off that we've displayed a new tooltip\n\t\tlastTooltipStorage.set(now);\n\t\tif (lastCheck === 0) {\n\t\t\tawait showOrdinaryTip();\n\t\t} else {\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', _.clamp(PenaltyBox.MAX_PENALTY / tips.length, 3, 8));\n\t\t\tawait showOrdinaryTip('random');\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction generateContent({ message, keyboard, options }: Tip) {\n\tconst description = [];\n\n\tif (typeof message === 'function') description.push(message());\n\telse if (typeof message === 'string') description.push(message);\n\n\tif (keyboard) {\n\t\t// TODO: microtemplate\n\t\tconst disabled = !Modules.isEnabled(KeyboardNav);\n\t\tdescription.push(`<h2 class=\"keyboardNav${disabled ? 'keyboardNavDisabled' : ''}\">`);\n\t\tdescription.push(`Keyboard Navigation${disabled ? ' (disabled)' : ''}`);\n\t\tdescription.push('</h2>');\n\n\t\tconst keyboardTable = CreateElement.table(keyboard, generateContentKeyboard);\n\t\tif (keyboardTable) description.push(keyboardTable);\n\t}\n\n\tif (options) {\n\t\tfor (const option of options) {\n\t\t\tdescription.push('<h2 class=\"settingsPointer\">');\n\t\t\tdescription.push('<span class=\"gearIcon\"></span> RES Settings');\n\t\t\tdescription.push('</h2>');\n\n\t\t\tconst optionTable = CreateElement.table(option, generateContentOption);\n\t\t\tif (optionTable) description.push(optionTable);\n\t\t}\n\t}\n\n\treturn $('<div />').html(description.join('\\n'));\n}\n\nfunction generateContentKeyboard(keyboardNavOption: string) {\n\tconst keyCode = niceKeyCode(KeyboardNav.module.options[keyboardNavOption].value);\n\tif (!keyCode) return false;\n\n\tconst description = [];\n\tdescription.push('<tr>');\n\tdescription.push(`<td><code>${keyCode.toLowerCase()}</code></td>`);\n\tdescription.push(`<td>${keyboardNavOption}</td>`);\n\tdescription.push('</tr><tr>');\n\tdescription.push('<td>&nbsp;</td>'); // for styling\n\tdescription.push(`<td>${i18n(KeyboardNav.module.options[keyboardNavOption].description)}</td>`);\n\tdescription.push('</tr>');\n\n\treturn description;\n}\n\nfunction generateContentOption(option) {\n\tconst mod = Modules.getUnchecked(option.moduleID);\n\tif (!mod) return false;\n\n\tconst description = [];\n\n\tdescription.push('<tr>');\n\tdescription.push(`<td>${i18n(mod.category)}</td>`);\n\n\tdescription.push('<td>');\n\tdescription.push(SettingsNavigation.makeUrlHashLink(option.moduleID, undefined, i18n(mod.moduleName)));\n\tdescription.push('</td>');\n\n\tdescription.push('<td>');\n\tdescription.push(option.key ? SettingsNavigation.makeUrlHashLink(option.moduleID, option.key) : '&nbsp;');\n\tdescription.push('</td>');\n\n\tif (option.key && mod.options[option.key]) {\n\t\tdescription.push('</tr><tr>');\n\t\tdescription.push(`<td colspan=\"3\">${i18n(mod.options[option.key].description)}</td>`);\n\t}\n\tdescription.push('</tr>');\n\n\treturn description;\n}\n\nexport type Tip = {|\n\tmessage: string | () => string,\n\ttitle?: string,\n\tattachTo?: string | HTMLElement,\n\tposition?: number,\n\tkeyboard?: string,\n\tcontinuation?: () => string,\n\tquiet?: boolean,\n\tonHide?: () => void,\n\toptions?: Array<{|\n\t\tmoduleID: string,\n\t\tkey?: string,\n\t|}>,\n|};\n\nconst tips: Array<Tip> = [{\n\tmessage: `\n\t\tWelcome to RES, a community-driven unofficial browser extension for Reddit. You can turn on, turn off, or change options for RES features using the gear icon link at the top right.\n\t\t<p>For feature requests, or just help getting a question answered, be sure to subscribe to <a href=\"/r/Enhancement\">/r/Enhancement</a>.</p>\n\t\t<p>If RES has enhanced your reddit experience, please show your appreciation by <a href=\"${RES_SETTINGS_HASH}/contribute\">donating or contributing!</a></p>\n\t\t`,\n\tattachTo: '#RESSettingsButton',\n\tposition: 5,\n}, {\n\tmessage: 'Click the tag icon next to a user to tag that user with any name you like - you can also color code the tag.',\n\tattachTo: '.RESUserTagImage',\n\tposition: 3,\n\toptions: [{ moduleID: 'userTagger' }],\n}, {\n\tmessage: 'If your RES data gets deleted or you move to a new computer, you can restore it from backup. <br><br><b>Firefox</b> especially sometimes loses your RES settings and data. <br><br><a href=\"/r/Enhancement/wiki/backing_up_res_settings\" target=\"_blank\" rel=\"noopener noreferer\">Learn where RES stores your data and settings</a></p>',\n\ttitle: 'Back up your RES data!',\n}, {\n\tmessage: 'Don\\'t forget to subscribe to <a href=\"/r/Enhancement\">/r/Enhancement</a> to keep up to date on the latest versions of RES or suggest features! For bug reports, submit to <a href=\"/r/RESIssues\">/r/RESIssues</a>',\n}, {\n\tmessage: 'Don\\'t want to see posts containing certain keywords? Want to filter out certain subreddits from /r/all? Try the filteReddit module!',\n\toptions: [{ moduleID: 'filteReddit' }],\n}, {\n\tmessage: 'Keyboard Navigation is one of the most underutilized features in RES. You should try it!',\n\toptions: [{ moduleID: 'keyboardNav' }],\n\tkeyboard: 'toggleHelp',\n}, {\n\tmessage: 'Did you know you can configure the appearance of a number of things in RES? For example: Selected Entry lets you configure the look of the \"selected\" box, and commentBoxes lets you configure the borders / shadows.',\n\toptions: [{\n\t\tmoduleID: 'selectedEntry',\n\t\tkey: 'setColors',\n\t}, {\n\t\tmoduleID: 'commentStyle',\n\t\tkey: 'commentBoxes',\n\t}],\n}, {\n\tmessage: 'Do you subscribe to a ton of subreddits? Give the subreddit tagger a try; it can make your homepage a bit more readable.',\n\toptions: [{\n\t\tmoduleID: 'subRedditTagger',\n\t}],\n}, {\n\tmessage: 'If you haven\\'t tried it yet, Keyboard Navigation is great. Just hit ? while browsing for instructions.',\n\toptions: [{\n\t\tmoduleID: 'keyboardNav',\n\t}],\n\tkeyboard: 'toggleHelp',\n}, {\n\tmessage: 'Roll over a user\\'s name to get information about them such as their karma, and how long they\\'ve been a reddit user.',\n\toptions: [{\n\t\tmoduleID: 'userInfo',\n\t\tkey: 'hoverInfo',\n\t}],\n}, {\n\tmessage: 'Hover over the \"parent\" link in comments pages to see the text of the parent being referred to.',\n\toptions: [{\n\t\tmoduleID: 'showParent',\n\t}],\n}, {\n\tmessage: 'You can configure the color and style of the User Highlighter module if you want to change how the highlights look.',\n\toptions: [{\n\t\tmoduleID: 'userHighlight',\n\t}],\n}, {\n\tmessage: 'Not a fan of how comments pages look? You can change the appearance in the Style Tweaks module',\n\toptions: [{\n\t\tmoduleID: 'styleTweaks',\n\t}],\n}, {\n\tmessage: 'Don\\'t like the style in a certain subreddit? RES gives you a checkbox to disable styles individually - check the right sidebar!',\n}, {\n\tmessage: 'Looking for posts by submitter, post with photos, or posts in IAmA form? Try out the comment navigator.',\n}, {\n\tmessage: 'Have you seen the <a href=\"/r/Dashboard\">RES Dashboard</a>? It allows you to do all sorts of great stuff, like keep track of lower traffic subreddits, and manage your <a href=\"/r/Dashboard#userTaggerContents\">user tags</a> and <a href=\"/r/Dashboard#newCommentsContents\">thread subscriptions</a>!',\n\toptions: [{\n\t\tmoduleID: 'dashboard',\n\t}],\n}, {\n\tmessage: 'Sick of seeing these tips?  They only show up once every 24 hours, but you can disable that in the RES Tips and Tricks preferences.',\n\toptions: [{\n\t\tmoduleID: 'RESTips',\n\t}],\n}, {\n\tmessage: 'Did you know that there is now a \"keep me logged in\" option in the Account Switcher? Turn it on if you want to stay logged in to Reddit when using the switcher!',\n\toptions: [{\n\t\tmoduleID: 'accountSwitcher',\n\t\tkey: 'keepLoggedIn',\n\t}],\n}, {\n\tmessage: 'See that little [vw] next to users you\\'ve voted on?  That\\'s their vote weight - it moves up and down as you vote the same user up / down.',\n\toptions: [{\n\t\tmoduleID: 'userTagger',\n\t\tkey: 'vwNumber',\n\t}],\n}];\n\nconst dailyTipsCheckbox = _.once(() =>\n\t$(`<label> <input type=\"checkbox\" name=\"disableDailyTipsCheckbox\" ${module.options.dailyTip.value ? 'checked' : ''} />Show these tips once every 24 hours</label>`)\n\t\t.click((e: Event) => { module.options.dailyTip.value = (e.target: any).checked; Options.save(module.options.dailyTip); })\n);\n\nlet lastTip;\n\nfunction showOrdinaryTip(change?: 'random' | 'prev' | 'next') {\n\t// The more tips the user views, the more the next dailyTip can be delayed\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', 1);\n\n\tlet currTipIndex = Math.max(tips.indexOf(lastTip), 0);\n\tlet tip: ?Tip;\n\twhile (!tip || (tip.attachTo && !$(tip.attachTo).is(':visible'))) {\n\t\tif (change === 'random') currTipIndex = _.random(tips.length);\n\t\telse if (change === 'prev') currTipIndex -= 1;\n\t\telse if (change === 'next') currTipIndex += 1;\n\t\telse change = 'next'; // For next iteration\n\t\tcurrTipIndex = positiveModulo(currTipIndex, tips.length);\n\t\ttip = tips[currTipIndex];\n\t}\n\n\treturn showTip((tip: Tip), {\n\t\tbuttons: [{\n\t\t\tname: 'Prev',\n\t\t\tonclick: () => showOrdinaryTip('prev'),\n\t\t}, {\n\t\t\tname: 'Next',\n\t\t\tonclick: () => showOrdinaryTip('next'),\n\t\t}],\n\t\tonClose() { PenaltyBox.alterFeaturePenalty(module.moduleID, 'dailyTip', 4); },\n\t\tclassString: 'res-ordinaryTip',\n\t\tbuttonCustomHTML: dailyTipsCheckbox(),\n\t\ttitle: 'RES Tips and Tricks',\n\t});\n}\n\nfunction showTip(tip: Tip, guiderObj) {\n\tconst { continuation } = lastTip = tip;\n\tif (continuation) {\n\t\tconst origGuiderObj = { ...guiderObj };\n\t\tconst onclick = async () => {\n\t\t\tconst upcomingId = continuation();\n\t\t\tlet nextTip;\n\t\t\twhile (!(nextTip = featureTips.get(upcomingId))) {\n\t\t\t\tawait new Promise(r => setTimeout(r, 100)); // eslint-disable-line no-await-in-loop\n\t\t\t}\n\t\t\tshowTip(nextTip, origGuiderObj);\n\t\t};\n\t\tguiderObj.buttons = [...guiderObj.buttons, { name: 'More', onclick }];\n\t}\n\n\tconst attachTo: ?HTMLElement = tip.attachTo && $(tip.attachTo).get(0) || null;\n\n\t// Make the attachTo element navigatable even when e.g. dropdowns intersect the guider\n\tconst toggleIncreasedZIndex = state => { if (attachTo) attachTo.classList.toggle('restips-increased-z-index', state); };\n\n\treturn new Promise<void>(resolve => {\n\t\tguiders.hideAll();\n\t\tguiders.createGuider({\n\t\t\tid: `res-guider-${performance.now()}`, // guiders.js' randomization interval is [0..999], and merges buttons on collision\n\t\t\tcloseOnEscape: true,\n\t\t\txButton: true,\n\t\t\tdescription: generateContent(tip),\n\t\t\t...guiderObj,\n\t\t\t...tip,\n\t\t\tonHide() {\n\t\t\t\tif (tip.onHide) tip.onHide();\n\t\t\t\ttoggleIncreasedZIndex(false);\n\t\t\t\tresolve();\n\t\t\t},\n\t\t\tattachTo,\n\t\t});\n\t\ttoggleIncreasedZIndex(true);\n\t\tguiders.show();\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { CreateElement } from '../utils';\n\nexport const module: Module<*> = new Module('about');\n\nmodule.moduleName = 'aboutName';\nmodule.category = 'aboutCategory';\nmodule.sort = -10;\nmodule.alwaysEnabled = true;\nmodule.description = 'aboutDesc';\n\nmodule.options = {\n\tpresets: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsPresets',\n\t\ttitle: 'aboutOptionsPresetsTitle',\n\t\ttext: CreateElement.icon(0xF142),\n\t\tcallback: { moduleID: 'presets' },\n\t},\n\tbackup: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsBackup',\n\t\ttitle: 'aboutOptionsBackupTitle',\n\t\ttext: CreateElement.icon(0xF059),\n\t\tcallback: { moduleID: 'backupAndRestore' },\n\t},\n\tsearchSettings: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsSearchSettings',\n\t\ttitle: 'aboutOptionsSearchSettingsTitle',\n\t\ttext: CreateElement.icon(0xF097),\n\t\tcallback: { moduleID: 'search' },\n\t},\n\tannouncements: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsAnnouncements',\n\t\ttitle: 'aboutOptionsAnnouncementsTitle',\n\t\ttext: CreateElement.icon(0xF108),\n\t\tcallback: '/r/RESAnnouncements/new',\n\t},\n\tdonate: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsDonate',\n\t\ttitle: 'aboutOptionsDonateTitle',\n\t\ttext: CreateElement.icon(0xF104),\n\t\tcallback: 'https://redditenhancementsuite.com/contribute/',\n\t},\n\tbugs: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsBugs',\n\t\ttitle: 'aboutOptionsBugsTitle',\n\t\ttext: CreateElement.icon(0xF003),\n\t\tcallback: '/r/RESIssues/wiki/postanissue',\n\t},\n\tsuggestions: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsSuggestions',\n\t\ttitle: 'aboutOptionsSuggestionsTitle',\n\t\ttext: CreateElement.icon(0xF076),\n\t\tcallback: '/r/Enhancement',\n\t},\n\tfaq: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsFAQ',\n\t\ttitle: 'aboutOptionsFAQTitle',\n\t\ttext: CreateElement.icon(0xF0D3),\n\t\tcallback: '/r/Enhancement/wiki/index',\n\t},\n\tcode: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsCode',\n\t\ttitle: 'aboutOptionsCodeTitle',\n\t\ttext: CreateElement.icon(0xF063),\n\t\tcallback: 'https://github.com/honestbleeps/Reddit-Enhancement-Suite',\n\t},\n\tcontributors: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsContributors',\n\t\ttitle: 'aboutOptionsContributorsTitle',\n\t\ttext: CreateElement.icon(0xF048),\n\t\tcallback: 'https://redditenhancementsuite.com/about',\n\t},\n\tprivacy: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsPrivacy',\n\t\ttitle: 'aboutOptionsPrivacyTitle',\n\t\ttext: CreateElement.icon(0xF0C2),\n\t\tcallback: '/r/Enhancement/wiki/about/privacy',\n\t},\n\tlicense: {\n\t\ttype: 'button',\n\t\tdescription: 'aboutOptionsLicense',\n\t\ttitle: 'aboutOptionsLicenseTitle',\n\t\ttext: CreateElement.icon(0xF0D3),\n\t\tcallback: 'https://www.gnu.org/licenses/gpl-3.0.html',\n\t},\n};\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { addFloater, DAY, HOUR, isCurrentSubreddit, CreateElement, string } from '../utils';\nimport { Storage, ajax, openNewTab, i18n } from '../environment';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('announcements');\n\nmodule.moduleName = 'announcementsName';\nmodule.category = 'coreCategory';\nmodule.description = 'announcementsDesc';\nmodule.hidden = true;\n\nconst subreddit = Metadata.announcementsSubreddit;\nconst sourceUrl = `/r/${subreddit}/new.json?limit=1`;\nconst viewUrl = `/r/${subreddit}/new`;\n\nconst markedReadDate = Storage.wrap('RESmodules.announcement.markedReadDate', 0);\nconst lastUnreadDate = Storage.wrap('RESmodules.announcement.lastUnreadDate', 0);\nconst lastID = Storage.wrap('RESModules.announcement.lastAnnouncementID', (null: null | string));\n\nconst archiveAfter = 31 * DAY;\nconst pizzazzAfter = 29 * DAY;\n// const notifyAgainAfter = 4 * DAY;\nconst recheckPostAfter = HOUR;\n\nconst now = Date.now();\n\nlet biff;\n\nmodule.go = async () => {\n\tif (isCurrentSubreddit(subreddit)) {\n\t\tsetMarkedRead();\n\t} else {\n\t\tconst post = await postForNotification();\n\t\tif (post) {\n\t\t\tnotify(post);\n\t\t}\n\t}\n};\n\nasync function postForNotification() {\n\tconst post = await getLatestPost();\n\tif (!post) {\n\t\treturn false;\n\t}\n\tcacheLatestPost(post);\n\n\tconst result = await shouldNotify(post);\n\treturn result ? post : false;\n}\n\nasync function shouldNotify(post) {\n\tconst createdDate = post.created_utc * 1000;\n\n\tif (createdDate + archiveAfter <= now) {\n\t\t// archived\n\t\treturn false;\n\t}\n\n\tif (createdDate <= await markedReadDate.get()) {\n\t\t// posted before last \"marked read\"\n\t\treturn false;\n\t}\n\n\tif (!isPostRelevant(post)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nconst notify = _.once(async post => {\n\tconst url = post.id ? `/comments/${post.id}` : viewUrl;\n\tconst withPizzazz = (await lastUnreadDate.get()) + pizzazzAfter < now;\n\tconst title = post.author ?\n\t\ti18n('announcementsNewPostByUser', subreddit, post.author) :\n\t\ti18n('announcementsNewPost', subreddit);\n\n\taddAnnouncementBiff(post, url, title, withPizzazz);\n\n\t// has the user ever seen a notification? (i.e. is this a fresh install?)\n\tconst hasSeenNotification = await lastUnreadDate.has();\n\tif (hasSeenNotification) {\n\t\t// showNotification(post, url); // TODO: Make this slightly less obnoxious\n\t\tMenu.addMenuItem(\n\t\t\t() => string.html`<span title=\"${title}\">\n\t\t\t\tnew announcement!\n\t\t\t\t<span class=\"RESMenuItemButton res-icon\"></span> // TODO Restore title=\"i18n('announcementsMarkAsRead')\"\n\t\t\t</span>`,\n\t\t\te => {\n\t\t\t\tsetMarkedRead();\n\t\t\t\tif (e.target === (e.target.parentElement: any).children[1]) openNewTab(url);\n\t\t\t},\n\t\t\t-8\n\t\t);\n\t}\n});\n\nasync function cacheLatestPost(post) {\n\t// if the post is novel, mark the latest ID and unread date, even if we don't end up showing a notification\n\tif (post.id !== await lastID.get()) {\n\t\tlastID.set(post.id);\n\t\tlastUnreadDate.set(now);\n\t}\n}\n\n/*\nfunction showNotification(post, url) {\n\tNotifications.showNotification({\n\t\tmoduleID,\n\t\tnotificationID: post.id || subreddit,\n\t\tsticky: true,\n\t\tcooldown: notifyAgainAfter,\n\t\theader: `New post in /r/${subreddit}`,\n\t\tmessage: announcementsNotificationTemplate({ url, viewUrl, post })\n\t});\n}\n*/\n\nfunction addAnnouncementBiff(post, url, title, withPizzazz) {\n\tbiff = string.html`<a id=\"RESAnnouncementAlert\" class=\"${withPizzazz ? 'important' : ''} href=\"${url}\" target=\"_blank\">`;\n\tbiff.append(CreateElement.icon(0xF076, 'span', '', title));\n\tbiff.addEventListener('click', setMarkedRead);\n\n\taddFloater(biff, { container: 'inNavbar' });\n}\n\nasync function getLatestPost() {\n\tconst { data: { children: [{ data }] } } = (await ajax({\n\t\turl: sourceUrl,\n\t\ttype: 'json',\n\t\tcacheFor: recheckPostAfter,\n\t}): RedditListing<RedditLink>);\n\n\treturn data;\n}\n\nfunction setMarkedRead() {\n\tmarkedReadDate.set(now);\n\tif (biff) biff.remove();\n}\n\nfunction isPostRelevant(post) {\n\tif (!(/chrome|safari|firefox|opera|edge/i).test(post.title)) {\n\t\t// If post is not browser specific, post is relevant\n\t\treturn true;\n\t}\n\n\tif (post.title.toLowerCase().includes((process.env.BUILD_TARGET: any).toLowerCase())) {\n\t\t// If post mentions user's browser, post is relevant\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { isPrivateBrowsing } from '../environment';\nimport { Thing, batch, isPageType, watchForThings } from '../utils';\nimport * as ThingHide from '../utils/thingHide';\nimport * as ReadComments from './readComments';\n\nexport const module: Module<*> = new Module('autoHide');\n\nmodule.moduleName = 'autoHideName';\nmodule.category = 'browsingCategory';\nmodule.description = 'autoHideDesc';\n\nmodule.options = {\n\tmustBeVisibleDuration: {\n\t\ttype: 'text',\n\t\tvalue: '2000',\n\t\tdescription: 'autoHideMustBeVisibleDurationDesc',\n\t\ttitle: 'autoHideMustBeVisibleDurationTitle',\n\t},\n\ttypes: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'All',\n\t\t\tvalue: '',\n\t\t}, {\n\t\t\tname: 'Only comments',\n\t\t\tvalue: 'comment',\n\t\t}, {\n\t\t\tname: 'Only link posts',\n\t\t\tvalue: 'post',\n\t\t}],\n\t\tvalue: 'comment',\n\t\tdescription: 'autoHideTypesDesc',\n\t\ttitle: 'autoHideTypesTitle',\n\t},\n};\n\nconst thingType = isPageType('comments', 'commentsLinklist') ? 'comment' : 'post';\n\nconst hidePost = batch(\n\tposts => ThingHide.send(ThingHide.HIDE, posts),\n\t{ size: 50, delay: 5000, flushBeforeUnload: true }\n);\n\nmodule.shouldRun = () => !isPrivateBrowsing();\n\nmodule.beforeLoad = () => {\n\tif (module.options.types.value && thingType !== module.options.types.value) return;\n\n\tif (thingType === 'comment' && !Modules.isRunning(ReadComments)) {\n\t\tconsole.warn('Auto-hiding comments requires readComments');\n\t\treturn;\n\t}\n\n\tconst mustBeVisibleDuration = parseFloat(module.options.mustBeVisibleDuration.value) || 0;\n\tconst pending: Map<Thing, TimeoutID> = new Map();\n\n\tconst io = new IntersectionObserver(entries => {\n\t\tfor (const { target, isIntersecting } of entries) {\n\t\t\tconst thing = Thing.checkedFrom(target);\n\t\t\tconst id = pending.get(thing);\n\t\t\tif (isIntersecting) {\n\t\t\t\tpending.set(thing, setTimeout(() => {\n\t\t\t\t\tif (thingType === 'post') hidePost(thing);\n\t\t\t\t\telse ReadComments.add(thing);\n\n\t\t\t\t\tio.unobserve(target);\n\t\t\t\t\tpending.delete(thing);\n\t\t\t\t}, mustBeVisibleDuration));\n\t\t\t} else if (id) {\n\t\t\t\tpending.delete(thing);\n\t\t\t\tclearTimeout(id);\n\t\t\t}\n\t\t}\n\t}, { threshold: [0], rootMargin: '0px 0px -30px 0px' });\n\n\twatchForThings([thingType], thing => {\n\t\tio.observe(thing.entry);\n\t});\n};\n","/* @flow */\nimport _ from 'lodash';\n\ntype Serialized = string;\ntype Deserialized = { +[string]: mixed };\n\ntype Version0Schema = {\n\tSCHEMA_VERSION: void, // no schema version was included\n\t[string]: string, // json-encoded\n};\n\ntype Version1Schema = {\n\tSCHEMA_VERSION: 1,\n\t[string]: mixed, // not stringified anymore\n};\n\ntype Version2Schema = {\n\tSCHEMA_VERSION: 2,\n\tdata: { +[string]: mixed }, // not sharing a namespace anymore\n};\n\nexport function serialize(settings: Deserialized): Serialized {\n\tconst object: Version2Schema = {\n\t\tSCHEMA_VERSION: 2,\n\t\tdata: settings,\n\t};\n\treturn JSON.stringify(object);\n}\n\nexport function deserialize(string: Serialized): Deserialized {\n\tconst object = JSON.parse(string);\n\tswitch (object.SCHEMA_VERSION) {\n\t\tdefault: {\n\t\t\tconst { SCHEMA_VERSION, ...encoded } = (object: Version0Schema);\n\t\t\treturn _.mapValues(encoded, (v, k) => {\n\t\t\t\ttry {\n\t\t\t\t\treturn JSON.parse(v);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.warn('Could not parse:', k, 'falling back to raw string.');\n\t\t\t\t\treturn v;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tcase 1: {\n\t\t\tconst { SCHEMA_VERSION, ...settings } = (object: Version1Schema);\n\t\t\treturn settings;\n\t\t}\n\t\tcase 2: {\n\t\t\tconst { data: settings } = (object: Version2Schema);\n\t\t\treturn settings;\n\t\t}\n\t}\n}\n","/* @flow */\n\n/* eslint-disable no-unused-vars */\nexport class Provider {\n\tstatic key = 'abstract';\n\tstatic text = 'Abstract';\n\tstatic notifyBackupDone = true;\n\tstatic supportsAutomaticBackups = false;\n\n\tinit({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\treturn Promise.resolve(this);\n\t}\n\n\tread(): Promise<string> { throw new Error('unimplemented'); }\n\n\twrite(data: string): Promise<void> { throw new Error('unimplemented'); }\n}\n","/* @flow */\n\nimport * as Metadata from '../../../core/metadata';\nimport { click, waitForEvent } from '../../../utils';\nimport { Provider } from './Provider';\n\nexport class File extends Provider {\n\tstatic key = 'file';\n\tstatic text = 'backupAndRestoreProvidersFile';\n\tstatic notifyBackupDone = false; // Browser indicates it by downloading the file\n\n\tread(): Promise<string> {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tconst link = document.createElement('input');\n\t\t\tlink.type = 'file';\n\t\t\tlink.accept = '.resbackup';\n\t\t\tlink.addEventListener('change', () => {\n\t\t\t\tconst file = link.files[0];\n\t\t\t\tconst reader = new FileReader();\n\t\t\t\treader.onload = () => {\n\t\t\t\t\tresolve((reader.result: any));\n\t\t\t\t};\n\t\t\t\treader.readAsText(file);\n\t\t\t});\n\t\t\t// There is no proper way to detect when a file dialog is closed.\n\t\t\t// We must use setTimeout so that the change event fires first.\n\t\t\twaitForEvent(window, 'mousemove').then(() => setTimeout(() => {\n\t\t\t\tif (!link.files.length) reject(new Error('No file selected.'));\n\t\t\t}));\n\t\t\tlink.click();\n\t\t});\n\t}\n\n\twrite(data: string): Promise<void> {\n\t\tconst blob = new Blob([data], { type: 'application/json' });\n\t\t// Create element to trigger download\n\t\tconst link = document.createElement('a');\n\t\tlink.href = URL.createObjectURL(blob);\n\t\tconst date = new Date();\n\t\tlink.download = `RES-${date.getUTCFullYear()}-${date.getMonth() + 1}-${date.getDate()}-${Math.round(date.getTime() / 1000)}-${Metadata.version.replace(/\\./g, '_')}.resbackup`;\n\t\tclick(link);\n\t\treturn Promise.resolve();\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = 'res-storage.json';\nconst FOLDER = 'appDataFolder';\n\nexport class GoogleDrive extends Provider {\n\tstatic key = 'googledrive';\n\tstatic text = 'Google Drive';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({ googleLoginHint }: *): Promise<Provider> {\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: `https://accounts.google.com/o/oauth2/v2/auth?login_hint=${googleLoginHint}`,\n\t\t\tclientId: '568759524377-nv0o2u4afuuulkfcjd7f6guf27qkevpt.apps.googleusercontent.com',\n\t\t\tscope: 'https://www.googleapis.com/auth/drive.appdata',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? ['https://*.googleusercontent.com/download/drive/v3/*', 'https://content.googleapis.com/drive/v3/*'] : ['https://content.googleapis.com/drive/v3/*', 'https://accounts.google.com/o/oauth2/v2/auth'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to Google Drive.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync getExistingFile() {\n\t\tconst { files: [file] } = await ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: 'https://content.googleapis.com/drive/v3/files',\n\t\t\tquery: { fields: 'files(id)', q: `name=\"${FILE}\"`, spaces: FOLDER },\n\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t\treturn file;\n\t}\n\n\tasync getOrCreateFile() {\n\t\tconst existingFile = await this.getExistingFile();\n\t\tif (existingFile) return existingFile;\n\n\t\t// create new file\n\t\treturn ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://content.googleapis.com/drive/v3/files',\n\t\t\tquery: { fields: 'id' },\n\t\t\tdata: JSON.stringify({ name: FILE, parents: [FOLDER] }),\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n\n\tasync read() {\n\t\tconst file = await this.getExistingFile();\n\t\tif (!file) throw new Error('Could not find backup.');\n\t\treturn ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: `https://content.googleapis.com/drive/v3/files/${file.id}`,\n\t\t\tquery: { alt: 'media' },\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t});\n\t}\n\n\tasync write(data: string) {\n\t\tconst { id } = await this.getOrCreateFile();\n\t\tawait ajax({\n\t\t\tmethod: 'PATCH',\n\t\t\turl: `https://content.googleapis.com/upload/drive/v3/files/${id}`,\n\t\t\tquery: { uploadType: 'media' },\n\t\t\tdata,\n\t\t\theaders: { 'Content-Type': 'application/json', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = 'res-storage.json';\n\nexport class OneDrive extends Provider {\n\tstatic key = 'onedrive';\n\tstatic text = 'OneDrive';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: 'https://login.live.com/oauth20_authorize.srf',\n\t\t\tclientId: 'a1f95f80-0129-475b-9894-dfbb94f5ff1c',\n\t\t\tscope: 'onedrive.appfolder',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? [] : ['https://login.live.com/oauth20_authorize.srf'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to OneDrive.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync getMetadata() {\n\t\ttry {\n\t\t\treturn await ajax({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: `https://api.onedrive.com/v1.0/drive/special/approot:/${FILE}`,\n\t\t\t\t// `id` is necessary because the first thing selected can't start with @\n\t\t\t\t// and I have no idea how to escape it (quoting, backslash, etc. don't work...)\n\t\t\t\tquery: { select: 'id,@content.downloadUrl' },\n\t\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\t\ttype: 'json',\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.status === 404) {\n\t\t\t\tthrow new Error('Could not find backup.');\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync read() {\n\t\tconst file = await this.getMetadata();\n\t\treturn ajax({\n\t\t\tmethod: 'GET',\n\t\t\turl: file['@content.downloadUrl'],\n\t\t});\n\t}\n\n\tasync write(data: string) {\n\t\tawait ajax({\n\t\t\tmethod: 'PUT',\n\t\t\turl: `https://api.onedrive.com/v1.0/drive/special/approot:/${FILE}:/content`,\n\t\t\tdata,\n\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nimport { ajax, launchAuthFlow } from '../../../environment';\nimport { Alert } from '../../../utils';\nimport { Provider } from './Provider';\n\nconst FILE = '/res-storage.json';\n\nexport class Dropbox extends Provider {\n\tstatic key = 'dropbox';\n\tstatic text = 'Dropbox';\n\tstatic supportsAutomaticBackups = true;\n\n\taccessToken: string;\n\n\tasync init({}: *): Promise<Provider> { // eslint-disable-line no-empty-pattern\n\t\tthis.accessToken = await launchAuthFlow({\n\t\t\tdomain: 'https://www.dropbox.com/oauth2/authorize',\n\t\t\tclientId: 'tdevom9o5xn0hnt',\n\t\t\tpermissions: process.env.BUILD_TARGET === 'firefox' ? [] : ['https://www.dropbox.com/oauth2/authorize'],\n\t\t}, async message => {\n\t\t\tawait Alert.open(`\n\t\t\t\t<p><b>RES needs your permission to backup to Dropbox.</b></p>\n\t\t\t\t<p>${message}</p>\n\t\t\t`, { cancelable: true });\n\t\t});\n\n\t\treturn this;\n\t}\n\n\tasync read() {\n\t\ttry {\n\t\t\treturn await ajax({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: 'https://content.dropboxapi.com/2/files/download',\n\t\t\t\tquery: { arg: JSON.stringify({ path: FILE }) },\n\t\t\t\theaders: { Authorization: `Bearer ${this.accessToken}` },\n\t\t\t});\n\t\t} catch (e) {\n\t\t\tif (e.status === 409) {\n\t\t\t\tthrow new Error('Could not find backup.');\n\t\t\t} else {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync write(data: string) {\n\t\tawait ajax({\n\t\t\tmethod: 'POST',\n\t\t\turl: 'https://content.dropboxapi.com/2/files/upload',\n\t\t\tquery: { arg: JSON.stringify({ path: FILE, mode: 'overwrite', mute: true }) },\n\t\t\tdata,\n\t\t\theaders: { 'Content-Type': 'application/octet-stream', Authorization: `Bearer ${this.accessToken}` },\n\t\t\ttype: 'json',\n\t\t});\n\t}\n}\n","/* @flow */\n\nexport { File } from './File';\nexport { GoogleDrive } from './GoogleDrive';\nexport { OneDrive } from './OneDrive';\nexport { Dropbox } from './Dropbox';\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { MINUTE, Alert, formatDateTime } from '../utils';\nimport { Storage, locale, i18n, multicast } from '../environment';\nimport { sendMessage } from '../environment/foreground/messaging';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\nimport { serialize, deserialize } from './backupAndRestore/serialization';\nimport * as Providers from './backupAndRestore/providers';\n\nexport const module: Module<*> = new Module('backupAndRestore');\n\nmodule.moduleName = 'backupName';\nmodule.category = 'aboutCategory';\nmodule.sort = -8;\nmodule.alwaysEnabled = true;\nmodule.description = 'backupDesc';\n\nmodule.options = {\n\tbackup: {\n\t\ttype: 'button',\n\t\tvalues: Object.values(Providers).map(p => ({\n\t\t\ttext: p.text,\n\t\t\tcallback: () => getProvider(p).then(backup),\n\t\t})),\n\t\tdescription: 'backupAndRestoreBackupDesc',\n\t\ttitle: 'backupAndRestoreBackupTitle',\n\t},\n\trestore: {\n\t\ttype: 'button',\n\t\tvalues: Object.values(Providers).map(p => ({\n\t\t\ttext: p.text,\n\t\t\tcallback: () => getProvider(p).then(restore),\n\t\t})),\n\t\tdescription: 'backupAndRestoreRestoreDesc',\n\t\ttitle: 'backupAndRestoreRestoreTitle',\n\t},\n\treloadWarning: {\n\t\ttype: 'enum',\n\t\tvalue: 'warn',\n\t\tvalues: [{\n\t\t\tname: 'backupAndRestoreReloadWarningNone',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'backupAndRestoreReloadWarningWarn',\n\t\t\tvalue: 'warn',\n\t\t}, {\n\t\t\tname: 'backupAndRestoreReloadWarningAuto',\n\t\t\tvalue: 'auto',\n\t\t}],\n\t\tdescription: 'backupAndRestoreReloadWarningDesc',\n\t\ttitle: 'backupAndRestoreReloadWarningTitle',\n\t},\n\tautomaticBackups: {\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [\n\t\t\t{\n\t\t\t\tname: 'backupAndRestoreAutomaticBackupsNone',\n\t\t\t\tvalue: 'none',\n\t\t\t},\n\t\t\t...Object.values(Providers)\n\t\t\t\t.filter(p => p.supportsAutomaticBackups)\n\t\t\t\t.map(p => ({\n\t\t\t\t\tname: p.text,\n\t\t\t\t\tvalue: p.key,\n\t\t\t\t})),\n\t\t],\n\t\tdescription: 'backupAndRestoreAutomaticBackupsDesc',\n\t\ttitle: 'backupAndRestoreAutomaticBackupsTitle',\n\t\tonChange() {\n\t\t\t// reset the last check time, in case we switched providers or turned it off\n\t\t\tlastCheckStorage.set(0);\n\t\t\thandleAutomaticSync();\n\t\t},\n\t},\n\twarnBeforeAutomaticRestore: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'backupAndRestoreWarnBeforeAutomaticRestoreDesc',\n\t\ttitle: 'backupAndRestoreWarnBeforeAutomaticRestoreTitle',\n\t\tdependsOn: options => options.automaticBackups.value !== 'none',\n\t},\n\tgoogleAccount: {\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'backupAndRestoreGoogleAccountDesc',\n\t\ttitle: 'backupAndRestoreGoogleAccountTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.afterLoad = async () => {\n\tawait handleAutomaticSync();\n};\n\nfunction getProvider(providerClass) {\n\treturn new providerClass().init({ // eslint-disable-line new-cap\n\t\tgoogleLoginHint: module.options.googleAccount.value,\n\t});\n}\n\nconst lastModifiedStorage = Storage.wrapPrefix('backup.lastModified.', () => (0: number));\nconst lastCheckStorage = Storage.wrap('backup.lastCheck', (0: number));\n\nasync function handleAutomaticSync() {\n\tconst automaticProviderKey = module.options.automaticBackups.value;\n\tif (automaticProviderKey === 'none') return;\n\n\tconst providerClass = Object.values(Providers).find(p => p.key === automaticProviderKey);\n\tif (!providerClass) throw new Error(`Can't find provider with key ${automaticProviderKey}`);\n\n\tconst now = Date.now();\n\tconst lastCheck = await lastCheckStorage.get();\n\tif ((now - lastCheck) < (15 * MINUTE)) return;\n\n\t// If multiple tabs pass the above check, only one will CAS successfully.\n\tif (!await lastCheckStorage.compareAndSet(lastCheck, now)) return;\n\t// From this point forward, it is guaranteed that only one tab can enter (per 15 minutes).\n\n\t// Create provider, get permissions, etc.\n\tconst provider = await getProvider(providerClass);\n\n\t// Read the remote backup to get the last modified time.\n\t// This has some overhead, but only 2x at worst.\n\t// (If we've reached this point, we're definitely going to be uploading or downloading the backup.)\n\t// ...and it guarantees that the modified time remains in sync with the backup.\n\tlet remoteBackup;\n\tconst lastModifiedKey = lastModifiedStorage._keyGen(providerClass.key);\n\ttry {\n\t\tremoteBackup = deserialize(await provider.read());\n\t} catch (e) {\n\t\tconsole.warn('Failed to read automatic backup:', e);\n\t\tremoteBackup = { [lastModifiedKey]: 0 };\n\t}\n\n\t// We must use a positive check for restoring, to fail safe if the remote backup has no modified time.\n\t// i.e. because `(undefined > 12345) === (undefined < 12345) === false`\n\tif ((remoteBackup[lastModifiedKey]: any) > await lastModifiedStorage.get(providerClass.key)) {\n\t\t// This will download the backup a second time, which in theory might download a newer version (which would be good, but quite rare).\n\t\t// Restoring should be the uncommon case, though, so this is left as-is (for now) for simplicity.\n\t\tawait restore(provider, module.options.warnBeforeAutomaticRestore.value ? 'automatic' : 'none');\n\t} else {\n\t\tawait backup(provider);\n\t}\n}\n\nasync function backup(provider) {\n\tconst { key, text, notifyBackupDone } = provider.constructor;\n\t// Write to lastModified and store it in the blob.\n\t// At this point, we know that there is no remote backup newer than local. [*]\n\t// In the worst case, the backup request fails, but this modified time has already been set to the current date.\n\t// That's still okay, because:\n\t// a. If a new remote backup happens, it should happen after this millisecond (because [*]), so its timestamp\n\t//    will be greater than this value, and will get restored as expected.\n\t// b. If no new remote backup happens, then our local modified time will still be equal to/ahead of the remote,\n\t//    and we'll just try backing up again after the next check.\n\t// (theoretically, there is a very short timeframe between the check for [*] and this backup,\n\t//  during which another client [but not this one, thanks to the lastCheck CAS] could create a new backup,\n\t//  but it should be very short [~1 second] and would require using two machines simultaneously, which we warn about)\n\tawait lastModifiedStorage.set(key, Date.now());\n\tconst storage = await Storage.getAll();\n\tawait provider.write(serialize(storage));\n\n\tif (notifyBackupDone) {\n\t\tNotifications.showNotification({\n\t\t\tmessage: i18n('backupAndRestoreSavedNotification', text),\n\t\t\tnotificationID: 'backupAndRestoreSaved',\n\t\t\tmoduleID: module.moduleID,\n\t\t\tcloseDelay: 1000,\n\t\t});\n\t}\n}\n\nasync function restore(provider, alertType: 'normal' | 'automatic' | 'none' = 'normal') {\n\tconst { key, name } = provider.constructor;\n\tconst data = await provider.read();\n\tconst storage = deserialize(data);\n\n\tconst isAutomatic = alertType === 'automatic';\n\n\tif (alertType !== 'none') {\n\t\tconst lastModifiedKey = lastModifiedStorage._keyGen(key);\n\t\tconst backupDate: void | number = (storage[lastModifiedKey]: any);\n\t\tlet size;\n\t\ttry {\n\t\t\t// $FlowIssue Intl.NumberFormat type is outdated\n\t\t\tsize = (new Intl.NumberFormat(locale, { style: 'unit', unit: 'byte', notation: 'compact', unitDisplay: 'narrow' })).format(data.length);\n\t\t} catch (e) {\n\t\t\tsize = `${data.length / 1e6} MB`;\n\t\t}\n\t\ttry {\n\t\t\tawait Alert.open(`\n\t\t\t${isAutomatic ? `\n\t\t\t\t<p><b>${i18n('backupAndRestoreFoundBackup', name)}</b></p>\n\t\t\t\t<br>\n\t\t\t` : ''}\n\t\t\t<p>${i18n('backupAndRestoreBackupOverwriteWarning')}</p>\n\t\t\t<br>\n\t\t\t${isAutomatic ? `\n\t\t\t\t<p>${i18n('backupAndRestoreAfterCancel')}</p>\n\t\t\t\t<br>\n\t\t\t` : ''}\n\t\t\t${backupDate ? `\n\t\t\t\t<p>${i18n('backupAndRestoreBackupDate', formatDateTime(new Date(backupDate)))}</p>\n\t\t\t` : ''}\n\t\t\t<p>${i18n('backupAndRestoreBackupSize', size)}</p>\n\t\t`, { cancelable: true });\n\t\t} catch (e) {\n\t\t\tif (isAutomatic) {\n\t\t\t\tSettingsNavigation.open(module.moduleID, 'automaticBackups');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t}\n\n\t// This is the only correctness-related write involved in restoring a backup.\n\t// This operation is atomic (probably--at least, as atomic as our limited API can be), so if it fails\n\t// then the remote timestamp will still be ahead of the local timestamp, and we'll try restoring again\n\t// after the next check.\n\t// This will reset the lastCheck time to whatever it was when this backup was created,\n\t// potentially meaning the next pageload will create a new backup.\n\t// That's fine, because we can assume that the other client was in a consistent state.\n\tawait Storage.setMultiple(storage);\n\t// Actually, we might as well reset lastCheck here.\n\t// This write is not required for correctness, and can be dropped or reordered\n\t// (though I hope browsers' storage APIs don't actually do that).\n\tawait lastCheckStorage.set(Date.now());\n\n\t// Migrating might take a while, depending on how old the backup is\n\tawait sendMessage('runMigrations');\n\n\tpostRestore(module.options.reloadWarning.value);\n\n\tawait Alert.open(i18n('backupAndRestoreImported'));\n\tpostRestore.local('auto');\n}\n\nconst postRestore = multicast(operation => {\n\tswitch (operation) {\n\t\tcase 'warn':\n\t\t\tAlert.open(i18n('backupAndRestoreImportedOtherTabs'), { cancelable: true })\n\t\t\t\t.then(() => location.reload(), () => {});\n\t\t\tbreak;\n\t\tcase 'auto':\n\t\t\tlocation.reload();\n\t\t\tbreak;\n\t\tcase 'none':\n\t\tdefault:\n\t\t\tbreak;\n\t}\n}, { name: 'restore-settings-warning', local: false });\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tAlert,\n\tCreateElement,\n\tDAY,\n\tNAMED_KEYS,\n\tPagePhases,\n\tclick,\n\tcurrentSubreddit,\n\tempty,\n\tformatDate,\n\tformatRelativeTime,\n\tfullLocation,\n\tisCurrentSubreddit,\n\tisModeratorAnywhere,\n\tloggedInUser,\n\tregexes,\n\tstring,\n\twaitForDescendant,\n\twaitForEvent,\n\twatchForThings,\n} from '../utils';\nimport { Session, Storage, ajax, isPrivateBrowsing, i18n } from '../environment';\nimport type { RedditListing, RedditSubreddit } from '../types/reddit';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('subredditManager');\n\nmodule.moduleName = 'subredditManName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditManDesc';\nmodule.include = ['r2'];\nmodule.bodyClass = true;\nmodule.options = {\n\tsubredditShortcut: {\n\t\ttitle: 'subredditManagerSubredditShortcutTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerSubredditShortcutDesc',\n\t},\n\tshortcutsPerAccount: {\n\t\ttitle: 'subredditManagerShortcutsPerAccountTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerShortcutsPerAccountDesc',\n\t},\n\talwaysApplySuffixToMulti: {\n\t\ttitle: 'subredditManagerAlwaysApplySuffixToMultiTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerAlwaysApplySuffixToMultiDesc',\n\t},\n\tdropdownEditButton: {\n\t\ttitle: 'subredditManagerDropdownEditButtonTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDropdownEditButtonDesc',\n\t},\n\tenableSubredditFilter: {\n\t\ttitle: 'subredditManagerFilterListTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerFilterListDesc',\n\t},\n\tshortcutDropdownDelay: {\n\t\ttitle: 'subredditManagerShortcutDropdownDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'subredditManagerShortcutDropdownDelayDesc',\n\t},\n\tshortcutEditDropdownDelay: {\n\t\ttitle: 'subredditManagerShortcutEditDropdownDelayTitle',\n\t\tdependsOn: options => options.dropdownEditButton.value,\n\t\ttype: 'text',\n\t\tvalue: '3000',\n\t\tdescription: 'subredditManagerShortcutEditDropdownDelayDesc',\n\t},\n\tallowLowercase: {\n\t\ttitle: 'subredditManagerAllowLowercaseTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerAllowLowercaseDesc',\n\t\tbodyClass: true,\n\t},\n\tlinkDashboard: {\n\t\ttitle: 'subredditManagerLinkDashboardTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkDashboardDesc',\n\t},\n\tlinkAll: {\n\t\ttitle: 'subredditManagerLinkAllTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkAllDesc',\n\t},\n\tlinkFront: {\n\t\ttitle: 'subredditManagerLinkFrontTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkFrontDesc',\n\t},\n\tlinkPopular: {\n\t\ttitle: 'subredditManagerLinkPopularTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkPopularDesc',\n\t},\n\tlinkProfilePosts: {\n\t\ttitle: 'subredditManagerLinkProfilePostsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkProfilePostsDesc',\n\t},\n\tlinkRandom: {\n\t\ttitle: 'subredditManagerLinkRandomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkRandomDesc',\n\t},\n\tlinkMyRandom: {\n\t\ttitle: 'subredditManagerLinkMyRandomTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkMyRandomDesc',\n\t},\n\tlinkRandNSFW: {\n\t\ttitle: 'subredditManagerLinkRandNSFWTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerLinkRandNSFWDesc',\n\t},\n\tlinkUsers: {\n\t\ttitle: 'subredditManagerLinkUsersTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkUsersDesc',\n\t},\n\tlinkFriends: {\n\t\ttitle: 'subredditManagerLinkFriendsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkFriendsDesc',\n\t},\n\tlinkMod: {\n\t\ttitle: 'subredditManagerLinkModTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkModDesc',\n\t},\n\tlinkModqueue: {\n\t\ttitle: 'subredditManagerLinkModqueueTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkModqueueDesc',\n\t},\n\tlinkSaved: {\n\t\ttitle: 'subredditManagerLinkSavedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLinkSavedDesc',\n\t},\n\tbuttonEdit: {\n\t\ttitle: 'subredditManagerButtonEditTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerButtonEditDesc',\n\t},\n\tlastUpdate: {\n\t\ttitle: 'subredditManagerLastUpdateTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerLastUpdateDesc',\n\t},\n\tstoreSubredditVisit: {\n\t\ttitle: 'subredditManagerStoreSubredditVisitTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerStoreSubredditVisitDesc',\n\t\tadvanced: true,\n\t},\n\tstoreSubredditVisitIncognito: {\n\t\ttitle: 'subredditManagerStoreSubredditVisitIncognitoTitle',\n\t\tdependsOn: options => options.storeSubredditVisit.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'subredditManagerStoreSubredditVisitIncognitoDesc',\n\t\tadvanced: true,\n\t},\n\tdragDropDelete: {\n\t\ttitle: 'subredditManagerDragDropDeleteTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDragDropDeleteDesc',\n\t\tadvanced: true,\n\t},\n\tdisplayMultiCounts: {\n\t\ttitle: 'subredditManagerDisplayMultiCountsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditManagerDisplayMultiCountsDesc',\n\t},\n};\n\nlet shortcutsContainer, $subredditGroupDropdown, subredditGroupDropdownUL, subredditGroupDropdownRefItem,\n\t$editShortcutDialog, deleteButton, subredditsLastViewed;\n\nlet mySubredditShortcuts = [];\n\nconst subredditsLastViewedStorage = Storage.wrap(() => `RESmodules.subredditManager.subredditsLastViewed.${loggedInUser() || 'null'}`, ({}: { [subreddit: string]: {|\n\tlast_visited: number,\n|} }));\n\nconst subredditShortcutsStorage = Storage.wrap(() => {\n\tconst username = module.options.shortcutsPerAccount.value ? loggedInUser() : null;\n\treturn `RESmodules.subredditManager.subredditShortcuts.${username || 'null'}`;\n}, ([]: Array<{|\n\tsubreddit: string,\n\tdisplayName: string,\n\taddedDate: number,\n|}>));\n\nconst loadShortcuts = async () => { mySubredditShortcuts = await subredditShortcutsStorage.get(); };\n\n// depends on loggedInUser; must be called after the username is available\nconst initialShortcutsLoad = _.once(() => PagePhases.sitetableStarted.then(loadShortcuts));\n\nmodule.beforeLoad = () => {\n\twaitForDescendant(document.documentElement, '#sr-header-area').then(createSubredditBar);\n};\n\nmodule.contentStart = async () => {\n\tcreateSidebarShortcutToggle();\n\n\tawait initialShortcutsLoad();\n\n\twatchForThings(['subreddit'], thing => {\n\t\tconst titleElement = thing.getTitleElement();\n\t\tconst container = thing.element.querySelector('.midcol');\n\t\tif (!titleElement || !container) return;\n\t\tconst [, subreddit] = regexes.subreddit.exec(titleElement.pathname) || [];\n\t\tif (!subreddit) return;\n\t\tcontainer.append(createShortcutToggleButton(subreddit));\n\t});\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.lastUpdate.value && document.getElementsByClassName('listing-chooser').length) {\n\t\tlastUpdate();\n\t}\n\n\tconst subreddit = currentSubreddit();\n\tif (subreddit) {\n\t\trequestAnimationFrame(() => { setLastViewtime(subreddit); });\n\t}\n};\n\nfunction createSidebarShortcutToggle() {\n\t// also, add a +/- shortcut button...\n\tconst subreddit = currentSubreddit();\n\tif (subreddit && module.options.subredditShortcut.value) {\n\t\tconst subButtons = document.querySelectorAll('.side .fancy-toggle-button');\n\t\tfor (const subButton of subButtons) {\n\t\t\tlet thisSubredditFragment, isMulti;\n\t\t\tif (!subreddit.includes('+') && !isCurrentSubreddit('mod')) {\n\t\t\t\tthisSubredditFragment = subreddit;\n\t\t\t\tisMulti = false;\n\t\t\t} else if ($(subButton).parent().hasClass('subButtons')) {\n\t\t\t\tthisSubredditFragment = $(subButton).parent().parent().find('a.title').text();\n\t\t\t\tisMulti = true;\n\t\t\t} else {\n\t\t\t\tthisSubredditFragment = $(subButton).next().text();\n\t\t\t\tisMulti = true;\n\t\t\t}\n\t\t\tif ($(`#subButtons-${thisSubredditFragment}`).length === 0) {\n\t\t\t\tconst $subButtonsWrapper = $(`<div id=\"subButtons-${thisSubredditFragment}\" class=\"subButtons\"></div>`);\n\t\t\t\t$(subButton).wrap($subButtonsWrapper);\n\t\t\t\tgetMultiCounts(thisSubredditFragment).then(multiCount => {\n\t\t\t\t\t$(subButton).append(multiCount);\n\t\t\t\t});\n\t\t\t\t// move this wrapper to the end (after any icons that may exist...)\n\t\t\t\tif (isMulti) {\n\t\t\t\t\tconst theWrap = $(subButton).parent();\n\t\t\t\t\t$(theWrap).appendTo($(theWrap).parent());\n\t\t\t\t}\n\t\t\t}\n\t\t\tsubButton.addEventListener('click', () => {\n\t\t\t\t// reset the last checked time for the subreddit list so that we refresh it anew no matter what.\n\t\t\t\tajax.invalidate({\n\t\t\t\t\turl: '/subreddits/mine.json',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tafter: '',\n\t\t\t\t\t\tlimit: 100,\n\t\t\t\t\t\tuser: loggedInUser(),\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tconst $subButtons = $(`#subButtons-${thisSubredditFragment}`);\n\t\t\tconst button = createShortcutToggleButton(subreddit);\n\t\t\tinitialShortcutsLoad().then(() => button.dispatchEvent(new CustomEvent('refresh')));\n\t\t\tbutton.classList.add('RESshortcutside'); // custom subreddit styles uses this\n\t\t\t$subButtons.append(button);\n\t\t\tconst $next = $subButtons.next();\n\t\t\tif ($next.hasClass('title') && !$subButtons.hasClass('swapped')) {\n\t\t\t\t$subButtons.before($next);\n\t\t\t\t$subButtons.addClass('swapped');\n\t\t\t}\n\t\t}\n\t}\n}\n\nexport function createShortcutToggleButton(subreddit: string) {\n\treturn CreateElement.fancyToggleButton(\n\t\ti18n('subredditInfoAddRemoveShortcut'),\n\t\ti18n('subredditInfoAddThisSubredditToShortcuts'),\n\t\t() => mySubredditShortcuts.some(shortcut => shortcut.subreddit.toLowerCase() === subreddit.toLowerCase()),\n\t\tstate => {\n\t\t\tif (state) addSubredditShortcut(subreddit);\n\t\t\telse removeSubredditShortcut(subreddit);\n\t\t\tredrawShortcuts();\n\t\t}\n\t);\n}\n\nlet hideSubredditGroupDropdownTimer, showSubredditGroupDropdownTimer;\n\nfunction redrawShortcuts() {\n\tshortcutsContainer.textContent = '';\n\n\t// Reddit seems to redirect to randomly reorder multi links, so need to sort and compare\n\tconst currentSub = (currentSubreddit() || '').toLowerCase().split('+').sort().join('+');\n\tconst isCurrent = sub => {\n\t\tconst sortedSubs = sub.replace(/\\?\\+/g, '+').split('+').sort();\n\t\treturn sortedSubs.some(v => isCurrentSubreddit(v)) || currentSub === sortedSubs.join('+');\n\t};\n\n\tlet i = 0;\n\tfor (const shortcut of mySubredditShortcuts) {\n\t\tconst thisShortCut = document.createElement('a');\n\t\tthisShortCut.setAttribute('orderIndex', String(i++));\n\t\tthisShortCut.setAttribute('data-subreddit', shortcut.subreddit);\n\t\tthisShortCut.classList.add('subbarlink');\n\t\tif (isCurrent(shortcut.subreddit)) thisShortCut.classList.add('RESShortcutsCurrentSub');\n\n\t\tthisShortCut.setAttribute('href', `/r/${shortcut.subreddit.replace(/(?:\\?\\+.*|\\?$)/, '')}`);\n\t\tthisShortCut.textContent = shortcut.displayName;\n\t\tthisShortCut.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif (e.button !== 0 || e.ctrlKey || e.metaKey || e.altKey || e.shiftKey) {\n\t\t\t\t// open in new tab, let the browser handle it\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\te.preventDefault();\n\t\t\t\tfollowSubredditShortcut(((e.target: any): HTMLAnchorElement).href);\n\t\t\t}\n\t\t});\n\n\t\tthisShortCut.addEventListener('dblclick', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\tfollowSubredditShortcut.cancel();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(e.target, e);\n\t\t});\n\n\t\tthisShortCut.addEventListener('mouseover', (e: Event) => {\n\t\t\tclearTimeout(hideSubredditGroupDropdownTimer);\n\t\t\tshowSubredditGroupDropdown(e.target);\n\t\t});\n\n\t\tthisShortCut.addEventListener('mouseout', () => {\n\t\t\tclearTimeout(showSubredditGroupDropdownTimer);\n\t\t\thideSubredditGroupDropdownTimer = setTimeout(() => hideSubredditGroupDropdown(), 500);\n\t\t});\n\n\t\tthisShortCut.addEventListener('dragstart', subredditDragStart);\n\t\tthisShortCut.addEventListener('dragenter', subredditDragEnter);\n\t\tthisShortCut.addEventListener('dragover', subredditDragOver);\n\t\tthisShortCut.addEventListener('dragleave', subredditDragLeave);\n\t\tthisShortCut.addEventListener('drop', subredditDrop);\n\t\tthisShortCut.addEventListener('dragend', subredditDragEnd);\n\n\t\tconst sep = document.createElement('span');\n\t\tsep.setAttribute('class', 'separator');\n\t\tsep.textContent = '-';\n\t\tshortcutsContainer.append(sep);\n\n\t\tshortcutsContainer.append(thisShortCut, sep);\n\t}\n\n\tif (mySubredditShortcuts.length) {\n\t\tshortcutsContainer.style.textTransform = '';\n\t} else {\n\t\tshortcutsContainer.style.textTransform = 'none';\n\t\tshortcutsContainer.textContent = 'add shortcuts from the my subreddits menu at left or click the button by the subreddit name, drag and drop to sort';\n\t}\n}\n\nfunction showSubredditGroupDropdown(obj) {\n\tlet subreddits = [];\n\tlet suffix = '';\n\n\tif (obj.getAttribute && obj.getAttribute('data-subreddit').includes('+')) {\n\t\tlet cleanSubreddits = obj.getAttribute('data-subreddit');\n\n\t\tif (cleanSubreddits.indexOf('/') > cleanSubreddits.lastIndexOf('+') || module.options.alwaysApplySuffixToMulti.value) {\n\t\t\t// for shortcuts like a+b/x, use subreddits=a+b ; suffix = x\n\t\t\t// for shortcuts like a/x+b/y, just split them a la pre-4.5.0\n\t\t\tlet pos;\n\t\t\tif ((pos = cleanSubreddits.lastIndexOf('?')) > cleanSubreddits.lastIndexOf('+')) {\n\t\t\t\tsuffix = cleanSubreddits.substr(pos);\n\t\t\t\tcleanSubreddits = cleanSubreddits.substr(0, pos);\n\t\t\t}\n\t\t\tif ((pos = cleanSubreddits.lastIndexOf('/')) > cleanSubreddits.lastIndexOf('+')) { // check both existance and correct form (i.e. not foo/new+bar)\n\t\t\t\tsuffix = cleanSubreddits.substr(pos) + suffix;\n\t\t\t\tcleanSubreddits = cleanSubreddits.substr(0, pos);\n\t\t\t}\n\t\t}\n\t\tsubreddits = cleanSubreddits.replace(/\\?\\+/g, '+').split('+');\n\t}\n\n\tif (!(subreddits.length || module.options.dropdownEditButton.value)) {\n\t\treturn;\n\t}\n\n\tlet delay;\n\n\tif (subreddits.length) {\n\t\tdelay = parseInt(module.options.shortcutDropdownDelay.value, 10);\n\t} else {\n\t\tdelay = parseInt(module.options.shortcutEditDropdownDelay.value, 10);\n\t}\n\n\tclearTimeout(showSubredditGroupDropdownTimer);\n\tshowSubredditGroupDropdownTimer = setTimeout(\n\t\t() => _showSubredditGroupDropdown(obj, subreddits, suffix),\n\t\tdelay\n\t);\n}\n\nfunction _showSubredditGroupDropdown(obj, subreddits, suffix) {\n\t// Updates source object referenced on the 'click' events\n\tsubredditGroupDropdownRefItem = obj;\n\t// Show dropdown after an appropriate delay\n\tif (!$subredditGroupDropdown) {\n\t\t$subredditGroupDropdown = $('<div>', { id: 'RESSubredditGroupDropdown' });\n\t\tsubredditGroupDropdownUL = document.createElement('ul');\n\t\t$subredditGroupDropdown.append(subredditGroupDropdownUL);\n\n\t\tif (module.options.dropdownEditButton.value) {\n\t\t\t$subredditGroupDropdown.append(`\n\t\t\t\t<div class=\"RESShortcutsEditButtons\">\n\t\t\t\t\t<a href=\"#\" class=\"delete res-icon\" title=\"delete\">&#xF155;</a>\n\t\t\t\t\t<a href=\"#\" class=\"edit res-icon\" title=\"edit\">&#xF139;</a>\n\t\t\t\t</div>\n\t\t\t`);\n\t\t}\n\t\t$subredditGroupDropdown.appendTo(document.body);\n\n\t\t$subredditGroupDropdown.on('mouseout', () => {\n\t\t\thideSubredditGroupDropdownTimer = setTimeout(() => {\n\t\t\t\thideSubredditGroupDropdown();\n\t\t\t}, 500);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('mouseover', () => {\n\t\t\tclearTimeout(hideSubredditGroupDropdownTimer);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('click', '.edit', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(subredditGroupDropdownRefItem, e);\n\t\t});\n\n\t\t$subredditGroupDropdown.on('click', '.delete', (e: MouseEvent) => {\n\t\t\te.preventDefault();\n\t\t\thideSubredditGroupDropdown();\n\t\t\teditSubredditShortcut(subredditGroupDropdownRefItem, e);\n\t\t\tdeleteButton.click();\n\t\t});\n\t}\n\n\t$(subredditGroupDropdownUL).find('li:not(.RESShortcutsEditButtons)').remove();\n\n\tif (subreddits) {\n\t\tconst $rows = subreddits.reduce(($collection, subreddit) => {\n\t\t\tconst $thisLI = $(`<li><a href=\"/r/${subreddit}${suffix}\">${subreddit}<span class=\"shortcutSuffix\">${suffix}</span></a></li>`);\n\t\t\tif (isCurrentSubreddit(subreddit)) {\n\t\t\t\t$thisLI.addClass('RESShortcutsCurrentSub');\n\t\t\t}\n\t\t\treturn $collection.add($thisLI);\n\t\t}, $());\n\n\t\t$(subredditGroupDropdownUL).prepend($rows);\n\t}\n\n\tconst { left } = $(obj).offset();\n\tconst { bottom } = document.querySelector('#sr-header-area').getBoundingClientRect();\n\t$subredditGroupDropdown\n\t\t.css({ top: `${bottom}px`, left: `${left}px` })\n\t\t.show();\n}\n\nfunction hideSubredditGroupDropdown() {\n\thideSubredditGroupDropdownTimer = undefined;\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n}\n\nfunction editSubredditShortcut(ele, event) {\n\tconst subreddit = ele.getAttribute('data-subreddit');\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut => shortcut.subreddit === subreddit);\n\n\tif (!$editShortcutDialog) {\n\t\t$editShortcutDialog = $('<div>', { id: 'editShortcutDialog' })\n\t\t\t.appendTo(document.body);\n\t}\n\n\tconst unsortable = !subreddit.includes('+');\n\n\tconst thisForm = `\n\t\t<form name=\"editSubredditShortcut\">\n\t\t\t<h3>Edit Shortcut</h3>\n\t\t\t<div id=\"editShortcutClose\" class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t\t<div class=\"RESFormItem\">\n\t\t\t\t<label for=\"subreddit\">Subreddit:</label>\n\t\t\t\t<div class=\"RESFieldItem\">\n\t\t\t\t\t<input type=\"text\" name=\"subreddit\" value=\"${subreddit}\" id=\"shortcut-subreddit\" class=\"${unsortable ? 'unsortable' : ''}\"><!-- no whitespace\n\t\t\t\t\t--><button type=\"submit\" id=\"sortButton\" title=\"Sort subreddits\">A-Z</button>\n\n\t\t\t\t\t<div class=\"RESDescription\">Put a + between subreddits to make a drop-down menu.<br/>Put ?+ to make subreddits after it only show in dropdown.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"RESFormItem\">\n\t\t\t\t<label for=\"displayName\">Display Name:</label>\n\t\t\t\t<div class=\"RESFieldItem\">\n\t\t\t\t\t<input type=\"text\" name=\"displayName\" value=\"${ele.textContent}\" id=\"shortcut-displayname\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<input type=\"hidden\" name=\"idx\" value=\"${idx}\">\n\t\t\t<button type=\"button\" name=\"shortcut-save\" id=\"shortcut-save\">save</button>\n\t\t\t<button type=\"button\" name=\"shortcut-delete\" id=\"shortcut-delete\">delete</button>\n\t\t</form>\n\t`;\n\t$editShortcutDialog.html(thisForm);\n\n\t$editShortcutDialog.find('#shortcut-subreddit').on('keyup', _.throttle(({ currentTarget: shortcut }: KeyboardEvent) => {\n\t\tif (!(shortcut: any).value.includes('+')) {\n\t\t\tshortcut.classList.add('unsortable');\n\t\t} else {\n\t\t\tshortcut.classList.remove('unsortable');\n\t\t}\n\t}, 500));\n\tconst subredditInput = $editShortcutDialog.find('input[name=subreddit]').get(0);\n\tconst displayNameInput = $editShortcutDialog.find('input[name=displayName]').get(0);\n\n\t$editShortcutDialog.find('FORM').on('submit', e => e.preventDefault());\n\n\tconst saveButton = $editShortcutDialog\n\t\t.find('button[name=shortcut-save]')\n\t\t.click(() => {\n\t\t\tconst idx = $editShortcutDialog.find('input[name=idx]').val();\n\t\t\tconst subreddit = $editShortcutDialog.find('input[name=subreddit]').val();\n\t\t\tconst displayName = $editShortcutDialog.find('input[name=displayName]').val();\n\n\t\t\tsaveSubredditShortcut(subreddit, displayName, idx);\n\t\t\t$editShortcutDialog.hide();\n\t\t})\n\t\t.get(0);\n\n\tdeleteButton = $editShortcutDialog.find('button[name=shortcut-delete]').get(0);\n\tdeleteButton.addEventListener('click', () => {\n\t\tconst idx = $editShortcutDialog.find('input[name=idx]').val();\n\n\t\tif (confirm('Are you sure you want to delete this shortcut?')) {\n\t\t\tsaveSubredditShortcut('', '', idx);\n\t\t\t$editShortcutDialog.hide();\n\t\t}\n\t});\n\n\t// Allow the shortcut dropdown menu to be sorted\n\tfunction sortSubmenu(e) {\n\t\tconst inputEl: HTMLInputElement = ($editShortcutDialog.find('input[name=subreddit]').get(0): any);\n\t\tconst currStr = inputEl.value;\n\t\t// sort ASC\n\t\tconst ascArr = currStr.split('+');\n\t\tascArr.sort();\n\t\tconst ascStr = ascArr.join('+');\n\t\t// sort DESC\n\t\tconst descArr = ascArr;\n\t\tdescArr.reverse();\n\t\tconst descStr = descArr.join('+');\n\t\tlet btnTxt;\n\t\tif (((e.target: any): HTMLInputElement).type === 'submit') {\n\t\t\t// if sorted ASC, sort DESC. If unsorted or sorted DESC, sort ASC\n\t\t\tinputEl.value = (currStr === ascStr ? descStr : ascStr);\n\t\t\tbtnTxt = (currStr === ascStr ? 'A-Z' : 'Z-A');\n\t\t} else {\n\t\t\tbtnTxt = (currStr === ascStr ? 'Z-A' : 'A-Z');\n\t\t}\n\t\t$('#sortButton').text(btnTxt);\n\t}\n\n\t// handle the sort button\n\t$editShortcutDialog.find('#sortButton').click(e => sortSubmenu(e));\n\n\t// handle the subreddit textfield\n\t$editShortcutDialog.find('input[name=subreddit]').on('change', e => sortSubmenu(e));\n\n\t// handle enter and escape keys in the dialog box...\n\tsubredditInput.addEventListener('keydown', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Enter) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t});\n\tsubredditInput.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t$editShortcutDialog\n\t\t\t\t.hide()\n\t\t\t\t.blur();\n\t\t} else if (e.key === NAMED_KEYS.Enter) {\n\t\t\tclick(saveButton);\n\t\t}\n\t});\n\tdisplayNameInput.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\t$editShortcutDialog\n\t\t\t\t.hide()\n\t\t\t\t.blur();\n\t\t} else if (e.key === NAMED_KEYS.Enter) {\n\t\t\tclick(saveButton);\n\t\t}\n\t});\n\n\t// cancel button\n\t$editShortcutDialog.find('#editShortcutClose').click(() => {\n\t\t$editShortcutDialog.hide();\n\t});\n\n\t$editShortcutDialog.show();\n\t// add 20px to compensate for scrollbar\n\tconst thisLeft = Math.min(event.clientX, window.innerWidth - ($editShortcutDialog.get(0).offsetWidth + 20));\n\t$editShortcutDialog.css('left', `${thisLeft}px`);\n\n\tsetTimeout(() => subredditInput.focus(), 200);\n}\n\nasync function saveSubredditShortcut(subreddit, displayName, idx) {\n\tif (subreddit === '' || displayName === '') {\n\t\tsubreddit = mySubredditShortcuts[idx].subreddit;\n\t\tawait removeSubredditShortcut(subreddit);\n\t} else {\n\t\tmySubredditShortcuts[idx] = {\n\t\t\tsubreddit,\n\t\t\tdisplayName,\n\t\t\taddedDate: Date.now(),\n\t\t};\n\n\t\tsaveLatestShortcuts();\n\t}\n\n\tredrawShortcuts();\n\tawait populateSubredditDropdown();\n}\n\nconst followSubredditShortcut = _.debounce(url => { location.href = url; }, 300);\n\nlet dragSrcEl, srDataTransfer;\n\nfunction subredditDragStart(e: DragEvent) {\n\tfollowSubredditShortcut.cancel();\n\t// Target (this) element is the source node.\n\tthis.style.opacity = '0.4';\n\tdragSrcEl = this; // eslint-disable-line consistent-this\n\tif (module.options.dragDropDelete.value) {\n\t\taddTrashBin(dragSrcEl);\n\t}\n\n\t// $FlowIssue\n\te.dataTransfer.effectAllowed = 'move';\n\t// because Safari is stupid, we have to do this.\n\tsrDataTransfer = `${this.getAttribute('orderIndex')},${$(this).data('subreddit')}`;\n}\n\nfunction subredditDragEnter() {\n\tthis.classList.add('srOver');\n\treturn false;\n}\n\nfunction subredditDragOver(e: DragEvent) {\n\tif (e.preventDefault) {\n\t\te.preventDefault(); // Necessary. Allows us to drop.\n\t}\n\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n\n\t// $FlowIssue\n\te.dataTransfer.dropEffect = 'move';\n\treturn false;\n}\n\nfunction subredditDragLeave() {\n\tthis.classList.remove('srOver');\n\treturn false;\n}\n\nfunction subredditDrop(e: DragEvent) {\n\t// this/e.target is current target element.\n\tif (e.stopPropagation) {\n\t\te.stopPropagation(); // Stops some browsers from redirecting.\n\t}\n\n\t// Stops other browsers from redirecting.\n\te.preventDefault();\n\n\t// Don't do anything if dropping the same column we're dragging.\n\tif (dragSrcEl !== this) {\n\t\tif (e.target.getAttribute('id') !== 'res-shortcut-trash') {\n\t\t\t// get the order index of the src and destination to swap...\n\t\t\t// const theData = e.dataTransfer.getData('text/html').split(',');\n\t\t\tconst theData = srDataTransfer.split(',');\n\t\t\tconst srcOrderIndex = parseInt(theData[0], 10);\n\t\t\tconst srcSubreddit = mySubredditShortcuts[srcOrderIndex];\n\t\t\tconst destOrderIndex = parseInt(this.getAttribute('orderIndex'), 10);\n\t\t\tconst destSubreddit = mySubredditShortcuts[destOrderIndex];\n\t\t\tconst rearranged = [];\n\t\t\tlet rearrangedI = 0;\n\n\t\t\tmySubredditShortcuts.forEach((shortcut, i) => {\n\t\t\t\tif ((i !== srcOrderIndex) && (i !== destOrderIndex)) {\n\t\t\t\t\trearranged[rearrangedI] = shortcut;\n\t\t\t\t\trearrangedI++;\n\t\t\t\t} else if (i === destOrderIndex) {\n\t\t\t\t\tif (destOrderIndex > srcOrderIndex) {\n\t\t\t\t\t\t// if dragging right, order dest first, src next.\n\t\t\t\t\t\trearranged[rearrangedI] = destSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t\trearranged[rearrangedI] = srcSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// if dragging left, order src first, dest next.\n\t\t\t\t\t\trearranged[rearrangedI] = srcSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t\trearranged[rearrangedI] = destSubreddit;\n\t\t\t\t\t\trearrangedI++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// save the updated order...\n\t\t\tmySubredditShortcuts = rearranged;\n\t\t\tsaveLatestShortcuts();\n\t\t\t// redraw the shortcut bar...\n\t\t\tredrawShortcuts();\n\t\t} else {\n\t\t\tconst theData = srDataTransfer.split(',');\n\t\t\tconst srcSubreddit = theData[1];\n\t\t\tremoveSubredditShortcut(srcSubreddit);\n\t\t}\n\t}\n\treturn false;\n}\n\nfunction subredditDragEnd() {\n\tthis.style.opacity = '1';\n\tthis.classList.remove('srOver');\n\tif (module.options.dragDropDelete.value) {\n\t\tremoveTrashBin();\n\t}\n\treturn false;\n}\n\nasync function createSubredditBar(headerContents) {\n\tconst originalShortcuts: HTMLAnchorElement[] = (Array.from(document.querySelectorAll('.sr-list a.choice')): any[]);\n\tconst myRandom = module.options.linkMyRandom.value && originalShortcuts.find(({ pathname }) => pathname === '/r/myrandom/');\n\tconst myRandomGold = myRandom && myRandom.classList.contains('gold');\n\tconst users = module.options.linkUsers.value && originalShortcuts.find(({ pathname }) => pathname === '/users/');\n\tconst originalFrontpage = originalShortcuts.find(({ pathname }) => pathname === '/');\n\tconst originalPopular = originalShortcuts.find(({ pathname }) => pathname === '/r/popular/');\n\tconst originalProfilePosts = originalShortcuts.find(({ pathname }) => pathname === '/r/profileposts/');\n\n\t// Clear out the existing stuff in the top bar first, we'll replace it with our own stuff.\n\tempty(headerContents);\n\n\tawait initialShortcutsLoad();\n\n\tconst user = loggedInUser();\n\n\tconst staticShortcutsHTML = [\n\t\tmodule.options.linkDashboard.value && '<a class=\"subbarlink\" href=\"/r/Dashboard/\">Dashboard</a>',\n\t\tmodule.options.linkFront.value && originalFrontpage && `<a class=\"subbarlink\" href=\"/\">${originalFrontpage.textContent}</a>`,\n\t\tmodule.options.linkPopular.value && originalPopular && `<a class=\"subbarlink\" href=\"/r/popular/\">${originalPopular.textContent}</a>`,\n\t\tmodule.options.linkProfilePosts.value && originalProfilePosts && `<a class=\"subbarlink\" href=\"/r/profileposts/\">${originalProfilePosts.textContent}</a>`,\n\t\tmodule.options.linkAll.value && '<a class=\"subbarlink\" href=\"/r/all/\">All</a>',\n\t\tmodule.options.linkRandom.value && '<a class=\"subbarlink\" href=\"/r/random/\">Random</a>',\n\t\tmodule.options.linkMyRandom.value && myRandom && `<a class=\"subbarlink ${myRandomGold ? 'gold' : ''}\" href=\"/r/myrandom/\">MyRandom</a>`,\n\t\tmodule.options.linkUsers.value && users && '<a class=\"subbarlink\" href=\"/users/\">Users</a>',\n\t\tmodule.options.linkRandNSFW.value && '<a class=\"over18 subbarlink\" href=\"/r/randnsfw/\">RandNSFW</a>',\n\t\tuser && [\n\t\t\tmodule.options.linkFriends.value && '<a class=\"subbarlink\" href=\"/r/friends/\">Friends</a>',\n\t\t\tisModeratorAnywhere() && [\n\t\t\t\tmodule.options.linkMod.value && '<a class=\"subbarlink\" href=\"/r/mod/\">Mod</a>',\n\t\t\t\tmodule.options.linkModqueue.value && '<a class=\"subbarlink\" href=\"/r/mod/about/modqueue\">Modqueue</a>',\n\t\t\t],\n\t\t\tmodule.options.linkSaved.value && `<a class=\"subbarlink\" href=\"/user/${user}/saved\">Saved</a>`,\n\t\t],\n\t\tmodule.options.buttonEdit.value && `${SettingsNavigation.makeUrlHashLink(module.moduleID, '', 'edit', 'subbarlink res-sr-options-link')}`,\n\t]\n\t// $FlowIssue Array#flat\n\t\t.flat(3)\n\t\t.filter(Boolean)\n\t\t.join('<span class=\"separator\">-</span>');\n\n\theaderContents.append(...string.html`<span>\n\t\t<div id=\"srLeftContainer\" class=\"sr-bar\">\n\t\t\t<div id=\"srDropdown\">\n\t\t\t\t\t<div id=\"srDropdownContainer\"><a href=\"javascript:void 0\">My Subreddits</a></div>\n\t\t\t</div>\n\t\t\t<div id=\"RESStaticShortcuts\"><span class=\"separator\">-</span>${string.safe(staticShortcutsHTML)}</div>\n\t\t\t<span class=\"srSep\">|</span>\n\t\t</div>\n\t\t<div id=\"RESShortcutsViewport\">\n\t\t\t<div id=\"RESShortcuts\" class=\"sr-bar\"></div>\n\t\t</div>\n\t\t<div id=\"RESShortcutsEditContainer\">\n\t\t\t<div id=\"RESShortcutsSort\" title=\"sort subreddit shortcuts\"></div>\n\t\t\t<div id=\"RESShortcutsRight\">&gt;</div>\n\t\t\t<div id=\"RESShortcutsAdd\" class=\"res-icon\" title=\"add shortcut\"></div>\n\t\t\t<div id=\"RESShortcutsLeft\">&lt;</div>\n\t\t</div>\n\t</span>`.children);\n\n\theaderContents.querySelector('#srDropdownContainer').addEventListener('click', (e: MouseEvent) => {\n\t\te.stopImmediatePropagation();\n\t\ttoggleSubredditDropdown();\n\t});\n\n\tshortcutsContainer = headerContents.querySelector('#RESShortcuts');\n\n\tconst choice = [...headerContents.querySelectorAll('.subbarlink:not(.res-sr-options-link)')]\n\t\t.find(link => link instanceof HTMLAnchorElement && fullLocation(link.pathname) === fullLocation());\n\tif (choice) choice.classList.add('RESShortcutsCurrentSub');\n\n\tconst shortcutsEditContainer = document.createElement('div');\n\tshortcutsEditContainer.classList.add('res-sr-edit');\n\n\theaderContents.querySelector('#RESShortcutsSort').addEventListener('click', async ({ target }: MouseEvent) => {\n\t\tconst menu = sortMenu();\n\t\tdocument.body.append(menu);\n\t\tconst { bottom, left } = target.getBoundingClientRect();\n\t\tmenu.style.top = `${bottom}px`;\n\t\tmenu.style.left = `${Math.min(document.body.getBoundingClientRect().width - menu.getBoundingClientRect().width, left)}px`;\n\t\tawait waitForEvent(menu, 'mouseleave');\n\t\tmenu.remove();\n\t});\n\n\tconst addButton = headerContents.querySelector('#RESShortcutsAdd');\n\taddButton.addEventListener('click', () => { toggleShortCutsAddForm(); });\n\n\tconst leftButton = headerContents.querySelector('#RESShortcutsLeft');\n\tleftButton.addEventListener('click', () => {\n\t\tconst firstChild: HTMLElement = (shortcutsContainer.firstChild: any);\n\t\tconst containerMargin = parseInt(firstChild.style.marginLeft, 10) || 0;\n\t\tconst shiftWidth = Math.floor($('#RESShortcutsViewport').width()) - 80;\n\t\tconst marginLeft = containerMargin + shiftWidth;\n\t\tif (marginLeft <= 0) {\n\t\t\tfirstChild.style.marginLeft = `${marginLeft}px`;\n\t\t}\n\t});\n\n\tconst rightButton = headerContents.querySelector('#RESShortcutsRight');\n\trightButton.addEventListener('click', () => {\n\t\tconst firstChild: HTMLElement = (shortcutsContainer.firstChild: any);\n\t\tlet marginLeft = firstChild.style.marginLeft;\n\t\tmarginLeft = parseInt(marginLeft.replace('px', ''), 10);\n\n\t\tif (isNaN(marginLeft)) marginLeft = 0;\n\n\t\tconst shiftWidth = $('#RESShortcutsViewport').width() - 80;\n\t\tif (shortcutsContainer.offsetWidth > (shiftWidth)) {\n\t\t\tmarginLeft -= shiftWidth;\n\t\t\tfirstChild.style.marginLeft = `${marginLeft}px`;\n\t\t}\n\t});\n\n\tredrawShortcuts();\n}\n\nconst trashBin = _.once(() => {\n\tconst $title = $('<div>', { class: 'res-shortcut-trash-title' });\n\n\tconst $trashZone = $('<div>', { id: 'res-shortcut-trash-zone', class: 'res-icon' });\n\tconst shortCutsTrash = $trashZone.get(0);\n\tshortCutsTrash.addEventListener('dragenter', subredditDragEnter);\n\tshortCutsTrash.addEventListener('dragleave', subredditDragLeave);\n\tshortCutsTrash.addEventListener('dragover', subredditDragOver);\n\tshortCutsTrash.addEventListener('drop', subredditDrop);\n\n\tconst $wrapper = $('<div>', { id: 'res-shortcut-trash' })\n\t\t.append(\n\t\t\t$title,\n\t\t\t$trashZone,\n\t\t\t$('<div>', {\n\t\t\t\tid: 'res-dragDrop-tip',\n\t\t\t\ttext: 'Did you know? You can arrange shortcuts by dragging them left & right along the top bar.',\n\t\t\t})\n\t\t);\n\n\treturn {\n\t\t$wrapper,\n\t\t$trashZone,\n\t\t$title,\n\t};\n});\n\nfunction toggleShortCutsAddForm() {\n\tlet shortCutsAddFormContainer = document.querySelector('RESShortcutsAddFormContainer');\n\n\tconst close = () => shortCutsAddFormContainer.remove();\n\n\tif (shortCutsAddFormContainer) {\n\t\tclose();\n\t\treturn;\n\t}\n\n\tshortCutsAddFormContainer = document.createElement('div');\n\tshortCutsAddFormContainer.setAttribute('id', 'RESShortcutsAddFormContainer');\n\tshortCutsAddFormContainer.append(string.html`\n\t\t<form id=\"shortCutsAddForm\">\n\t\t\t<div><strong>Add Shortcut</strong></div>\n\t\t\t<div class=\"res-shortcuts-add-tip\">Put a &plus; between subreddits to make a multireddit.</div>\n\t\t\t<div><label for=\"newShortcut\">Subreddit:</label><input type=\"text\" id=\"newShortcut\"></div>\n\t\t\t<div><label for=\"displayName\">Display Name:</label><input type=\"text\" id=\"displayName\"></div>\n\t\t\t<input type=\"submit\" name=\"submit\" value=\"add\" id=\"addSubreddit\">\n\t\t\t<div class=\"res-shortcuts-add-footer\"><a href=\"/subreddits/\">manage subscribed</a></div>\n\t\t</form>\n\t`);\n\tconst shortCutsAddFormField: HTMLInputElement = (shortCutsAddFormContainer.querySelector('#newShortcut'): any);\n\tconst shortCutsAddFormFieldDisplayName: HTMLInputElement = (shortCutsAddFormContainer.querySelector('#displayName'): any);\n\n\tshortCutsAddFormField.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) close();\n\t});\n\n\tshortCutsAddFormFieldDisplayName.addEventListener('keyup', (e: KeyboardEvent) => {\n\t\tif (e.key === NAMED_KEYS.Escape) close();\n\t});\n\n\t// add the \"add shortcut\" form...\n\tconst shortCutsAddForm = shortCutsAddFormContainer.querySelector('#shortCutsAddForm');\n\tshortCutsAddForm.addEventListener('submit', e => {\n\t\te.preventDefault();\n\t\tlet subreddit = shortCutsAddFormField.value;\n\t\tlet displayname = shortCutsAddFormFieldDisplayName.value;\n\t\tif (displayname === '') displayname = subreddit;\n\n\t\tsubreddit = subreddit.replace(/^\\/?r\\//i, '');\n\n\t\tif (subreddit) {\n\t\t\taddSubredditShortcut(subreddit, displayname);\n\t\t}\n\n\t\tclose();\n\t});\n\n\tdocument.body.append(shortCutsAddFormContainer);\n\tshortCutsAddFormField.focus();\n\n\tif (module.options.dragDropDelete.value) {\n\t\tconst trashOpenLink = string.html`<a class=\"res-trash-open\" href=\"javascript: void 0\" title=\"Choose which shortcuts to remove\"><span class=\"res-icon\">&#xF155;</span> remove shortcuts...</a>`;\n\t\t$('#RESShortcutsAddFormContainer .res-shortcuts-add-footer').prepend(trashOpenLink, ' | ');\n\t\ttrashOpenLink.addEventListener('click', () => { addTrashBin(); });\n\t}\n}\n\nconst $pageOverlay = _.once(() => {\n\tconst srHeaderArea = document.querySelector('#sr-header-area');\n\n\treturn $('<div>', { id: 'res-trash-overlay' })\n\t\t.css({ top: `${srHeaderArea.offsetHeight}px` })\n\t\t.click(() => removeTrashBin());\n});\n\nfunction addTrashBin(shortcut) {\n\t// hide other elements.\n\tif ($subredditGroupDropdown) {\n\t\t$subredditGroupDropdown.hide();\n\t}\n\n\t// set the title.\n\tif (shortcut) {\n\t\ttrashBin().$title.html(string.escape`Drop here to delete shortcut <strong>${$(shortcut).text()}</strong>`);\n\t} else {\n\t\ttrashBin().$title.text('Drag and drop shortcuts to delete them');\n\t}\n\n\t// add trash bin\n\ttrashBin().$wrapper\n\t\t.appendTo(document.body)\n\t\t.show();\n\t// add overlay\n\t$pageOverlay()\n\t\t.appendTo(document.body)\n\t\t.show();\n}\n\nfunction removeTrashBin() {\n\t$pageOverlay().hide();\n\ttrashBin().$wrapper.hide();\n\ttrashBin().$trashZone.removeClass('srOver');\n}\n\nconst sortMenu = _.once(() => {\n\tconst element = string.html`\n\t<div id=\"sort-menu\" style=\"display: block\" class=\"drop-choices\">\n\t\t<p>&nbsp;sort by:</p>\n\t\t<a class=\"choice\" data-field=\"displayName\" href=\"javascript:void 0\">display name</a>\n\t\t<a class=\"choice\" data-field=\"addedDate\" href=\"javascript:void 0\">added date</a>\n\t</div>`;\n\n\tlet lastField;\n\n\t$(element).find('a').click(({ target }) => {\n\t\tconst field = target.dataset.field;\n\t\tconst sameField = lastField === field;\n\t\tlastField = field;\n\t\tsortShortcuts(sameField ? null : field, sameField);\n\t});\n\n\treturn element;\n});\n\nfunction sortShortcuts(field, reverse) {\n\tif (field) mySubredditShortcuts.sort((a, b) => String(a[field]).localeCompare(String(b[field]), undefined, { numeric: true, sensitivity: 'base' }));\n\tif (reverse) mySubredditShortcuts.reverse();\n\n\t// Refresh shortcuts\n\tredrawShortcuts();\n\n\t// Save shortcuts sort order\n\tsaveLatestShortcuts();\n}\n\nlet subredditPagesLoaded;\nconst srList = _.once(() => {\n\tconst element = document.createElement('table');\n\telement.id = 'srList';\n\n\tconst user = loggedInUser();\n\tif (user) {\n\t\telement.append(string.html`<tr><td width=\"360\">Loading subreddits (may take a moment)...<div id=\"subredditPagesLoaded\"></div></td></tr>`);\n\t\tsubredditPagesLoaded = element.querySelector('#subredditPagesLoaded');\n\t\tgetSubreddits(user);\n\t} else {\n\t\telement.append(string.html`<tr><td width=\"360\">You must be logged in to load your own list of subreddits. <a style=\"display: inline; float: left;\" href=\"/subreddits/\">browse them all</a></td></tr>`);\n\t}\n\n\treturn element;\n});\n\nfunction toggleSubredditDropdown(e?: Event) {\n\tif (e && (srList().contains(e.target) || !document.contains(e.target))) return;\n\n\tif (document.body.contains(srList())) {\n\t\tsrList().remove();\n\t\tdocument.body.removeEventListener('click', toggleSubredditDropdown);\n\t} else {\n\t\tdocument.body.append(srList());\n\t\tdocument.body.addEventListener('click', toggleSubredditDropdown);\n\t}\n}\n\nfunction addFilterSearch(theBody) {\n\tconst tableHead = document.createElement('thead');\n\tconst tableRow = document.createElement('tr');\n\tconst tableCol = document.createElement('td');\n\tconst search = document.createElement('input');\n\n\ttableCol.setAttribute('colspan', '3');\n\tsearch.setAttribute('placeholder', i18n('subredditManagerFilterPlaceholder'));\n\n\ttableCol.append(search);\n\ttableRow.append(tableCol);\n\ttableHead.append(tableRow);\n\t// focus on open (delay to allow render)\n\trequestAnimationFrame(() => { search.focus(); });\n\n\t// Filter subreddit list\n\tsearch.addEventListener('keyup', () => {\n\t\tfor (const row: HTMLElement of theBody.children) {\n\t\t\tconst subredditName = (row.firstChild && row.firstChild.innerText) ? row.firstChild.innerText.toLowerCase() : '';\n\t\t\tif (search.value === '' || subredditName.includes(search.value.toLowerCase())) {\n\t\t\t\trow.style.display = '';\n\t\t\t} else {\n\t\t\t\trow.style.display = 'none';\n\t\t\t}\n\t\t}\n\t});\n\n\treturn tableHead;\n}\n\nlet mySubreddits = [];\n\nasync function getSubreddits(user) {\n\tmySubreddits = [];\n\n\tlet after = '';\n\tlet page = 0;\n\n\tdo {\n\t\tconst { data } = (await ajax({ // eslint-disable-line no-await-in-loop\n\t\t\turl: '/subreddits/mine.json',\n\t\t\tquery: {\n\t\t\t\tafter,\n\t\t\t\tlimit: 100,\n\t\t\t\tuser, // for the cache\n\t\t\t},\n\t\t\ttype: 'json',\n\t\t\tcacheFor: DAY,\n\t\t}): RedditListing<RedditSubreddit>);\n\n\t\tif (data && data.children) {\n\t\t\tsubredditPagesLoaded.textContent = `Pages loaded: ${++page}`;\n\n\t\t\t// fields include display_name, url, over18, id, created, description\n\t\t\tconst subreddits = data.children.map(({ data }) => data);\n\t\t\tmySubreddits.push(...subreddits);\n\n\t\t\tafter = data.after;\n\t\t} else {\n\t\t\t// User is probably not logged in.. no subreddits found.\n\t\t\tpopulateSubredditDropdown(undefined, true);\n\t\t\treturn;\n\t\t}\n\t} while (after);\n\n\t// Remove duplicate subreddits\n\tmySubreddits = _.uniqBy(mySubreddits, sr => sr.display_name);\n\n\tmySubreddits.sort((a, b) => {\n\t\tconst adisp = a.display_name.toLowerCase();\n\t\tconst bdisp = b.display_name.toLowerCase();\n\t\tif (adisp > bdisp) return 1;\n\t\tif (adisp === bdisp) return 0;\n\t\treturn -1;\n\t});\n\n\tpopulateSubredditDropdown();\n}\n\n// if badJSON is true, then getSubredditJSON ran into an error...\nasync function populateSubredditDropdown(sortBy = 'subreddit', badJSON) {\n\tempty(srList());\n\n\tconst tableHead = document.createElement('thead');\n\tconst tableRow = document.createElement('tr');\n\n\tconst srHeader = document.createElement('td');\n\tsrHeader.addEventListener('click', () => {\n\t\tif (sortBy === 'subreddit') {\n\t\t\tpopulateSubredditDropdown('subredditDesc');\n\t\t} else {\n\t\t\tpopulateSubredditDropdown('subreddit');\n\t\t}\n\t});\n\tsrHeader.textContent = 'subreddit';\n\tsrHeader.setAttribute('width', '200');\n\ttableRow.append(srHeader);\n\n\tconst lvHeader = document.createElement('td');\n\tif (module.options.storeSubredditVisit.value) {\n\t\tlvHeader.addEventListener('click', () => {\n\t\t\tif (sortBy === 'lastVisited') {\n\t\t\t\tpopulateSubredditDropdown('lastVisitedAsc');\n\t\t\t} else {\n\t\t\t\tpopulateSubredditDropdown('lastVisited');\n\t\t\t}\n\t\t});\n\t\tlvHeader.textContent = 'Last Visited';\n\t\tlvHeader.setAttribute('width', '120');\n\t\ttableRow.append(lvHeader);\n\t}\n\n\tconst scHeader = document.createElement('td');\n\t$(scHeader).width(50);\n\t$(scHeader).html('<a style=\"float: right;\" href=\"/subreddits/\">View all &raquo;</a>');\n\ttableRow.append(scHeader);\n\n\tconst theBody = document.createElement('tbody');\n\n\ttableHead.append(tableRow);\n\tif (module.options.enableSubredditFilter.value) {\n\t\tsrList().append(addFilterSearch(theBody));\n\t}\n\tsrList().append(tableHead);\n\n\tif (!badJSON) {\n\t\tif (typeof subredditsLastViewed === 'undefined') {\n\t\t\tsubredditsLastViewed = await subredditsLastViewedStorage.get();\n\t\t}\n\n\t\t// copy mySubreddits to a placeholder array so we can sort without modifying it...\n\t\tconst sortableSubreddits = mySubreddits.slice();\n\t\tif (sortBy === 'lastVisited') {\n\t\t\t$(lvHeader).html('Last Visited <div class=\"sortAsc\"></div>');\n\t\t\tsrHeader.textContent = 'subreddit';\n\n\t\t\tsortableSubreddits.sort((a, b) => {\n\t\t\t\tconst adisp = a.display_name.toLowerCase();\n\t\t\t\tconst bdisp = b.display_name.toLowerCase();\n\n\t\t\t\tconst alv = (typeof subredditsLastViewed[adisp] === 'undefined') ? 0 : parseInt(subredditsLastViewed[adisp].last_visited, 10);\n\t\t\t\tconst blv = (typeof subredditsLastViewed[bdisp] === 'undefined') ? 0 : parseInt(subredditsLastViewed[bdisp].last_visited, 10);\n\n\t\t\t\tif (alv < blv) return 1;\n\t\t\t\tif (alv === blv) {\n\t\t\t\t\tif (adisp > bdisp) return 1;\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t});\n\t\t} else if (sortBy === 'lastVisitedAsc') {\n\t\t\t$(lvHeader).html('Last Visited <div class=\"sortDesc\"></div>');\n\t\t\tsrHeader.textContent = 'subreddit';\n\n\t\t\tsortableSubreddits.sort((a, b) => {\n\t\t\t\tconst adisp = a.display_name.toLowerCase();\n\t\t\t\tconst bdisp = b.display_name.toLowerCase();\n\n\t\t\t\tconst alv = (typeof subredditsLastViewed[adisp] === 'undefined') ? 0 : parseInt(subredditsLastViewed[adisp].last_visited, 10);\n\t\t\t\tconst blv = (typeof subredditsLastViewed[bdisp] === 'undefined') ? 0 : parseInt(subredditsLastViewed[bdisp].last_visited, 10);\n\n\t\t\t\tif (alv > blv) return 1;\n\t\t\t\tif (alv === blv) {\n\t\t\t\t\tif (adisp > bdisp) return 1;\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn -1;\n\t\t\t});\n\t\t} else if (sortBy === 'subredditDesc') {\n\t\t\tlvHeader.textContent = 'Last Visited';\n\t\t\t$(srHeader).html('subreddit <div class=\"sortDesc\"></div>');\n\n\t\t\tsortableSubreddits.sort((a, b) => {\n\t\t\t\tconst adisp = a.display_name.toLowerCase();\n\t\t\t\tconst bdisp = b.display_name.toLowerCase();\n\n\t\t\t\tif (adisp < bdisp) return 1;\n\t\t\t\tif (adisp === bdisp) return 0;\n\t\t\t\treturn -1;\n\t\t\t});\n\t\t} else {\n\t\t\tlvHeader.textContent = 'Last Visited';\n\t\t\t$(srHeader).html('subreddit <div class=\"sortAsc\"></div>');\n\n\t\t\tsortableSubreddits.sort((a, b) => {\n\t\t\t\tconst adisp = a.display_name.toLowerCase();\n\t\t\t\tconst bdisp = b.display_name.toLowerCase();\n\n\t\t\t\tif (adisp > bdisp) return 1;\n\t\t\t\tif (adisp === bdisp) return 0;\n\t\t\t\treturn -1;\n\t\t\t});\n\t\t}\n\t\tfor (const { display_name: displayName, url } of sortableSubreddits) {\n\t\t\tlet dateString = 'Never';\n\t\t\tlet relativeDateString = '';\n\t\t\tconst thisReddit = displayName.toLowerCase();\n\t\t\tif (subredditsLastViewed[thisReddit]) {\n\t\t\t\tconst ts = parseInt(subredditsLastViewed[thisReddit].last_visited, 10);\n\t\t\t\tconst dateVisited = new Date(ts);\n\t\t\t\tdateString = formatDate(dateVisited);\n\t\t\t\trelativeDateString = formatRelativeTime(dateVisited);\n\t\t\t}\n\n\t\t\tconst theRow = document.createElement('tr');\n\t\t\tconst theSR = document.createElement('td');\n\t\t\t$(theSR).html(string.escape`<a href=\"${url}\">${displayName}</a>`);\n\t\t\ttheRow.append(theSR);\n\n\t\t\tif (module.options.storeSubredditVisit.value) {\n\t\t\t\tconst theLV = document.createElement('td');\n\t\t\t\tif (relativeDateString !== '') {\n\t\t\t\t\ttheLV.textContent = relativeDateString;\n\t\t\t\t\ttheLV.setAttribute('title', dateString);\n\t\t\t\t} else {\n\t\t\t\t\ttheLV.textContent = dateString;\n\t\t\t\t}\n\t\t\t\ttheLV.setAttribute('class', 'RESvisited');\n\t\t\t\ttheRow.append(theLV);\n\t\t\t}\n\n\t\t\tconst button = createShortcutToggleButton(displayName);\n\t\t\tbutton.className = '';\n\t\t\tconst theSC = document.createElement('td');\n\t\t\ttheSC.append(button);\n\n\t\t\ttheRow.append(theSC);\n\t\t\ttheBody.append(theRow);\n\t\t}\n\t} else {\n\t\tconst errorTD = document.createElement('td');\n\t\terrorTD.textContent = 'There was an error getting your subreddits. You may have third party cookies disabled by your browser. For this function to work, you\\'ll need to add an exception for cookies from reddit.com';\n\t\terrorTD.setAttribute('colspan', '3');\n\n\t\tconst errorRow = document.createElement('tr');\n\t\terrorRow.append(errorTD);\n\t\ttheBody.append(errorRow);\n\t}\n\n\tsrList().append(theBody);\n}\n\nexport async function getMultiCounts(displayName: string): Promise<string> {\n\tif (!module.options.displayMultiCounts.value) return '';\n\tconst user = loggedInUser();\n\tif (!user) return '';\n\tconst multis = await ajax({\n\t\turl: `/api/multi/user/${user}`,\n\t\ttype: 'json',\n\t\tcacheFor: DAY,\n\t});\n\tconst count = multis.filter(multi => multi.data.subreddits.some(sr => sr.name === displayName)).length;\n\tif (count) return string.escape`<span class=\"multi-count\" title=\"${i18n('subredditManagerMultiCountTitle', displayName, count)}\">${count}</span>`;\n\telse return '';\n}\n\nfunction saveLatestShortcuts() {\n\tsubredditShortcutsStorage.set(mySubredditShortcuts || []);\n}\n\nasync function addSubredditShortcut(subreddit, displayname) {\n\tawait loadShortcuts();\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut =>\n\t\tshortcut.subreddit.toLowerCase() === subreddit.toLowerCase()\n\t);\n\n\tif (idx !== -1) {\n\t\tAlert.open('Whoops, you already have a shortcut for that subreddit');\n\t} else {\n\t\tdisplayname = displayname || subreddit;\n\t\tconst subredditObj = {\n\t\t\tsubreddit,\n\t\t\tdisplayName: displayname.toLowerCase(),\n\t\t\taddedDate: Date.now(),\n\t\t};\n\n\t\tmySubredditShortcuts.push(subredditObj);\n\n\t\tsaveLatestShortcuts();\n\t\tredrawShortcuts();\n\t\tawait populateSubredditDropdown();\n\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: 'subredditManager',\n\t\t\tmessage: 'Subreddit shortcut added. You can edit by double clicking the shortcut.',\n\t\t});\n\t}\n}\n\nasync function removeSubredditShortcut(subreddit) {\n\tawait loadShortcuts();\n\n\tconst idx = mySubredditShortcuts.findIndex(shortcut =>\n\t\tshortcut.subreddit.toLowerCase() === subreddit.toLowerCase()\n\t);\n\n\tif (idx !== -1) {\n\t\tmySubredditShortcuts.splice(idx, 1);\n\n\t\tsaveLatestShortcuts();\n\t\tredrawShortcuts();\n\t\tawait populateSubredditDropdown();\n\t}\n}\n\nasync function setLastViewtime(subreddit) {\n\tif (!module.options.storeSubredditVisit.value) return;\n\tif (!module.options.storeSubredditVisitIncognito.value && isPrivateBrowsing()) return;\n\n\tsubredditsLastViewed = await subredditsLastViewedStorage.get();\n\n\tsubredditsLastViewed[subreddit.toLowerCase()] = {\n\t\tlast_visited: Date.now(),\n\t};\n\n\tsubredditsLastViewedStorage.set(subredditsLastViewed);\n}\n\nexport function subscribeToSubreddit(subredditName: string, subscribe?: boolean = true) {\n\t// subredditName should look like t5_123asd\n\treturn ajax({\n\t\tmethod: 'POST',\n\t\turl: '/api/subscribe',\n\t\tdata: {\n\t\t\tsr: subredditName,\n\t\t\taction: subscribe ? 'sub' : 'unsub',\n\t\t},\n\t});\n}\n\nasync function lastUpdate() {\n\tconst mySubredditList = $('.drop-choices.srdrop a').map(function() { return this.textContent; }).toArray().join();\n\tconst mySubredditListCachedObject = await Session.get('RESmodules.subredditManager.mySubredditList') || {};\n\tconst mySubredditListCached = mySubredditListCachedObject[loggedInUser() || 'null']; // last saved subreddit lsit + time for current user\n\tlet _lastUpdate;\n\tif (mySubredditListCached && mySubredditListCached.list === mySubredditList) {\n\t\t_lastUpdate = parseInt((new Date().getTime() - mySubredditListCached.time) / 60000, 10);\n\t\tif (_lastUpdate > 31) {\n\t\t\t_lastUpdate = false; // the user have probably less than 50/100 subscription, this module doesn't concern him\n\t\t\tmySubredditListCached.time = new Date().getTime() - 32 * 60000; // we change time to avoid deleting it just after (to don't show him again the last update)\n\t\t} else {\n\t\t\t_lastUpdate += _lastUpdate > 1 ? ' minutes ago' : ' minute ago';\n\t\t}\n\t} else { // the mySubreddit list is different than the cached version, subreddit have reloaded them. We reset the cache. (Or there is no cached version)\n\t\tmySubredditListCachedObject[loggedInUser() || 'null'] = {\n\t\t\tlist: mySubredditList,\n\t\t\ttime: new Date().getTime(),\n\t\t};\n\t\t_lastUpdate = 'just now';\n\t}\n\tif (_lastUpdate !== false && mySubredditListCached) { // Show only if there is cached version and the user have enough subscription\n\t\t$('.listing-chooser a:first .description').after(`<br /><span class=\"description\"><b>last update:</b><br />${_lastUpdate}</span>`);\n\t}\n\t// we now remove inactive user\n\tconst inactiveThreshold = new Date().getTime() - 2592000000; // one month\n\tfor (const [user, cachedObject] of Object.entries(mySubredditListCachedObject)) {\n\t\tif (cachedObject.time < inactiveThreshold) {\n\t\t\tdelete mySubredditListCachedObject[user];\n\t\t}\n\t}\n\tSession.set('RESmodules.subredditManager.mySubredditList', mySubredditListCachedObject);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tAlert,\n\tThing,\n\taddCSS,\n\thide,\n\tunhide,\n\tCreateElement,\n\tisPageType,\n\tloggedInUser,\n\twatchForThings,\n\twatchForElements,\n\tformatDateDiff,\n\tfromSecondsToTime,\n\tstring,\n} from '../utils';\nimport { _addHeaderId } from '../utils/dom';\nimport { i18n } from '../environment';\nimport { Expando } from './showImages/expando';\nimport Youtube from './hosts/youtube';\nimport * as SubredditManager from './subredditManager';\n\nexport const module: Module<*> = new Module('betteReddit');\n\nmodule.moduleName = 'betteRedditName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'betteRedditDesc';\nmodule.options = {\n\tcommentsLinksNewTabs: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditCommentsLinksNewTabDesc',\n\t\ttitle: 'betteRedditCommentsLinksNewTabTitle',\n\t},\n\tfixHideLinks: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditFixHideLinksDesc',\n\t\ttitle: 'betteRedditFixHideLinksTitle',\n\t},\n\thideLinkInstant: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditHideLinkInstantDesc',\n\t\ttitle: 'betteRedditHideLinkInstantTitle',\n\t\tdependsOn: options => options.fixHideLinks.value,\n\t},\n\thideLinkFadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '5000',\n\t\tdescription: 'betteRedditHideLinkFadeDelayDesc',\n\t\ttitle: 'betteRedditHideLinkFadeDelayTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.fixHideLinks.value && !options.hideLinkInstant.value,\n\t},\n\tvideoTimes: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditVideoTimesDesc',\n\t\ttitle: 'betteRedditVideoTimesTitle',\n\t\tadvanced: true,\n\t},\n\tvideoUploaded: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditVideoUploadedDesc',\n\t\ttitle: 'betteRedditVideoUploadedTitle',\n\t\tadvanced: true,\n\t},\n\tvideoViewed: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditVideoViewedDesc',\n\t\ttitle: 'betteRedditVideoViewedTitle',\n\t\tadvanced: true,\n\t},\n\tpinHeader: {\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'None',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Subreddit Bar only',\n\t\t\tvalue: 'sub',\n\t\t}, {\n\t\t\tname: 'User Bar',\n\t\t\tvalue: 'userbar',\n\t\t}, {\n\t\t\tname: 'Subreddit Bar and User bar',\n\t\t\tvalue: 'subanduser',\n\t\t}, {\n\t\t\tname: 'Full Header',\n\t\t\tvalue: 'header',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'betteRedditPinHeaderDesc',\n\t\ttitle: 'betteRedditPinHeaderTitle',\n\t\tbodyClass: 'pinHeader',\n\t},\n\tshowLastEditedTimestamp: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditShowLastEditedTimestampDesc',\n\t\ttitle: 'betteRedditShowLastEditedTimestampTitle',\n\t\tbodyClass: true,\n\t},\n\tscoreHiddenTimeLeft: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'betteRedditScoreHiddenTimeLeftDesc',\n\t\ttitle: 'betteRedditScoreHiddenTimeLeftTitle',\n\t},\n\tshowTimestampPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampPostsDesc',\n\t\ttitle: 'betteRedditShowTimestampPostsTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampComments: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampCommentsDesc',\n\t\ttitle: 'betteRedditShowTimestampCommentsTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampSidebar: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampSidebarDesc',\n\t\ttitle: 'betteRedditShowTimestampSidebarTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampWiki: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampWikiDesc',\n\t\ttitle: 'betteRedditShowTimestampWikiTitle',\n\t\tbodyClass: true,\n\t},\n\tshowTimestampModerationLog: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowTimestampModerationLogDesc',\n\t\ttitle: 'betteRedditShowTimestampModerationLogTitle',\n\t\tbodyClass: true,\n\t},\n\trestoreSavedTab: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditRestoreSavedTabDesc',\n\t\ttitle: 'betteRedditRestoreSavedTabTitle',\n\t},\n\tdoNoCtrlF: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditDoNoCtrlFDesc',\n\t\ttitle: 'betteRedditDoNoCtrlFTitle',\n\t},\n\tshowHiddenSortOptions: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditShowHiddenSortOptionsDesc',\n\t\ttitle: 'betteRedditShowHiddenSortOptionsTitle',\n\t\tbodyClass: true,\n\t},\n\ttruncateLongLinks: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditTruncateLongLinksDesc',\n\t\ttitle: 'betteRedditTruncateLongLinksTitle',\n\t\tbodyClass: true,\n\t},\n\tcommentCollapseInInbox: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditCommentCollapseInInboxDesc',\n\t\ttitle: 'betteRedditCommentCollapseInInboxTitle',\n\t\tbodyClass: true,\n\t},\n\trestrictScrollEvents: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'betteRedditRestrictScrollEventsDesc',\n\t\ttitle: 'betteRedditRestrictScrollEventsTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.commentsLinksNewTabs.value) {\n\t\twatchForThings(['comment'], comment => {\n\t\t\tconst body = comment.getTextBody();\n\t\t\tif (body) for (const link of body.querySelectorAll('a')) commentsLinksNewTabs((link: any));\n\t\t});\n\t}\n\n\tif (module.options.fixHideLinks.value) {\n\t\twatchForThings(['post'], fixHideLinks);\n\t}\n\n\tif (module.options.doNoCtrlF.value) {\n\t\twatchForElements(['page'], '.side a.reddit-comment-link', applyNoCtrlF);\n\t\twatchForThings(null, thing => {\n\t\t\tfor (const link of thing.entry.querySelectorAll('ul.flat-list.buttons li a')) applyNoCtrlF(link);\n\t\t});\n\t}\n\n\tif (module.options.videoTimes.value || module.options.videoUploaded.value || module.options.videoViewed.value) {\n\t\t// Fetch data immediately, to potentially reduce number of requests\n\t\twatchForThings(['post'], thing => { if (thing.isVisible()) fetchVideoData(thing); }, { immediate: true });\n\t\twatchForThings(['post'], showVideoData);\n\t}\n\n\tswitch (module.options.pinHeader.value) {\n\t\tcase 'userbar':\n\t\t\t_addHeaderId('header-bottom-right', true);\n\t\t\tbreak;\n\t\tcase 'sub':\n\t\t\t_addHeaderId('sr-header-area');\n\t\t\tbreak;\n\t\tcase 'subanduser':\n\t\t\t_addHeaderId('sr-header-area');\n\t\t\t_addHeaderId('header-bottom-right', true);\n\t\t\tbreak;\n\t\tcase 'header':\n\t\t\t_addHeaderId('header');\n\t\t\tbreak;\n\t\tcase 'none':\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\n\tif (module.options.restrictScrollEvents.value) {\n\t\tconst scr = document.createElement('script');\n\t\tscr.innerHTML = `{\n\t\t\t// Prevents overzealous Reddit scroll listeners from constantly mutating the DOM while scrolling\n\t\t\tlet debounce, lastEvent;\n\t\t\twindow.addEventListener('scroll', e => {\n\t\t\t\tif (!debounce)  debounce = _.debounce(e => window.dispatchEvent(e), 300);\n\t\t\t\tif (e === lastEvent) return;\n\t\t\t\tlastEvent = e;\n\t\t\t\tdebounce(e);\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t}, true);\n\t\t}`;\n\t\tdocument.documentElement.append(scr);\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.scoreHiddenTimeLeft.value && isPageType('comments', 'commentsLinklist')) {\n\t\t$('.sitetable').on('mouseenter', '.score-hidden', function() {\n\t\t\tconst timeNode = $(this).siblings('time').get(0);\n\t\t\tif (timeNode) {\n\t\t\t\tif (!this.getAttribute('title').includes('revealed')) {\n\t\t\t\t\tconst scoreHiddenDuration = parseInt(this.getAttribute('title').match(/[0-9]+/)[0], 10);\n\t\t\t\t\tconst postTime = new Date(timeNode.getAttribute('datetime')).getTime();\n\t\t\t\t\tconst minutesLeft = Math.ceil((postTime + scoreHiddenDuration * 60000 - new Date().getTime()) / 60000);\n\t\t\t\t\tif (minutesLeft >= 1) {\n\t\t\t\t\t\tthis.setAttribute('title', `score will be revealed in ${minutesLeft} minute${minutesLeft > 1 ? 's' : ''}`);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.setAttribute('title', 'reload page to reveal score');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tconst user = loggedInUser();\n\tif (module.options.restoreSavedTab.value && user && document.querySelector('.with-listing-chooser:not(.profile-page)')) {\n\t\trestoreSavedTab(user);\n\t}\n\n\tswitch (module.options.pinHeader.value) {\n\t\tcase 'header':\n\t\t\tpinHeader();\n\t\t\tbreak;\n\t\tcase 'sub':\n\t\t\tpinSubredditBar();\n\t\t\tbreak;\n\t\tcase 'subanduser':\n\t\t\tpinSubredditBar();\n\t\t\tpinUserBar();\n\t\t\tbreak;\n\t\tcase 'userbar':\n\t\t\tpinUserBar();\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n};\n\nfunction commentsLinksNewTabs(link) {\n\tlink.target = '_blank';\n\tlink.rel = 'noopener noreferer';\n}\n\nfunction fixHideLinks(thing) {\n\tconst orig = thing.getHideElement();\n\tif (!orig) return;\n\n\tconst a = document.createElement('a');\n\ta.className = 'noCtrlF';\n\ta.href = 'javascript:void 0'; // eslint-disable-line no-script-url\n\ta.dataset.eventAction = orig.dataset.eventAction;\n\ta.dataset.text = i18n(\n\t\torig.dataset.eventAction === 'hide' ?\n\t\t\t'betteRedditHideLinkLabel' :\n\t\t\t'betteRedditUnhideLinkLabel'\n\t);\n\ta.addEventListener('click', () => hideLink(a));\n\n\torig.replaceWith(a);\n}\n\nconst hideTimer = new Map();\n\nasync function hideLink(clickedLink, action = clickedLink.dataset.eventAction) {\n\tconst timeout = module.options.hideLinkInstant.value ?\n\t\tnull :\n\t\tparseInt(module.options.hideLinkFadeDelay.value, 10);\n\n\tconst thing = Thing.checkedFrom(clickedLink);\n\n\tif (action === 'hide') {\n\t\t// Native expandos does not know that the post is being hidden, so collapse them manually\n\t\tconst expando = Expando.getEntryExpandoFrom(thing);\n\t\tif (expando && expando.types.includes('native')) expando.collapse();\n\n\t\tif (timeout === null) {\n\t\t\tif (!isPageType('comments')) $(thing.element).hide();\n\t\t} else {\n\t\t\thideTimer.set(clickedLink, setTimeout(() => {\n\t\t\t\tif (clickedLink.dataset.eventAction === action) return; // It may have been unhidden\n\t\t\t\t$(thing.element).fadeOut(300);\n\t\t\t}, timeout));\n\t\t}\n\t}\n\n\ttry {\n\t\tif (action === 'hide') await hide(thing);\n\t\telse await unhide(thing);\n\t} catch (e) {\n\t\tAlert.open(i18n(action === 'hide' ? 'betteRedditHideSubmissionError' : 'betteRedditUnhideSubmissionError'));\n\t\t$(thing.element).show();\n\t\tthrow e;\n\t}\n}\n\nconst fetchVideoData = _.memoize(thing => {\n\tconst url = new URL(thing.getPostUrl(), location.origin);\n\tif (!Youtube.domains.some(domain => url.hostname.endsWith(domain))) return;\n\tconst [id] = Youtube.detect(url) || [];\n\tif (id) return Youtube.getVideoData && Youtube.getVideoData(id);\n});\n\nasync function showVideoData(thing) {\n\tconst data = await fetchVideoData(thing);\n\tif (!data) return;\n\n\tconst { title, duration, publishedAt, viewCount } = data;\n\n\tconst link = thing.getPostLink();\n\tconst info = [];\n\n\tif (module.options.videoUploaded.value) {\n\t\tconst uploaded = new Date(publishedAt); // 2016-01-27T05:49:48.000Z\n\t\tconst dt = `${uploaded.toDateString()} ${uploaded.toTimeString()}`;\n\t\tconst timeAgo = i18n('submitHelperTimeAgo', formatDateDiff(uploaded));\n\t\tinfo.push(`[<time title=\"${dt}\" datetime=\"${publishedAt}\" class=\"live-timestamp\">${timeAgo}</time>]`);\n\t}\n\n\tif (module.options.videoViewed.value && viewCount) {\n\t\tinfo.push(i18n('betteRedditVideoViewed', viewCount));\n\t}\n\n\tconst titleHasTimeRegex = /[\\[|\\(][0-9]*:[0-9]*[\\]|\\)]/;\n\tconst getYoutubeStartTimeRegex = /\\/?[&|\\?]?(?:t|time_continue)=([\\w\\-][a-z0-9]*)/i;\n\tconst timeMatch = getYoutubeStartTimeRegex.exec(link.href);\n\tconst titleMatch = titleHasTimeRegex.test(link.textContent);\n\n\tlet startTime;\n\tif (timeMatch && !titleMatch) {\n\t\tconst seconds = fromYoutubeTimecodeToSeconds(timeMatch[1]);\n\t\tstartTime = fromSecondsToTime(seconds);\n\t}\n\n\tif (info.length) {\n\t\tlink.appendChild(string.html`<span class=\"gray pay-link\">${string.safe(info.join(' '))}</span>`);\n\t}\n\tlink.setAttribute('title', i18n('betteRedditVideoYouTubeTitle', title));\n\n\tif (module.options.videoTimes.value) {\n\t\t// Add native Reddit duration overlay on video thumbnail\n\t\tconst thumbnail = thing.element.querySelector('a.thumbnail');\n\t\tif (thumbnail) {\n\t\t\tthumbnail.appendChild(string.html`<div class=\"duration-overlay\">${duration}${startTime ? ` (@${startTime})` : ''}</div>`);\n\t\t}\n\t}\n}\n\nfunction fromYoutubeTimecodeToSeconds(tc: string) {\n\tlet timeSeconds = Number(tc);\n\tif (Number.isNaN(timeSeconds)) {\n\t\tconst tcobj = (tc.split(/(\\d+[hms])/)\n\t\t\t.filter(Boolean)\n\t\t\t.reduce((acc, match) => {\n\t\t\t\tacc[match.slice(-1)] = Number(match.slice(0, -1));\n\t\t\t\treturn acc;\n\t\t\t}, {}));\n\t\ttimeSeconds = (tcobj.h || 0) * 3600 + (tcobj.m || 0) * 60 + (tcobj.s || 0);\n\t}\n\treturn timeSeconds;\n}\n\nfunction pinSubredditBar() {\n\t// Make the subreddit bar at the top of the page a fixed element\n\t// The subreddit manager code changes the document's structure\n\tconst sm = Modules.isRunning(SubredditManager);\n\n\tconst sb = document.getElementById('sr-header-area');\n\tif (!sb) {\n\t\treturn; // reddit is under heavy load\n\t}\n\tconst header = document.getElementById('header');\n\n\t// add a dummy <div> inside the header to replace the subreddit bar (for spacing)\n\tconst spacer = document.createElement('div');\n\t// null parameter is necessary for FF3.6 compatibility.\n\tspacer.style.paddingTop = window.getComputedStyle(sb, null).paddingTop;\n\tspacer.style.paddingBottom = window.getComputedStyle(sb, null).paddingBottom;\n\n\t// HACK: for some reason, if the SM is enabled, the SB gets squeezed horizontally,\n\t//       and takes up three rows of vertical space (even at low horizontal resolution).\n\tif (sm) {\n\t\tspacer.style.height = `${parseInt(window.getComputedStyle(sb, null).height, 10) / 3 - 3}px`;\n\t} else {\n\t\tspacer.style.height = window.getComputedStyle(sb, null).height;\n\t}\n\n\t// add the spacer; take the subreddit bar out of the header and put it above\n\theader.insertBefore(spacer, sb);\n\tdocument.body.insertBefore(sb, header);\n\n\t// make it fixed\n\taddCSS(`\n\t\t#header-bottom-left {\n\t\t\tmargin-top: 19px;\n\t\t}\n\n\t\tdiv#sr-header-area {\n\t\t\tposition: fixed;\n\t\t\tz-index: 10000 !important;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t}\n\t`);\n\tpinCommonElements(sm);\n}\n\nfunction pinUserBar() {\n\tconst header = document.getElementById('header-bottom-left');\n\tconst userbar = document.getElementById('header-bottom-right');\n\n\twindow.addEventListener('scroll', _.debounce(() => {\n\t\tif (header.getBoundingClientRect().top > 0) {\n\t\t\tuserbar.classList.remove('res-floating-userbar');\n\t\t} else {\n\t\t\tuserbar.classList.add('res-floating-userbar');\n\t\t}\n\t}, 300));\n\n\tpinCommonElements();\n}\n\n/*\n * Modify the header so that its position is fixed to the top.\n */\nfunction pinHeader() {\n\tconst sm = Modules.isRunning(SubredditManager);\n\n\tconst header = document.getElementById('header');\n\n\tif (!header) {\n\t\tconsole.error('No element found with ID \"header\".');\n\t\treturn;\n\t}\n\n\tconst headerHeight = $('#header').outerHeight(true);\n\n\t// Add fixed positioning to all relevant elements.\n\taddCSS(`\n\t\t#header,\n\t\t#RESAccountSwitcherDropdown {\n\t\t\tposition: fixed;\n\t\t}\n\t`);\n\tpinCommonElements(sm);\n\n\t// Ensure the header remains in its original position at the top of the page.\n\t// We can't change the z-index because themes often rely on it being a certain value.\n\taddCSS(`\n\t\t#header {\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: auto;\n\t\t}\n\t`);\n\n\t// Spacer height should be equal to header (including padding, margins, etc).\n\t$('<div>', {\n\t\tid: 'RESPinnedHeaderSpacer',\n\t\theight: headerHeight,\n\t}).insertBefore(header);\n}\n\nfunction pinCommonElements(sm) {\n\t// pin the elements common to both pinHeader() and pinSubredditBar()\n\tif (sm) {\n\t\t// RES's subreddit menu\n\t\taddCSS(`\n\t\t\t#RESSubredditGroupDropdown,\n\t\t\t#srList,\n\t\t\t#RESShortcutsAddFormContainer,\n\t\t\t#editShortcutDialog {\n\t\t\t\tposition: fixed !important;\n\t\t\t}\n\t\t`);\n\t} else {\n\t\taddCSS(`\n\t\t\t#sr-more-link {\n\t\t\t\tposition: fixed;\n\t\t\t}\n\t\t`);\n\t}\n}\n\nfunction restoreSavedTab(user) {\n\tCreateElement.tabMenuItem({\n\t\ttext: 'saved',\n\t\tonChange: () => { location.href = `/user/${user}/saved/`; },\n\t});\n}\n\nfunction applyNoCtrlF(element) {\n\tif (element.classList.contains('noCtrlF')) return;\n\n\telement.classList.add('noCtrlF');\n\telement.dataset.text = element.textContent;\n\telement.textContent = '';\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { execRegexes, regexes, Thing } from '../utils';\n\nexport const module: Module<*> = new Module('commentDepth');\n\nmodule.moduleName = 'commentDepthName';\nmodule.category = 'commentsCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'commentDepthDesc';\n\nmodule.options = {\n\tdefaultCommentDepth: {\n\t\ttype: 'text',\n\t\tvalue: '4',\n\t\tdescription: 'commentDepthDefaultCommentDepthDesc',\n\t\ttitle: 'commentDepthDefaultCommentDepthTitle',\n\t},\n\tdefaultMinimumComments: {\n\t\ttype: 'text',\n\t\tvalue: '50',\n\t\tdescription: 'commentDepthDefaultMinimumCommentsDesc',\n\t\ttitle: 'commentDepthDefaultMinimumCommentsTitle',\n\t},\n\tcommentPermalinks: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentDepthCommentPermaLinksDesc',\n\t\ttitle: 'commentDepthCommentPermaLinksTitle',\n\t},\n\tcommentPermalinksContext: {\n\t\tdependsOn: options => options.commentPermalinks.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentDepthCommentPermalinksContextDesc',\n\t\ttitle: 'commentDepthCommentPermalinksContextTitle',\n\t},\n\tsubredditCommentDepths: {\n\t\ttype: 'table',\n\t\taddRowText: 'commentDepthAddSubreddit',\n\t\tfields: [{\n\t\t\tkey: 'subreddits',\n\t\t\tname: 'commentDepthSubreddit',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'commentDepth',\n\t\t\tname: 'commentDepthCommentDepth',\n\t\t\ttype: 'text',\n\t\t\tvalue: '4',\n\t\t}, {\n\t\t\tkey: 'minimumComments',\n\t\t\tname: 'commentDepthMinimumComments',\n\t\t\ttype: 'text',\n\t\t\tvalue: '50',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, string]>),\n\t\tdescription: 'commentDepthSubredditCommentDepthsDesc',\n\t\ttitle: 'commentDepthSubredditCommentDepthsTitle',\n\t},\n};\n\nmodule.contentStart = () => {\n\t$(document.body).on('mousedown', 'a[href*=\"/comments\"]', (e: Event) => {\n\t\tconst target: HTMLAnchorElement = (e.target: any);\n\t\tconst url = new URL(target.href, location.href);\n\n\t\t// no need to proceed if depth already exists in the query string\n\t\tif (url.searchParams.has('depth')) return;\n\n\t\tif (regexes.commentPermalink.test(url.pathname)) {\n\t\t\tif (!module.options.commentPermalinks.value) return;\n\t\t\tif (!module.options.commentPermalinksContext.value && url.searchParams.has('context')) return;\n\t\t}\n\n\t\tconst matches = execRegexes.comments(url.pathname);\n\t\tif (!matches) return;\n\n\t\tconst subreddit = matches[1].toLowerCase();\n\n\t\t// check for subreddit specific values\n\t\tconst [, commentDepth, minimumComments] = (\n\t\t\tmodule.options.subredditCommentDepths.value.find(([subreddits]) => subreddits.toLowerCase().split(',').includes(subreddit)) ||\n\t\t\t[null, module.options.defaultCommentDepth.value, module.options.defaultMinimumComments.value]\n\t\t);\n\n\t\t// NaN or 0 (show everything)\n\t\tif (!parseInt(commentDepth, 10)) return;\n\n\t\tconst minimumCount = parseInt(minimumComments, 10);\n\t\tif (minimumCount) {\n\t\t\tconst thing = Thing.from(e.target);\n\t\t\tif (thing && thing.isPost() && (thing.getCommentCount() || 0) < minimumCount) return;\n\t\t}\n\n\t\turl.searchParams.set('depth', commentDepth);\n\t\ttarget.removeAttribute('data-inbound-url');\n\t\ttarget.href = url.href;\n\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { Storage } from '../environment';\nimport { execRegexes, maybePruneOldEntries, watchForThings, Thing } from '../utils';\n\nexport const module: Module<*> = new Module('commentHidePersistor');\n\nmodule.moduleName = 'commentHidePerName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentHidePerDesc';\n\nmodule.include = [\n\t'comments',\n\t'inbox',\n];\n\nconst COLLAPSE_REASON = 'commentHidePersistor';\nconst currentId: string = (execRegexes.comments(location.pathname) || [])[2];\nconst entryStorage = Storage.wrapPrefix('commentHidePersistor.', (): {\n\tupdateTime: number,\n\tcollapsedThings?: { [fullName: string]: boolean },\n} => ({\n\tupdateTime: Date.now(),\n}));\nconst initial = currentId && entryStorage.get(currentId);\n\nmodule.beforeLoad = async () => {\n\tconst { collapsedThings } = await initial || {};\n\tif (!collapsedThings) return;\n\n\twatchForThings(['comment'], thing => {\n\t\tif (collapsedThings.hasOwnProperty(thing.getFullname())) thing.setCommentCollapse(true, COLLAPSE_REASON);\n\t}, { immediate: true });\n};\n\nmodule.contentStart = () => {\n\tlistenToCommentCollapse();\n\n\tmaybePruneOldEntries('commentHidePersistor', entryStorage);\n};\n\nfunction listenToCommentCollapse() {\n\t$(document.body).on('click', 'a.expand', (e: MouseEvent) => {\n\t\tconst thing = Thing.checkedFrom(e.target);\n\t\tconst collapsed = thing.isCollapsed();\n\n\t\tif (collapsed) {\n\t\t\t// Ignore if some automatic function (e.g. filters) caused this to collapse\n\t\t\tconst currentCollapseReason = e.target.getAttribute('collapse-reason');\n\t\t\tif (currentCollapseReason && currentCollapseReason !== COLLAPSE_REASON) return;\n\n\t\t\tentryStorage.patch(currentId, { collapsedThings: { [thing.getFullname()]: true }, updateTime: Date.now() });\n\t\t} else {\n\t\t\te.target.removeAttribute('collapse-reason');\n\t\t\tentryStorage.deletePath(currentId, 'collapsedThings', thing.getFullname());\n\t\t}\n\t});\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown, markdownWiki } from 'snudown-js';\nimport { Module } from '../core/module';\nimport type { RedditStylesheet } from '../types/reddit';\nimport { ajax } from '../environment';\nimport * as Modules from '../core/modules';\nimport {\n\tNAMED_KEYS,\n\tcheckKeysForEvent,\n\tcurrentSubreddit,\n\tdowncast,\n\tisPageType,\n\tpreventCloning,\n\tstring,\n\tempty,\n} from '../utils';\nimport * as CommentTools from './commentTools';\nimport * as KeyboardNav from './keyboardNav';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('commentPreview');\n\nmodule.moduleName = 'commentPrevName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentPrevDesc';\nmodule.options = {\n\tenableBigEditor: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableBigEditorDesc',\n\t\ttitle: 'commentPreviewEnableBigEditorTitle',\n\t},\n\tswapBigEditorLayout: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentPreviewSwapBigEditorLayoutDesc',\n\t\ttitle: 'commentPreviewSwapBigEditorLayoutTitle',\n\t\tbodyClass: true,\n\t},\n\topenBigEditor: {\n\t\ttype: 'keycode',\n\t\tvalue: [69, false, true, false, false], // control-e\n\t\tdescription: 'commentPreviewOpenBigEditorDesc',\n\t\ttitle: 'commentPreviewOpenBigEditorTitle',\n\t},\n\tdraftStyle: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewDraftStyleDesc',\n\t\ttitle: 'commentPreviewDraftStyleTitle',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tenableForComments: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForCommentsDesc',\n\t\ttitle: 'commentPreviewEnableForCommentsTitle',\n\t\tadvanced: true,\n\t},\n\tenableForPosts: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForPostsDesc',\n\t\ttitle: 'commentPreviewEnableForPostsTitle',\n\t\tadvanced: true,\n\t},\n\tenableForWiki: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForWikiDesc',\n\t\ttitle: 'commentPreviewEnableForWikiTitle',\n\t\tadvanced: true,\n\t},\n\tenableForSubredditConfig: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForSubredditConfigDesc',\n\t\ttitle: 'commentPreviewEnableForSubredditConfigTitle',\n\t\tadvanced: true,\n\t},\n\tenableForBanMessages: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewEnableForBanMessagesDesc',\n\t\ttitle: 'commentPreviewEnableForBanMessagesTitle',\n\t\tadvanced: true,\n\t},\n\tsidebarPreview: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentPreviewSidebarPreviewDesc',\n\t\ttitle: 'commentPreviewSidebarPreviewTitle',\n\t\tadvanced: true,\n\t},\n};\nmodule.include = [\n\t'comments',\n\t'inbox',\n\t'submit',\n\t'profile',\n\t'modqueue',\n\t'subredditAbout',\n\t'wiki',\n];\nmodule.exclude = [\n\t'd2x',\n\t/^\\/(?:r\\/[\\-\\w\\.]+\\/)?wiki\\/edit\\/config\\/automoderator\\b/i,\n];\n\nconst subredditImages = new Map();\nlet isWiki, isBan;\n\nmodule.beforeLoad = () => {\n\tisWiki = isPageType('wiki');\n\tisBan = (/^https?:\\/\\/(?:[\\-\\w\\.]+\\.)?reddit\\.com\\/r\\/[\\-\\w\\.]+\\/about\\/banned/i).test(location.href);\n\n\tconst subreddit = currentSubreddit();\n\tif (isWiki && subreddit) initWikiImages(subreddit);\n};\n\nmodule.contentStart = () => {\n\tif (module.options.enableBigEditor.value) {\n\t\t$(document.body).on('click', '.RESBigEditorPop', showBigEditor);\n\n\t\tif (Modules.isRunning(KeyboardNav)) {\n\t\t\t$(document.body).on('keydown', '.usertext-edit textarea, #wiki_page_content', (e: KeyboardEvent) => {\n\t\t\t\tif (checkKeysForEvent(e, module.options.openBigEditor.value)) {\n\t\t\t\t\tshowBigEditor(e);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tif (isWiki) {\n\t\tattachWikiPreview();\n\t\taddBigEditorButton(document.querySelector('.markhelp'));\n\t} else {\n\t\t$(document.body).on('focus', CommentTools.commentTextareaSelector, e => {\n\t\t\taddBigEditorButton(e.target);\n\t\t\tattachPreview(e.target);\n\t\t});\n\t}\n};\n\nasync function initWikiImages(subreddit) {\n\tconst { data } = (await ajax({\n\t\turl: `/r/${subreddit}/about/stylesheet.json`,\n\t\ttype: 'json',\n\t}): RedditStylesheet);\n\n\tif (data && data.images) {\n\t\tfor (const { name, url } of data.images) {\n\t\t\tsubredditImages.set(name, url);\n\t\t}\n\t}\n}\n\nfunction markdownToHTML(md) {\n\tif (isBan && md.length) {\n\t\tmd = generateBanMessage(md, currentSubreddit() || '');\n\t}\n\n\tif (!isWiki) {\n\t\treturn markdown(md);\n\t} else {\n\t\t/*\n\t\t<s>Snudown, and therefore SnuOwnd, is a bit funny about how it generates its table of contents entries.\n\t\tTo when it encounters a header it tries to perform some of the usual inline formatting such as emphasis, strikethoughs, or superscript in headers. The text containing generated HTML then gets passed into cb_toc_header which escapes all of the passed HTML. When reddit gets it escaped tags are stripped.\n\n\t\tIt would be nicer if they just used different functions for rendering the emphasis when making headers.</s>\n\n\t\tIt seems that my understanding was wrong, for some reason reddit doesn't even use snudown's TOC renderer.\n\t\t*/\n\n\t\t// SnuOwnd created this HTML from markdown so it is safe.\n\t\tconst $doc = $('<body>').html(markdownWiki(md));\n\n\t\tfor (const img: HTMLImageElement of ($doc.find('img'): any)) {\n\t\t\tconst src = img.getAttribute('src');\n\t\t\tconst imgKey = src && src.startsWith('%%') && src.endsWith('%%') && src.slice('%%'.length, -'%%'.length);\n\t\t\tconst resolvedSrc = imgKey && subredditImages.get(imgKey);\n\n\t\t\tif (resolvedSrc) {\n\t\t\t\t// convert %%subredditImages%% to their resolved URLs\n\t\t\t\timg.src = resolvedSrc;\n\t\t\t} else {\n\t\t\t\t// remove external/unresolved images\n\t\t\t\timg.remove();\n\t\t\t}\n\t\t}\n\n\t\tconst headerIds = new Map();\n\t\tconst headers = $doc.find('h1, h2, h3, h4, h5, h6');\n\t\tconst tocDiv = $('<div>').addClass('toc');\n\t\tlet $parent = $('<ul>');\n\t\t$parent.data('level', 1);\n\t\ttocDiv.append($parent);\n\t\tlet level = 1;\n\t\tlet previous = 1;\n\t\tconst prefix = 'wiki';\n\t\theaders.each(function() {\n\t\t\tconst contents = $(this).text();\n\t\t\tlet aid = $('<div>').html(contents).text();\n\t\t\taid = `${prefix}_${aid.replace(/ /g, '_').toLowerCase()}`;\n\t\t\taid = aid.replace(/[^\\w\\.\\-]/g, s => `.${s.charCodeAt(0).toString(16).toUpperCase()}`);\n\t\t\tconst idNum = (headerIds.get(aid) || 0) + 1;\n\t\t\theaderIds.set(aid, idNum);\n\n\t\t\tif (idNum > 1) {\n\t\t\t\taid += idNum;\n\t\t\t}\n\n\t\t\t$(this).attr('id', aid);\n\n\t\t\tconst li = $('<li>').addClass(aid);\n\t\t\tconst a = $('<a>').attr('href', `#${aid}`).text(contents);\n\t\t\tli.append(a);\n\n\t\t\tconst thisLevel = +this.tagName.slice(-1);\n\t\t\tif (thisLevel > previous) {\n\t\t\t\tconst $newUL = $('<ul>');\n\t\t\t\t$newUL.data('level', thisLevel);\n\t\t\t\t$parent.append($newUL);\n\t\t\t\t$parent = $newUL;\n\t\t\t\tlevel++;\n\t\t\t} else if (thisLevel < previous) {\n\t\t\t\twhile (level > 1 && $parent.data('level') > thisLevel) {\n\t\t\t\t\t$parent = $parent.parent();\n\t\t\t\t\tlevel--;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevious = thisLevel;\n\t\t\t$parent.append(li);\n\t\t});\n\t\t$doc.prepend(tocDiv);\n\t\treturn $doc.html();\n\t}\n}\n\nconst addBigEditorButton = _.memoize(ele => {\n\tif (!module.options.enableBigEditor.value) return;\n\n\tconst bigEditorButton = preventCloning(string.html`\n\t\t<button type=\"button\" class=\"RESBigEditorPop\" tabIndex=\"3\">\n\t\t\t<span class=\"res-icon res-icon-12\">&#xF0A4;</span> big editor\n\t\t</button>\n\t`);\n\n\tif (isBan || isWiki) {\n\t\tele.after(bigEditorButton);\n\t} else {\n\t\tconst container = ele.closest('.usertext-edit');\n\t\tif (!container) return;\n\t\tconst bottom = container.querySelector('.bottom-area');\n\t\tbottom.prepend(bigEditorButton);\n\t}\n});\n\nconst attachPreview = _.memoize(textarea => {\n\tif (\n\t\t!module.options.enableForComments.value && textarea.closest('.commentarea, .message') ||\n\t\t!module.options.enableForPosts.value && (isPageType('submit') || textarea.closest('.link')) ||\n\t\t!module.options.enableForSubredditConfig.value && (/^\\/r\\/[\\-\\w.]+\\/about\\/edit/i).test(location.pathname) ||\n\t\t!module.options.enableForBanMessages.value && isBan\n\t) {\n\t\treturn;\n\t}\n\n\tconst container = textarea.closest('.usertext-edit, #banned');\n\tif (!container) return;\n\n\tconst preview = preventCloning(makePreviewBox());\n\n\tconst elements = [preview.querySelector('.RESDialogContents')];\n\tif (module.options.sidebarPreview.value && textarea.getAttribute('name') === 'description') {\n\t\telements.push(document.querySelector('.side .usertext-body .md'));\n\t}\n\n\t$(textarea).on('input', _.debounce(() => onTextareaInput(textarea, preview, elements), 100));\n\n\t// trigger initial render in case the textarea already has text in it\n\t// e.g. if it was copied from the top-level textarea into a comment reply\n\tonTextareaInput(textarea, preview, elements);\n\n\t// Close on submit\n\t$(textarea.closest('form')).on('submit', () => {\n\t\tpreview.remove();\n\t});\n\n\tcontainer.append(preview);\n});\n\nfunction attachWikiPreview() {\n\tif (!module.options.enableForWiki.value) return;\n\n\tconst preview = makePreviewBox();\n\tpreview.querySelector('.md').classList.add('wiki');\n\tdocument.querySelector('#editform > br').after(preview);\n\tconst contents = preview.querySelector('.RESDialogContents');\n\n\t$('#wiki_page_content').on('input focus', _.debounce(e => onTextareaInput(e.target, preview, [contents]), 100));\n}\n\nfunction onTextareaInput(textarea, preview, elements) {\n\tconst markdownText = downcast(textarea, HTMLTextAreaElement).value;\n\n\tif (markdownText.length) {\n\t\tif (preview) preview.hidden = false;\n\t\t// SnuOwnd created this HTML from markdown so it is safe.\n\t\tfor (const ele of elements) ele.innerHTML = markdownToHTML(markdownText);\n\t} else {\n\t\tif (preview) preview.hidden = true;\n\t\tfor (const ele of elements) empty(ele);\n\t}\n}\n\nfunction makePreviewBox() {\n\treturn string.html`\n\t\t<div class=\"RESDialogSmall livePreview\">\n\t\t\t<h3>Live Preview</h3>\n\t\t\t${string.safe(SettingsNavigation.makeUrlHashLink(module.moduleID, undefined, ' ', 'gearIcon'))}\n\t\t\t<div class=\"md RESDialogContents\"></div>\n\t\t</div>\n\t`;\n}\n\nconst createBigEditor = _.once(() => {\n\tconst $editor = $('<div id=\"BigEditor\">');\n\tconst $left = $('<div class=\"BELeft RESDialogSmall\"><h3>Editor</h3></div>');\n\tconst $contents = $('<div class=\"RESDialogContents\"><textarea id=\"BigText\" name=\"text\" class=\"\"></textarea></div>');\n\tconst $textarea = $contents.find('textarea');\n\tconst $foot = $('<div class=\"BEFoot\">');\n\tif (!isBan) {\n\t\t$foot.append($('<button type=\"button\">save</button>').on('click', () => {\n\t\t\tconst len = $textarea.val().length;\n\t\t\tconst max = $textarea.data('max-length');\n\t\t\tif (len > max) {\n\t\t\t\t$('#BigEditor .errorList .error').hide().filter('.TOO_LONG').text(`this is too long (max: ${max})`).show();\n\t\t\t} else if (len === 0) {\n\t\t\t\t$('#BigEditor .errorList .error').hide().filter('.NO_TEXT').show();\n\t\t\t} else {\n\t\t\t\thideBigEditor(true);\n\t\t\t}\n\t\t}));\n\t}\n\t$foot.append($('<button type=\"button\">close</button>').on('click', () => hideBigEditor()));\n\n\t$foot.append($(`\n\t\t<span class=\"errorList\">\n\t\t\t<span style=\"display: none;\" class=\"error NO_TEXT\">we need something here</span>\n\t\t\t<span style=\"display: none;\" class=\"error TOO_LONG\">this is too long (max: 10000)</span>\n\t\t</span>\n\t`));\n\n\t$contents.append($foot);\n\t$left.append($contents);\n\n\tconst $right = $(`\n\t\t<div class=\"BERight RESDialogSmall\"><h3>Preview</h3><div class=\"RESCloseButton RESCloseButtonTopRight\"></div>\n\t\t<div class=\"RESDialogContents\"><div id=\"BigPreview\" class=\" md\"></div></div></div>\n\t`);\n\t$editor.append($left).append($right);\n\n\t$right.find('.RESCloseButton').on('click', () => hideBigEditor());\n\n\tconst $preview = $right.find('#BigPreview');\n\t$textarea.on('input', _.debounce(() => onTextareaInput($textarea.get(0), null, [$preview.get(0)]), 100));\n\n\t$editor.on('keydown', (e: KeyboardEvent) => {\n\t\t// Close big editor on escape\n\t\tif (e.key === NAMED_KEYS.Escape) {\n\t\t\thideBigEditor();\n\t\t\te.preventDefault();\n\t\t\treturn false;\n\t\t}\n\t});\n\n\treturn $editor;\n});\n\nlet $bigTextTarget;\n\nfunction showBigEditor(e: Event) {\n\te.preventDefault();\n\tconst $editor = createBigEditor();\n\t$(document.body)\n\t\t.append($editor)\n\t\t.addClass('RESScrollLock');\n\tconst $textarea = $editor.find('textarea');\n\tlet $baseText;\n\tif (!isWiki && !isBan) {\n\t\t$baseText = $(e.target).parents('.usertext-edit:first').find('textarea');\n\n\t\tconst limit = $baseText.attr('data-limit');\n\t\t$textarea.attr('data-limit', limit);\n\t\t$('#BigPreview').removeClass('wiki');\n\t\t$('.BERight .RESDialogContents').removeClass('wiki-page-content');\n\t} else if (isBan) {\n\t\t$baseText = $('#ban_message');\n\n\t\tconst limit = $baseText.attr('data-limit');\n\t\t$textarea.attr('data-limit', limit);\n\t\t$('#BigPreview').removeClass('wiki');\n\t\t$('.BERight .RESDialogContents').removeClass('wiki-page-content');\n\t} else {\n\t\t$baseText = $('#wiki_page_content');\n\t\t$('#BigPreview').addClass('wiki');\n\t\t$('.BERight .RESDialogContents').addClass('wiki-page-content');\n\t}\n\n\tconst markdown = $baseText.val();\n\tconst maxLength = $baseText.data('max-length');\n\t$textarea.data('max-length', maxLength).val(markdown).focus();\n\t$bigTextTarget = $baseText;\n\t$textarea.get(0).dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n}\n\nfunction hideBigEditor(save: boolean = false) {\n\tif (!$bigTextTarget) throw new Error();\n\n\tconst $editor = createBigEditor();\n\tconst $textarea = $editor.find('textarea');\n\n\t$bigTextTarget.val($textarea.val());\n\t$bigTextTarget.get(0).dispatchEvent(new Event('input', { bubbles: true, cancelable: true }));\n\n\tif (save) {\n\t\t$bigTextTarget.closest('form').find('input[type=submit], button[type=submit]').click();\n\t} else {\n\t\t$bigTextTarget.focus();\n\t}\n\n\t// Use native remove method to prevent JQuery discarding event listeners\n\t$editor.get(0).remove();\n\t$(document.body).removeClass('RESScrollLock');\n\n\t$bigTextTarget = null;\n}\n\nfunction generateBanMessage(message, subreddit) {\n\treturn [\n\t\t`you have been banned from posting to [/r/${subreddit}](/r/${subreddit}).`,\n\t\t'',\n\t\t'note from the moderators:',\n\t\t'',\n\t\tmessage.replace(/^/gm, '> '),\n\t\t'',\n\t\t'you can contact the moderators regarding your ban by replying to this message. **warning**: using other accounts to circumvent a subreddit ban is considered a violation of reddit\\'s [site rules](/rules) and can result in being banned from reddit entirely.',\n\t].join('\\r\\n');\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tclick,\n\tThing,\n\tSelectedThing,\n\taddCSS,\n} from '../utils';\n\nexport const module: Module<*> = new Module('commentQuickCollapse');\n\nmodule.moduleName = 'commentQuickCollapseName';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentQuickCollapseDesc';\n\nmodule.options = {\n\thideCommentsOnHeaderDoubleClick: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'hideCommentsOnHeaderDoubleClickDesc',\n\t\ttitle: 'hideCommentsOnHeaderDoubleClickTitle',\n\t},\n\ttoggleCommentsOnClickLeftEdge: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdescription: 'toggleCommentsOnClickLeftEdgeDesc',\n\t\ttitle: 'toggleCommentsOnClickLeftEdgeTitle',\n\t},\n\tleftEdgeColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#D1D1D1',\n\t\tdescription: 'toggleCommentsLeftEdgeColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeColorTitle',\n\t},\n\tleftEdgeHoverColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#B1B1B1',\n\t\tdescription: 'toggleCommentsLeftEdgeHoverColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeHoverColorTitle',\n\t},\n\tleftEdgeCollapsedColor: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'color',\n\t\tvalue: '#B1B1B1',\n\t\tdescription: 'toggleCommentsLeftEdgeCollapsedColorDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeCollapsedColorTitle',\n\t},\n\tleftEdgeWidth: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'text',\n\t\tvalue: '50',\n\t\tdescription: 'toggleCommentsLeftEdgeWidthDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeWidthTitle',\n\t},\n\thideCollapseButton: {\n\t\tdependsOn: options => options.toggleCommentsOnClickLeftEdge.value,\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdescription: 'toggleCommentsLeftEdgeHideButtonDesc',\n\t\ttitle: 'toggleCommentsLeftEdgeHideButtonTitle',\n\t},\n\tscrollOnCollapse: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'scrollOnCollapseDesc',\n\t\ttitle: 'scrollOnCollapseTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.toggleCommentsOnClickLeftEdge.value) {\n\t\ttoggleCommentsOnClickLeftEdge();\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.hideCommentsOnHeaderDoubleClick.value) {\n\t\thideCommentsOnHeaderDoubleClick();\n\t}\n\tif (module.options.scrollOnCollapse.value) {\n\t\tscrollOnCollapse();\n\t}\n};\n\nfunction hideCommentsOnHeaderDoubleClick() {\n\t$('.commentarea').on('dblclick', '.tagline', (e: Event) => {\n\t\tconst thing = Thing.checkedFrom(e.target);\n\t\tthing.setCommentCollapse(!thing.isCollapsed(), 'commentQuickCollapse');\n\n\t\t// since the browser will select the whole comment exchange\n\t\t// on a double click, we manually deselect it\n\t\tif (window.getSelection()) {\n\t\t\twindow.getSelection().removeAllRanges();\n\t\t}\n\t});\n}\n\nfunction toggleCommentsOnClickLeftEdge() {\n\tconst leftEdgeWidth = _.clamp(parseInt(module.options.leftEdgeWidth.value, 10), 0, parseInt((module.options.leftEdgeWidth: any).default, 10)) / 100;\n\n\taddCSS(`\n\t\t.commentarea .comment {\n\t\t\tpadding-left: ${2.5 * leftEdgeWidth}em !important;\n\t\t}\n\n\t\t.commentarea .comment > .entry > .tagline > .expand:hover {\n\t\t\tbackground-color: ${module.options.leftEdgeHoverColor.value};\n\t\t}\n\n\t\t.commentarea .entry > .tagline > .expand {\n\t\t\twidth: ${2 * leftEdgeWidth}em !important;\n\t\t\tbackground-color: ${module.options.leftEdgeColor.value};\n\t\t}\n\n\t\t.commentarea .collapsed > .entry > .tagline > .expand {\n\t\t\tbackground-color: ${module.options.leftEdgeCollapsedColor.value};\n\t\t}\n\t`);\n}\n\nfunction scrollOnCollapse() {\n\t$(document.body).on('click', '.expand', (event: MouseEvent) => {\n\t\t// avoid scrolling on programmatic events (commentHidePersistor)\n\t\tif (click.isProgrammaticEvent(event)) return;\n\n\t\tconst thing = Thing.checkedFrom(event.target);\n\t\t// don't scroll on uncollapsed comments\n\t\tif (thing.element.classList.contains('noncollapsed')) return;\n\n\t\tconst target = thing.getClosest(Thing.prototype.getNextSibling, { direction: 'down' });\n\t\tif (!target) return;\n\n\t\tSelectedThing.set(target, { scrollStyle: 'adopt', from: thing.entry });\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport {\n\tstring,\n\twatchForRedditEvents,\n} from '../utils';\n\nexport const module: Module<*> = new Module('commentSortBy');\n\nmodule.moduleName = 'commentSortByTitle';\nmodule.category = 'commentsCategory';\nmodule.description = 'commentSortByDesc';\nmodule.include = ['d2x'];\n\nmodule.beforeLoad = () => {\n\twatchForRedditEvents('postModTools', (element, { _: { update } }) => {\n\t\tif (update) return;\n\t\tconst _base = document.querySelector('#CommentSort--SortPicker');\n\t\tconst base = _base && _base.parentElement;\n\t\tif (!base || base.querySelector('.sortByPrefLink')) return;\n\t\tbase.append(string.html`\n\t\t\t<a\n\t\t\t\tclass=\"sortByPrefLink gearIcon\"\n\t\t\t\tstyle=\"opacity: 0.3;\"\n\t\t\t\ttitle=\"Go to comment sort preferences\"\n\t\t\t\thref=\"https://old.reddit.com/prefs/#default_comment_sort\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t>${'\\u00A0'/* nbsp */}</a>\n\t\t`);\n\t});\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { addCSS } from '../utils';\n\nexport const module: Module<*> = new Module('commentStyle');\n\nmodule.moduleName = 'commentStyleName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'commentStyleDesc';\nmodule.options = {\n\tcommentBoxes: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentStyleCommentBoxesDesc',\n\t\ttitle: 'commentStyleCommentBoxesTitle',\n\t\tbodyClass: 'res-commentBoxes',\n\t},\n\tcommentRounded: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'commentStyleCommentRoundedDesc',\n\t\ttitle: 'commentStyleCommentRoundedTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-commentBoxes-rounded',\n\t},\n\tcommentHoverBorder: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentStyleCommentHoverBorderDesc',\n\t\ttitle: 'commentStyleCommentHoverBorderTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-commentHoverBorder',\n\t},\n\tcommentIndent: {\n\t\ttype: 'text',\n\t\tvalue: '10',\n\t\tdescription: 'commentStyleCommentIndentDesc',\n\t\ttitle: 'commentStyleCommentIndentTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t},\n\tcontinuity: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'commentStyleContinuityDesc',\n\t\ttitle: 'commentStyleContinuityTitle',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.commentBoxes.value,\n\t\tbodyClass: 'res-continuity',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'commentsLinklist',\n];\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\tif (module.options.commentBoxes.value && module.options.commentIndent.value) {\n\t\t// this should override the default of 10px in commentboxes.css because it's added later.\n\t\taddCSS(`\n\t\t\t.res-commentBoxes .comment {\n\t\t\t\tmargin-left: ${module.options.commentIndent.value}px !important;\n\t\t\t}\n\t\t`);\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { isPageType, string } from '../utils';\n\nexport const module: Module<*> = new Module('context');\n\nmodule.moduleName = 'contextName';\nmodule.category = 'commentsCategory';\nmodule.description = 'contextDesc';\nmodule.options = {\n\tviewFullContext: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'contextViewFullContextDesc',\n\t\ttitle: 'contextViewFullContextTitle',\n\t},\n\tdefaultContext: {\n\t\ttype: 'text',\n\t\tvalue: '3',\n\t\tdescription: 'contextDefaultContextDesc',\n\t\ttitle: 'contextDefaultContextTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n\t'commentsLinklist',\n\t'inbox',\n\t'profile',\n\t'modqueue',\n];\n\nmodule.go = () => {\n\tif (isPageType('comments') && module.options.viewFullContext.value) {\n\t\taddViewFullContext();\n\t}\n\n\tconst defaultContext = parseInt(module.options.defaultContext.value, 10);\n\tif (isPageType('commentsLinklist', 'inbox', 'profile', 'modqueue') && defaultContext >= 0) {\n\t\tsetDefaultContext(defaultContext);\n\t}\n};\n\nfunction addViewFullContext() {\n\tif (location.search !== '?context=10000') {\n\t\tconst pInfobar = document.querySelector('.infobar:not(#searchexpando) p');\n\t\tif (pInfobar) {\n\t\t\t// check if there is a Parent button; if not, it's a top comment so don't show full context link\n\t\t\tif ($('.sitetable:eq(1) .buttons:first .bylink').length > 1) { // Permalink and Parent have bylink class\n\t\t\t\tpInfobar.append('\\u00A0'/* nsbp */, string.html`<a href=\"?context=10000\">view the full context</a>`, '\\u00A0');\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction setDefaultContext(contextDepth) {\n\t$(document.body).on('mousedown', 'a.bylink', (e: Event) => {\n\t\tconst target: HTMLAnchorElement = (e.target: any);\n\t\ttarget.href = target.href.replace(/(\\?|&|;)context=\\d+\\b/, `$1context=${contextDepth}`);\n\t});\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n, openNewTab } from '../environment';\nimport { string } from '../utils';\nimport * as Menu from './menu';\n\nexport const module: Module<*> = new Module('contribute');\n\nmodule.moduleName = 'contributeName';\nmodule.category = 'aboutCategory';\nmodule.sort = -9;\nmodule.alwaysEnabled = true;\nmodule.description = 'contributeDesc';\n\nmodule.contentStart = () => {\n\tMenu.addMenuItem(\n\t\t() => string.html`<span>${i18n('donateToRES')} &#8679;</span>`,\n\t\t() => { openNewTab('https://redditenhancementsuite.com/contribute/'); }\n\t);\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { PagePhases, downcast, watchForChildren } from '../utils';\n\nexport const module: Module<*> = new Module('disableChat');\n\nmodule.moduleName = 'disableChatName';\nmodule.category = 'productivityCategory';\nmodule.description = 'disableChatDesc';\nmodule.disabledByDefault = true;\n\nmodule.beforeLoad = () => {\n\tPagePhases.bodyStart.then(() => {\n\t\twatchForChildren(document.body, 'script', ele => {\n\t\t\tconst script = downcast(ele, HTMLScriptElement);\n\t\t\tif ((/^\\/_chat/).test(new URL(script.src, location.origin).pathname)) script.remove();\n\t\t});\n\n\t\t// The script may not removed promptly enough, so remove the iframe as fallback\n\t\twatchForChildren(document.body, '#chat-app', ele => {\n\t\t\tele.remove();\n\t\t});\n\t});\n};\n\nmodule.contentStart = () => {\n\tconst icon = document.body.querySelector('#chat');\n\tif (icon) {\n\t\tif (icon.nextElementSibling) icon.nextElementSibling.remove(); // Remove seperator\n\t\ticon.remove();\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('localDate');\n\nmodule.moduleName = 'localDateName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'localDateDesc';\n\nmodule.contentStart = () => {\n\t$(document.body)\n\t\t.on('mouseenter', 'time', function() {\n\t\t\tconst $this = $(this);\n\t\t\tif (!$this.data('originalTitle')) {\n\t\t\t\t$this.data('originalTitle', $this.attr('title'));\n\t\t\t}\n\t\t\t$this.attr('title', new Date($this.attr('datetime')));\n\t\t})\n\t\t.on('mouseleave', 'time', function() {\n\t\t\tconst $this = $(this);\n\t\t\t$this.attr('title', $this.data('originalTitle'));\n\t\t});\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('logoLink');\n\nmodule.moduleName = 'logoLinkName';\nmodule.category = 'browsingCategory';\nmodule.description = 'logoLinkDesc';\nmodule.options = {\n\tredditLogoDestination: {\n\t\ttype: 'enum',\n\t\tvalue: 'frontpage',\n\t\tdescription: 'logoLinkRedditLogoDestinationDesc',\n\t\ttitle: 'logoLinkRedditLogoDestinationTitle',\n\t\tvalues: [{\n\t\t\tname: 'logoLinkFrontpage',\n\t\t\tvalue: 'frontpage',\n\t\t}, {\n\t\t\tname: 'logoLinkAll',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'logoLinkHot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'logoLinkDashboard',\n\t\t\tvalue: 'dashboard',\n\t\t}, {\n\t\t\tname: 'logoLinkCurrent',\n\t\t\tvalue: 'subreddit',\n\t\t}, {\n\t\t\tname: 'logoLinkMyUserPage',\n\t\t\tvalue: '/u/me',\n\t\t}, {\n\t\t\tname: 'logoLinkInbox',\n\t\t\tvalue: '/message/inbox',\n\t\t}, {\n\t\t\tname: 'logoLinkCustom',\n\t\t\tvalue: 'custom',\n\t\t}],\n\t},\n\tcustomDestination: {\n\t\tdependsOn: options => options.redditLogoDestination.value === 'custom',\n\t\ttype: 'text',\n\t\tvalue: '/',\n\t\tdescription: 'logoLinkCustomDestinationDesc',\n\t\ttitle: 'logoLinkCustomDestinationTitle',\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst redditLogoNode: ?HTMLAnchorElement = (document.getElementById('header-img-a') || document.getElementById('header-img') || document.querySelector('header a[href=\"/\"]'): any);\n\tif (redditLogoNode) {\n\t\tconst url = getLogoLinkUrl();\n\t\tif (url) {\n\t\t\tredditLogoNode.href = url;\n\t\t}\n\t}\n};\n\nfunction getLogoLinkUrl() {\n\tconst destination = module.options.redditLogoDestination.value;\n\tswitch (destination) {\n\t\tcase 'frontpage':\n\t\t\treturn false;\n\t\tcase 'all':\n\t\t\treturn '/r/all';\n\t\tcase 'hot':\n\t\t\treturn '/hot';\n\t\tcase 'dashboard':\n\t\t\treturn '/r/Dashboard';\n\t\tcase 'subreddit':\n\t\t\treturn $('.redditname > a').attr('href');\n\t\tcase 'custom':\n\t\t\treturn module.options.customDestination.value;\n\t\tdefault:\n\t\t\treturn destination;\n\t}\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport { Module } from '../core/module';\nimport { string } from '../utils';\nimport * as Hover from './hover';\nimport * as QuickMessage from './quickMessage';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('messageMenu');\n\nmodule.moduleName = 'messageMenuName';\nmodule.category = 'browsingCategory';\nmodule.description = 'messageMenuDesc';\n\nmodule.options = {\n\tlinks: {\n\t\ttype: 'table',\n\t\taddRowText: 'messageMenuAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'messageMenuLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'messageMenuUrl',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['compose', '/message/compose'],\n\t\t\t['all', '/message/inbox'],\n\t\t\t['unread', '/message/unread'],\n\t\t\t['messages', '/message/messages'],\n\t\t\t['comment replies', '/message/comments'],\n\t\t\t['post replies', '/message/selfreply'],\n\t\t\t['/u/ mentions', '/message/mentions'],\n\t\t],\n\t\tdescription: 'messageMenuLinksDesc',\n\t\ttitle: 'messageMenuLinksTitle',\n\t},\n\tuseQuickMessage: {\n\t\ttype: 'boolean',\n\t\tdescription: 'messageMenuUseQuickMessageDesc',\n\t\ttitle: 'messageMenuUseQuickMessageTitle',\n\t\tvalue: true,\n\t},\n\thoverDelay: {\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'messageMenuHoverDelayDesc',\n\t\ttitle: 'messageMenuHoverDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'messageMenuFadeDelayDesc',\n\t\ttitle: 'messageMenuFadeDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'messageMenuFadeSpeedDesc',\n\t\ttitle: 'messageMenuFadeSpeedTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tHover.dropdownList(module.moduleID)\n\t\t.options({\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(() => [getListFragment()])\n\t\t.watch('#mail, .mail-count, #NREMail, #NREMailCount');\n};\n\nfunction getListFragment() {\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.links.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', (e: MouseEvent) => {\n\t\t\tif (module.options.useQuickMessage.value && QuickMessage.onClickMessageLink(e)) return;\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t});\n\n\t\tif (url.includes('/message/compose')) li.append(string.html`<span class=\"RESMenuItemButton res-icon\">&#xF139;</span>`);\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('modHelper');\n\nmodule.moduleName = 'modhelperName';\nmodule.category = 'coreCategory';\nmodule.description = 'modhelperDesc';\nmodule.hidden = true;\nmodule.alwaysEnabled = true;\nmodule.include = ['stylesheet'];\nmodule.go = () => {\n\tdoStyleSheetCheck();\n};\n\nconst tips = {\n\t'no-res-styles': 'It appears you haven\\'t done any styling specific to RES.  If you are interested in a quick overview on styling for RES users, please see [our wiki article](/r/Enhancement/wiki/subredditstyling)',\n\tkeyNav: 'Styling `RES-keyNav-activeElement`? This is the element RES uses for Keyboard Navigation - it indicates the currently selected post, and is crucial to RES functionality. If you don\\'t like the way it looks with your theme, you may style it however you want, as long as Keyboard Navigation remains usable for your visitors.',\n\t'keyNav-benice': `It appears that you are hiding \\`RES-keyNav-activeElement\\`. This negatively affects RES users by rendering keyboard navigation unusable. It's understandable that you may not care for the default appearance, but we politely request that you consider styling it to fit your subreddit, perhaps using a particular background color or border. Even just a one-sided border, e.g. \\`border-right: 3px solid blue;\\` - thank you for your consideration.\\n\\n For convenience we've included \\`RES-keyNav-activeThing\\` which can be used as an alternative to \\`RES-keyNav-activeElement\\`. It applies to elements with the class \\`thing\\` as opposed to \\`entry\\`. If you choose to use this, make sure keyboard navigation is usable when [commentBoxes](${SettingsNavigation.makeUrlHash('styleTweaks', 'commentBoxes')}) is turned off.`,\n\tnightmode: 'Want your subreddit to be night mode friendly? Please have a look at [the night mode section of our wiki](/r/Enhancement/wiki/subredditstyling#wiki_res_night_mode_and_your_subreddit)',\n};\n\nfunction doStyleSheetCheck() {\n\tconst $stylesheetTextarea = $('.stylesheet-customize-container textarea');\n\tconst stylesheet = ($stylesheetTextarea.length) ? $($stylesheetTextarea).val() : '';\n\n\tcreateTipPane();\n\tif (stylesheet.length) {\n\t\t// check if they have any RES styles at all\n\t\tif (!stylesheet.includes('.res') && !stylesheet.includes('.RES')) {\n\t\t\taddTipToPane('no-res-styles');\n\t\t}\n\t\tif (!stylesheet.includes('.res-nightmode')) {\n\t\t\taddTipToPane('nightmode');\n\t\t}\n\n\t\t// check if they're hiding RES-keyNav-activeElement\n\t\tconst keyNavIdx = stylesheet.indexOf('.RES-keyNav-activeElement');\n\t\tif (keyNavIdx !== -1) {\n\t\t\tlet keyNavRule = '';\n\t\t\tlet i = keyNavIdx;\n\t\t\twhile (i < stylesheet.length) {\n\t\t\t\tconst thisChar = stylesheet.charAt(i);\n\t\t\t\tkeyNavRule += thisChar;\n\t\t\t\tif (thisChar === '}') {\n\t\t\t\t\ti = stylesheet.length;\n\t\t\t\t}\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t(\n\t\t\t\t\tkeyNavRule.includes('transparent') ||\n\t\t\t\t\tkeyNavRule.includes('background: none') ||\n\t\t\t\t\tkeyNavRule.includes('background-color: none')\n\t\t\t\t) &&\n\t\t\t\t!keyNavRule.includes('border') &&\n\t\t\t\t!stylesheet.includes('.RES-keyNav-activeThing')\n\t\t\t) {\n\t\t\t\taddTipToPane('keyNav-benice');\n\t\t\t} else {\n\t\t\t\taddTipToPane('keyNav');\n\t\t\t}\n\t\t}\n\t}\n}\n\nlet $tipPane, $tipPaneHeader, $tipPaneContents, $tipPaneList;\n\nfunction createTipPane() {\n\tconst $sheetsDiv = $('div.sheets');\n\n\t$tipPane = $('<div>', { id: 'RESStyleSheetTipPane' });\n\t$tipPaneHeader = $('<div>', {\n\t\tid: 'RESStyleSheetTipPane-header',\n\t\tclass: 'minimized',\n\t\ttext: 'RES specific styling tips',\n\t\tclick: toggleTipPane,\n\t});\n\n\tconst $tipPaneCloseButton = $('<span>', {\n\t\tid: 'RESStyleSheetTipPane-close',\n\t\tclass: 'RESCloseButton RESCloseButtonTopRight',\n\t\ttitle: 'Close for this session',\n\t\tclick: hideTipPane,\n\t});\n\n\tconst $tipPaneHeaderSpan = $('<span>', { class: 'details', text: '[click for details]' });\n\n\t$tipPaneHeader\n\t\t.append($tipPaneCloseButton)\n\t\t.append($tipPaneHeaderSpan);\n\n\t$tipPaneContents = $('<div>', { id: 'RESStyleSheetTipPane-contents' });\n\t$tipPaneList = $('<ul>', { id: 'RESStyleSheetTipPane-list' });\n\t$tipPaneContents.append($tipPaneList);\n\n\t$tipPane\n\t\t.append($tipPaneHeader)\n\t\t.append($tipPaneContents);\n\n\t$sheetsDiv.before($tipPane);\n}\n\nfunction hideTipPane() {\n\tsessionStorage.setItem('hideTipPane', 'true');\n\t$tipPane.hide();\n}\n\nfunction toggleTipPane() {\n\tif ($tipPaneHeader.hasClass('minimized')) {\n\t\topenTipPaneContents();\n\t} else {\n\t\tcloseTipPaneContents();\n\t}\n}\n\nfunction openTipPaneContents() {\n\t$tipPaneHeader.removeClass('minimized');\n\t$tipPaneContents.slideDown();\n}\n\nfunction closeTipPaneContents() {\n\t$tipPaneHeader.addClass('minimized');\n\t$tipPaneContents.slideUp();\n}\n\nfunction addTipToPane(key) {\n\tconst tipText = tips[key];\n\tconst $tip = $('<li>', { html: markdown(tipText) });\n\n\tif (!sessionStorage.getItem('hideTipPane')) {\n\t\t$tipPane.show();\n\t}\n\n\t$tipPaneList.append($tip);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { string } from '../utils';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as PenaltyBox from './penaltyBox';\n\nexport const module: Module<*> = new Module('multiredditNavbar');\n\nmodule.moduleName = 'multiredditNavbarName';\nmodule.description = 'multiredditNavbarDesc';\nmodule.category = 'subredditsCategory';\n\nmodule.include = [\n\t// frontpage, multireddits, /r/all (including /r/all-sub1-sub2),\n\t// and some other special subreddits (/r/mod)\n\t// fails gracefully (and cheaply) if we're on a linklist page without the multireddit sidebar\n\t'linklist',\n];\n\nmodule.options = {\n\tsectionMenu: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'multiredditNavbarSectionMenuDesc',\n\t\ttitle: 'multiredditNavbarSectionMenuTitle',\n\t},\n\tsectionLinks: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'table',\n\t\taddRowText: 'multiredditNavbarAddShortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'multiredditNavbarLabel',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'multiredditNavbarUrl',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['new', './new'],\n\t\t\t['rising', './rising'],\n\t\t\t['controversial', './controversial'],\n\t\t\t['top', './top'],\n\t\t\t['top this month', './top?t=month'],\n\t\t\t['gilded', './gilded'],\n\t\t\t['promoted', './ads'],\n\t\t],\n\t\tdescription: 'multiredditNavbarSectionLinksDesc',\n\t\ttitle: 'multiredditNavbarSectionLinksTitle',\n\t},\n\thoverDelay: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'multiredditNavbarHoverDelayDesc',\n\t\ttitle: 'multiredditNavbarHoverDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'multiredditNavbarFadeDelayDesc',\n\t\ttitle: 'multiredditNavbarFadeDelayTitle',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'multiredditNavbarFadeSpeedDesc',\n\t\ttitle: 'multiredditNavbarFadeSpeedTitle',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.sectionMenu.value) {\n\t\tHover.dropdownList(module.moduleID)\n\t\t\t.options({\n\t\t\t\topenDelay: PenaltyBox.penalizedDelay(module.moduleID, 'sectionMenu', module.options.hoverDelay),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t\tpin: Hover.pin.right,\n\t\t\t\toffsetWidth: -10,\n\t\t\t\toffsetHeight: 1,\n\t\t\t\tbottomPadding: 0,\n\t\t\t})\n\t\t\t.populateWith(card => [getListFragment(card.getCheckedTarget().href)])\n\t\t\t.watch('.listing-chooser .multis li a');\n\t}\n};\n\nconst getListFragment = baseUrl => {\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', 5);\n\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.sectionLinks.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"${baseUrl}${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', () => {\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', -30);\n\t\t});\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { Thing, SelectedThing, frameDebounce, mutex, watchForDescendants, waitForDetach } from '../utils';\n\nexport const module: Module<*> = new Module('neverEndingComments');\n\nmodule.moduleName = 'necName';\nmodule.category = 'commentsCategory';\nmodule.description = 'necDescription';\nmodule.options = {\n\tloadChildComments: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'necLoadChildCommentsDesc',\n\t\ttitle: 'necLoadChildCommentsTitle',\n\t},\n};\n\nmodule.include = [\n\t'comments',\n];\n\nmodule.afterLoad = () => {\n\tconst context = document.body.querySelector(module.options.loadChildComments.value ? '.nestedlisting' : '.nestedlisting > .thing.morechildren');\n\tif (!context) return;\n\n\tconst visibleLoaders = new Set();\n\n\tconst io = new IntersectionObserver(entries => {\n\t\tfor (const { isIntersecting, target } of entries) {\n\t\t\tif (!context.contains(target)) io.unobserve(target);\n\t\t\tif (isIntersecting) visibleLoaders.add(target);\n\t\t\telse visibleLoaders.delete(target);\n\t\t}\n\n\t\tif (visibleLoaders.size) {\n\t\t\twindow.addEventListener('scroll', loadFirst);\n\t\t\tloadFirst();\n\t\t} else {\n\t\t\twindow.removeEventListener('scroll', loadFirst);\n\t\t}\n\t\t// Don't load the top comments, as they may are likely above the current focused comment and may mess up scroll anchoring\n\t\t// also load comments that are a little beneath the viewport so this works a bit more seamlessly\n\t}, { rootMargin: '-10% 0px 10% 0px' });\n\n\t// Wait a little before starting load, in case the user is just quickly scrolling through\n\tconst loadFirst = frameDebounce(mutex(async () => {\n\t\t// Load one at a time to reduce the latency\n\t\t// The uppermost is loaded first, as that is likely the one the user is interested having expanded\n\t\tconst loader = Array.from(visibleLoaders.values()).sort((a, b) => 3 - (a.compareDocumentPosition(b) & 6))\n\t\t\t.find(e => {\n\t\t\t\t// Don't load any above the selected thing\n\t\t\t\tconst thing = Thing.from(e);\n\t\t\t\treturn !SelectedThing.current || !thing || (SelectedThing.current.getDirectionOf(thing) === 'down');\n\t\t\t});\n\t\tif (loader) {\n\t\t\tloader.click();\n\t\t\tawait waitForDetach(\n\t\t\t\tloader,\n\t\t\t\t// The load may fail\n\t\t\t\tnew Promise(res => setTimeout(res, 3000))\n\t\t\t);\n\t\t\tloadFirst();\n\t\t}\n\t}), 5);\n\n\twatchForDescendants(context, '.morecomments a', ele => { io.observe(ele); });\n};\n","/* @flow */\n\nimport semver from 'semver';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { Storage, openNewTab, i18n } from '../environment';\nimport { filterMap } from '../utils';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('onboarding');\n\nmodule.moduleName = 'onboardingName';\nmodule.category = 'aboutCategory';\nmodule.description = 'onboardingDesc';\nmodule.alwaysEnabled = true;\n\nmodule.options = {\n\tupdateNotification: {\n\t\ttitle: 'onboardingUpdateNotificationName',\n\t\tdescription: 'onboardingUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'notification',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'nothing',\n\t\t}],\n\t},\n\tpatchUpdateNotification: {\n\t\ttitle: 'onboardingPatchUpdateNotificationName',\n\t\tdescription: 'onboardingPatchUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'notification',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n\tbetaUpdateNotification: {\n\t\ttitle: 'onboardingBetaUpdateNotificationName',\n\t\tdescription: 'onboardingBetaUpdateNotificationDescription',\n\t\ttype: 'enum',\n\t\tvalue: 'releaseNotes',\n\t\tvalues: [{\n\t\t\tname: 'onboardingUpdateNotifictionReleaseNotes',\n\t\t\tvalue: 'releaseNotes',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNotification',\n\t\t\tvalue: 'notification',\n\t\t}, {\n\t\t\tname: 'onboardingUpdateNotifictionNothing',\n\t\t\tvalue: 'none',\n\t\t}],\n\t},\n};\n\nconst highestVersionStorage = Storage.wrap('highestVersion', null);\n\nmodule.go = async () => {\n\tconst highestVersion = await highestVersionStorage.get();\n\n\tif (!highestVersion) {\n\t\thighestVersionStorage.set(Metadata.version);\n\t\treturn;\n\t}\n\n\tif (highestVersion === Metadata.version || semver.gt(highestVersion, Metadata.version)) return;\n\n\tconst diff = semver.diff(Metadata.version, highestVersion);\n\n\tconst infoTypes = filterMap([\n\t\tMetadata.isBeta && 'betaUpdateNotification',\n\t\tdiff === 'patch' && 'patchUpdateNotification',\n\t\t(diff === 'major' || diff === 'minor') && 'updateNotification',\n\t], notificationOption => notificationOption ? [module.options[notificationOption].value] : undefined);\n\n\tif (infoTypes.includes('releaseNotes')) {\n\t\topenNewTab(Metadata.updatedURL, false);\n\t} else if (infoTypes.includes('notification')) {\n\t\tNotifications.showNotification({\n\t\t\tmoduleID: module.moduleID,\n\t\t\tnotificationID: diff,\n\t\t\tmessage: `\n\t\t\t\t${i18n('onboardingUpgradeMessage', Metadata.version)}\n\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"${Metadata.updatedURL}\" target=\"_blank\">\n\t\t\t\t\t${i18n('onboardingUpgradeCta')}\n\t\t\t\t</a></p>\n\t\t\t`.trim(),\n\t\t\tcloseDelay: 15000,\n\t\t});\n\t} else {\n\t\tconsole.log(`RES upgraded to v${Metadata.version}.`);\n\t}\n\n\thighestVersionStorage.set(Metadata.version);\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport Favico from 'favico.js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { addFloater, loggedInUser } from '../utils';\nimport { Session, multicast } from '../environment';\nimport legacyFavicon from '../images/legacyFavicon.png';\nimport * as BetteReddit from './betteReddit';\n\nexport const module: Module<*> = new Module('orangered');\n\nmodule.moduleName = 'orangeredName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'orangeredDesc';\n\nmodule.options = {\n\topenMailInNewTab: {\n\t\tdescription: 'orangeredOpenMailInNewTabDesc',\n\t\ttitle: 'orangeredOpenMailInNewTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tupdateCurrentTab: {\n\t\tdescription: 'orangeredUpdateCurrentTabDesc',\n\t\ttitle: 'orangeredUpdateCurrentTabTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tupdateOtherTabs: {\n\t\tdescription: 'orangeredUpdateOtherTabsDesc',\n\t\tkeywords: ['favicon', 'sync'],\n\t\ttitle: 'orangeredUpdateOtherTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tshowFloatingEnvelope: {\n\t\tdescription: 'orangeredShowFloatingEnvelopeDesc',\n\t\ttitle: 'orangeredShowFloatingEnvelopeTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tretroUnreadCount: {\n\t\tdescription: 'orangeredRetroUnreadCountDesc',\n\t\ttitle: 'orangeredRetroUnreadCountTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\tshowUnreadCountInTitle: {\n\t\tdescription: 'orangeredShowUnreadCountInTitleDesc',\n\t\ttitle: 'orangeredShowUnreadCountInTitleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tfaviconUseLegacy: {\n\t\tdescription: 'faviconUseLegacyDesc',\n\t\ttitle: 'faviconUseLegacyTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t},\n\tshowUnreadCountInFavicon: {\n\t\tdescription: 'orangeredShowUnreadCountInFaviconDesc',\n\t\ttitle: 'orangeredShowUnreadCountInFaviconTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t},\n\tfaviconNotificationBGColor: {\n\t\tdescription: 'faviconNotificationBGColorDesc',\n\t\ttitle: 'faviconNotificationBGColorTitle',\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#5f99cf',\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tfaviconNotificationTextColor: {\n\t\tdescription: 'faviconNotificationTextColorDesc',\n\t\ttitle: 'faviconNotificationTextColorTitle',\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#FFFFFF',\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tresetFaviconOnLeave: {\n\t\tdescription: 'orangeredResetFaviconOnLeaveDesc',\n\t\ttitle: 'orangeredResetFaviconOnLeaveTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdependsOn: options => options.showUnreadCountInFavicon.value,\n\t},\n\tunreadLinksToInbox: {\n\t\tdescription: 'orangeredUnreadLinksToInboxDesc',\n\t\ttitle: 'orangeredUnreadLinksToInboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t},\n\thideEmptyMail: {\n\t\tdescription: 'orangeredHideEmptyMailDesc',\n\t\ttitle: 'orangeredHideEmptyMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideModMail: {\n\t\tdescription: 'orangeredHideModMailDesc',\n\t\ttitle: 'orangeredHideModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideEmptyModMail: {\n\t\tdescription: 'orangeredHideEmptyModMailDesc',\n\t\ttitle: 'orangeredHideEmptyModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdependsOn: options => !options.hideModMail.value,\n\t},\n\thideNewModMail: {\n\t\tdescription: 'orangeredHideNewModMailDesc',\n\t\ttitle: 'orangeredHideNewModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t},\n\thideEmptyNewModMail: {\n\t\tdescription: 'orangeredHideEmptyNewModMailDesc',\n\t\ttitle: 'orangeredHideEmptyNewModMailTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tbodyClass: true,\n\t\tdependsOn: options => !options.hideNewModMail.value,\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.faviconUseLegacy.value) setupFavicon();\n\n\tif (!loggedInUser()) {\n\t\treturn;\n\t}\n\n\tfloatingButtons();\n\tif (module.options.openMailInNewTab.value) {\n\t\t$orangeredElements().attr('target', '_blank').attr('rel', 'noopener noreferer');\n\t}\n\n\tupdateFromPage();\n};\n\nexport async function updateFromPage(doc: HTMLElement = document.body) {\n\tif (!Modules.isRunning(module)) return;\n\tif (!module.options.updateCurrentTab.value) return;\n\tif (!loggedInUser()) return;\n\n\t// `doc` may be a cached page. Don't update if more recent data has been processed\n\tconst debuginfoElement = doc.querySelector('.debuginfo');\n\t// Timestamp example: 2018-12-14 00:21:00.572436+00:00\n\tconst timestampRegex = /(\\d{4})-(\\d{2})-(\\d{2}) (\\d{2})\\:(\\d{2})\\:(\\d{2})\\.(\\d+)[+-](\\d{2})\\:(\\d{2})/;\n\tconst [timestamp] = debuginfoElement && timestampRegex.exec(debuginfoElement.textContent) || [];\n\tif (Date.parse(timestamp)) {\n\t\tconst lastUpdate = await Session.get('orangered.last-update');\n\t\tSession.set('orangered.last-update', timestamp);\n\t\tif (lastUpdate && new Date(lastUpdate) >= new Date(timestamp)) return;\n\t}\n\n\tsetUnreadCount(getUnreadCount(doc));\n}\n\nlet lastCount = 0;\n\nconst _setUnreadCount = multicast((count: number) => {\n\t// Refresh only when count is unchanged, to avoid initializing favicon, misc elements unnecessaury\n\tif (count === lastCount) return;\n\tlastCount = count;\n\n\tupdateFaviconBadge(count);\n\tupdateTitle(count);\n\tupdateInboxElements(count);\n\tupdateMailCountElements(count);\n\n\tif (count > 0) {\n\t\twindow.dispatchEvent(new Event('orangered'));\n\t}\n}, { name: 'setUnreadCount', crossContext: false });\n\nfunction setUnreadCount(count: number) {\n\tif (module.options.updateOtherTabs.value) {\n\t\t_setUnreadCount(count);\n\t} else {\n\t\t_setUnreadCount.local(count);\n\t}\n}\n\nfunction updateTitle(count) {\n\tif (!module.options.showUnreadCountInTitle.value) return;\n\tif (count > 0) {\n\t\tdocument.title = `[${count}] ${document.title.replace(/^\\[[\\d]+\\]\\s/, '')}`;\n\t} else {\n\t\tdocument.title = document.title.replace(/^\\[[\\d]+\\]\\s/, '');\n\t}\n}\n\nfunction updateInboxElements(count) {\n\tconst { nativeInboxButton, $floatingInboxButton } = orangeredElements();\n\n\t$().add($floatingInboxButton).add(nativeInboxButton)\n\t\t.attr('title', count ? 'new mail!' : 'No new mail')\n\t\t.toggleClass('havemail', !!count)\n\t\t.toggleClass('nohavemail', !count)\n\t\t.attr('href', getInboxLink(count));\n}\n\nfunction updateMailCountElements(count) {\n\tconst { nativeInboxCount, $floatingInboxCount } = orangeredElements();\n\n\t$().add($floatingInboxCount).add(nativeInboxCount)\n\t\t.css('display', count ? 'inline-block' : 'none')\n\t\t.attr('href', getInboxLink(count))\n\t\t.attr('title', count ? 'new mail!' : 'No new mail')\n\t\t.text(count)\n\t\t.addClass('message-count');\n}\n\nfunction updateFaviconBadge(count) {\n\tif (module.options.showUnreadCountInFavicon.value) {\n\t\tsetupFavicon().badge(count);\n\t}\n}\n\nconst setupFavicon = _.once(() => {\n\tconst favicons = Array.from(document.head.querySelectorAll('link[rel=\"icon\"]'));\n\tconst selectedFavicon = favicons.find(f => f.getAttribute('sizes') === '96x96') || _.last(favicons);\n\t// remove other favicons to ensure that ours is selected\n\tfor (const f of favicons) {\n\t\tif (f !== selectedFavicon) f.remove();\n\t}\n\t// browser should auto resolve to this if all get removed, but just in case, setting it explicitly\n\tif (module.options.faviconUseLegacy.value) {\n\t\tselectedFavicon.setAttribute('href', legacyFavicon);\n\t}\n\n\tconst favicon = new Favico({\n\t\tbgColor: module.options.faviconNotificationBGColor.value,\n\t\ttextColor: module.options.faviconNotificationTextColor.value,\n\t});\n\n\tif (module.options.resetFaviconOnLeave.value) {\n\t\t// Prevent notification icon from showing up in bookmarks\n\t\twindow.addEventListener('beforeunload', () => favicon.reset());\n\t}\n\n\treturn favicon;\n});\n\nconst orangeredElements = () => ({\n\t...nativeButtons(),\n\t...floatingButtons(),\n\tmodmailButtonSelector: '#modmail',\n});\n\nconst $orangeredElements = () => Object.values(orangeredElements()).reduce(($all, ele) => $all.add(ele), $());\n\nconst nativeButtons = _.once(() => {\n\tconst nativeInboxButton = document.querySelector('#header-bottom-right #mail');\n\tlet nativeInboxCount = document.querySelector('#header-bottom-right .message-count');\n\tif (!nativeInboxCount && (module.options.updateCurrentTab.value || module.options.updateOtherTabs.value)) {\n\t\tnativeInboxCount = document.createElement('a');\n\t\tnativeInboxCount.style.display = 'none';\n\t\tnativeInboxButton.after(nativeInboxCount);\n\t}\n\treturn { nativeInboxButton, nativeInboxCount };\n});\n\nconst floatingButtons = _.once(() => {\n\tif (!module.options.showFloatingEnvelope.value) {\n\t\treturn { $floatingInboxButton: undefined, $floatingInboxCount: undefined };\n\t}\n\tlet $floatingInboxButton, $floatingInboxCount;\n\n\tconst pinHeader = BetteReddit.module.options.pinHeader.value;\n\tif (pinHeader === 'sub' || pinHeader === 'none') {\n\t\t$floatingInboxButton = $('<a>', { id: 'NREMail', class: 'nohavemail' });\n\t\taddFloater($floatingInboxButton.get(0));\n\n\t\t$floatingInboxCount = $('<a>', { id: 'NREMailCount' });\n\t\t$floatingInboxCount.css('display', 'none');\n\t\t$floatingInboxCount.attr('href', getInboxLink(true));\n\t\taddFloater($floatingInboxCount.get(0));\n\t}\n\n\treturn { $floatingInboxButton, $floatingInboxCount };\n});\n\nfunction getInboxLink(havemail) {\n\tif (havemail && !module.options.unreadLinksToInbox.value) {\n\t\treturn '/message/unread/';\n\t}\n\n\treturn '/message/inbox/';\n}\nfunction getUnreadCount(container) {\n\tconst mailCount = container.querySelector('.message-count');\n\treturn mailCount && parseInt(mailCount.textContent, 10) || 0;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { SelectedThing, addFloater, getHeaderOffset, isPageType, frameThrottle, scrollToElement, string, watchForThings } from '../utils';\nimport { i18n } from '../environment';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('pageNavigator');\n\nmodule.moduleName = 'pageNavName';\nmodule.category = 'browsingCategory';\nmodule.description = 'pageNavDesc';\nmodule.options = {\n\ttoTop: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavToTopDesc',\n\t\ttitle: 'pageNavToTopTitle',\n\t},\n\ttoComment: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavToCommentDesc',\n\t\ttitle: 'pageNavToCommentTitle',\n\t},\n\tshowLink: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavShowLinkDesc',\n\t\ttitle: 'pageNavShowLinkTitle',\n\t},\n\tshowLinkNewTab: {\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'pageNavShowLinkNewTabDesc',\n\t\ttitle: 'pageNavShowLinkNewTabTitle',\n\t\tdependsOn: options => options.showLink.value,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.showLink.value && isPageType('comments')) {\n\t\twatchForThings(['post'], showLinkTitle);\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.toComment.value && isPageType('comments')) {\n\t\tbackToNewCommentArea();\n\t}\n\tif (module.options.toTop.value) {\n\t\tbackToTop();\n\t}\n};\n\nfunction backToTop() {\n\tconst element = string.html`<a class=\"pageNavigator res-icon\" data-id=\"top\" href=\"#header\" title=\"${i18n('pageNavToTopTitle')}\">&#xF148;</a>`;\n\telement.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\twindow.scrollTo(0, 0);\n\t\tSelectedThing.move('top');\n\t});\n\taddFloater(element, { order: 9 });\n}\n\nconst showLinkTitleTemplate = ({ thumbnailSrc, linkId, settingsHash, linkHref, linkNewTab, title, domainHref, domain, time, author, authorHref }) => string.html`\n\t<div class=\"res-show-link hide\">\n\t\t${thumbnailSrc && string._html`\n\t\t\t<span class=\"res-show-link-thumb\"><img src=\"${thumbnailSrc}\" alt=\"thumbnail\" /></span>\n\t\t`}\n\t\t<a href=\"#${linkId}\" class=\"res-icon toTop\" title=\"Jump to title\">&#xF148;</a>\n\t\t<a href=\"${settingsHash}\" class=\"gearIcon\" title=\"Configure this widget\"></a>\n\t\t<div class=\"res-show-link-content\">\n\t\t\t<div class=\"res-show-link-header\">\n\t\t\t\t<a href=\"${linkHref}\" ${linkNewTab && string._html`target=\"_blank\" rel=\"noopener noreferer\"`} class=\"res-show-link-title\">${title}</a>\n\t\t\t\t<a href=\"${domainHref}\" class=\"res-show-link-domain\">(<span>${domain}</span>)</a>\n\t\t\t</div>\n\t\t\t<div class=\"res-show-link-tagline\">\n\t\t\t\tSubmitted ${time} by\n\t\t\t\t<a href=\"${authorHref}\" class=\"res-show-link-author\">${author}</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n`;\n\nfunction backToNewCommentArea() {\n\t// TODO Find a way to determine whether the comment area is visible which does not cause a reflow\n\tconst commentArea = document.querySelector('.commentarea > form.usertext textarea:not([disabled])');\n\tif (!commentArea) return;\n\n\tconst element = string.html`<a class=\"pageNavigator res-icon\" data-id=\"addComment\" href=\"#comments\" title=\"${i18n('pageNavToCommentTitle')}\">&#xF003;</a>`;\n\telement.addEventListener('click', (e: Event) => {\n\t\te.preventDefault();\n\t\tcommentArea.focus();\n\t});\n\n\taddFloater(element, { container: 'visibleAfterScroll' });\n}\n\nconst showLinkTitle = _.once(submissionThing => {\n\tlet $widget;\n\tlet belowSubmission = true;\n\tlet baseHeight, hoverHeight;\n\n\tfunction showWidget() {\n\t\t$widget.css({ top: getHeaderOffset(true) }).removeClass('hide');\n\t}\n\n\tfunction hideWidget() {\n\t\t$widget.css({ top: -baseHeight }).addClass('hide');\n\t}\n\n\tfunction renderWidget() {\n\t\treturn $(showLinkTitleTemplate({\n\t\t\tlinkId: submissionThing.element.id,\n\t\t\tthumbnailSrc: submissionThing.getPostThumbnailUrl(),\n\t\t\tlinkHref: submissionThing.getTitleUrl(),\n\t\t\tlinkNewTab: module.options.showLinkNewTab.value,\n\t\t\ttitle: submissionThing.getTitle(),\n\t\t\tdomainHref: submissionThing.getPostDomainUrl(),\n\t\t\tdomain: submissionThing.getPostDomainText(),\n\t\t\ttime: submissionThing.getPostTime(),\n\t\t\tauthorHref: submissionThing.getAuthorUrl(),\n\t\t\tauthor: submissionThing.getAuthor(),\n\t\t\tsettingsHash: SettingsNavigation.makeUrlHash(module.moduleID, 'showLink'),\n\t\t}));\n\t}\n\n\tconst updateWidget = frameThrottle((e: WheelEvent) => {\n\t\tconst scrollingUp = e.deltaY < 0;\n\n\t\tif (scrollingUp && belowSubmission) {\n\t\t\tinitialize();\n\t\t\t// We have scrolled up while below the linklisting.\n\t\t\tshowWidget();\n\t\t} else if ($widget) {\n\t\t\thideWidget();\n\t\t}\n\t});\n\n\tconst initialize = _.once(() => {\n\t\t$widget = renderWidget()\n\t\t\t.on('mouseenter', () => $widget.css({ height: hoverHeight }))\n\t\t\t.on('mouseleave', () => $widget.css({ height: baseHeight }))\n\t\t\t.appendTo(document.body);\n\n\t\tbaseHeight = $widget.get(0).getBoundingClientRect().height;\n\t\thoverHeight = $widget.get(0).scrollHeight;\n\n\t\tnew IntersectionObserver(entries => {\n\t\t\tbelowSubmission = !entries[0].isIntersecting;\n\t\t\tif (!belowSubmission) hideWidget();\n\t\t}, { rootMargin: '100px 0px 0px 0px' }).observe(submissionThing.element);\n\n\t\twindow.addEventListener('scroll', () => { if (scrollToElement.isProgrammaticEvent()) hideWidget(); });\n\t});\n\n\twindow.addEventListener('wheel', updateWidget, { passive: true });\n});\n","/* @flow */\n\nimport { CACHED_LANG_KEY, CACHED_MESSAGES_KEY, CACHED_MESSAGES_TOKEN_KEY } from '../constants/localStorage';\nimport { RES_DISABLED_HASH } from '../constants/urlHashes';\nimport { Module } from '../core/module';\nimport { Alert } from '../utils';\nimport { Session, Storage, XhrCache, context, i18n, isPrivateBrowsing, multicast } from '../environment';\nimport * as Notifications from './notifications';\nimport * as UserTagger from './userTagger';\n\nexport const module: Module<*> = new Module('troubleshooter');\n\nmodule.moduleName = 'troubleshooterName';\nmodule.alwaysEnabled = true;\nmodule.sort = -7;\nmodule.description = 'troubleshooterDesc';\nmodule.category = 'aboutCategory';\nmodule.options = {\n\tclearCache: {\n\t\ttitle: 'troubleshooterClearCacheTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterClearLabel',\n\t\tcallback: clearCache,\n\t\tdescription: 'troubleshooterClearCacheDesc',\n\t},\n\tclearTags: {\n\t\ttitle: 'troubleshooterClearTagsTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterClearLabel',\n\t\tcallback: clearTags,\n\t\tdescription: 'troubleshooterClearTagsDesc',\n\t},\n\tresetToFactory: {\n\t\ttitle: 'troubleshooterResetToFactoryTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterResetLabel',\n\t\tcallback: resetToFactory,\n\t\tdescription: 'troubleshooterResetToFactoryDesc',\n\t},\n\tdisableRES: {\n\t\ttitle: 'troubleshooterDisableRESTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterDisableLabel',\n\t\tcallback() {\n\t\t\twindow.top.location = new URL(RES_DISABLED_HASH, context.origin);\n\t\t},\n\t\tdescription: 'troubleshooterDisableRESDesc',\n\t},\n\tbreakpoint: {\n\t\ttitle: 'troubleshooterBreakpointTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterBreakpointLabel',\n\t\tcallback() {\n\t\t\tdebugger; // eslint-disable-line no-debugger\n\t\t},\n\t\tdescription: 'troubleshooterBreakpointDesc',\n\t},\n\ttestEnvironment: {\n\t\ttitle: 'troubleshooterTestEnvironmentTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterTestEnvironmentLabel',\n\t\tcallback: testEnvironment,\n\t\tdescription: 'troubleshooterTestEnvironmentDesc',\n\t},\n\ttestNotifications: {\n\t\ttitle: 'troubleshooterTestNotificationsTitle',\n\t\ttype: 'button',\n\t\ttext: 'troubleshooterTestNotificationsLabel',\n\t\tcallback: testNotifications,\n\t\tdescription: 'troubleshooterTestNotificationsDesc',\n\t},\n};\n\nfunction clearCache() {\n\tXhrCache.clear();\n\tSession.clear();\n\tlocalStorage.removeItem(CACHED_LANG_KEY);\n\tlocalStorage.removeItem(CACHED_MESSAGES_TOKEN_KEY);\n\tlocalStorage.removeItem(CACHED_MESSAGES_KEY);\n\tNotifications.showNotification(i18n('troubleshooterCachesCleared'), 2500);\n}\n\nasync function clearTags() {\n\tconst confirm = window.confirm(i18n('troubleshooterAreYouPositive'));\n\tif (confirm) {\n\t\tconst toDelete = (await UserTagger.Tag.getStored())\n\t\t\t.filter(({ text, votesUp = 0, votesDown = 0 }) => !text && votesUp <= 1 && votesDown <= 1);\n\t\tfor (const tag of toDelete) tag.delete();\n\t\tNotifications.showNotification(i18n('troubleshooterEntriesRemoved', toDelete.length), 2500);\n\t} else {\n\t\tNotifications.showNotification(i18n('troubleshooterNoActionTaken'), 2500);\n\t}\n}\n\nfunction resetToFactory() {\n\tconst confirm = window.prompt(i18n('troubleshooterThisWillKillYourSettings', 'trash'));\n\tif (confirm === 'trash' || confirm === '\"trash\"') {\n\t\tclearCache();\n\t\tStorage.clear();\n\t\tNotifications.showNotification(i18n('troubleshooterSettingsReset'), 2500);\n\t} else {\n\t\tNotifications.showNotification(i18n('troubleshooterNoActionTaken'), 2500);\n\t}\n}\n\nfunction testNotifications() {\n\tNotifications.showNotification({\n\t\tmoduleID: module.moduleID,\n\t\theader: 'Template test',\n\t\tmessage: '<p>Hello, FakeUsername</p>',\n\t});\n}\n\nconst testMulticast = multicast(val => {\n\tAlert.open(`Multicast: ${val}`);\n}, { name: 'testMulticast', local: false, crossContext: false });\n\nasync function testEnvironment() {\n\tconst testKey = '__test__';\n\tconst rows = [];\n\n\ttry {\n\t\tlet rand;\n\n\t\trows.push(`Private browsing: ${String(isPrivateBrowsing())}`, '');\n\n\t\trand = Math.random();\n\t\trows.push(`Sending multicast: ${rand}`, '');\n\t\ttestMulticast(rand);\n\n\t\trand = Math.random();\n\t\trows.push(`Storage.set(): ${rand}`);\n\t\tStorage.set(testKey, rand);\n\t\trows.push(`Storage.get(): ${(await Storage.get(testKey): any)}`);\n\t\trows.push(`Storage.has(): ${(await Storage.has(testKey): any)}`);\n\t\trows.push('Storage.delete()');\n\t\tStorage.delete(testKey);\n\t\trows.push(`Storage.get(): ${(await Storage.get(testKey): any)}`);\n\t\trows.push(`Storage.has(): ${(await Storage.has(testKey): any)}`, '');\n\n\t\trand = Math.random();\n\t\trows.push(`Session.set(): ${rand}`);\n\t\tSession.set(testKey, rand);\n\t\trows.push(`Session.get(): ${(await Session.get(testKey): any)}`);\n\t\trows.push(`Session.has(): ${(await Session.has(testKey): any)}`);\n\t\trows.push('Session.delete()');\n\t\tSession.delete(testKey);\n\t\trows.push(`Session.get(): ${(await Session.get(testKey): any)}`);\n\t\trows.push(`Session.has(): ${(await Session.has(testKey): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst wrapped = Storage.wrap(testKey, 'default');\n\t\trows.push(`wrapped.set(): ${rand}`);\n\t\twrapped.set(rand);\n\t\trows.push(`wrapped.get(): ${(await wrapped.get(): any)}`);\n\t\trows.push(`wrapped.has(): ${(await wrapped.has(): any)}`);\n\t\trows.push('wrapped.delete()');\n\t\twrapped.delete();\n\t\trows.push(`wrapped.get(): ${(await wrapped.get(): any)}`);\n\t\trows.push(`wrapped.has(): ${(await wrapped.has(): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst domain = Storage.wrapPrefix(testKey, () => 'default');\n\t\trows.push(`prefix.set(): ${rand}`);\n\t\tdomain.set('1', rand);\n\t\trows.push(`prefix.get(): ${(await domain.get('1'): any)}`);\n\t\trows.push(`prefix.has(): ${(await domain.has('1'): any)}`);\n\t\trows.push('prefix.delete()');\n\t\tdomain.delete('1');\n\t\trows.push(`prefix.get(): ${(await domain.get('1'): any)}`);\n\t\trows.push(`prefix.has(): ${(await domain.has('1'): any)}`, '');\n\n\t\trand = Math.random();\n\t\tconst blob = Storage.wrapBlob(testKey, () => 'default');\n\t\trows.push(`blob.set(): ${rand}`);\n\t\tblob.set('1', rand);\n\t\trows.push(`blob.get(): ${(await blob.get('1'): any)}`);\n\t\trows.push(`blob.has(): ${(await blob.has('1'): any)}`);\n\t\trows.push('blob.delete()');\n\t\tblob.delete('1');\n\t\trows.push(`blob.get(): ${(await blob.get('1'): any)}`);\n\t\trows.push(`blob.has(): ${(await blob.has('1'): any)}`, '');\n\t} catch (e) {\n\t\trows.push('', `Errored: ${e}`);\n\t\tconsole.error(e);\n\t}\n\n\tAlert.open(rows.join('<br>'));\n}\n","/* @flow */\n\nimport { i18n } from '../environment';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport * as Options from '../core/options';\nimport * as Notifications from './notifications';\nimport * as Troubleshooter from './troubleshooter';\n\nexport const module: Module<*> = new Module('presets');\n\nmodule.moduleName = 'presetsName';\nmodule.category = 'coreCategory';\nmodule.alwaysEnabled = true;\nmodule.description = 'presetsDesc';\n\nmodule.options = {\n\tlite: {\n\t\ttitle: 'presetsLiteTitle',\n\t\tdescription: 'presetsLiteDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(() => (\n\t\t\ttoggleModules([\n\t\t\t\t'notifications',\n\t\t\t\t'hover',\n\t\t\t\t'announcements',\n\t\t\t\t'orangered',\n\t\t\t\t'onboarding',\n\t\t\t\t'selectedEntry',\n\t\t\t\t'showImages',\n\t\t\t\t'submitHelper',\n\t\t\t\t'neverEndingReddit',\n\t\t\t\t'accountSwitcher',\n\t\t\t\t'filteReddit',\n\t\t\t\t'quickMessage',\n\t\t\t\t'subredditInfo',\n\t\t\t\t'userInfo',\n\t\t\t\t'userHighlight',\n\t\t\t\t'searchHelper',\n\t\t\t\t'betteReddit',\n\t\t\t\t'styleTweaks',\n\t\t\t\t'pageNavigator',\n\t\t\t\t'commandLine',\n\t\t\t\t'commentHidePersistor',\n\t\t\t\t'commentTools',\n\t\t\t\t'commentPreview',\n\t\t\t\t'localDate',\n\t\t\t\t'noParticipation',\n\t\t\t], '*')\n\t\t)),\n\t},\n\tcleanSlate: {\n\t\ttitle: 'presetsCleanSlateTitle',\n\t\tdescription: 'presetsCleanSlateDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(() => (\n\t\t\ttoggleModules(undefined, '*')\n\t\t)),\n\t},\n\tnoPopups: {\n\t\ttitle: 'presetsNoPopupsTitle',\n\t\tdescription: 'presetsNoPopupsDesc',\n\t\ttype: 'button',\n\t\ttext: 'apply preset',\n\t\tcallback: confirmPreset(async () => {\n\t\t\tawait toggleModules(undefined, 'hover RESTips showParent subredditInfo'.split(/[,\\s]/));\n\t\t\tawait toggleOptions(undefined, 'userTagger.hoverInfo'.split(/[,\\s]/));\n\t\t}),\n\t},\n\tresetToFactory: Troubleshooter.module.options.resetToFactory,\n};\n\nfunction confirmPreset(callback) {\n\treturn async function() {\n\t\tconst confirmation = prompt(`Are you sure you want to apply the \"${i18n(this.title)}\" preset? Type \"yes\" to continue.`);\n\t\tif ((/^\"?yes\"?$/).test(confirmation)) {\n\t\t\tawait callback();\n\t\t\tconst shouldReload = confirm(`Applied preset: ${i18n(this.title)}\\nYou must reload the page to see results.\\n\\nWould you like to reload now?`);\n\t\t\tif (shouldReload) {\n\t\t\t\tlocation.reload();\n\t\t\t}\n\t\t} else {\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\theader: 'Preset cancelled',\n\t\t\t\tmessage: 'If you really wanted to apply this preset, make sure to type in \"yes\" when prompted.',\n\t\t\t});\n\t\t}\n\t};\n}\n\nfunction sanitizeModulesList(unsanitized) {\n\tlet sanitized;\n\tif (unsanitized === '*') {\n\t\tsanitized = allModules();\n\t} else if (typeof unsanitized === 'string') {\n\t\tsanitized = unsanitized.split(/[,\\s]/);\n\t} else if (unsanitized && unsanitized.length) {\n\t\tsanitized = unsanitized;\n\t}\n\treturn sanitized ? [].concat(sanitized) : [];\n}\n\nasync function toggleModules(requestEnable, requestDisable) {\n\tlet enable = sanitizeModulesList(requestEnable);\n\tlet disable = sanitizeModulesList(requestDisable);\n\n\tdisable = requestEnable !== '*' ?\n\t\tdisable.filter(moduleID => !enable.includes(moduleID)) :\n\t\tdisable;\n\n\tenable = requestDisable !== '*' ?\n\t\tenable.filter(moduleID => !disable.includes(moduleID)) :\n\t\tenable;\n\n\tfor (const modId of disable) await Modules.setEnabled(modId, false); // eslint-disable-line no-await-in-loop\n\tfor (const modId of enable) await Modules.setEnabled(modId, true); // eslint-disable-line no-await-in-loop\n}\n\nfunction allModules() {\n\treturn Modules.all().map(mod => mod.moduleID);\n}\n\nasync function toggleOptions(requestEnable, requestDisable) {\n\tconst enable = requestEnable ? [].concat(requestEnable) : [];\n\tconst disable = requestDisable ? [].concat(requestDisable) : [];\n\n\tfor (const option of enable) await setOptionValue(true, option); // eslint-disable-line no-await-in-loop\n\tfor (const option of disable) await setOptionValue(false, option); // eslint-disable-line no-await-in-loop\n}\n\nasync function setOptionValue(value, path) {\n\t// path = [moduleID, optionName] or 'moduleID.optionName'\n\tif (typeof path === 'string') {\n\t\tpath = path.split('.');\n\t}\n\tconst [id, optName] = path;\n\tawait Options.set(id, optName, value);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { loggedInUser, string } from '../utils';\nimport { i18n } from '../environment';\nimport * as Hover from './hover';\nimport * as SettingsNavigation from './settingsNavigation';\nimport * as PenaltyBox from './penaltyBox';\n\nexport const module: Module<*> = new Module('profileNavigator');\n\nmodule.moduleName = 'profileNavigatorName';\nmodule.description = 'profileNavigatorDesc';\nmodule.category = 'myAccountCategory';\n\nmodule.options = {\n\tsectionMenu: {\n\t\ttitle: 'profileNavigatorSectionMenuTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'profileNavigatorSectionMenuDesc',\n\t},\n\tsectionLinks: {\n\t\ttitle: 'profileNavigatorSectionLinksTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\tdescription: 'profileNavigatorSectionLinksDesc',\n\t\ttype: 'table',\n\t\taddRowText: '+add profile section shortcut',\n\t\tfields: [{\n\t\t\tkey: 'label',\n\t\t\tname: 'label',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'url',\n\t\t\tname: 'url',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: [\n\t\t\t['saved', './saved'],\n\t\t\t['comments', './comments'],\n\t\t\t['submitted', './submitted'],\n\t\t\t['gilded', './gilded'],\n\t\t\t['upvoted', './upvoted'],\n\t\t\t['downvoted', './downvoted'],\n\t\t],\n\t},\n\thoverDelay: {\n\t\ttitle: 'profileNavigatorHoverDelayTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '1000',\n\t\tdescription: 'profileNavigatorHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'profileNavigatorFadeDelayTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'profileNavigatorFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'profileNavigatorFadeSpeedTitle',\n\t\tdependsOn: options => options.sectionMenu.value,\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'profileNavigatorFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst username = loggedInUser();\n\tif (module.options.sectionMenu.value && username) {\n\t\tHover.dropdownList(module.moduleID)\n\t\t\t.options({\n\t\t\t\topenDelay: PenaltyBox.penalizedDelay(module.moduleID, 'sectionMenu', module.options.hoverDelay),\n\t\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t\t\tpin: Hover.pin.bottom,\n\t\t\t})\n\t\t\t.populateWith(() => [getListFragment(username)])\n\t\t\t.watch('#header .user a');\n\t}\n};\n\nconst getListFragment = username => {\n\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', 5);\n\n\tconst fragment = document.createDocumentFragment();\n\n\tfor (const link of module.options.sectionLinks.value) {\n\t\tconst label = link[0] || '';\n\t\tconst url = link[1] || '';\n\t\tconst li = string.html`<li><a href=\"/user/${username}/${url}\">${label}</a></li>`;\n\n\t\tli.addEventListener('click', () => {\n\t\t\tHover.dropdownList(module.moduleID).close();\n\t\t\tPenaltyBox.alterFeaturePenalty(module.moduleID, 'sectionMenu', -30);\n\t\t});\n\n\t\tfragment.append(li);\n\t}\n\n\tfragment.append(string.html`<li><a href=${SettingsNavigation.makeUrlHash(module.moduleID, 'sectionMenu')}>\n\t\t<i>${i18n(module.moduleName)}</i>\n\t\t<span class=\"RESMenuItemButton gearIcon\"></span>\n\t</a></li>`);\n\n\treturn fragment;\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { i18n } from '../environment';\nimport { WEEK, isPageType, regexes, string } from '../utils';\nimport * as Notifications from './notifications';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('profileRedirect');\n\nmodule.moduleName = 'profileRedirectName';\nmodule.category = 'usersCategory';\nmodule.description = 'profileRedirectDesc';\nmodule.keywords = ['legacy', 'overview'];\nmodule.include = [\n\t'profile',\n\t'profile2x',\n];\n\nmodule.options = {\n\tfromLandingPage: {\n\t\ttitle: 'profileRedirectFromLandingPageTitle',\n\t\tdescription: 'profileRedirectFromLandingPageDesc',\n\t\tkeywords: ['legacy', 'overview'],\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'Do nothing',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Overview (legacy)',\n\t\t\tvalue: 'overview',\n\t\t}, {\n\t\t\tname: 'Comments',\n\t\t\tvalue: 'comments',\n\t\t}, {\n\t\t\tname: 'Submitted (legacy)',\n\t\t\tvalue: 'submitted',\n\t\t}, {\n\t\t\tname: 'Gilded',\n\t\t\tvalue: 'gilded',\n\t\t}, {\n\t\t\tname: 'Custom',\n\t\t\tvalue: 'custom',\n\t\t}],\n\t},\n\tcustomFromLandingPage: {\n\t\tdependsOn: options => options.fromLandingPage.value === 'custom',\n\t\ttitle: 'profileRedirectCustomFromLandingPageTitle',\n\t\tdescription: 'profileRedirectCustomFromLandingPageDesc',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t},\n};\n\nmodule.beforeLoad = function() {\n\tconst [, username, currentSection] = regexes.profile2x.exec(location.pathname) || [];\n\tif (username && !currentSection) {\n\t\tif (module.options.fromLandingPage.value !== 'none') {\n\t\t\tconst preferredSection = module.options.fromLandingPage.value === 'custom' ?\n\t\t\t\tmodule.options.customFromLandingPage.value :\n\t\t\t\tmodule.options.fromLandingPage.value;\n\t\t\twindow.location.replace(`/user/${username}/${preferredSection}`);\n\t\t} else if (isPageType('profile2x')) {\n\t\t\tconst message = string.html`\n\t\t\t\t<div>\n\t\t\t\t\t<p>${i18n('profileRedirectFromLandingPageNotificationText')}</p>\n\t\t\t\t\t<p><a class=\"RESNotificationButtonBlue\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID, 'fromLandingPage')}\">${i18n('profileRedirectFromLandingPageNotificationButton')}</a></p>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\tconst notification = Notifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'fromLandingPage',\n\t\t\t\theader: i18n('profileRedirectFromLandingPageNotificationTitle'),\n\t\t\t\tmessage,\n\t\t\t\tcooldown: WEEK,\n\t\t\t});\n\n\t\t\tmessage.querySelector('.RESNotificationButtonBlue').addEventListener('click', () => {\n\t\t\t\tnotification.close();\n\t\t\t});\n\t\t}\n\t}\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { BodyClasses, frameThrottle, watchForThings } from '../utils';\nimport { inQuarantinedSubreddit } from '../utils/location';\n\nexport const module: Module<*> = new Module('quarantineHide');\n\nmodule.moduleName = 'quarantineHideName'; // i18n\nmodule.category = 'appearanceCategory';\nmodule.description = 'quarantineHideDesc'; // i18n\nmodule.options = {\n\thideFlair: {\n\t\ttitle: 'quarantineHideFlairTitle', // i18n\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'quarantineHideFlairDesc', // i18n\n\t},\n\thideQuarantinedInSub: {\n\t\ttitle: 'quarantineHideInSubTitle', // i18n\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'quarantineHideInSubDesc', // i18n\n\t},\n};\n\nmodule.include = ['linklist', 'comments', 'wiki'];\n\nmodule.contentStart = () => {\n\tif (module.options.hideFlair.value) {\n\t\twatchForThings(['post'], frameThrottle(() => { $('.quarantine-stamp').parent().remove(); }));\n\t}\n\tif (inQuarantinedSubreddit() && module.options.hideQuarantinedInSub.value) {\n\t\tBodyClasses.remove('quarantine');\n\t\t$('.quarantine-notice').hide();\n\t}\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('redditUserInfo');\n\nmodule.moduleName = 'redditUserInfoName';\nmodule.category = 'usersCategory';\nmodule.description = 'redditUserInfoDesc';\nmodule.options = {\n\thideAuthorTooltip: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'redditUserInfoHideDesc',\n\t\ttitle: 'redditUserInfoHideTitle',\n\t\tbodyClass: true,\n\t},\n};\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('requestPermissions');\n\nmodule.moduleName = 'requestPermissionsName';\nmodule.description = 'requestPermissionsDesc';\nmodule.category = 'aboutCategory';\nmodule.disabledByDefault = true;\nmodule.permissions = {\n\tget requiredPermissions() { return (chrome: any).runtime.getManifest().optional_permissions; }, // eslint-disable-line no-undef\n};\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { markdown } from 'snudown-js';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport { Alert, CreateElement, downcast, empty, string } from '../utils';\nimport { i18n } from '../environment';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('search');\n\nmodule.moduleName = 'searchName';\nmodule.category = 'aboutCategory';\nmodule.alwaysEnabled = true;\nmodule.sort = -9;\nmodule.description = `\n\t<p>Search for settings within RES.</p>\n\t<div id=\"SearchRES-results-container\">\n\t\t<div id=\"SearchRES-count\"></div>\n\t\t<ul id=\"SearchRES-results\"></ul>\n\t\t<p id=\"SearchRES-results-hidden\">Some results have been hidden because advanced options are currently hidden. <a href=\"#\">Show advanced options.</a></p>\n\t</div>\n\t<div id=\"SearchRES-boilerplate\">\n\t\t<p>You can search for RES options by module name, option name, and description. For example, try searching for \"daily trick\" in one of the following ways:</p>\n\t\t<ul>\n\t\t\t<li>type <code>daily trick</code> in the search box to the left and click the magnifying glass button</li>\n\t\t\t<li>press <code>.</code> to open the RES console, type in <code>search <em>daily trick</em></code>, and press Enter</li>\n\t\t</ul>\n\t</div>\n`;\nmodule.descriptionRaw = true;\n\nconst PRESERVE_SPACES = true;\n\nexport function search(query: string = input().value) {\n\tinput().value = query;\n\n\tif (!query) {\n\t\tdrawSearchResults(query, []);\n\t\treturn;\n\t}\n\n\tconst sanitizedQuery = sanitizeString(query, PRESERVE_SPACES);\n\tconst queryTerms = sanitizedQuery && sanitizedQuery.length ? sanitizedQuery.split(' ') : [];\n\tlet results = [];\n\n\t// Search options\n\tif (queryTerms && queryTerms.length) {\n\t\tresults = searchDomain()\n\t\t\t.map(item => ({\n\t\t\t\trank: item.getRank(queryTerms, item.context),\n\t\t\t\tcontext: item.context,\n\t\t\t}))\n\t\t\t.filter(item => item.rank !== Infinity)\n\t\t\t.sort((a, b) => b.rank - a.rank)\n\t\t\t.map(item => item.context);\n\t}\n\n\tdrawSearchResults(query, results);\n}\n\ntype SearchItemContext = {|\n\ttitle: string,\n\tdescription: string,\n\tcategory: string,\n\tmoduleID: string,\n\tmoduleName: string,\n\tkeywords: string[],\n\tadvanced?: boolean,\n\toptionKey?: string,\n\toptionName?: string,\n|};\n\nconst searchDomain = _.once(() => {\n\tconst results = [];\n\tfor (const mod of Modules.all()) {\n\t\tif (mod === module) continue;\n\n\t\tif (mod.hidden) continue;\n\n\t\tconst moduleName = i18n(mod.moduleName);\n\t\tconst category = i18n(mod.category);\n\n\t\tresults.push({\n\t\t\tgetRank: rankModule,\n\t\t\tcontext: ({\n\t\t\t\ttitle: moduleName,\n\t\t\t\tdescription: mod.descriptionRaw ? mod.description : markdown(i18n(mod.description)),\n\t\t\t\tcategory,\n\t\t\t\tmoduleID: mod.moduleID,\n\t\t\t\tmoduleName,\n\t\t\t\tkeywords: mod.keywords,\n\t\t\t}: SearchItemContext),\n\t\t});\n\n\t\tif (_.isEmpty(mod.options)) continue;\n\n\t\tfor (const [optionKey, option] of Object.entries(mod.options)) {\n\t\t\tif (option.noconfig) continue;\n\n\t\t\tconst optionName = i18n(option.title);\n\n\t\t\tresults.push({\n\t\t\t\tgetRank: rankOption,\n\t\t\t\tcontext: ({\n\t\t\t\t\ttitle: optionName,\n\t\t\t\t\tdescription: markdown(i18n(option.description).split('\\n')[0]),\n\t\t\t\t\tadvanced: option.advanced,\n\t\t\t\t\tcategory,\n\t\t\t\t\tmoduleID: mod.moduleID,\n\t\t\t\t\tmoduleName,\n\t\t\t\t\toptionKey,\n\t\t\t\t\toptionName,\n\t\t\t\t\tkeywords: option.keywords || [],\n\t\t\t\t}: SearchItemContext),\n\t\t\t});\n\t\t}\n\t}\n\n\treturn results;\n});\n\nfunction rankString(queryTerms, string) {\n\tif (!queryTerms || !queryTerms.length || !string) {\n\t\treturn Infinity;\n\t}\n\tconst indexes = indexesOfSearchTermsInString(queryTerms, sanitizeString(string, false));\n\t// Better score: lower value and lower matchedIndex\n\tconst weighted = indexes.map(item => 100 - (item.value * ((Math.log(item.matchedIndex + 1) / Math.log(5)) + 1)));\n\treturn weighted.length ?\n\t\tweighted.reduce((a, b) => a + b, 0) :\n\t\tInfinity;\n}\n\n/**\n * Builds a string with searchable properties of a module for rankString function.\n */\nfunction rankModule(queryTerms, context) {\n\tconst string = [\n\t\tcontext.moduleID,\n\t\tcontext.moduleName,\n\t\tcontext.category,\n\t\tcontext.description,\n\t\t...context.keywords,\n\t].join('~');\n\treturn rankString(queryTerms, string) * 0.9;\n}\n\n/**\n * Builds a string with searchable properties of an option for rankString function.\n */\nfunction rankOption(queryTerms, context) {\n\tconst string = [\n\t\t// option-related strings\n\t\tcontext.optionKey,\n\t\tcontext.title,\n\t\tcontext.description,\n\t\t...context.keywords,\n\t\t// module-related strings\n\t\tcontext.moduleID,\n\t\tcontext.moduleName,\n\t\tcontext.category,\n\t].join('~');\n\treturn rankString(queryTerms, string);\n}\n\nfunction indexesOfSearchTermsInString(needles, haystack) {\n\tif (!haystack || !haystack.length) return [];\n\n\treturn needles\n\t\t.map((needle, i) => ({\n\t\t\tmatchedIndex: i,\n\t\t\tvalue: haystack.indexOf(needle),\n\t\t}))\n\t\t.filter(item => item.value !== -1);\n}\n\nfunction sanitizeString(text, preserveSpaces) {\n\tif (text === undefined || text === null) {\n\t\treturn '';\n\t}\n\n\tconst replaceSpacesWith = preserveSpaces ? ' ' : '';\n\treturn text.toString().toLowerCase()\n\t\t.replace(/[,\\/\\s]+/g, replaceSpacesWith);\n}\n\nfunction onSearchResultSelected(moduleID, optionKey) {\n\tSettingsNavigation.open(moduleID, optionKey);\n}\n\n// ---------- View ------\nexport const input = _.once(() => downcast(string.html`<input id=\"SearchRES-input\" type=\"text\" placeholder=\"${i18n('searchRESSettings')}\">`, HTMLInputElement));\n\nfunction drawSearchResults(query, results: Array<*>) {\n\tconst $resultsContainer = $('#SearchRES-results-container');\n\t$resultsContainer.off('click', handleSearchResultClick)\n\t\t.on('click', '.SearchRES-result-item', handleSearchResultClick);\n\n\tif (!query || !query.length) {\n\t\t$resultsContainer.hide();\n\t\treturn;\n\t}\n\n\tconst advancedResults = results.filter(({ advanced }) => advanced).length;\n\tconst count = results.length - advancedResults;\n\n\t// display number of results.\n\tconst plural = (count !== 1 ? 's' : '');\n\tconst resultsMessage = `${count} result${plural} for ${query}`;\n\t$('#SearchRES-count').text(resultsMessage);\n\n\t$resultsContainer.show();\n\t$resultsContainer.find('#SearchRES-query').text(query);\n\n\tif (advancedResults) {\n\t\t$resultsContainer.find('#SearchRES-results-hidden').addClass('advancedResults');\n\t\t$('#SearchRES-results-hidden a').off('click').on('click', () => {\n\t\t\t$(document.getElementById('RESAllOptions')).click();\n\t\t\tsearch();\n\t\t\treturn false;\n\t\t});\n\t} else {\n\t\t$resultsContainer.find('#SearchRES-results-hidden').removeClass('advancedResults');\n\t}\n\n\tif (!results.length) {\n\t\t$resultsContainer.find('#SearchRES-results').hide();\n\t} else {\n\t\t$resultsContainer.find('#SearchRES-results').show();\n\n\t\tconst resultsList = document.getElementById('SearchRES-results');\n\n\t\tempty(resultsList);\n\t\tresultsList.append(...results.map(drawSearchResultItem));\n\t}\n}\n\nconst searchResultTemplate = ({ title, category, description, moduleName, moduleID, optionName, optionKey }) => string.html`\n\t<div>\n\t\t<div class=\"SearchRES-result-header\">\n\t\t\t<span class=\"SearchRES-result-title\">${title}</span>\n\t\t\t<span class=\"SearchRES-breadcrumb\">${i18n('RESSettingsConsole')}\n\t\t\t\t ${category}\n\t\t\t\t ${moduleName} (${moduleID})\n\t\t\t\t${(optionName && optionKey) ? `  ${optionName} (${optionKey})` : optionKey && `  ${optionKey}`}\n\t\t\t</span>\n\t\t</div>\n\t\t<div class=\"SearchRES-result-description\">\n\t\t\t${string.safe(description)}\n\t\t</div>\n\t</div>\n`;\n\nconst drawSearchResultItem = _.memoize(result => {\n\tconst element = document.createElement('li');\n\telement.classList.add('SearchRES-result-item');\n\tif (result.advanced) {\n\t\telement.classList.add('advanced');\n\t}\n\telement.setAttribute('data-module-id', result.moduleID);\n\tif (result.optionKey) {\n\t\telement.setAttribute('data-option-key', result.optionKey);\n\t}\n\n\telement.appendChild(searchResultTemplate(result));\n\n\tconst copybutton =\n\t\tCreateElement.icon(\n\t\t\t0xF159,\n\t\t\t'span',\n\t\t\t'SearchRES-result-copybutton res-icon',\n\t\t\ti18n('searchCopyResultForComment')\n\t\t);\n\telement.insertBefore(copybutton, element.firstChild);\n\n\treturn element;\n});\n\nfunction handleSearchResultClick(event: Event) {\n\tconst moduleID = this.getAttribute('data-module-id');\n\tconst optionKey = this.getAttribute('data-option-key');\n\n\tif (event.target.classList.contains('SearchRES-result-copybutton')) {\n\t\tonSearchResultCopy(moduleID, optionKey);\n\t} else {\n\t\tonSearchResultSelected(moduleID, optionKey);\n\t}\n\tevent.preventDefault();\n}\n\nfunction onSearchResultCopy(moduleID, optionKey) {\n\tconst markdown = makeOptionSearchResultLink(moduleID, optionKey);\n\tAlert.open(`<textarea rows=\"5\" cols=\"50\">${markdown}</textarea><p>Copy and paste this into your comment</p>`);\n}\n\nconst optionLinkTemplate = ({ title, url, description, settingsUrl, category, moduleName, moduleUrl, moduleID, optionKey, optionUrl }) => `\n**[${title}](${url})** -- [](#gear) [RES settings console](${settingsUrl}) > ${category} > [${moduleName}](${moduleUrl} \"${moduleID}\")${optionKey ? ` > [${optionKey}](${optionUrl})` : ''}\n\n${description}\n`.trim();\n\nfunction makeOptionSearchResultLink(moduleID, optionKey) {\n\tconst module = Modules.get(moduleID);\n\n\tconst context = {\n\t\tmoduleID,\n\t\tmoduleName: i18n(module.moduleName),\n\t\tcategory: i18n(module.category),\n\t\toptionKey,\n\t\ttitle: optionKey ? optionKey : i18n(module.moduleName),\n\t\tdescription: optionKey ? i18n(module.options[optionKey].description) : i18n(module.description),\n\t\turl: SettingsNavigation.makeUrlHash(moduleID, optionKey),\n\t\tsettingsUrl: SettingsNavigation.makeUrlHash(),\n\t\tmoduleUrl: SettingsNavigation.makeUrlHash(moduleID),\n\t\toptionUrl: SettingsNavigation.makeUrlHash(moduleID, optionKey),\n\t};\n\n\treturn `${optionLinkTemplate(context)}\\n\\n\\n`;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tThing,\n\tdowncast,\n\tisPageType,\n\tregexes,\n\tstring,\n} from '../utils';\n\nexport const module: Module<*> = new Module('searchHelper');\n\nmodule.moduleName = 'searchHelperName';\nmodule.category = 'browsingCategory';\nmodule.description = 'searchHelperDesc';\nmodule.options = {\n\taddSearchOptions: {\n\t\ttitle: 'searchHelperAddSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperAddSearchOptionsDesc',\n\t},\n\tdefaultSortOption: {\n\t\ttitle: 'searchHelperDefaultSortOptionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'relevance',\n\t\t\tvalue: 'relevance',\n\t\t}, {\n\t\t\tname: 'new',\n\t\t\tvalue: 'new',\n\t\t}, {\n\t\t\tname: 'hot',\n\t\t\tvalue: 'hot',\n\t\t}, {\n\t\t\tname: 'top',\n\t\t\tvalue: 'top',\n\t\t}, {\n\t\t\tname: 'comments',\n\t\t\tvalue: 'comments',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultSortOptionDesc',\n\t\tdependsOn: options => options.addSearchOptions.value,\n\t\tadvanced: true,\n\t},\n\tdefaultTimeOption: {\n\t\ttitle: 'searchHelperDefaultTimeOptionTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'all',\n\t\t\tvalue: 'all',\n\t\t}, {\n\t\t\tname: 'hour',\n\t\t\tvalue: 'hour',\n\t\t}, {\n\t\t\tname: 'day',\n\t\t\tvalue: 'day',\n\t\t}, {\n\t\t\tname: 'week',\n\t\t\tvalue: 'week',\n\t\t}, {\n\t\t\tname: 'month',\n\t\t\tvalue: 'month',\n\t\t}, {\n\t\t\tname: 'year',\n\t\t\tvalue: 'year',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultTimeOptionDesc',\n\t\tdependsOn: options => options.addSearchOptions.value,\n\t\tadvanced: true,\n\t},\n\tlegacySearch: {\n\t\ttitle: 'searchHelperLegacySearchTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperLegacySearchDesc',\n\t},\n\ttoggleSearchOptions: {\n\t\ttitle: 'searchHelperToggleSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperToggleSearchOptionsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.legacySearch.value,\n\t},\n\thideSearchOptions: {\n\t\ttitle: 'searchHelperHideSearchOptionsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperHideSearchOptionsDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.legacySearch.value,\n\t},\n\tuserFilterBySubreddit: {\n\t\ttitle: 'searchHelperUserFilterBySubredditTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'searchHelperUserFilterBySubredditDesc',\n\t},\n\tsearchByFlair: {\n\t\ttitle: 'searchHelperSearchByFlairTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperSearchByFlairDesc',\n\t},\n\tsearchPageTabs: {\n\t\ttitle: 'searchHelperSearchPageTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperSearchPageTabsDesc',\n\t\tbodyClass: true,\n\t},\n\tdefaultSearchTab: {\n\t\ttitle: 'searchHelperDefaultSearchTabTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'subreddits',\n\t\tvalues: [{\n\t\t\tname: 'none',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'subreddits',\n\t\t\tvalue: 'subreddits',\n\t\t}, {\n\t\t\tname: 'limit to subreddit',\n\t\t\tvalue: 'facets',\n\t\t}, {\n\t\t\tname: 'refine',\n\t\t\tvalue: 'options',\n\t\t}],\n\t\tdescription: 'searchHelperDefaultSearchTabDesc',\n\t\tdependsOn: options => options.searchPageTabs.value,\n\t\tadvanced: true,\n\t},\n\ttransitionSearchTabs: {\n\t\ttitle: 'searchHelperTransitionSearchTabsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'searchHelperTransitionSearchTabsDesc',\n\t\tdependsOn: options => options.searchPageTabs.value,\n\t\tadvanced: true,\n\t},\n\tsearchBySubreddit: {\n\t\ttitle: 'searchHelperSearchBySubredditTitle',\n\t\ttype: 'enum',\n\t\tvalue: 'default',\n\t\tvalues: [{\n\t\t\tname: 'default (let reddit manage it)',\n\t\t\tvalue: 'default',\n\t\t}, {\n\t\t\tname: 'always',\n\t\t\tvalue: 'always',\n\t\t}, {\n\t\t\tname: 'never',\n\t\t\tvalue: 'never',\n\t\t}],\n\t\tdescription: 'searchHelperSearchBySubredditDesc',\n\t},\n};\n\nmodule.contentStart = () => {\n\tif (module.options.addSearchOptions.value) {\n\t\tconst searchExpando = document.getElementById('searchexpando');\n\t\tif (searchExpando) {\n\t\t\tlet searchOptionsHtml = '<label>Sort:<select name=\"sort\"><option value=\"relevance\">relevance</option><option value=\"new\">new</option><option value=\"hot\">hot</option><option value=\"top\">top</option><option value=\"comments\">comments</option></select></label> <label>Time:<select name=\"t\"><option value=\"all\">all time</option><option value=\"hour\">this hour</option><option value=\"day\">today</option><option value=\"week\">this week</option><option value=\"month\">this month</option><option value=\"year\">this year</option></select></label>';\n\t\t\tif ($(searchExpando).find('input[name=restrict_sr]').length) { // we don't want to add the new line if we are on the front page\n\t\t\t\tsearchOptionsHtml = `<br />${searchOptionsHtml}`;\n\t\t\t}\n\t\t\tif (module.options.defaultSortOption.value !== 'none') {\n\t\t\t\tconst defaultValue = module.options.defaultSortOption.value;\n\t\t\t\tsearchOptionsHtml = searchOptionsHtml.replace(`value=\"${defaultValue}\"`, `value=\"${defaultValue}\" selected`);\n\t\t\t}\n\t\t\tif (module.options.defaultTimeOption.value !== 'none') {\n\t\t\t\tconst defaultValue = module.options.defaultTimeOption.value;\n\t\t\t\tsearchOptionsHtml = searchOptionsHtml.replace(`value=\"${defaultValue}\"`, `value=\"${defaultValue}\" selected`);\n\t\t\t}\n\t\t\t$(searchExpando).find('#moresearchinfo').before(searchOptionsHtml);\n\t\t}\n\t}\n\tif (module.options.legacySearch.value) {\n\t\t$('form#search').append('<input type=\"hidden\" name=\"feature\" value=\"legacy_search\" />');\n\t}\n\tif (module.options.userFilterBySubreddit.value) {\n\t\tconst [, userProfile] = location.pathname.match(regexes.profile) || [];\n\t\tif (userProfile && document.referrer) {\n\t\t\tconst referrer = new URL(document.referrer);\n\t\t\tlet match, previousPage;\n\t\t\tif ((match = referrer.pathname.match(regexes.subreddit))) {\n\t\t\t\tpreviousPage = `r/${match[1]}`;\n\t\t\t} else if ((match = referrer.pathname.match(regexes.multireddit))) {\n\t\t\t\tpreviousPage = match[1];\n\t\t\t}\n\t\t\tif (previousPage) {\n\t\t\t\t$('.content[role=main]').prepend(`<div class=\"infobar\"><a href=\"/${previousPage}/search?q=author:${userProfile} nsfw:no&restrict_sr=on\">Search post of ${userProfile} on /${previousPage}</a></div>`);\n\t\t\t}\n\t\t}\n\t}\n\tconst isLegacySearch = document.querySelector('#siteTable');\n\tif (module.options.toggleSearchOptions.value && isPageType('search') && isLegacySearch) {\n\t\tif (module.options.hideSearchOptions.value || location.hash === '#res-hide-options') {\n\t\t\tBodyClasses.add('res-hide-options');\n\t\t}\n\t\t$('.content .searchpane').append('<a href=\"#res-hide-options\" class=\"searchpane-toggle-hide\">hide search options</a>');\n\t\t$('.content .searchpane ~ .menuarea').prepend('<a href=\"#res-show-options\" class=\"searchpane-toggle-show\">show search options</a>');\n\t\t$('.searchpane-toggle-hide').on('click', () => BodyClasses.add('res-hide-options'));\n\t\t$('.searchpane-toggle-show').on('click', () => BodyClasses.remove('res-hide-options'));\n\t}\n\tif (module.options.searchByFlair.value) {\n\t\t$('#siteTable').on('mouseenter', '.linkflairlabel:not(.res-flairSearch)', (e: JQueryMouseEventObject) => {\n\t\t\tconst subreddit = Thing.checkedFrom(e.target).getSubreddit();\n\t\t\tconst flair = e.target.title.replace(/\\s/g, '+');\n\t\t\tif (flair) {\n\t\t\t\te.target.classList.add('res-flairSearch');\n\t\t\t\te.target.appendChild(string.html`<a href=\"${string.encode`/r/${subreddit}/search?sort=new&restrict_sr=on&q=flair%3A${flair}`}\"></a>`);\n\t\t\t}\n\t\t});\n\t}\n\n\t// Group search options into tabs.\n\tif (module.options.searchPageTabs.value && !isLegacySearch) {\n\t\t// Variables.\n\t\tconst $searchTabsEle = $('<ul>', { class: 'res-search-tabs' });\n\t\tconst searchHeader = document.querySelector('#previoussearch');\n\t\tconst searchForm = document.querySelector('.content form#search');\n\t\tconst moreSearchInfo = document.querySelector('#moresearchinfo');\n\t\tconst searchFacets = document.querySelector('body.search-page .searchfacets');\n\t\tconst $searchOptions = $('<div>', { class: 'res-search-options' });\n\n\t\t// Don't continue if search form isn't present. e.g. on /search/404.\n\t\tif (!searchForm) { return; }\n\n\t\tsearchForm.removeChild(searchForm.querySelector('#moresearchinfo + p'));\n\n\t\t$searchTabsEle.appendTo(searchHeader);\n\n\t\t// Create a class for the subreddit results container.\n\t\tconst subredditResultListing = document.querySelectorAll('.search-result-listing');\n\t\tif (subredditResultListing.length > 1) {\n\t\t\tsubredditResultListing[0].classList.add('res-search-subreddits');\n\t\t}\n\n\t\t// Set up search panes.\n\t\tif (moreSearchInfo) {\n\t\t\t$searchOptions.appendTo(searchHeader);\n\t\t\t$(moreSearchInfo).children().appendTo($searchOptions);\n\t\t}\n\t\tif (searchFacets) {\n\t\t\t$(searchFacets).appendTo(searchHeader);\n\t\t}\n\t\tif ($('.res-search-subreddits').length) {\n\t\t\t$('.res-search-subreddits').appendTo(searchHeader);\n\t\t}\n\n\t\t// Create tabs object.\n\t\tconst searchTabs = {\n\t\t\tsubreddits: {\n\t\t\t\tlabel: 'subreddits',\n\t\t\t\tid: 'subs',\n\t\t\t\ttarget: '.res-search-subreddits',\n\t\t\t\texists: $('.res-search-subreddits').length,\n\t\t\t},\n\t\t\tfacets: {\n\t\t\t\tlabel: 'limit to subreddit',\n\t\t\t\tid: 'facets',\n\t\t\t\ttarget: '.searchfacets',\n\t\t\t\texists: searchFacets,\n\t\t\t},\n\t\t\toptions: {\n\t\t\t\tlabel: 'refine',\n\t\t\t\tid: 'options',\n\t\t\t\ttarget: '.res-search-options',\n\t\t\t\texists: $searchOptions.get(0),\n\t\t\t},\n\t\t};\n\n\t\tfor (const searchTab of Object.values(searchTabs)) {\n\t\t\tif (searchTab.exists) {\n\t\t\t\t// Add common class to each tab pane.\n\t\t\t\t$(searchTab.target)\n\t\t\t\t\t.addClass('res-search-pane')\n\t\t\t\t\t.slideUp(0);\n\n\t\t\t\t// Build tabs in DOM.\n\t\t\t\tconst $searchTabLi = $('<li>')\n\t\t\t\t\t.attr({ class: `res-search-tab-${searchTab.id}` })\n\t\t\t\t\t.appendTo($searchTabsEle);\n\n\t\t\t\t$('<a>')\n\t\t\t\t\t.attr({ href: '#' })\n\t\t\t\t\t.text(searchTab.label)\n\t\t\t\t\t.appendTo($searchTabLi)\n\t\t\t\t\t.click(e => searchTabToggle(searchTab.id, searchTab.target, e.target));\n\t\t\t}\n\t\t}\n\n\t\t// Set default tab if specified and if it exists on the page.\n\t\tif (module.options.defaultSearchTab.value !== 'none' && searchTabs[module.options.defaultSearchTab.value].exists) {\n\t\t\tsearchTabToggle(\n\t\t\t\tsearchTabs[module.options.defaultSearchTab.value].id,\n\t\t\t\tsearchTabs[module.options.defaultSearchTab.value].target,\n\t\t\t\tnull\n\t\t\t);\n\t\t}\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (module.options.searchBySubreddit.value !== 'default' && !isPageType('search')) {\n\t\tconst restrictSearch = document.querySelector('input[name=restrict_sr]');\n\t\tif (restrictSearch /*:: && restrictSearch instanceof HTMLInputElement */) {\n\t\t\trestrictSearch.checked = (module.options.searchBySubreddit.value === 'always');\n\t\t}\n\t}\n};\n\nfunction searchTabToggle(tabID, target, source: HTMLElement | null) {\n\tconst transitionSpd = (module.options.transitionSearchTabs.value) ? 200 : 0;\n\t// Check whether the tab was selected through code or with a click.\n\tconst sourceParent = source ? downcast(source.parentNode, HTMLElement) : null;\n\tconst tab: HTMLElement = sourceParent || document.querySelector(`.res-search-tabs .res-search-tab-${tabID}`);\n\tconst activeClass = 'res-search-tab-active';\n\tconst openClass = 'res-search-pane-open';\n\n\t// Close the pane if its tab was already active, else open it.\n\tif (tab.classList.contains(activeClass)) {\n\t\t$(target).removeClass(openClass).slideUp(transitionSpd);\n\t\ttab.classList.remove(activeClass);\n\t} else {\n\t\t$('.res-search-pane').addClass(openClass).slideUp(transitionSpd);\n\t\t$('.res-search-tabs li').removeClass(activeClass);\n\t\t$('.res-search-pane').removeClass(openClass);\n\t\ttab.classList.add(activeClass);\n\t\tconst speed = sourceParent ? transitionSpd : 0;\n\t\t$(target).addClass(openClass).slideDown(speed);\n\t}\n\n\treturn false;\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\tThing,\n\tSelectedThing,\n\taddCSS,\n\tclick,\n} from '../utils';\n\nexport const module: Module<*> = new Module('selectedEntry');\n\nmodule.moduleName = 'selectedEntryName';\nmodule.category = 'browsingCategory';\nmodule.include = ['comments', 'linklist', 'commentsLinklist', 'modqueue', 'profile', 'inbox', 'search'];\nmodule.description = 'selectedEntryDesc';\n\nmodule.options = {\n\tautoSelectOnScroll: {\n\t\ttitle: 'selectedEntryAutoSelectOnScrollTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'selectedEntryAutoSelectOnScrollDesc',\n\t},\n\tscrollToSelectedThingOnLoad: {\n\t\ttitle: 'selectedEntryScrollToSelectedThingOnLoadTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tadvanced: true,\n\t\tdescription: 'selectedEntryScrollToSelectedThingOnLoadDesc',\n\t},\n\taddLine: {\n\t\ttitle: 'selectedEntryAddLineTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'selectedEntryAddLineDesc',\n\t},\n\tsetColors: {\n\t\ttitle: 'selectedEntrySetColorsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'selectedEntrySetColorsDesc',\n\t},\n\tbackgroundColor: {\n\t\ttitle: 'selectedEntryBackgroundColorTitle',\n\t\ttype: 'color',\n\t\tvalue: '#F0F3FC',\n\t\tdescription: 'selectedEntryBackgroundColorDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\tbackgroundColorNight: {\n\t\ttitle: 'selectedEntryBackgroundColorNightTitle',\n\t\ttype: 'color',\n\t\tvalue: '#373737',\n\t\tdescription: 'selectedEntryBackgroundColorNightDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\ttextColorNight: {\n\t\ttitle: 'selectedEntryTextColorNightTitle',\n\t\ttype: 'color',\n\t\tvalue: '#DDDDDD',\n\t\tdescription: 'selectedEntryTextColorNightDesc',\n\t\tadvanced: true,\n\t\tdependsOn: options => options.setColors.value,\n\t},\n\toutlineStyle: {\n\t\ttitle: 'selectedEntryOutlineStyleTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'selectedEntryOutlineStyleDesc',\n\t\tadvanced: true,\n\t},\n\toutlineStyleNight: {\n\t\ttitle: 'selectedEntryOutlineStyleNightTitle',\n\t\ttype: 'text',\n\t\tvalue: '',\n\t\tdescription: 'selectedEntryOutlineStyleNightDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.addLine.value) styleLine();\n\tif (module.options.setColors.value) styleColor();\n\tstyleOutline();\n\n\tSelectedThing.setScrollToSelectedThingOnLoad(module.options.scrollToSelectedThingOnLoad.value);\n};\n\nmodule.contentStart = () => {\n\t// Select Thing on manual click\n\t// In comment threads `thingSelector` may match parents of `e.target`; throttle in order to invoke `select` only on the bottom Thing\n\t$(document.body).on('mouseup', Thing.thingSelector, _.throttle((e: MouseEvent) => {\n\t\tif (click.isProgrammaticEvent(e)) return;\n\t\tconst thing = Thing.from(e.target);\n\t\tif (thing) SelectedThing.set(thing);\n\t}, 50, { leading: true, trailing: false }));\n\n\tif (module.options.autoSelectOnScroll.value) {\n\t\twindow.addEventListener('scroll', () => { SelectedThing.selectClosestInView(); });\n\t}\n};\n\nmodule.afterLoad = () => {\n\tif (!SelectedThing.current || !SelectedThing.current.isVisible()) SelectedThing.selectClosestInView();\n};\n\n// why !important on .entry.res-selected?  Because some subreddits are unfortunately using !important for no good reason on .entry divs...\n\nfunction styleLine() {\n\taddCSS(`\n\t\t.entry.res-selected { box-shadow: 3px 0 0 -1px #c2d2e0 !important; }\n\t\t.res-nightmode .entry.res-selected { box-shadow: 3px 0 0 -1px grey !important; }\n\t`);\n}\n\nfunction styleColor() {\n\t// Add legacy classes for external stylesheets which override these styles\n\tSelectedThing.addListener((current, previous) => {\n\t\tif (previous) {\n\t\t\tprevious.entry.classList.remove('RES-keyNav-activeElement');\n\t\t\tprevious.element.classList.remove('RES-keyNav-activeThing');\n\t\t}\n\t\tif (current) {\n\t\t\tcurrent.entry.classList.add('RES-keyNav-activeElement');\n\t\t\tcurrent.element.classList.add('RES-keyNav-activeThing');\n\t\t}\n\t}, 'instantly');\n\n\tconst backgroundColor = module.options.backgroundColor.value ? `\n\t\t.entry.res-selected,\n\t\t.entry.res-selected .md-container {\n\t\t\tbackground-color: ${module.options.backgroundColor.value} !important;\n\t\t}` : '';\n\n\tconst backgroundColorNight = module.options.backgroundColorNight.value ? `\n\t\t.res-nightmode .entry.res-selected,\n\t\t.res-nightmode .entry.res-selected .md-container {\n\t\t\tbackground-color: ${module.options.backgroundColorNight.value} !important;\n\t\t}` : '';\n\n\tconst textColorNight = module.options.textColorNight.value ? `\n\t\t.res-nightmode .entry.res-selected > .tagline,\n\t\t.res-nightmode .entry.res-selected .md-container > .md,\n\t\t.res-nightmode .entry.res-selected .md-container > .md p {\n\t\t\tcolor: ${module.options.textColorNight.value} !important;\n\t\t}` : '';\n\n\taddCSS(backgroundColor + backgroundColorNight + textColorNight);\n}\n\nfunction styleOutline() {\n\tconst outlineStyle = module.options.outlineStyle.value ? `\n\t\t.entry.res-selected {\n\t\t\toutline: ${module.options.outlineStyle.value};\n\t\t}` : '';\n\n\tconst outlineStyleNight = module.options.outlineStyleNight.value ? `\n\t\t.res-nightmode .entry.res-selected {\n\t\t\toutline: ${module.options.outlineStyleNight.value};\n\t\t}\n\t` : '';\n\n\tconst style = outlineStyle + outlineStyleNight;\n\tif (style) {\n\t\taddCSS(style);\n\t}\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { empty, formatDate, formatDateDiff, formatNumber, getUserInfo, loggedInUser, string } from '../utils';\n\nexport const module: Module<*> = new Module('showKarma');\n\nmodule.moduleName = 'showKarmaName';\nmodule.category = 'myAccountCategory';\nmodule.description = 'showKarmaDesc';\nmodule.options = {\n\tshowCommentKarma: {\n\t\ttitle: 'showKarmaShowCommentKarmaTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showKarmaShowCommentKarmaDesc',\n\t},\n\tseparator: {\n\t\ttitle: 'showKarmaSeparatorTitle',\n\t\ttype: 'text',\n\t\tvalue: '\\u00b7',\n\t\tdescription: 'showKarmaSeparatorDesc',\n\t\tadvanced: true,\n\t},\n\tuseCommas: {\n\t\ttitle: 'showKarmaUseCommasTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'showKarmaUseCommasDesc',\n\t},\n\tshowGold: {\n\t\ttitle: 'showKarmaShowGoldTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'showKarmaShowGoldDesc',\n\t},\n};\n\nmodule.contentStart = async () => {\n\tif (!loggedInUser()) return;\n\n\tconst { data } = await getUserInfo();\n\n\tupdateKarmaDiv(data);\n\n\tif (module.options.showGold.value && data.is_gold) {\n\t\tdisplayGold(data.gold_expiration);\n\t}\n};\n\nfunction updateKarmaDiv(data) {\n\tconst karmaDiv = document.querySelector('#header-bottom-right .userkarma');\n\tif (!karmaDiv) return;\n\n\tkarmaDiv.title = '';\n\tempty(karmaDiv);\n\n\tkarmaDiv.append(string.html`<a title=\"post karma\" href=\"/user/me/submitted/\">${module.options.useCommas.value ? formatNumber(data.link_karma) : data.link_karma}</a>`);\n\n\tif (module.options.showCommentKarma.value) {\n\t\tkarmaDiv.append(\n\t\t\tmodule.options.separator.value,\n\t\t\tstring.html`<a title=\"comment karma\" href=\"/user/me/comments/\">${module.options.useCommas.value ? formatNumber(data.comment_karma) : data.comment_karma}</a>`\n\t\t);\n\t}\n}\n\n// If the user has gold and would like to, display the gilded-icon in the user span.\nfunction displayGold(expires: number) {\n\t// Get the user <span> located in the userbar\n\tconst userSpan = document.querySelector('#header-bottom-right .user');\n\tif (!userSpan) return;\n\n\tconst today = new Date();\n\tconst expDate = new Date(expires * 1000); // s -> ms\n\tconst title = expDate > today ? `Until ${formatDate(expDate)} (${formatDateDiff(today, expDate)})` : '';\n\n\tuserSpan.prepend(string.html`<span title=\"${title}\" class=\"gilded-icon\"></span>`);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { ajax } from '../environment';\nimport { watchForThings, regexes, keyedMutex, preventCloning, string } from '../utils';\n\nexport const module: Module<*> = new Module('sourceSnudown');\n\nmodule.moduleName = 'sourceSnudownName';\nmodule.description = 'sourceSnudownDesc';\nmodule.category = 'commentsCategory';\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post', 'comment', 'message'], attachViewSourceButton);\n};\n\nconst sourceButton = (e => () => preventCloning(e().cloneNode(true)))(_.once(() => {\n\t$(document.body)\n\t\t.on('click', 'li.viewSource a', function(e: Event) {\n\t\t\te.preventDefault();\n\t\t\tviewSource(this);\n\t\t})\n\t\t.on('click', '.usertext-edit.viewSource .cancel', function() {\n\t\t\t$(this).parents('.usertext-edit.viewSource').hide();\n\t\t});\n\n\treturn string.html`\n\t\t<li class=\"viewSource\">\n\t\t\t<a class=\"noCtrlF\" href=\"javascript:void 0\" data-text=\"source\"></a>\n\t\t</li>\n\t`;\n}));\n\nfunction attachViewSourceButton(thing) {\n\t// Link posts don't have any source\n\tif (thing.isLinkPost()) return;\n\n\tconst buttons =\n\t\t// .first is the first button after NSFW/spoiler stamps\n\t\tthing.entry.querySelector('.flat-list.buttons > li.first') ||\n\t\t// but some pages (inbox) don't have the .first class\n\t\tthing.entry.querySelector('.flat-list.buttons > li');\n\tif (buttons) buttons.after(sourceButton());\n}\n\nconst viewSource = keyedMutex(async button => {\n\tconst $button = $(button);\n\tconst $buttonList = $button.closest('ul');\n\tif ($button.data('source-open')) {\n\t\t$button\n\t\t\t.closest('.thing')\n\t\t\t.find('.usertext-edit.viewSource:first')\n\t\t\t.toggle();\n\t} else {\n\t\tconst path = ($buttonList.find('a.bylink, .first a').get(0): any).pathname;\n\n\t\tconst response = await ajax({\n\t\t\turl: `${path}.json`,\n\t\t\tquery: { raw_json: 1 },\n\t\t\ttype: 'json',\n\t\t});\n\n\t\tconst $userTextForm = $('<div class=\"usertext-edit viewSource\"><div><textarea rows=\"1\" cols=\"1\" name=\"text\" readonly></textarea></div><div class=\"bottom-area\"><div class=\"usertext-buttons\"><button type=\"button\" class=\"cancel\">hide</button></div></div></div>');\n\t\t$userTextForm.find('textarea').one('dblclick', () => $userTextForm.removeAttr('readonly'));\n\n\t\tlet sourceText;\n\n\t\tif (regexes.commentPermalink.test(path)) {\n\t\t\tsourceText = response[1].data.children[0].data.body;\n\t\t} else if (regexes.comments.test(path)) {\n\t\t\tsourceText = response[0].data.children[0].data.selftext;\n\t\t} else {\n\t\t\tconst postId: string = ((/\\/(\\w*)\\/?$/).exec(path): any)[1];\n\t\t\tconst data = response.data.children[0].data;\n\t\t\tif (data.id === postId) {\n\t\t\t\tsourceText = data.body;\n\t\t\t} else {\n\t\t\t\t// The message we want is a reply to a PM/modmail, but reddit returns the whole thread.\n\t\t\t\t// So, we have to dig into the replies to find the message we want.\n\t\t\t\tsourceText = data.replies.data.children.find(({ data: { id } }) => id === postId).data.body;\n\t\t\t}\n\t\t}\n\n\t\t$userTextForm.find('textarea[name=text]').text(sourceText);\n\t\t$buttonList.before($userTextForm);\n\t\t$(button).data('source-open', true);\n\t}\n});\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport {\n\tloggedInUser,\n\twatchForThings,\n} from '../utils';\n\nexport const module: Module<*> = new Module('spamButton');\n\nmodule.moduleName = 'spamButtonName';\nmodule.category = 'submissionsCategory';\nmodule.disabledByDefault = true;\nmodule.description = 'spamButtonDesc';\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post', 'comment'], addSpamButton);\n};\n\nfunction addSpamButton(thing) {\n\tconst authorElement = thing.getAuthorElement();\n\tconst authorName = thing.getAuthor();\n\tif (!authorElement || !authorName || loggedInUser() === authorName) return;\n\n\tconst list = thing.entry.querySelector('.buttons');\n\tconst spam = document.createElement('li');\n\t// insert spam button second to last in the list... this is a bit hacky and assumes singleClick is enabled...\n\t// it should probably be made smarter later, but there are so many variations of configs, etc, that it's a bit tricky.\n\t$(list.lastChild).before(spam);\n\n\tconst a = document.createElement('a');\n\ta.setAttribute('class', 'option');\n\ta.setAttribute('title', 'Report this user as a spammer');\n\ta.href = `/message/compose?to=/r/reddit.com&subject=spam&message=${authorElement.href}`;\n\ta.target = '_blank';\n\ta.rel = 'noopener noreferer';\n\ta.textContent = 'rts';\n\tspam.appendChild(a);\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('spoilerTags');\n\nmodule.moduleName = 'spoilerTagsName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'spoilerTagsDesc';\nmodule.include = [\n\t'profile',\n];\nmodule.bodyClass = true;\nmodule.options = {\n\ttransition: {\n\t\ttitle: 'spoilerTagsTransitionTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'spoilerTagsTransitionDesc',\n\t\tbodyClass: true,\n\t},\n};\n","/* @flow */\n\nimport { addCSS } from '../utils';\nimport { Module } from '../core/module';\n\nexport const module: Module<*> = new Module('styleTweaks');\n\nmodule.moduleName = 'styleTweaksName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'styleTweaksDesc';\nmodule.options = {\n\tnavTop: {\n\t\ttitle: 'styleTweaksNavTopTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksNavTopDesc',\n\t\tbodyClass: 'res-navTop',\n\t},\n\tdisableAnimations: {\n\t\ttitle: 'styleTweaksDisableAnimationsTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksDisableAnimationsDesc',\n\t\tbodyClass: true,\n\t},\n\tvisitedStyle: {\n\t\ttitle: 'styleTweaksVisitedStyleTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksVisitedStyleDesc',\n\t\tbodyClass: true,\n\t},\n\tshowExpandos: {\n\t\ttitle: 'styleTweaksShowExpandosTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksShowExpandosDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\thideUnvotable: {\n\t\ttitle: 'styleTweaksHideUnvotableTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksHideUnvotableDesc',\n\t\tbodyClass: true,\n\t},\n\tshowFullLinkFlair: {\n\t\ttitle: 'styleTweaksShowFullLinkFlairTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Never',\n\t\t\tvalue: 'never',\n\t\t}, {\n\t\t\tname: 'On hover',\n\t\t\tvalue: 'hover',\n\t\t}, {\n\t\t\tname: 'Always',\n\t\t\tvalue: 'always',\n\t\t}],\n\t\tvalue: 'never',\n\t\tdescription: 'styleTweaksShowFullLinkFlairDesc',\n\t\tbodyClass: true,\n\t},\n\thighlightEditedTime: {\n\t\ttitle: 'styleTweaksHighlightEditedTimeTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHighlightEditedTimeDesc',\n\t\tbodyClass: true,\n\t},\n\tcolorBlindFriendly: {\n\t\ttitle: 'styleTweaksColorBlindFriendlyTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksColorBlindFriendlyDesc',\n\t\tadvanced: true,\n\t\tbodyClass: 'res-colorblind',\n\t},\n\tscrollSubredditDropdown: {\n\t\ttitle: 'styleTweaksScrollSubredditDropdownTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'styleTweaksScrollSubredditDropdownDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\thighlightTopLevel: {\n\t\ttitle: 'styleTweaksHighlightTopLevelTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHighlightTopLevelDesc',\n\t},\n\thighlightTopLevelColor: {\n\t\ttitle: 'styleTweaksHighlightTopLevelColorTitle',\n\t\ttype: 'color',\n\t\tdependsOn: options => options.highlightTopLevel.value,\n\t\tdescription: 'styleTweaksHighlightTopLevelColorDesc',\n\t\tvalue: '#8B0000',\n\t},\n\thighlightTopLevelSize: {\n\t\ttitle: 'styleTweaksHighlightTopLevelSizeTitle',\n\t\ttype: 'text',\n\t\tdependsOn: options => options.highlightTopLevel.value,\n\t\tdescription: 'styleTweaksHighlightTopLevelSizeDesc',\n\t\tvalue: '2',\n\t},\n\tfloatingSideBar: {\n\t\ttitle: 'styleTweaksFloatingSideBarTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksFloatingSideBarDesc',\n\t\tadvanced: true,\n\t\tbodyClass: true,\n\t},\n\tpostTitleCapitalization: {\n\t\ttitle: 'styleTweaksPostTitleCapitalizationTitle',\n\t\tdescription: 'styleTweaksPostTitleCapitalizationDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'none',\n\t\tvalues: [{\n\t\t\tname: 'do nothing',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Title Case',\n\t\t\tvalue: 'title',\n\t\t}, {\n\t\t\tname: 'Sentence case',\n\t\t\tvalue: 'sentence',\n\t\t}, {\n\t\t\tname: 'lowercase',\n\t\t\tvalue: 'lowercase',\n\t\t}],\n\t\tbodyClass: true,\n\t},\n\thideDomainLink: {\n\t\ttitle: 'styleTweaksHideDomainLink',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'styleTweaksHideDomainLinkDesc',\n\t\tbodyClass: true,\n\t},\n\tflairEmojiAsText: {\n\t\ttitle: 'styleTweaksFlairEmojiAsText',\n\t\tdescription: 'styleTweaksFlairEmojiAsTextDesc',\n\t\ttype: 'enum',\n\t\tvalue: 'never',\n\t\tvalues: [{\n\t\t\tname: 'styleTweaksFlairEmojiAsTextNever',\n\t\t\tvalue: 'never',\n\t\t}, {\n\t\t\tname: 'styleTweaksFlairEmojiAsTextNoSubStyle',\n\t\t\tvalue: 'nosubstyle',\n\t\t}, {\n\t\t\tname: 'styleTweaksFlairEmojiAsTextAlways',\n\t\t\tvalue: 'always',\n\t\t}],\n\t\tbodyClass: true,\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.highlightTopLevel.value) {\n\t\tconst highlightTopLevelColor = module.options.highlightTopLevelColor.value || module.options.highlightTopLevelColor.default;\n\t\tconst highlightTopLevelSize = parseInt(module.options.highlightTopLevelSize.value || module.options.highlightTopLevelSize.default, 10);\n\t\taddCSS(`\n\t\t\t.nestedlisting > .comment + .clearleft {\n\t\t\t\theight: ${highlightTopLevelSize}px !important;\n\t\t\t\tmargin-bottom: 5px;\n\t\t\t\tbackground: ${highlightTopLevelColor} !important;\n\t\t\t}\n\t\t\t.Comment.top-level {\n\t\t\t\tborder-top: ${highlightTopLevelSize}px solid ${highlightTopLevelColor};\n\t\t\t}\n\t\t`);\n\t}\n};\n\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { filter, flow } from 'lodash/fp';\nimport { Module } from '../core/module';\nimport {\n\tBodyClasses,\n\tcurrentMultireddit,\n\tcurrentSubreddit,\n\tcurrentUserProfile,\n\tfilterMap,\n\tloggedInUser,\n\tstring,\n} from '../utils';\nimport * as CustomToggles from './customToggles';\n\nexport const module: Module<*> = new Module('stylesheet');\n\nmodule.moduleName = 'stylesheetName';\nmodule.description = 'stylesheetDesc';\nmodule.category = 'appearanceCategory';\nmodule.exclude = [\n\t'prefs',\n\t'account',\n\t'stylesheet',\n\t'subredditAbout',\n];\n\nmodule.options = {\n\tredditThemes: {\n\t\ttitle: 'stylesheetRedditThemesTitle',\n\t\tdescription: 'stylesheetRedditThemesDesc',\n\t\ttype: 'button',\n\t\ttext: 'learn more',\n\t\tcallback() {\n\t\t\twindow.location.href = 'https://www.reddit.com/r/Enhancement/wiki/faq/srstyle#reddit_themes';\n\t\t},\n\t},\n\tloadStylesheets: {\n\t\ttitle: 'stylesheetLoadStylesheetsTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetLoadStylesheetsDesc',\n\t\tvalue: ([\n\t\t\t// loading stylesheets is expensive for reddit (#4302), so this should not have a default value\n\t\t]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'urlOrSubreddit',\n\t\t\tname: 'url or subreddit',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tsnippets: {\n\t\ttitle: 'stylesheetSnippetsTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetSnippetsDesc',\n\t\tvalue: ([]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'snippet',\n\t\t\tname: 'snippet',\n\t\t\ttype: 'textarea',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tbodyClasses: {\n\t\ttitle: 'stylesheetBodyClassesTitle',\n\t\ttype: 'table',\n\t\tdescription: 'stylesheetBodyClassesDesc',\n\t\tvalue: ([]: Array<[string, string, string, string]>),\n\t\tfields: [{\n\t\t\tkey: 'classes',\n\t\t\tname: 'classes',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'applyTo',\n\t\t\tname: 'applyTo',\n\t\t\ttype: 'select',\n\t\t\tvalues: [{\n\t\t\t\tname: 'Everywhere',\n\t\t\t\tvalue: 'everywhere',\n\t\t\t}, {\n\t\t\t\tname: 'Everywhere but:',\n\t\t\t\tvalue: 'exclude',\n\t\t\t}, {\n\t\t\t\tname: 'Only on:',\n\t\t\t\tvalue: 'include',\n\t\t\t}],\n\t\t\tvalue: 'everywhere',\n\t\t}, {\n\t\t\tkey: 'applyToSubreddits',\n\t\t\tname: 'applyToSubreddits',\n\t\t\ttype: 'list',\n\t\t\tlistType: 'subreddits',\n\t\t}, {\n\t\t\tkey: 'customToggle',\n\t\t\tname: 'customToggle',\n\t\t\ttype: 'select',\n\t\t\tget values() { return getToggles(); },\n\t\t\tvalue: '',\n\t\t}],\n\t},\n\tsubredditClass: {\n\t\ttitle: 'stylesheetSubredditClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetSubredditClassDesc',\n\t},\n\tmultiredditClass: {\n\t\ttitle: 'stylesheetMultiredditClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetMultiredditClassDesc',\n\t},\n\tusernameClass: {\n\t\ttitle: 'stylesheetUsernameClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'stylesheetUsernameClassDesc',\n\t},\n\tloggedInUserClass: {\n\t\ttitle: 'stylesheetLoggedInUserClassTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'stylesheetLoggedInUserClassDesc',\n\t},\n};\n\nmodule.beforeLoad = () => {\n\tif (module.options.subredditClass.value) {\n\t\tapplySubredditClass();\n\t}\n\tif (module.options.usernameClass.value) {\n\t\tapplyUsernameClass();\n\t}\n\tif (module.options.multiredditClass.value) {\n\t\tapplyMultiredditClass();\n\t}\n\n\t$(CustomToggles.module).on('toggle', applyStyles);\n\tapplyStyles();\n\n\tfunction applyStyles() {\n\t\tapplyBodyClasses();\n\t\tloadStylesheets();\n\t\tapplyCssSnippets();\n\t}\n};\n\nmodule.contentStart = () => {\n\tif (module.options.loggedInUserClass.value) {\n\t\tapplyLoggedInUserClass();\n\t}\n};\n\nfunction applySubredditClass() {\n\tlet name = currentSubreddit();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-r-${name}`);\n\t}\n}\n\nfunction applyMultiredditClass() {\n\tlet name = currentMultireddit();\n\tif (name) {\n\t\tname = name.toLowerCase().replace(/\\//g, '-');\n\t\tBodyClasses.add(`res-${name}`);\n\t}\n}\n\nfunction applyUsernameClass() {\n\tlet name = currentUserProfile();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-user-${name}`);\n\t}\n}\n\nfunction applyLoggedInUserClass() {\n\tlet name = loggedInUser();\n\tif (name) {\n\t\tname = name.toLowerCase();\n\t\tBodyClasses.add(`res-me-${name}`);\n\t}\n}\n\nfunction applyBodyClasses() {\n\tconst addClasses = module.options.bodyClasses.value\n\t\t.filter(row => shouldApply(row[3], row[1], row[2]))\n\t\t.map(row => (row[0] || '').split(/[\\s,]/))\n\t\t.reduce((a, b) => a.concat(b), []);\n\n\tconst removeClasses = module.options.bodyClasses.value\n\t\t.filter(row => !shouldApply(row[3], row[1], row[2]))\n\t\t.map(row => (row[0] || '').split(/[\\s,]/))\n\t\t.reduce((a, b) => a.concat(b), []);\n\n\tBodyClasses.add(...addClasses);\n\tBodyClasses.remove(...removeClasses);\n}\n\nconst subredditNameRegexp = /^(?:\\/?r\\/)?([\\w_]+)\\/?$/;\nconst urlRegexp = /^(?:https?:\\/\\/[\\w\\.]+)?\\/\\w+/;\n\nconst sanitizeStylesheetUrls = filterMap(([url]) => {\n\tconst subredditMatch = subredditNameRegexp.exec(url);\n\tif (subredditMatch) {\n\t\treturn [`/r/${subredditMatch[1]}/stylesheet.css`];\n\t} else if (urlRegexp.test(url)) {\n\t\treturn [url];\n\t}\n});\n\nfunction loadStylesheets() {\n\tconst stylesheetUrls = flow(\n\t\tfilter(row => shouldApply(row[3], row[1], row[2])),\n\t\tsanitizeStylesheetUrls\n\t)(module.options.loadStylesheets.value);\n\n\tstylesheetManager.sync(stylesheetUrls);\n}\n\nconst stylesheetManager = stylesheetElementManager(url => string.html`<link rel=\"stylesheet\" href=\"${url}\">`);\n\nfunction applyCssSnippets() {\n\tconst snippets = module.options.snippets.value\n\t\t.filter(row => shouldApply(row[3], row[1], row[2]))\n\t\t.map(([css]) => css);\n\n\tsnippetManager.sync(snippets);\n}\n\nconst snippetManager = stylesheetElementManager(css => {\n\tconst style = document.createElement('style');\n\tstyle.textContent = css;\n\treturn style;\n});\n\nfunction stylesheetElementManager<T>(generateElement: (x: T) => HTMLElement): { sync(xs: T[]): void } {\n\tconst current = new Map();\n\n\tfunction sync(wantedKeys) {\n\t\tconst currentKeys = Array.from(current.keys());\n\n\t\t_.difference(wantedKeys, currentKeys)\n\t\t\t.forEach(x => {\n\t\t\t\tconst ele = generateElement(x);\n\t\t\t\tcurrent.set(x, ele);\n\t\t\t\t(document.head || document.documentElement).append(ele);\n\t\t\t});\n\n\t\t_.difference(currentKeys, wantedKeys)\n\t\t\t.forEach(x => {\n\t\t\t\tconst ele = current.get(x);\n\t\t\t\tcurrent.delete(x);\n\t\t\t\tif (ele) ele.remove();\n\t\t\t});\n\t}\n\n\treturn { sync };\n}\n\nfunction shouldApply(toggle, applyTo, applyList) {\n\tif (toggle && !CustomToggles.toggleActive(toggle)) return false;\n\n\tlet subreddit = currentSubreddit();\n\tif (!subreddit) {\n\t\treturn (applyTo !== 'include');\n\t}\n\n\tsubreddit = subreddit.toLowerCase();\n\tapplyList = typeof applyList === 'string' ? applyList.toLowerCase().split(',') : [];\n\n\tswitch (applyTo) {\n\t\tcase 'exclude':\n\t\t\treturn !(applyList.includes(subreddit) || applyList.includes('all'));\n\t\tcase 'include':\n\t\t\treturn applyList.includes(subreddit) || applyList.includes('all');\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n\nfunction getToggles() {\n\treturn [\n\t\t{ name: 'No toggle needed', value: '' },\n\t\t...CustomToggles.getToggles().map(({ key, text }) => ({ name: text, value: key })),\n\t];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport { ajax, i18n } from '../environment';\nimport {\n\tformatDateDiff,\n\tisAppType,\n\tisPageType,\n\tstring,\n\twaitForDescendant,\n\twaitForEvent,\n} from '../utils';\nimport type { RedditListing, RedditLink } from '../types/reddit';\nimport * as CommandLine from './commandLine';\nimport * as SettingsNavigation from './settingsNavigation';\n\nexport const module: Module<*> = new Module('submitHelper');\n\nmodule.moduleName = 'submitHelperName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'submitHelperDesc';\nmodule.options = {\n\twarnAlreadySubmitted: {\n\t\ttitle: 'submitHelperWarnAlreadySubmittedTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'submitHelperWarnAlreadySubmittedDesc',\n\t},\n\tuncheckSendRepliesToInbox: {\n\t\ttitle: 'submitHelperUncheckSendRepliesToInboxTitle',\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'submitHelperUncheckSendRepliesToInboxDesc',\n\t},\n\tfocusFormOnLoad: {\n\t\ttitle: 'submitHelperFocusFormOnLoadTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'submitHelperFocusFormOnLoadDesc',\n\t},\n};\n\nconst $repostWarning = _.once(() => $(string.html`\n\t<div class=\"spacer\" style=\"display: none\">\n\t\t<div class=\"roundfield info-notice\">\n\t\t\t<a style=\"float: right\" class=\"gearIcon\" href=\"${SettingsNavigation.makeUrlHash(module.moduleID, 'warnAlreadySubmitted')}\"></a>\n\t\t\t<p>This link was submitted to <a class=\"subredditLink\" href=\"#\"></a>:<span class=\"time\"></span><a class=\"seeMore\" href=\"#\" target=\"_blank\" rel=\"noopener noreferer\">(see more)</a></p>\n\t\t</div>\n\t</div>\n`));\n\nlet urlField, srField;\n\nmodule.go = () => {\n\timplementOptions();\n\t// Register submit CLI if not on the submit page\n\tif (!isPageType('submit')) {\n\t\tregisterCommandLine();\n\t}\n};\n\nasync function implementOptions() {\n\tif (isAppType('d2x')) {\n\t\twaitForEvent(document, 'reddit.urlChanged').then(implementOptions);\n\t}\n\tif (!isPageType('submit')) {\n\t\treturn;\n\t}\n\t// Implement submitHelper preferences if on the submit page\n\tif (module.options.warnAlreadySubmitted.value) {\n\t\tconst urlFieldDiv = document.querySelector('#url-field');\n\t\tif (urlFieldDiv) {\n\t\t\t$(urlFieldDiv).parent().after($repostWarning());\n\t\t\turlField = ((urlFieldDiv.querySelector('#url'): any): HTMLInputElement);\n\t\t\tsrField = ((document.querySelector('#sr-autocomplete'): any): HTMLInputElement);\n\t\t\t$([srField, urlField]).on('input keydown', _.debounce(updateRepostWarning, 300));\n\t\t\t// No event is fired when reddit's js changes the subreddit field, so update whenever the user clicks\n\t\t\t$('#suggested-reddits a, #sr-drop-down').on('click', updateRepostWarning);\n\t\t\t// We would allow reddit to show/hide the message for link/text posts with #link-desc\n\t\t\t// but some subreddits hide this box, so we'll do it manually.\n\t\t\tconst linkButton = document.querySelector('a.link-button');\n\t\t\tconst textButton = document.querySelector('a.text-button');\n\t\t\tif (linkButton && textButton) {\n\t\t\t\tlinkButton.addEventListener('click', () => { updateRepostWarning(); });\n\t\t\t\ttextButton.addEventListener('click', () => { $repostWarning().hide(); });\n\t\t\t}\n\t\t}\n\t}\n\n\tif (module.options.uncheckSendRepliesToInbox.value) {\n\t\tconst selector = isAppType('d2x') ? '[aria-labelledby=\"send-replies\"]' : '#sendreplies';\n\t\tconst sendReplies: ?HTMLElement = await waitForDescendant(document.documentElement, selector);\n\t\tif (sendReplies) {\n\t\t\tsendReplies.click();\n\t\t}\n\t}\n\n\tif (module.options.focusFormOnLoad.value) {\n\t\tif (isAppType('d2x')) {\n\t\t\t$('textarea').filter(':visible').first().focus();\n\t\t} else {\n\t\t\t$('form.submit [name=url], form.submit [name=title]').filter(':visible').first().focus();\n\t\t}\n\t}\n}\n\nfunction registerCommandLine() {\n\tconst trailingUrl = /(?:\\s+(\\w+:\\/\\/.+))$/;\n\tconst cliParams = /^(?:(?:\\/?r\\/)?(\\w+))?(?:\\s+(.*))?$/;\n\n\tfunction commandLineParameters(val) {\n\t\tconst urlResult = trailingUrl.exec(val);\n\t\tconst result = cliParams.exec(urlResult ? val.slice(0, val.length - urlResult[0].length) : val);\n\t\treturn result ? result.slice(1).concat(urlResult ? urlResult[1] : undefined) : [];\n\t}\n\n\tCommandLine.registerCommand(/^p(?:ost)?$/,\n\t\t'post [subreddit] [title] [url] - submit a post to a subreddit',\n\t\t(command, val) => {\n\t\t\tconst [subreddit, title, url] = commandLineParameters(val);\n\t\t\tif (!subreddit) {\n\t\t\t\t// Use default value\n\t\t\t} else if (url) {\n\t\t\t\treturn `Post ${url} to /r/${subreddit}: ${title || ''}`;\n\t\t\t} else if (title) {\n\t\t\t\treturn `Post to /r/${subreddit}: ${title}`;\n\t\t\t} else if (subreddit) {\n\t\t\t\treturn `Post to /r/${subreddit}`;\n\t\t\t}\n\t\t},\n\t\t(command, val) => {\n\t\t\tconst [subreddit, title, url] = commandLineParameters(val);\n\n\t\t\tconst redirect = subreddit ?\n\t\t\t\tstring.encode`/r/${subreddit}/submit?title=${title || ''}&url=${url || ''}` :\n\t\t\t\t'/submit';\n\n\t\t\twindow.location = redirect;\n\t\t}\n\t);\n}\n\nfunction showRepostWarning(sr, url, date) {\n\t$repostWarning()\n\t\t.find('.subredditLink').attr('href', `/r/${sr}`).text(`/r/${sr}`).end()\n\t\t.find('.seeMore').attr('href', string.encode`/r/${sr}/search?restrict_sr=on&sort=relevance&q=url%3A${url}`).end()\n\t\t.find('.time').text(` ${i18n('submitHelperTimeAgo', formatDateDiff(date))} `).end()\n\t\t.fadeIn(300);\n}\n\nfunction hideRepostWarning() {\n\t$repostWarning().fadeOut(300);\n}\n\nasync function updateRepostWarning() {\n\tif (!urlField.value) return;\n\tconst stripUrlRe = /^(?:https?:\\/\\/)?(?:(?:www|i|m)\\.)?(.+?)\\/?(?:\\.\\w+)?(?:#[^\\/]*)?$/i;\n\tconst subreddit = srField.value;\n\tconst match = stripUrlRe.exec(urlField.value);\n\n\tif (subreddit && match) {\n\t\tconst [, userUrl] = match;\n\t\ttry {\n\t\t\tconst { data } = (await ajax({\n\t\t\t\turl: string.encode`/r/${subreddit}/search.json`,\n\t\t\t\tquery: {\n\t\t\t\t\trestrict_sr: 'on',\n\t\t\t\t\tsort: 'relevance',\n\t\t\t\t\tlimit: 1,\n\t\t\t\t\tq: `url:${userUrl}`,\n\t\t\t\t},\n\t\t\t\ttype: 'json',\n\t\t\t}): RedditListing<RedditLink>);\n\n\t\t\tif (data && data.children.length && (data.children[0].data.url.match(stripUrlRe): any)[1] === userUrl) {\n\t\t\t\tshowRepostWarning(subreddit, userUrl, new Date(data.children[0].data.created_utc * 1000));\n\t\t\t} else {\n\t\t\t\thideRepostWarning();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\thideRepostWarning();\n\t\t\tthrow e;\n\t\t}\n\t} else {\n\t\thideRepostWarning();\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Modules from '../core/modules';\nimport {\n\tCreateElement,\n\tHOUR,\n\tformatDate,\n\tformatDateDiff,\n\tformatNumber,\n\tisFakeSubreddit,\n\tloggedInUser,\n\tregexes,\n\tstring,\n} from '../utils';\nimport type { RedditSubreddit } from '../types/reddit';\nimport { ajax, i18n } from '../environment';\nimport * as Dashboard from './dashboard';\nimport * as FilteReddit from './filteReddit';\nimport * as Hover from './hover';\nimport * as SubredditManager from './subredditManager';\n\nexport const module: Module<*> = new Module('subredditInfo');\n\nmodule.moduleName = 'subredditInfoName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditInfoDesc';\nmodule.options = {\n\trequireDirectLink: {\n\t\ttitle: 'subredditInfoRequireDirectLinkTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'subredditInfoRequireDirectLinkDesc',\n\t},\n\thoverDelay: {\n\t\ttitle: 'subredditInfoHoverDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '800',\n\t\tdescription: 'subredditInfoHoverDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeDelay: {\n\t\ttitle: 'subredditInfoFadeDelayTitle',\n\t\ttype: 'text',\n\t\tvalue: '200',\n\t\tdescription: 'subredditInfoFadeDelayDesc',\n\t\tadvanced: true,\n\t},\n\tfadeSpeed: {\n\t\ttitle: 'subredditInfoFadeSpeedTitle',\n\t\ttype: 'text',\n\t\tvalue: '0.7',\n\t\tdescription: 'subredditInfoFadeSpeedDesc',\n\t\tadvanced: true,\n\t},\n};\n\nmodule.contentStart = () => {\n\tconst linkSelector = [\n\t\t'a.subreddit',\n\t\t'a.search-subreddit-link',\n\t\t'.md a[href^=\"/r/\"]',\n\t\t'.Post a[href^=\"/r/\"]:not([href*=\"/comments/\"])',\n\t\t'.Comment a[href^=\"/r/\"]:not([href*=\"/comments/\"])',\n\t\t'a[data-click-id=\"subreddit\"]',\n\t\t!module.options.requireDirectLink.value && '.md a[href*=\"reddit.com/r/\"]',\n\t].filter(x => x).join(', ');\n\n\tHover.infocard(module.moduleID)\n\t\t.options({\n\t\t\twidth: 450,\n\t\t\topenDelay: parseFloat(module.options.hoverDelay.value),\n\t\t\tfadeDelay: parseFloat(module.options.fadeDelay.value),\n\t\t\tfadeSpeed: parseFloat(module.options.fadeSpeed.value),\n\t\t})\n\t\t.populateWith(showSubredditInfo)\n\t\t.watch(linkSelector);\n};\n\nasync function showSubredditInfo(card) {\n\tconst match = regexes.subreddit.exec(card.getCheckedTarget().pathname);\n\tconst [, subreddit] = match || [];\n\n\t// Don't show popup if subreddit is in fake subreddit list\n\tif (!subreddit || isFakeSubreddit(subreddit)) return;\n\n\tconst header = string.html`<div><a href=\"/r/${subreddit}\">/r/${subreddit}</a></div>`;\n\n\tconst url = `/r/${subreddit.toLowerCase()}/about.json`;\n\tlet jsonData;\n\n\ttry {\n\t\tjsonData = (await ajax({ url, type: 'json', cacheFor: HOUR }): RedditSubreddit);\n\t} catch (e) {\n\t\treturn [null, i18n('subredditInfoErrorLoadingSubredditInfo')];\n\t}\n\n\tif (jsonData.kind !== 't5') {\n\t\treturn [null, i18n('subredditInfoSubredditNotFound')];\n\t}\n\n\tif (loggedInUser()) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('subredditInfoSubscribe'),\n\t\t\t'',\n\t\t\t() => !!jsonData.data.user_is_subscriber,\n\t\t\tstate => {\n\t\t\t\tSubredditManager.subscribeToSubreddit(jsonData.data.name, state);\n\t\t\t\tajax.invalidate({ url });\n\t\t\t}\n\t\t);\n\t\tbutton.style.marginLeft = '12px';\n\t\theader.appendChild(button);\n\n\t\tif (Modules.isEnabled(SubredditManager)) {\n\t\t\tSubredditManager.getMultiCounts(jsonData.data.display_name).then(v => $(button).after(v));\n\t\t}\n\t}\n\n\tconst d = new Date(jsonData.data.created_utc * 1000);\n\n\tconst $newBody = $(string.html`\n\t\t<div class=\"subredditInfoToolTip\">\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoSubredditCreated')}</div> <div class=\"subredditDetail\">${formatDate(d)} (${formatDateDiff(d)})</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoSubscribers')}</div> <div class=\"subredditDetail\">${formatNumber(jsonData.data.subscribers)}</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoTitle')}</div> <div class=\"subredditDetail\">${jsonData.data.title}</div>\n\t\t\t<div class=\"subredditLabel\">${i18n('subredditInfoOver18')}</div> <div class=\"subredditDetail\">${jsonData.data.over18 ? i18n('yes') : i18n('no')}</div>\n\t\t\t<div class=\"clear\"></div>\n\t\t\t<div id=\"subTooltipButtons\" class=\"bottomButtons\">\n\t\t\t\t<div class=\"clear\"></div>\n\t\t\t</div>\n\t\t</div>\n\t`);\n\n\tif (Modules.isRunning(SubredditManager)) {\n\t\t$newBody.find('#subTooltipButtons').append(SubredditManager.createShortcutToggleButton(subreddit));\n\t}\n\n\tif (Modules.isEnabled(Dashboard)) {\n\t\t$newBody.find('#subTooltipButtons').append(Dashboard.createSubredditToggleButton(subreddit));\n\t}\n\n\tif (Modules.isEnabled(FilteReddit)) {\n\t\tconst button = CreateElement.fancyToggleButton(\n\t\t\ti18n('subredditInfoAddRemoveFilter'),\n\t\t\ti18n('subredditInfoFilterFromAllAndDomain'),\n\t\t\t() => FilteReddit.listFilters.subreddits.includesString(subreddit),\n\t\t\tstate => FilteReddit.listFilters.subreddits.toggleString(subreddit, state)\n\t\t);\n\t\t$newBody.find('#subTooltipButtons').append(button);\n\t}\n\n\treturn [header, $newBody];\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { escapeHTML, watchForThings } from '../utils';\n\nexport const module: Module<*> = new Module('subRedditTagger');\n\nmodule.moduleName = 'subredditTaggerName';\nmodule.category = 'subredditsCategory';\nmodule.description = 'subredditTaggerDesc';\nmodule.options = {\n\tsubReddits: {\n\t\ttitle: 'subRedditTaggerSubRedditsTitle',\n\t\ttype: 'table',\n\t\taddRowText: '+add tag',\n\t\tfields: [{\n\t\t\tkey: 'subreddit',\n\t\t\tname: 'subreddit',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'doesntContain',\n\t\t\tname: 'doesntContain',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'tag',\n\t\t\tname: 'tag',\n\t\t\ttype: 'text',\n\t\t}],\n\t\tvalue: ([]: Array<[string, string, string]>),\n\t\tdescription: 'subRedditTaggerSubRedditsDesc',\n\t},\n};\n\nconst SRTDoesntContain = new Map();\nconst SRTTagWith = new Map();\n\nmodule.beforeLoad = () => {\n\tif (!module.options.subReddits.value.length) return;\n\n\tfor (const [subreddit, doesntContain, tagWith] of module.options.subReddits.value) {\n\t\tSRTDoesntContain.set(subreddit.toLowerCase(), doesntContain);\n\t\tSRTTagWith.set(subreddit.toLowerCase(), tagWith);\n\t}\n\n\twatchForThings(['post'], scanTitle);\n};\n\nfunction scanTitle(thing) {\n\tconst tagToAdd = getTag(thing);\n\tif (tagToAdd !== undefined) {\n\t\tconst tagText = $('<span>').append(escapeHTML(tagToAdd)).append('&nbsp;');\n\t\t$(thing.getTitleElement()).parent().prepend(tagText);\n\t}\n}\n\nfunction getTag(thing) {\n\tlet hasTag = false;\n\n\tconst thisSubReddit = (thing.getSubreddit() || '').toLowerCase();\n\tif (thisSubReddit && SRTTagWith.has(thisSubReddit)) {\n\t\tlet thisString = SRTDoesntContain.get(thisSubReddit);\n\t\tif (thisString === undefined || thisString === '') {\n\t\t\tthisString = `[${thisSubReddit}]`;\n\t\t\tSRTDoesntContain.set(thisSubReddit, thisString);\n\t\t}\n\t\thasTag = thing.getTitle().includes(thisString) ||\n\t\t\tthing.getPostFlairText().includes(thisString);\n\t}\n\n\tif (!hasTag) {\n\t\treturn SRTTagWith.get(thisSubReddit);\n\t}\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { isCurrentSubreddit } from '../utils';\n\nexport const module: Module<*> = new Module('tableTools');\n\nmodule.moduleName = 'tableToolsName';\nmodule.category = 'productivityCategory';\nmodule.description = 'tableToolsDesc';\nmodule.options = {\n\tsort: {\n\t\ttitle: 'tableToolsSortTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'tableToolsSortDesc',\n\t\tbodyClass: true,\n\t},\n};\n\nmodule.shouldRun = () => !isCurrentSubreddit('dashboard');\n\nmodule.contentStart = () => {\n\tif (module.options.sort.value) {\n\t\t$(document).on('click', '.md th, .Comment th, .Post th', (e: Event) => sortTableColumn(e.currentTarget));\n\t}\n};\n\n// Add sorting to a column\nfunction sortTableColumn(target) {\n\tconst $columnHeader = $(target);\n\tconst table = $columnHeader.closest('table');\n\tconst rows = table.find('tr:gt(0)').toArray();\n\tconst column = $columnHeader.index();\n\n\trows.sort(sortFunction(column));\n\t$columnHeader.siblings().removeClass('sort-desc sort-asc');\n\tif ($columnHeader.hasClass('sort-asc')) {\n\t\t// Sort asc. leave the rows in the order they are\n\t\trows.reverse();\n\t\t$columnHeader.removeClass('sort-asc');\n\t\t$columnHeader.addClass('sort-desc');\n\t} else {\n\t\t// Sort desc. Reverse the array of rows\n\t\t$columnHeader.removeClass('sort-desc');\n\t\t$columnHeader.addClass('sort-asc');\n\t}\n\ttable.append(rows);\n}\n\n// If numeric, compare numbers; otherwise, compare locale strings\nfunction sortFunction(column) {\n\treturn (rowA, rowB) => {\n\t\tconst a = getCellValue(rowA, column);\n\t\tconst b = getCellValue(rowB, column);\n\t\treturn isNumeric(a) && isNumeric(b) ? +a - +b : a.localeCompare(b);\n\t};\n}\n\nfunction isNumeric(n) {\n\tconst num = parseFloat(n);\n\treturn !Number.isNaN(num) && Number.isFinite(num);\n}\n\n// Get HTML of cell given row and column\nfunction getCellValue(row, column) {\n\treturn $(row).children('td').eq(column).text();\n}\n","/* @flow */\n\nimport { Module } from '../core/module';\nimport { downcast, string } from '../utils';\nimport { i18n } from '../environment';\n\nexport const module: Module<*> = new Module('temporaryDropdownLinks');\nmodule.moduleName = 'temporaryDropdownLinksName';\nmodule.category = 'browsingCategory';\nmodule.description = 'temporaryDropdownLinksDesc';\nmodule.options = {\n\talways: {\n\t\ttype: 'boolean',\n\t\tvalue: false,\n\t\tdescription: 'temporaryDropdownLinksAlwaysDesc',\n\t\ttitle: 'temporaryDropdownLinksAlwaysTitle',\n\t},\n};\nmodule.include = [\n\t/\\/(?:top|controversial)\\/$/,\n];\n\nmodule.contentStart = () => {\n\tsetupMenu();\n};\n\nfunction setupMenu() {\n\tconst mutateChoice = module.options.always.value ? removeListener : appendTemporaryButton;\n\tfor (const choice: HTMLAnchorElement of (document.querySelectorAll('.menuarea .drop-choices a.choice'): any)) {\n\t\tconst form = choice.closest('form');\n\t\tif (!form) continue;\n\t\tconst { name, value } = downcast(form.querySelector('input'), HTMLInputElement);\n\t\tif (name && value) {\n\t\t\tmutateChoice(choice, name, value);\n\t\t}\n\t}\n}\n\nfunction removeListener(choice, name, value) {\n\t// rewrite the href and remove the onclick\n\tchoice.search = `?${name}=${value}`;\n\tchoice.removeAttribute('onclick');\n}\n\nfunction appendTemporaryButton(choice, name, value) {\n\tconst url = new URL(choice.href);\n\turl.searchParams.set(name, value);\n\tconst link = string.html`\n\t\t<a class=\"RES-dropdown-button\" href=\"${url.href}\">${i18n('temporaryDropdownLinksTemporarily')}</a>\n\t`;\n\tlink.addEventListener('click', (e: MouseEvent) => e.stopPropagation());\n\tchoice.appendChild(link);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport * as Options from '../core/options';\nimport { i18n } from '../environment';\nimport { BodyClasses } from '../utils';\nimport * as Notifications from './notifications';\n\nexport const module: Module<*> = new Module('userbarHider');\n\nmodule.moduleName = 'userbarHiderName';\nmodule.description = 'userbarHiderDesc';\nmodule.category = 'myAccountCategory';\nmodule.disabledByDefault = true;\n\nmodule.options = {\n\tuserbarState: {\n\t\ttitle: 'userbarHiderUserbarStateTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Visible',\n\t\t\tvalue: 'visible',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hidden',\n\t\t}],\n\t\tvalue: 'visible',\n\t\tdescription: 'userbarHiderUserbarStateDesc',\n\t},\n\ttoggleButtonState: {\n\t\ttitle: 'userbarHiderToggleButtonStateTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'Visible',\n\t\t\tvalue: 'visible',\n\t\t}, {\n\t\t\tname: 'Hidden',\n\t\t\tvalue: 'hidden',\n\t\t}],\n\t\tvalue: 'visible',\n\t\tdescription: 'userbarHiderToggleButtonStateDesc',\n\t\tadvanced: true,\n\t},\n};\n\nlet userbar, $userbarToggle;\n\nmodule.contentStart = () => {\n\tuserbarHider();\n};\n\nfunction userbarHider() {\n\tuserbar = document.getElementById('header-bottom-right');\n\tif (userbar) {\n\t\tif (module.options.toggleButtonState.value === 'visible' || module.options.userbarState.value === 'hidden') {\n\t\t\taddToggleButton();\n\t\t}\n\t\tif (module.options.userbarState.value === 'hidden') {\n\t\t\tupdateUserBar();\n\t\t\tNotifications.showNotification({\n\t\t\t\tmoduleID: module.moduleID,\n\t\t\t\toptionKey: 'userbarState',\n\t\t\t\tcooldown: 24 * 60 * 60 * 1000,\n\t\t\t\theader: i18n('userbarHiderUserBarHidden'),\n\t\t\t\tmessage: i18n('userbarHiderContentHiddenNotification', ''),\n\t\t\t});\n\t\t}\n\t}\n}\n\nfunction toggleUserBar() {\n\tmodule.options.userbarState.value = module.options.userbarState.value === 'hidden' ? 'visible' : 'hidden';\n\tOptions.save(module.options.userbarState);\n\tupdateUserBar();\n}\n\nfunction updateUserBar() {\n\tconst userbarHidden = (module.options.userbarState.value === 'hidden');\n\n\tupdateToggleButton(userbarHidden);\n\ttoggleUserbarElementsDisplay(userbarHidden);\n}\n\nfunction addToggleButton() {\n\t$userbarToggle = $('<div>', {\n\t\tid: 'userbarToggle',\n\t\ttitle: i18n('userbarHiderToggleUserbar'),\n\t\tclick: () => toggleUserBar(),\n\t}).prependTo(userbar);\n\n\tdocument.querySelector('#header-bottom-right').classList.add('res-userbar-toggle');\n\n\tupdateToggleButton(false);\n}\n\nfunction updateToggleButton(userbarHidden) {\n\t$userbarToggle\n\t\t.toggleClass('userbarHide', !userbarHidden)\n\t\t.toggleClass('userbarShow', userbarHidden)\n\t\t.html(userbarHidden ? '&laquo;' : '&raquo;');\n}\n\nfunction toggleUserbarElementsDisplay(userbarHidden) {\n\tBodyClasses.toggle(userbarHidden, 'res-hide-userbar');\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport * as Metadata from '../core/metadata';\nimport { getExtensionId } from '../environment';\nimport {\n\tBodyClasses,\n\trange,\n\tstring,\n} from '../utils';\n\nexport const module: Module<*> = new Module('version');\n\nmodule.moduleName = 'versionName';\nmodule.category = 'aboutCategory';\nmodule.description = 'versionDesc';\nmodule.alwaysEnabled = true;\nmodule.hidden = true;\n\nconst concurrentInstallWiki = '/r/Enhancement/wiki/tutorials/concurrent_installs';\n\nmodule.beforeLoad = () => {\n\taddVersionClasses();\n};\n\nmodule.go = () => {\n\treportVersion();\n};\n\nmodule.afterLoad = () => {\n\tavoidConcurrentInstalls();\n};\n\nfunction addVersionClasses() {\n\tBodyClasses.add('res');\n\tconst versionComponents = Metadata.version.split('.');\n\tfor (const i of range(0, versionComponents.length)) {\n\t\tBodyClasses.add(`res-v${versionComponents.slice(0, i + 1).join('-')}`);\n\t}\n}\n\nfunction reportVersion() {\n\t// report the version of RES to reddit's advisory checker.\n\t$('<div>', {\n\t\tid: 'RESConsoleVersion',\n\t\tstyle: 'display: none;',\n\t\ttext: Metadata.version,\n\t\t'data-id': getExtensionId(),\n\t}).appendTo(document.body);\n}\n\nfunction avoidConcurrentInstalls() {\n\tconst installs = Array.from(document.querySelectorAll('#RESConsoleVersion'));\n\t// versions before 5.6.2 will not report their id, so assume they are unique\n\tconst concurrentInstalls = _.uniqBy(installs, e => e.getAttribute('data-id') || Math.random())\n\t\t.map(e => e.textContent);\n\n\tif (concurrentInstalls.length > 1) {\n\t\tBodyClasses.add('res-concurrent-installs');\n\t\tdocument.body.appendChild(string.html`\n\t\t\t<div id=\"res-concurrent-installs\">\n\t\t\t\t<p>You have enabled multiple versions of Reddit Enhancement Suite:</p>\n\t\t\t\t<ul>\n\t\t\t\t\t${concurrentInstalls.map(v => string._html`\n\t\t\t\t\t\t<li>${v}</li>\n\t\t\t\t\t`)}\n\t\t\t\t</ul>\n\t\t\t\t<p>You should enable only one. <a href=\"${concurrentInstallWiki}\">Find out how!</a>\n\t\t\t</div>\n\t\t`);\n\t}\n}\n","/* @flow */\n\nimport _ from 'lodash';\nimport { Module } from '../core/module';\nimport {\n\taddCSS,\n\tcolorFromArray,\n\tcolorToArray,\n\tprojectInto,\n\twatchForThings,\n\tzip,\n} from '../utils';\n\nexport const module: Module<*> = new Module('voteEnhancements');\n\nmodule.moduleName = 'voteEnhancementsName';\nmodule.category = 'appearanceCategory';\nmodule.description = 'voteEnhancementsDesc';\nmodule.options = {\n\thighlightScores: {\n\t\ttitle: 'voteEnhancementsHighlightScoresTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsHighlightScoresDesc',\n\t\tbodyClass: true,\n\t},\n\tcolorLinkScore: {\n\t\ttitle: 'voteEnhancementsColorLinkScoreTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'No coloration',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Automatic coloration',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'User-defined coloration',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'voteEnhancementsColorLinkScoreDesc',\n\t\tbodyClass: true,\n\t},\n\tuserDefinedLinkColoration: {\n\t\ttitle: 'voteEnhancementsUserDefinedLinkColorationTitle',\n\t\tdependsOn: options => options.colorLinkScore.value === 'user',\n\t\ttype: 'table',\n\t\taddRowText: '+add threshold',\n\t\tfields: [{\n\t\t\tkey: 'score',\n\t\t\tname: 'score',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t}],\n\t\tvalue: [\n\t\t\t[0, '#5f99cf'],\n\t\t\t[10, '#F2B035'],\n\t\t\t[50, '#FF4500'],\n\t\t\t[100, '#D92B2B'],\n\t\t],\n\t\tdescription: 'voteEnhancementsUserDefinedLinkColorationDesc',\n\t\tsort(a, b) { // sort field with score increasing\n\t\t\ta[0] = parseInt(a[0], 10);\n\t\t\tb[0] = parseInt(b[0], 10);\n\t\t\tif (a[0] < b[0]) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a[0] > b[0]) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\t},\n\tcolorCommentScore: {\n\t\ttitle: 'voteEnhancementsColorCommentScoreTitle',\n\t\ttype: 'enum',\n\t\tvalues: [{\n\t\t\tname: 'No coloration',\n\t\t\tvalue: 'none',\n\t\t}, {\n\t\t\tname: 'Automatic coloration',\n\t\t\tvalue: 'automatic',\n\t\t}, {\n\t\t\tname: 'Reddit Classic',\n\t\t\tvalue: 'simple',\n\t\t}, {\n\t\t\tname: 'User-defined coloration',\n\t\t\tvalue: 'user',\n\t\t}],\n\t\tvalue: 'none',\n\t\tdescription: 'voteEnhancementsColorCommentScoreDesc',\n\t},\n\tuserDefinedCommentColoration: {\n\t\ttitle: 'voteEnhancementsUserDefinedCommentColorationTitle',\n\t\tdependsOn: options => options.colorCommentScore.value === 'user',\n\t\ttype: 'table',\n\t\taddRowText: '+add threshold',\n\t\tfields: [{\n\t\t\tkey: 'score',\n\t\t\tname: 'score',\n\t\t\ttype: 'text',\n\t\t}, {\n\t\t\tkey: 'color',\n\t\t\tname: 'color',\n\t\t\ttype: 'color',\n\t\t}],\n\t\tvalue: [\n\t\t\t[0, '#5f99cf'],\n\t\t\t[10, '#F2B035'],\n\t\t\t[50, '#FF4500'],\n\t\t\t[100, '#D92B2B'],\n\t\t],\n\t\tdescription: 'voteEnhancementsUserDefinedCommentColorationDesc',\n\t\tsort(a, b) { // sort field with score increasing\n\t\t\ta[0] = parseInt(a[0], 10);\n\t\t\tb[0] = parseInt(b[0], 10);\n\t\t\tif (a[0] < b[0]) {\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t\tif (a[0] > b[0]) {\n\t\t\t\treturn 1;\n\t\t\t}\n\t\t\treturn 0;\n\t\t},\n\t},\n\tinterpolateScoreColor: {\n\t\ttitle: 'voteEnhancementsInterpolateScoreColorTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsInterpolateScoreColorDesc',\n\t\tadvanced: true,\n\t},\n\thighlightControversial: {\n\t\ttitle: 'voteEnhancementsHighlightControversialTitle',\n\t\ttype: 'boolean',\n\t\tvalue: true,\n\t\tdescription: 'voteEnhancementsHighlightControversialDesc',\n\t},\n\thighlightControversialColor: {\n\t\ttitle: 'voteEnhancementsHighlightControversialColorTitle',\n\t\tdependsOn: options => options.highlightControversial.value,\n\t\tadvanced: true,\n\t\ttype: 'color',\n\t\tvalue: '#cc0000',\n\t\tdescription: 'voteEnhancementsHighlightControversialColorDesc',\n\t},\n};\nmodule.include = ['comments', 'commentsLinklist', 'linklist', 'modqueue', 'profile', 'inbox'];\n\nmodule.beforeLoad = () => {\n\tif (module.options.colorLinkScore.value !== 'none') {\n\t\twatchForThings(['post'], applyLinkScoreColor);\n\t}\n\tif (module.options.colorCommentScore.value !== 'none') {\n\t\twatchForThings(['comment'], applyCommentScoreColor);\n\t}\n\n\tif (module.options.highlightControversial.value) {\n\t\thighlightControversial();\n\t}\n};\n\n/**\n * @param {number} score\n * @param {Array<Array>} colors An array of [scoreThreshold, color] pairs in ascending order of scoreThreshold\n * @param {string} defaultColor\n * @returns {string}\n */\nfunction interpolateScoreColor(score, colors, defaultColor) {\n\tif (!colors.length) return defaultColor;\n\n\tconst augmented = [\n\t\t[-Infinity, _.first(colors)[1]],\n\t\t...colors,\n\t\t[Infinity, _.last(colors)[1]],\n\t];\n\n\tfor (const [[lowBound, lowColor], [highBound, highColor]] of zip(augmented.slice(0, -1), augmented.slice(1))) {\n\t\tif (score >= lowBound && score < highBound) {\n\t\t\tif (module.options.interpolateScoreColor.value) {\n\t\t\t\treturn colorFromArray(\n\t\t\t\t\t_.zipWith(colorToArray(lowColor), colorToArray(highColor),\n\t\t\t\t\t\t(lowVal, highVal) => Math.round(projectInto(lowBound, highBound, lowVal, highVal, score))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\t// only start using a color when the magnitude of the score exceeds the magnitude of the score bound\n\t\t\t\t// e.g. if we're between -10 and -5, use -5 (higher); if we're between 5 and 10, use 5 (lower)\n\t\t\t\treturn (score < 0) ? highColor : lowColor;\n\t\t\t}\n\t\t}\n\t}\n\n\t// should never be reached because score should always be in [-Infinity, Infinity]\n\treturn defaultColor;\n}\n\nfunction getLinkScoreColor(score) {\n\tif (module.options.colorLinkScore.value === 'automatic') {\n\t\treturn `hsl(${180 + 360 * (1 - 100 / (150 + score))}, 75%,50%)`;\n\t} else {\n\t\treturn interpolateScoreColor(score, module.options.userDefinedLinkColoration.value, '#c6c6c6');\n\t}\n}\n\nfunction getCommentScoreColor(score) {\n\tif (module.options.colorCommentScore.value === 'automatic') {\n\t\treturn `hsl(${180 + 360 * (1 - 50 / (100 + score))}, 75%,50%)`;\n\t} else {\n\t\tlet colors;\n\t\tif (module.options.colorCommentScore.value === 'user') {\n\t\t\tcolors = module.options.userDefinedCommentColoration.value;\n\t\t} else if (module.options.colorCommentScore.value === 'simple') {\n\t\t\tcolors = [\n\t\t\t\t[0, '#9494FF'],\n\t\t\t\t[1, '#888'],\n\t\t\t\t[2, '#FF8B60'],\n\t\t\t];\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn interpolateScoreColor(score, colors, '#888');\n\t}\n}\n\nfunction applyLinkScoreColor(thing) {\n\tconst score = thing.getScore();\n\tconst rankEle = thing.getRankElement();\n\tconst color = typeof score === 'number' && getLinkScoreColor(score);\n\n\tif (rankEle && color) {\n\t\trankEle.style.background = color;\n\t}\n}\n\nfunction applyCommentScoreColor(thing) {\n\tfor (const [scoreEle, score] of thing.getAllScoreElements()) {\n\t\tconst color = getCommentScoreColor(score);\n\n\t\tif (color) {\n\t\t\tscoreEle.style.color = color;\n\t\t}\n\t}\n}\n\nfunction highlightControversial() {\n\tconst color = module.options.highlightControversialColor.value || module.options.highlightControversialColor.default;\n\taddCSS(`\n\t\t.comment.controversial > .entry .score::after {\n\t\t\tcolor: ${color};\n\t\t}\n\t`);\n}\n","/* @flow */\n\nimport $ from 'jquery';\nimport { Module } from '../core/module';\nimport { watchForThings, string } from '../utils';\nimport { i18n } from '../environment';\n\nexport const module: Module<*> = new Module('xPostLinks');\n\nmodule.moduleName = 'xPostLinksName';\nmodule.category = 'submissionsCategory';\nmodule.description = 'xPostLinksDesc';\n\nmodule.include = [\n\t'linklist',\n\t'modqueue',\n\t'comments',\n\t'profile',\n\t'search',\n];\n\nmodule.exclude = [\n\t'd2x',\n];\n\nmodule.beforeLoad = () => {\n\twatchForThings(['post'], createLinks);\n};\n\nconst xpostRe = /(?:x|cross)[\\s-]?post\\S*(.+)/i;\nconst xpostFromRe = /^(?:\\s+\\S+)?\\s+\\/?(\\w{2,20}\\b)(?:[\\)\\]}]|\\S*$)/i;\nconst subredditRe = /r\\/(\\w{2,20}\\b)/i;\n\nfunction parseSubreddit(title) {\n\tconst [, xpostString] = xpostRe.exec(title) || [];\n\n\tif (!xpostString) return false;\n\n\tconst [, sub] = (\n\t\tsubredditRe.exec(xpostString) || // found something like r/games\n\t\txpostFromRe.exec(xpostString) || // use the last of one or two words before end of string of closing bracket\n\t\t[]\n\t);\n\n\treturn sub;\n}\n\nfunction appendToTagline(sub, thing) {\n\t$()\n\t\t.add($(thing.getSubredditLink()).prev())\n\t\t.add(thing.getUserattrsElement() || '')\n\t\t.first() // first valid (thing.getSubredditLink() may be null)\n\t\t.after(\n\t\t\tstring.escape` ${i18n('xPostLinksXpostedFrom')} `,\n\t\t\t$('<a>', {\n\t\t\t\tclass: 'subreddit hover',\n\t\t\t\thref: `/r/${sub}`,\n\t\t\t\ttext: `/r/${sub}`,\n\t\t\t})\n\t\t);\n}\n\nfunction createLinks(thing) {\n\tconst sub = parseSubreddit(thing.getTitle());\n\tif (sub) appendToTagline(sub, thing);\n}\n","/* generated by sibling-loader */\nimport { module as _0 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/RESTips.js\";\nimport { module as _1 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/about.js\";\nimport { module as _2 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/accountSwitcher.js\";\nimport { module as _3 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/announcements.js\";\nimport { module as _4 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/autoHide.js\";\nimport { module as _5 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/backupAndRestore.js\";\nimport { module as _6 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/betteReddit.js\";\nimport { module as _7 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commandLine.js\";\nimport { module as _8 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentDepth.js\";\nimport { module as _9 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentHidePersistor.js\";\nimport { module as _10 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentNavigator.js\";\nimport { module as _11 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentPreview.js\";\nimport { module as _12 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentQuickCollapse.js\";\nimport { module as _13 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentSortBy.js\";\nimport { module as _14 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentStyle.js\";\nimport { module as _15 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/commentTools.js\";\nimport { module as _16 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/context.js\";\nimport { module as _17 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/contribute.js\";\nimport { module as _18 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/customToggles.js\";\nimport { module as _19 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/dashboard.js\";\nimport { module as _20 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/disableChat.js\";\nimport { module as _21 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/easterEgg.js\";\nimport { module as _22 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/filteReddit.js\";\nimport { module as _23 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hideChildComments.js\";\nimport { module as _24 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/hover.js\";\nimport { module as _25 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/keyboardNav.js\";\nimport { module as _26 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/localDate.js\";\nimport { module as _27 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/logoLink.js\";\nimport { module as _28 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/menu.js\";\nimport { module as _29 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/messageMenu.js\";\nimport { module as _30 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/modhelper.js\";\nimport { module as _31 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/multiredditNavbar.js\";\nimport { module as _32 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/neverEndingComments.js\";\nimport { module as _33 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/neverEndingReddit.js\";\nimport { module as _34 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/newCommentCount.js\";\nimport { module as _35 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/nightMode.js\";\nimport { module as _36 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/noParticipation.js\";\nimport { module as _37 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/notifications.js\";\nimport { module as _38 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/onboarding.js\";\nimport { module as _39 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/orangered.js\";\nimport { module as _40 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/pageNavigator.js\";\nimport { module as _41 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/penaltyBox.js\";\nimport { module as _42 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/presets.js\";\nimport { module as _43 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/profileNavigator.js\";\nimport { module as _44 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/profileRedirect.js\";\nimport { module as _45 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/quarantineHide.js\";\nimport { module as _46 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/quickMessage.js\";\nimport { module as _47 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/readComments.js\";\nimport { module as _48 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/redditUserInfo.js\";\nimport { module as _49 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/requestPermissions.js\";\nimport { module as _50 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/saveComments.js\";\nimport { module as _51 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/search.js\";\nimport { module as _52 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/searchHelper.js\";\nimport { module as _53 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/selectedEntry.js\";\nimport { module as _54 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/settingsNavigation.js\";\nimport { module as _55 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showImages.js\";\nimport { module as _56 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showKarma.js\";\nimport { module as _57 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/showParent.js\";\nimport { module as _58 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/singleClick.js\";\nimport { module as _59 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/sourceSnudown.js\";\nimport { module as _60 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/spamButton.js\";\nimport { module as _61 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/spoilerTags.js\";\nimport { module as _62 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/styleTweaks.js\";\nimport { module as _63 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/stylesheet.js\";\nimport { module as _64 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/submitHelper.js\";\nimport { module as _65 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/submitIssue.js\";\nimport { module as _66 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditInfo.js\";\nimport { module as _67 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditManager.js\";\nimport { module as _68 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditStyleToggle.js\";\nimport { module as _69 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/subredditTagger.js\";\nimport { module as _70 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/tableTools.js\";\nimport { module as _71 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/temporaryDropdownLinks.js\";\nimport { module as _72 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/troubleshooter.js\";\nimport { module as _73 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userHighlight.js\";\nimport { module as _74 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userInfo.js\";\nimport { module as _75 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userTagger.js\";\nimport { module as _76 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/userbarHider.js\";\nimport { module as _77 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/usernameHider.js\";\nimport { module as _78 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/version.js\";\nimport { module as _79 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/voteEnhancements.js\";\nimport { module as _80 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/wheelBrowse.js\";\nimport { module as _81 } from \"/home/travis/build/honestbleeps/Reddit-Enhancement-Suite/lib/modules/xPostLinks.js\";\nexport default { \"RESTips.js\": _0, \"about.js\": _1, \"accountSwitcher.js\": _2, \"announcements.js\": _3, \"autoHide.js\": _4, \"backupAndRestore.js\": _5, \"betteReddit.js\": _6, \"commandLine.js\": _7, \"commentDepth.js\": _8, \"commentHidePersistor.js\": _9, \"commentNavigator.js\": _10, \"commentPreview.js\": _11, \"commentQuickCollapse.js\": _12, \"commentSortBy.js\": _13, \"commentStyle.js\": _14, \"commentTools.js\": _15, \"context.js\": _16, \"contribute.js\": _17, \"customToggles.js\": _18, \"dashboard.js\": _19, \"disableChat.js\": _20, \"easterEgg.js\": _21, \"filteReddit.js\": _22, \"hideChildComments.js\": _23, \"hover.js\": _24, \"keyboardNav.js\": _25, \"localDate.js\": _26, \"logoLink.js\": _27, \"menu.js\": _28, \"messageMenu.js\": _29, \"modhelper.js\": _30, \"multiredditNavbar.js\": _31, \"neverEndingComments.js\": _32, \"neverEndingReddit.js\": _33, \"newCommentCount.js\": _34, \"nightMode.js\": _35, \"noParticipation.js\": _36, \"notifications.js\": _37, \"onboarding.js\": _38, \"orangered.js\": _39, \"pageNavigator.js\": _40, \"penaltyBox.js\": _41, \"presets.js\": _42, \"profileNavigator.js\": _43, \"profileRedirect.js\": _44, \"quarantineHide.js\": _45, \"quickMessage.js\": _46, \"readComments.js\": _47, \"redditUserInfo.js\": _48, \"requestPermissions.js\": _49, \"saveComments.js\": _50, \"search.js\": _51, \"searchHelper.js\": _52, \"selectedEntry.js\": _53, \"settingsNavigation.js\": _54, \"showImages.js\": _55, \"showKarma.js\": _56, \"showParent.js\": _57, \"singleClick.js\": _58, \"sourceSnudown.js\": _59, \"spamButton.js\": _60, \"spoilerTags.js\": _61, \"styleTweaks.js\": _62, \"stylesheet.js\": _63, \"submitHelper.js\": _64, \"submitIssue.js\": _65, \"subredditInfo.js\": _66, \"subredditManager.js\": _67, \"subredditStyleToggle.js\": _68, \"subredditTagger.js\": _69, \"tableTools.js\": _70, \"temporaryDropdownLinks.js\": _71, \"troubleshooter.js\": _72, \"userHighlight.js\": _73, \"userInfo.js\": _74, \"userTagger.js\": _75, \"userbarHider.js\": _76, \"usernameHider.js\": _77, \"version.js\": _78, \"voteEnhancements.js\": _79, \"wheelBrowse.js\": _80, \"xPostLinks.js\": _81 };","/* @flow */\n\nimport { flow, keyBy, map } from 'lodash/fp';\nimport { i18n } from '../../environment';\nimport {\n\tdowncast,\n\tmatchesPageLocation,\n\tmarkStart,\n\tmarkEnd,\n} from '../../utils';\nimport { Module, getModuleId } from '../module';\n\nimport type { OpaqueModuleId } from '../module';\nimport { storage } from './storage';\n\nimport __modules from 'sibling-loader?import=module!../../modules/about'; // eslint-disable-line\n\nconst enabled = new Map();\n\nconst modules = flow(\n\t() => Object.values(__modules),\n\tmap(mod => downcast(mod, Module)), // ensure that all modules are instances of `Module`\n\tkeyBy(mod => mod.moduleID)\n)();\n\nif (process.env.NODE_ENV === 'development') {\n\t// for debugging only! do not use `modules` in any committed code\n\twindow.modules = modules;\n}\n\n// When containing modules, no other modules other than those specified should run\n// Stages `beforeLoad`, `go`, `afterLoad` may only be executed on these modules\nexport const allowedModules: Array<string> = [];\n\nexport async function _loadModulePrefs() {\n\tconst storedPrefs = await storage.getAll();\n\n\tfor (const [id, module] of Object.entries(modules)) {\n\t\tif (module.alwaysEnabled) {\n\t\t\tenabled.set(id, true);\n\t\t} else if (storedPrefs.hasOwnProperty(id)) {\n\t\t\tenabled.set(id, storedPrefs[id]);\n\t\t} else {\n\t\t\tenabled.set(id, !module.disabledByDefault);\n\t\t}\n\t}\n}\n\nconst ERRORED_KEY = Symbol('errored');\nexport async function _runModuleStage(stage: $Keys<Module<any>>, { skipEnabledCheck = false }: {| skipEnabledCheck?: boolean |} = {}) {\n\tawait Promise.all(\n\t\tall()\n\t\t\t.filter(module => (\n\t\t\t\tmodule[stage] &&\n\t\t\t\t!module[ERRORED_KEY] &&\n\t\t\t\t(skipEnabledCheck || isRunning(module))\n\t\t\t))\n\t\t\t.map(async module => {\n\t\t\t\tconst tag = markStart();\n\t\t\t\ttry {\n\t\t\t\t\tconst fn = module[stage];\n\t\t\t\t\tawait fn();\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmodule[ERRORED_KEY] = true;\n\t\t\t\t\tconsole.error('Error in module:', module.moduleID, 'during:', stage);\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t\tmarkEnd(tag, `${module.moduleID} (${stage})`);\n\t\t\t})\n\t);\n}\n\nexport function all(): Array<Module<any>> {\n\treturn Object.values(modules);\n}\n\nexport function isEnabled(opaqueId: OpaqueModuleId): boolean {\n\treturn !!enabled.get(get(opaqueId).moduleID);\n}\n\nexport function isRunning(opaqueId: OpaqueModuleId): boolean {\n\tconst module = get(opaqueId);\n\treturn (\n\t\t(!allowedModules.length || allowedModules.includes(module.moduleID)) &&\n\t\tisEnabled(module) &&\n\t\tmatchesPageLocation(module.include, module.exclude) &&\n\t\tmodule.shouldRun()\n\t);\n}\n\nexport function get(opaqueId: OpaqueModuleId): Module<any> {\n\treturn _get(getModuleId(opaqueId));\n}\n\nfunction _get(id) {\n\tconst mod = getUnchecked(id);\n\tif (!mod) throw new Error(`Module \"${id}\" not found.`);\n\treturn mod;\n}\n\nexport function getUnchecked(id: string): void | Module<any> {\n\treturn modules[id];\n}\n\nexport function getByCategory(category: string): Array<Module<any>> {\n\treturn all()\n\t\t.filter(module => !module.hidden)\n\t\t.filter(module => module.category === category)\n\t\t.sort((a, b) => {\n\t\t\tconst sortComparison = (a.sort || 0) - (b.sort || 0);\n\t\t\tif (sortComparison !== 0) {\n\t\t\t\treturn sortComparison;\n\t\t\t}\n\n\t\t\treturn (i18n(a.moduleName).toLowerCase() > i18n(b.moduleName).toLowerCase()) ? 1 : -1;\n\t\t});\n}\n","/* @flow */\n\nexport {\n\tallowedModules,\n\tall,\n\tget,\n\tgetByCategory,\n\tgetUnchecked,\n\tisEnabled,\n\tisRunning,\n} from './modules';\n\nexport {\n\tsetEnabled,\n} from './storage';\n","/* @flow */\n\nimport _ from 'lodash';\nimport * as Modules from '../modules';\nimport type { ModuleOption } from '../module';\nimport { shouldPrune } from '../../utils';\nimport { storage, set } from './storage';\n\nexport function _loadModuleOptions() {\n\tconst shouldPrunePromise = shouldPrune('RESoptions');\n\n\treturn Promise.all(Modules.all().map(async module => {\n\t\tif (!Object.values(module.options).some(v => v.hasOwnProperty('value'))) return;\n\n\t\tconst storedOptions = await storage.get(module.moduleID);\n\n\t\t// copy over default values\n\t\tfor (const opt of Object.values(module.options)) {\n\t\t\topt.default = opt.value;\n\t\t}\n\n\t\tif (!storedOptions) {\n\t\t\t// no stored options, there's nothing to copy over\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const [key, storedValue] of Object.entries(storedOptions)) {\n\t\t\t// skip unsaved options (keep default value)\n\t\t\tif (!storedValue) continue;\n\n\t\t\t// skip obsolete options\n\t\t\tif (!module.options[key]) continue;\n\n\t\t\t// normal option, copy in the value from storage\n\t\t\tmodule.options[key].value = storedValue.value;\n\t\t}\n\n\t\tshouldPrunePromise.then(should => { if (should) prune(module, storedOptions); });\n\t}));\n}\n\nfunction prune(module, storedOptions) {\n\tif (!storedOptions || !Object.entries(storedOptions).length) {\n\t\tstorage.delete(module.moduleID);\n\t\treturn;\n\t}\n\n\tfor (const [key, { value }] of Object.entries(storedOptions)) {\n\t\tconst option = module.options[key];\n\t\tif (!module.options[key]) {\n\t\t\tconsole.warn('Could not find option', module.moduleID, key);\n\t\t\tstorage.deletePath(module.moduleID, key); // eslint-disable-line no-await-in-loop\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (_.isEqual(option.default, value)) {\n\t\t\tconsole.warn('Stored option', module.moduleID, key, 'has the default value. Deleting.');\n\t\t\tstorage.deletePath(module.moduleID, key); // eslint-disable-line no-await-in-loop\n\t\t\tcontinue;\n\t\t}\n\t}\n}\n\nexport function save(option: ModuleOption<*>) {\n\t// Perform a search for the option to find its module and key\n\t// Doing this isn't especially expensive\n\tfor (const module of Modules.all()) {\n\t\tfor (const [key, _option] of Object.entries(module.options)) {\n\t\t\tif (option === _option) {\n\t\t\t\tif (option.value === undefined) {\n\t\t\t\t\tthrow new Error('Option type can not be saved');\n\t\t\t\t}\n\n\t\t\t\tif (option.onChange) {\n\t\t\t\t\toption.onChange();\n\t\t\t\t}\n\n\t\t\t\treturn set(module.moduleID, key, option.value);\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow new Error('Option not found in module');\n}\n","/* @flow */\n\nimport { BodyClasses } from '../../utils';\nimport type { BooleanOption, EnumOption } from '../module';\nimport { all, isRunning } from './modules';\n\n// Adds body classes for modules or enabled options that have `bodyClass: true`\n// In the form `res-moduleId-optionKey` for boolean options\n// and `res-moduleId-optionKey-optionValue` for enum options\n// spaces in enum option values will be replaced with underscores\nexport function _addModuleBodyClasses() {\n\tfor (const module of all()) {\n\t\tif (!isRunning(module)) continue;\n\n\t\tif (module.bodyClass) BodyClasses.add(`res-${module.moduleID}`);\n\n\t\tfor (const [optId, opt] of Object.entries(module.options)) {\n\t\t\tif (!(opt.bodyClass && opt.value)) continue;\n\t\t\t// ensure that only boolean and enum options pass this check\n\t\t\t(opt: BooleanOption<any> | EnumOption<any>);\n\n\t\t\tif (opt.dependsOn && !opt.dependsOn(module.options)) continue;\n\n\t\t\tlet cls = typeof opt.bodyClass === 'string' ?\n\t\t\t\topt.bodyClass :\n\t\t\t\t`res-${module.moduleID}-${optId}`;\n\n\t\t\tif (opt.type === 'enum') {\n\t\t\t\tcls += `-${opt.value.replace(/\\s/g, '_')}`;\n\t\t\t}\n\n\t\t\tBodyClasses.add(cls);\n\t\t}\n\t}\n}\n","/* @flow */\n\nimport { once } from 'lodash/fp';\nimport { _loadI18n, getURL } from '../environment';\nimport * as Context from '../environment/foreground/context';\nimport {\n\tBodyClasses,\n\tPagePhases,\n\tr2WatcherContentLoaded,\n\tr2WatcherSitetableStart,\n\tinitD2xWatcher,\n\tisAppType,\n} from '../utils';\nimport { _loadModuleOptions } from './options/options';\nimport { _loadModulePrefs, _runModuleStage } from './modules/modules';\nimport { _addModuleBodyClasses } from './modules/bodyClasses';\n\nlet start;\n\nexport function init() {\n\tstart();\n}\n\n// DOM / browser state\n\nconst sourceLoaded = new Promise(resolve => (start = resolve));\n\n// Module stages\n\nexport const loadI18n: Promise<void> = sourceLoaded\n\t.then(() => _loadI18n());\n\nexport const onInit: Promise<void> = loadI18n\n\t.then(() => _runModuleStage('onInit', { skipEnabledCheck: true }));\n\nexport const loadOptions: Promise<*> = onInit\n\t.then(() => Promise.all([\n\t\t_loadModuleOptions(),\n\t\t_loadModulePrefs(),\n\t]));\n\nexport const addModuleBodyClasses: Promise<void> = loadOptions\n\t.then(() => _addModuleBodyClasses());\n\nexport const always: Promise<void> = loadOptions\n\t.then(() => _runModuleStage('always', { skipEnabledCheck: true }));\n\nexport const beforeLoad: Promise<void> = loadOptions\n\t.then(() => _runModuleStage('beforeLoad'));\n\nexport const contentStart: Promise<*> = Promise.all([beforeLoad, PagePhases.sitetableStarted])\n\t.then(() => Promise.all([\n\t\t_runModuleStage('contentStart'),\n\t\tisAppType('r2') ? r2WatcherSitetableStart() : undefined,\n\t]));\n\nexport const go: Promise<*> = Promise.all([beforeLoad, PagePhases.sitetableStarted])\n\t.then(() => {\n\t\tconst run = once(() => Promise.all([\n\t\t\tisAppType('d2x') ? initD2xWatcher() : r2WatcherContentLoaded(),\n\t\t\t_runModuleStage('go'),\n\t\t]));\n\t\t// Prevent additional forced reflow in Reddit's scripts by running first thing on the `DOMContentLoaded` event\n\t\twindow.addEventListener('DOMContentLoaded', run, true);\n\t\treturn PagePhases.contentLoaded.then(run);\n\t});\n\nexport const afterLoad: Promise<void> = Promise.all([go, PagePhases.loadComplete])\n\t.then(() => _runModuleStage('afterLoad'));\n\n// BodyClasses may have been added before document.body was ready\nPromise.all([sourceLoaded, PagePhases.bodyStart]).then(BodyClasses.addMissing);\n\nPromise.all([sourceLoaded, PagePhases.bodyStart]).then(() => { Context.establish(contentStart); });\n\n// Preload custom fonts to avoid FOUT as the browser otherwise wouldn't start loading them before encountering them in the DOM\n// $FlowIssue\nconst font = new FontFace('Batch', `url(${getURL('batch-icons-webfont.woff')})`, { style: 'normal', weight: 'normal' });\nfont.load();\n// $FlowIssue\nsourceLoaded.then(() => document.fonts.add(font));\n","/* @flow */\n\n// include the LICENSE file\n// $FlowIgnore\nimport 'file-loader?name=LICENSE!../LICENSE';\n\nimport { RES_DISABLED_HASH, RES_SETTINGS_HASH, RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH } from './constants/urlHashes';\nimport { init } from './core/init';\nimport { getURL } from './environment/foreground/id';\n\nconst blockers = [];\n\nif (location.hash === RES_DISABLED_HASH) {\n\tblockers.push(`Hash ${RES_DISABLED_HASH} disables RES.`);\n}\n\n// Integration tests are performed quicker when redirected to the standalone options page\nif (location.hash.startsWith(RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH)) {\n\tlocation.href = getURL(`options.html${location.hash.replace(RES_SETTINGS_REDIRECT_TO_STANDALONE_HASH, RES_SETTINGS_HASH)}`);\n\tblockers.push('Redirecting to the options page.');\n}\n\n// Firefox reloads the extension on all active pages when upgrading\n// RES doesn't handle that well\nif (document.documentElement && document.documentElement.classList.contains('res')) {\n\tdocument.documentElement.setAttribute('res-warning', 'This page must be reloaded for Reddit Enhancement Suite to function correctly');\n\tblockers.push('RES is previously loaded on this page.');\n}\n\nif (window !== window.parent && (new URL(location.href)).searchParams.get('embedded') !== 'true') {\n\tblockers.push('Conditions for running on an embedded page are not met.');\n}\n\nif (blockers.length) {\n\tconsole.warn('Preventing initalization of RES:', blockers);\n} else {\n\t// load environment listeners\n\trequire('sibling-loader!./environment/foreground/messaging'); // eslint-disable-line global-require\n\n\tinit();\n}\n"],"sourceRoot":""}